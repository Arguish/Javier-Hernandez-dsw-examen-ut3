<div id="book.openssl" class="book"><hr>
 
 <h1 class="title">OpenSSL</h1>

 
 <div id="intro.openssl" class="preface"><hr>
  <h1 class="title">Introducción</h1>
  <p class="para">
   Esta extensión vincula funciones de la biblioteca
   <a href="http://www.openssl.org/" class="link external">» OpenSSL</a> para el cifrado y
   descifrado simétrico y asimétrico, PBKDF2, PKCS7, PKCS12, X509 y otras
   operaciones criptográficas. Además, proporciona una implementación de flujo TLS.
  </p>
  <p class="para">
   OpenSSL ofrece muchas funcionalidades
   que este módulo no ofrece actualmente. Algunas podrían ser añadidas
   en el futuro.
  </p>
 </div>
<hr>

 

 



<div id="openssl.setup" class="chapter"><hr>
 <h1 class="title">Instalación/Configuración</h1>
<h2>Tabla de contenidos</h2><ul class="chunklist chunklist_chapter"><li><a href="#openssl.requirements">Requerimientos</a></li><li><a href="#openssl.installation">Instalación</a></li><li><a href="#openssl.configuration">Configuración en tiempo de ejecución</a></li><li><a href="#openssl.resources">Tipos de recursos</a></li></ul>


 
 <div id="openssl.requirements" class="section"><hr>
  <h2 class="title">Requerimientos</h2>
  <p class="para">
   Para poder utilizar las funciones OpenSSL, debe instalarse la biblioteca
   <a href="http://www.openssl.org/" class="link external">» OpenSSL</a>.
   PHP 7.0 requiere OpenSSL &gt;= 0.9.8, &lt; 1.2. PHP 7.1-8.0 requieren
   OpenSSL &gt;= 1.0.1, &lt; 3.0. PHP &gt;= 8.1 requiere OpenSSL
   &gt;= 1.0.2, &lt; 4.0. PHP &gt;= 8.4 requiere OpenSSL
   &gt;= 1.1.1, &lt; 4.0.
  </p>
  <div class="warning"><strong class="warning">Advertencia</strong>
   <p class="para">
    Se recomienda encarecidamente utilizar la versión mantenida de OpenSSL para
    evitar ciertas vulnerabilidades en el servidor web.
   </p>
  </div>
 </div>
<hr>

 

 
 




<div id="openssl.installation" class="section"><hr>
 <h2 class="title">Instalación</h2>
 <p class="para">
  Para utilizar el soporte OpenSSL de PHP, también debe compilarse PHP con la opción
  de configuración <strong class="option configure">--with-openssl</strong>.
 </p>
 <p class="para">
  La biblioteca OpenSSL también posee dependencias en tiempo de ejecución. Por ejemplo,
  OpenSSL necesita acceder a un generador de números pseudo-aleatorios; en la mayoría
  de las plataformas Unix (incluyendo Linux), debe tener acceso al dispositivo
  <code class="literal">/dev/urandom</code> o <code class="literal">/dev/random</code>.
 </p>
 <p class="para">
  La opción de configuración
  <strong class="option configure">--with-system-ciphers</strong> está disponible
  que hace que PHP utilice la lista de cifrado del sistema en lugar de los valores
  por omisión codificados en el programa.
 </p>
 <blockquote class="note"><p><strong class="note">Nota</strong>: 
  <strong>Nota para usuarios Win32</strong><br>
  </p><p class="para">
   Para hacer funcionar esta extensión, algunas bibliotecas
<abbr title="Dynamic Link Library">DLL</abbr> deben estar disponibles a través del
<var class="envar">PATH</var> del sistema Windows. Lea la
<abbr>F.A.Q</abbr> titulada
"<a href="#faq.installation.addtopath" class="link">Cómo agregar mi carpeta
PHP a mi PATH de Windows</a>" para más información. Copiar las bibliotecas DLL desde la
carpeta PHP a la carpeta del sistema de Windows también funciona (ya que la carpeta del sistema está por defecto en el
<var class="envar">PATH</var> del sistema), pero este método no es recomendado.
<em>Esta extensión requiere que los siguientes archivos estén en el
<var class="envar">PATH</var>:</em> 
   <var class="filename">libeay32.dll</var>,
   o, a partir de OpenSSL 1.1, <var class="filename">libcrypto-*.dll</var>
  </p>
  <p class="para">
   Además, si se ha previsto utilizar las funciones relativas a la generación
   de claves y a los certificados, debe instalarse un fichero
   <var class="filename">openssl.cnf</var> válido en el sistema.
   Un fichero de configuración básico está incluido en las distribuciones de PHP
   para win32 en el directorio <var class="filename">extras/ssl</var>.
  </p>
  <p class="para">
   PHP buscará el fichero <var class="filename">openssl.cnf</var> siguiendo la siguiente
   táctica:
   </p><ul class="itemizedlist">
    <li class="listitem">
     <span class="simpara">
      La variable de entorno <var class="envar">OPENSSL_CONF</var>, si está
      definida, será utilizada como ruta (incluyendo el fichero) hacia el
      fichero de configuración.
     </span>
    </li>
    <li class="listitem">
     <span class="simpara">
      La variable de entorno <var class="envar">SSLEAY_CONF</var>, si está
      definida, será utilizada como ruta (incluyendo el fichero) hacia el
      fichero de configuración.
     </span>
    </li>
    <li class="listitem">
     <span class="simpara">
      El fichero <var class="filename">openssl.cnf</var> se supondrá que se encuentra en
      el directorio de certificados, tal como se configuró durante la compilación
      de la biblioteca openssl. Esto significa generalmente <var class="filename">C:\Program Files\Common Files\SSL\openssl.cnf</var> (x64)
      o <var class="filename">C:\Program Files (x86)\Common Files\SSL\openssl.cnf</var> (x86), o,
      antes de PHP 7.4.0,
      <var class="filename">c:\usr\local\ssl\openssl.cnf</var>.
     </span>
    </li>
   </ul>
  
  <span class="simpara">
   En su instalación, deberá decidirse si se va a instalar el fichero
   de configuración en la ruta por omisión o si se va a
   hacer en otro lugar y configurar una variable de entorno (posiblemente
   por sitio virtual). Tenga en cuenta que es posible reemplazar la ruta por
   omisión utilizando el parámetro <code class="parameter">options</code> de las funciones
   que requieren un fichero de configuración.
  </span>
   <div class="caution"><strong class="caution">Precaución</strong>
   <p class="simpara">
    Asegúrese de que los usuarios no privilegiados no estén autorizados a
    modificar <var class="filename">openssl.cnf</var>.
   </p>
  </div>
  <span class="simpara">
   A partir de OpenSSL 3.0.0, que se utiliza por omisión en Windows desde PHP 8.2.0, varios
   algoritmos han sido considerados obsoletos. Estos algoritmos suelen haber caído en desuso,
   han sido considerados no seguros por la comunidad criptográfica, o algo similar.
   Estos algoritmos siguen disponibles a través del proveedor de algoritmos legacy
   (<var class="filename">extras/ssl/legacy.dll</var>) ; su utilización se describe en la
   sección <a href="https://www.openssl.org/docs/manmaster/man5/config.html#Provider-Configuration" class="link external">» configuración del proveedor</a>
   del manual OpenSSL.
  </span>
 </blockquote>

 <div class="simplesect">
  <h3 class="title">Historial de cambios</h3>
  <p class="para">
   </p><table class="doctable informaltable">
    
     <thead>
      <tr>
       <th>Versión</th>
       <th>Descripción</th>
      </tr>

     </thead>

     <tbody class="tbody">
      <tr>
       <td>7.4.0</td>
       <td>
        La opción <strong class="option configure">--with-openssl[=DIR]</strong> ya no acepta
        argumentos de directorio en favor del ajuste de la variable pkg-config
        <var class="envar">PKG_CONFIG_PATH</var> hacia la ubicación de OpenSSL, o especificando las variables <var class="envar">OPENSSL_LIBS</var> y
        <var class="envar">OPENSSL_CFLAGS</var>.
       </td>
       </tr>

       <tr>
       <td>
        La ruta de configuración por omisión de OpenSSL ha sido modificada de  <var class="filename">C:\usr\local\ssl</var>
        a <var class="filename">C:\Program Files\Common Files\SSL</var> y
        <var class="filename">C:\Program Files (x86)\Common Files\SSL</var>, respectivamente.
       </td>
      </tr>

     </tbody>
    
   </table>

  
 </div>

</div>
<hr>




 

 
 




<div id="openssl.configuration" class="section"><hr>
 <h2 class="title">Configuración en tiempo de ejecución</h2>
 <p class="simpara">El comportamiento de estas funciones es
afectado por la configuración en el archivo <var class="filename">php.ini</var>.</p>
 <p class="para">
  </p><table class="doctable table">
   <caption><strong>openssl Opciones de configuración</strong></caption>
   
    <thead>
     <tr>
      <th>Nombre</th>
      <th>Por defecto</th>
      <th>Cambiable</th>
      <th>Historial de cambios</th>
     </tr>

    </thead>

    <tbody class="tbody">
     <tr>
      <td>openssl.cafile</td>
      <td>""</td>
      <td><strong><code><a href="#constant.ini-perdir">INI_PERDIR</a></code></strong></td>
      <td class="empty"> </td>
     </tr>

     <tr>
      <td>openssl.capath</td>
      <td>""</td>
      <td><strong><code><a href="#constant.ini-perdir">INI_PERDIR</a></code></strong></td>
      <td class="empty"> </td>
     </tr>

    </tbody>
   
  </table>

  Para más detalles sobre los modos INI_*,
        refiérase a <a href="#configuration.changes.modes" class="xref">Dónde una directiva de configuración puede ser modificada</a>.
 

 <p class="para">Aquí hay una aclaración sobre
el uso de las directivas de configuración.</p>

 <p class="para">
  </p><dl>
   
    <dt id="ini.openssl.cafile">
     <code class="parameter">openssl.cafile</code>
     <span class="type"><a href="#language.types.string" class="type string">string</a></span>
    </dt>
    <dd>
     <p class="para">
      Ubicación del archivo Certificate Authority en el sistema de archivos local
      que debería ser utilizado con la opción de contexto verify_peer para autenticar
      la identidad del par remoto.
     </p>
    </dd>
   
   
    <dt id="ini.openssl.capath">
     <code class="parameter">openssl.capath</code>
     <span class="type"><a href="#language.types.string" class="type string">string</a></span>
    </dt>
    <dd>
     <p class="para">
      Si cafile no está especificado o si el certificado no es encontrado allí, el
      directorio apuntado por capath es examinado para encontrar un certificado adecuado.
      capath debe ser un directorio de certificados correctamente hasheado.
     </p>
    </dd>
   
  </dl>
 

 <p class="para">
  Ver también las opciones del <a href="#context.ssl" class="link">contexto de flujo SSL</a>.
 </p>

</div>
<hr>




 

 
 <div id="openssl.resources" class="section"><hr>
  <h2 class="title">Tipos de recursos</h2>
  <p class="para">
   Antes de PHP 8.0.0, existían 3 tipos de recursos definidos en el
   módulo OpenSSL:
   </p><ul class="simplelist">
    <li><code class="literal">OpenSSL key</code></li>
    <li><code class="literal">OpenSSL X.509</code></li>
    <li><code class="literal">OpenSSL X.509 CSR</code></li>
   </ul>
  
 </div>
<hr>

 

</div>

<hr>



 




<div id="openssl.constants" class="appendix"><hr>
 <h1 class="title">Constantes predefinidas</h1>
<h2>Tabla de contenidos</h2><ul class="chunklist chunklist_appendix"><li><a href="#openssl.purpose-check">Opciones de validación general</a></li><li><a href="#openssl.padding">Opciones de relleno (Padding) para el cifrado asimétrico</a></li><li><a href="#openssl.key-types">Tipos de clave</a></li><li><a href="#openssl.pkcs7.flags">Constantes/opciones PKCS7</a></li><li><a href="#openssl.cms.flags">Bandera/Constantes CMS</a></li><li><a href="#openssl.signature-algos">Algoritmo de firma</a></li><li><a href="#openssl.ciphers">Cifrados</a></li><li><a href="#openssl.constversion">Constantes de versión</a></li><li><a href="#openssl.constsni">Constantes de identificación del nombre del servidor</a></li><li><a href="#openssl.constants.other">Otras constantes</a></li></ul>

 <p class="simpara">Estas constantes son definidas por esta
extensión, y solo están disponibles si esta extensión ha sido compilada con
PHP, o bien cargada en tiempo de ejecución.</p>
 <div id="openssl.purpose-check" class="section"><hr>
  <h2 class="title">Opciones de validación general</h2>
  <dl>
   
    <dt id="constant.x509-purpose-ssl-client">
     <strong><code><a href="#constant.x509-purpose-ssl-client">X509_PURPOSE_SSL_CLIENT</a></code></strong>
     (<span class="type"><a href="#language.types.integer" class="type int">int</a></span>)
    </dt>
    <dd>
     <span class="simpara">

     </span>
    </dd>
   
   
    <dt id="constant.x509-purpose-ssl-server">
     <strong><code><a href="#constant.x509-purpose-ssl-server">X509_PURPOSE_SSL_SERVER</a></code></strong>
     (<span class="type"><a href="#language.types.integer" class="type int">int</a></span>)
    </dt>
    <dd>
     <span class="simpara">

     </span>
    </dd>
   
   
    <dt id="constant.x509-purpose-ns-ssl-server">
     <strong><code><a href="#constant.x509-purpose-ns-ssl-server">X509_PURPOSE_NS_SSL_SERVER</a></code></strong>
     (<span class="type"><a href="#language.types.integer" class="type int">int</a></span>)
    </dt>
    <dd>
     <span class="simpara">

     </span>
    </dd>
   
   
    <dt id="constant.x509-purpose-smime-sign">
     <strong><code><a href="#constant.x509-purpose-smime-sign">X509_PURPOSE_SMIME_SIGN</a></code></strong>
     (<span class="type"><a href="#language.types.integer" class="type int">int</a></span>)
    </dt>
    <dd>
     <span class="simpara">

     </span>
    </dd>
   
   
    <dt id="constant.x509-purpose-smime-encrypt">
     <strong><code><a href="#constant.x509-purpose-smime-encrypt">X509_PURPOSE_SMIME_ENCRYPT</a></code></strong>
     (<span class="type"><a href="#language.types.integer" class="type int">int</a></span>)
    </dt>
    <dd>
     <span class="simpara">

     </span>
    </dd>
   
   
    <dt id="constant.x509-purpose-crl-sign">
     <strong><code><a href="#constant.x509-purpose-crl-sign">X509_PURPOSE_CRL_SIGN</a></code></strong>
     (<span class="type"><a href="#language.types.integer" class="type int">int</a></span>)
    </dt>
    <dd>
     <span class="simpara">

     </span>
    </dd>
   
   
    <dt id="constant.x509-purpose-any">
     <strong><code><a href="#constant.x509-purpose-any">X509_PURPOSE_ANY</a></code></strong>
     (<span class="type"><a href="#language.types.integer" class="type int">int</a></span>)
    </dt>
    <dd>
     <span class="simpara">

     </span>
    </dd>
   
  </dl>
 </div>
<hr>


 <div id="openssl.padding" class="section"><hr>
  <h2 class="title">Opciones de relleno (<code class="literal">Padding</code>) para el cifrado asimétrico</h2>
  <dl>
   
    <dt id="constant.openssl-pkcs1-padding">
     <strong><code><a href="#constant.openssl-pkcs1-padding">OPENSSL_PKCS1_PADDING</a></code></strong>
     (<span class="type"><a href="#language.types.integer" class="type int">int</a></span>)
    </dt>
    <dd>
     <span class="simpara">

     </span>
    </dd>
   
   
    <dt id="constant.openssl-sslv23-padding">
     <strong><code><a href="#constant.openssl-sslv23-padding">OPENSSL_SSLV23_PADDING</a></code></strong>
     (<span class="type"><a href="#language.types.integer" class="type int">int</a></span>)
    </dt>
    <dd>
     <span class="simpara">

     </span>
    </dd>
   
   
    <dt id="constant.openssl-no-padding">
     <strong><code><a href="#constant.openssl-no-padding">OPENSSL_NO_PADDING</a></code></strong>
     (<span class="type"><a href="#language.types.integer" class="type int">int</a></span>)
    </dt>
    <dd>
     <span class="simpara">

     </span>
    </dd>
   
   
    <dt id="constant.openssl-pkcs1-oaep-padding">
     <strong><code><a href="#constant.openssl-pkcs1-oaep-padding">OPENSSL_PKCS1_OAEP_PADDING</a></code></strong>
     (<span class="type"><a href="#language.types.integer" class="type int">int</a></span>)
    </dt>
    <dd>
     <span class="simpara">

     </span>
    </dd>
   
  </dl>
 </div>
<hr>


 <div id="openssl.key-types" class="section"><hr>
  <h2 class="title">Tipos de clave</h2>
  <dl>
    
     <dt id="constant.openssl-keytype-rsa">
      <strong><code><a href="#constant.openssl-keytype-rsa">OPENSSL_KEYTYPE_RSA</a></code></strong>
      (<span class="type"><a href="#language.types.integer" class="type int">int</a></span>)
     </dt>
     <dd>
     <span class="simpara">
      Tipo de clave RSA.
     </span>
    </dd>
   
   
    <dt id="constant.openssl-keytype-dsa">
     <strong><code><a href="#constant.openssl-keytype-dsa">OPENSSL_KEYTYPE_DSA</a></code></strong>
     (<span class="type"><a href="#language.types.integer" class="type int">int</a></span>)
    </dt>
    <dd>
     <span class="simpara">
      Tipo de clave DSA.
     </span>
    </dd>
   
   
    <dt id="constant.openssl-keytype-dh">
     <strong><code><a href="#constant.openssl-keytype-dh">OPENSSL_KEYTYPE_DH</a></code></strong>
     (<span class="type"><a href="#language.types.integer" class="type int">int</a></span>)
    </dt>
    <dd>
     <span class="simpara">
      Tipo de clave DH (Diffie-Hellman).
     </span>
    </dd>
    
    
     <dt id="constant.openssl-keytype-ec">
      <strong><code><a href="#constant.openssl-keytype-ec">OPENSSL_KEYTYPE_EC</a></code></strong>
      (<span class="type"><a href="#language.types.integer" class="type int">int</a></span>)
     </dt>
     <dd>
      <span class="simpara">
       Tipo de clave de curva elíptica.
      </span>
     </dd>
    
    
     <dt id="constant.openssl-keytype-x25519">
      <strong><code><a href="#constant.openssl-keytype-x25519">OPENSSL_KEYTYPE_X25519</a></code></strong>
      (<span class="type"><a href="#language.types.integer" class="type int">int</a></span>)
     </dt>
     <dd>
      <span class="simpara">
       Tipo de clave de curva X25519.
       Esta constante solo está disponible cuando PHP se compila con OpenSSL 3.0+.
      </span>
     </dd>
    
    
     <dt id="constant.openssl-keytype-ed25519">
      <strong><code><a href="#constant.openssl-keytype-ed25519">OPENSSL_KEYTYPE_ED25519</a></code></strong>
      (<span class="type"><a href="#language.types.integer" class="type int">int</a></span>)
     </dt>
     <dd>
      <span class="simpara">
       Tipo de clave de curva Ed25519.
       Esta constante solo está disponible cuando PHP se compila con OpenSSL 3.0+.
      </span>
     </dd>
    
    
     <dt id="constant.openssl-keytype-x448">
      <strong><code><a href="#constant.openssl-keytype-x448">OPENSSL_KEYTYPE_X448</a></code></strong>
      (<span class="type"><a href="#language.types.integer" class="type int">int</a></span>)
     </dt>
     <dd>
      <span class="simpara">
       Tipo de clave de curva X448.
       Esta constante solo está disponible cuando PHP se compila con OpenSSL 3.0+.
      </span>
     </dd>
    
    
     <dt id="constant.openssl-keytype-ed448">
      <strong><code><a href="#constant.openssl-keytype-ed448">OPENSSL_KEYTYPE_ED448</a></code></strong>
      (<span class="type"><a href="#language.types.integer" class="type int">int</a></span>)
     </dt>
     <dd>
      <span class="simpara">
       Tipo de clave de curva Ed448.
       Esta constante solo está disponible cuando PHP se compila con OpenSSL 3.0+.
      </span>
     </dd>
    
   </dl>
  </div>
<hr>


  <div id="openssl.pkcs7.flags" class="section"><hr>
   <h2 class="title">Constantes/opciones <abbr>PKCS7</abbr></h2>
   <p class="para">
    Las funciones S/MIME utilizan opciones que se especifican
    mediante un campo de bits. Los valores válidos son:
    </p><table class="doctable table">
     <caption><strong>Constantes <abbr>PKCS7</abbr></strong></caption>
     
      <thead>
       <tr>
        <th>Constante</th>
        <th>Descripción</th>
       </tr>

      </thead>

      <tbody class="tbody">
       <tr id="constant.pkcs7-text">
        <td>
         <strong><code><a href="#constant.pkcs7-text">PKCS7_TEXT</a></code></strong>
        (<span class="type"><a href="#language.types.integer" class="type int">int</a></span>)
       </td>
       <td>
        Añade el texto en claro en los encabezados del mensaje
        firmado/cifrado. Al descifrar o verificar,
        se eliminan simplemente estos datos. Si el
        mensaje cifrado o firmado no es del tipo MIME, se producirá un error.
       </td>
      </tr>

      <tr id="constant.pkcs7-binary">
       <td>
        <strong><code><a href="#constant.pkcs7-binary">PKCS7_BINARY</a></code></strong>
        (<span class="type"><a href="#language.types.integer" class="type int">int</a></span>)
       </td>
       <td>
        Normalmente, el mensaje se convierte al formato canónico
        que utiliza efectivamente <code class="literal">CR</code> y <code class="literal">LF</code>
        como fin de línea, como se solicita en las especificaciones de S/MIME.
        Cuando esta opción está activada, el mensaje no se convertirá. Esto es útil cuando se manipulan datos binarios que no están en formato MIME.
       </td>
      </tr>

      <tr id="constant.pkcs7-nointern">
       <td>
        <strong><code><a href="#constant.pkcs7-nointern">PKCS7_NOINTERN</a></code></strong>
        (<span class="type"><a href="#language.types.integer" class="type int">int</a></span>)
       </td>
       <td>
        Al verificar un mensaje, los certificados
        (si los hay) incluidos en el mensaje se utilizan normalmente
        para buscar el certificado de firma. Con esta opción, solo se utiliza
        el certificado especificado por el
        argumento <code class="parameter">untrusted_certificates_filename</code> de la función
        <span class="function"><a href="#function.openssl-pkcs7-verify" class="function">openssl_pkcs7_verify()</a></span>. Los certificados proporcionados pueden seguir utilizándose,
        con un nivel de confianza reducido.
       </td>
      </tr>

      <tr id="constant.pkcs7-noverify">
       <td>
        <strong><code><a href="#constant.pkcs7-noverify">PKCS7_NOVERIFY</a></code></strong>
        (<span class="type"><a href="#language.types.integer" class="type int">int</a></span>)
       </td>
       <td>
        No verifica los certificados de los firmantes de un mensaje
        firmado.
       </td>
      </tr>

      <tr id="constant.pkcs7-nochain">
       <td>
        <strong><code><a href="#constant.pkcs7-nochain">PKCS7_NOCHAIN</a></code></strong>
        (<span class="type"><a href="#language.types.integer" class="type int">int</a></span>)
       </td>
       <td>
        No encadena las verificaciones de los certificados de los firmantes. Es decir, no utiliza los certificados
        contenidos en el mensaje.
       </td>
      </tr>

      <tr id="constant.pkcs7-nocerts">
       <td>
        <strong><code><a href="#constant.pkcs7-nocerts">PKCS7_NOCERTS</a></code></strong>
        (<span class="type"><a href="#language.types.integer" class="type int">int</a></span>)
       </td>
       <td>
        Al firmar un mensaje, el certificado del firmante
        se incluye normalmente. Con esta opción, esto se desactiva. Esto reducirá el tamaño del mensaje,
        pero el verificador deberá tener una copia local del certificado
        del firmante (pasado al argumento
        <code class="parameter">untrusted_certificates_filename</code>, con la función
        <span class="function"><a href="#function.openssl-pkcs7-verify" class="function">openssl_pkcs7_verify()</a></span>).
       </td>
      </tr>

      <tr id="constant.pkcs7-noattr">
       <td>
        <strong><code><a href="#constant.pkcs7-noattr">PKCS7_NOATTR</a></code></strong>
        (<span class="type"><a href="#language.types.integer" class="type int">int</a></span>)
       </td>
       <td>
        Normalmente, cuando se firma un mensaje, se incluye un conjunto de atributos
        que contiene la hora de firma y el algoritmo simétrico
        soportado, en el mensaje. Con esta opción, no se incluye.
       </td>
      </tr>

      <tr id="constant.pkcs7-detached">
       <td>
        <strong><code><a href="#constant.pkcs7-detached">PKCS7_DETACHED</a></code></strong>
        (<span class="type"><a href="#language.types.integer" class="type int">int</a></span>)
       </td>
       <td>
        Al firmar un mensaje, se utiliza la firma en texto claro, con el tipo MIME <code class="literal">"multipart/signed"</code>.
        Este es el valor por defecto del argumento
        <code class="parameter">flags</code>
        para la función <span class="function"><a href="#function.openssl-pkcs7-sign" class="function">openssl_pkcs7_sign()</a></span>.
        Si se anula esta opción, el mensaje se firmará de
        manera opaca, lo que resiste mejor a la traducción
        de los relés de correo (algunos antiguos servidores de correo corrompen los mensajes), pero impide la lectura por los clientes de correo que no conocen S/MIME.
       </td>
      </tr>

      <tr id="constant.pkcs7-nosigs">
       <td>
        <strong><code><a href="#constant.pkcs7-nosigs">PKCS7_NOSIGS</a></code></strong>
        (<span class="type"><a href="#language.types.integer" class="type int">int</a></span>)
       </td>
       <td>
        No verifica las firmas de un mensaje
       </td>
      </tr>

      <tr id="constant.pkcs7-nooldmimetype">
       <td>
        <strong><code><a href="#constant.pkcs7-nooldmimetype">PKCS7_NOOLDMIMETYPE</a></code></strong>
        (<span class="type"><a href="#language.types.integer" class="type int">int</a></span>)
       </td>
       <td>
        Disponible a partir de PHP 8.3.0.
        Establece el encabezado HTTP Content-Type en <code class="literal">application/pkcs7-mime</code> en lugar de
        <code class="literal">application/x-pkcs7-mime</code> para cifrar un mensaje.
       </td>
      </tr>

     </tbody>
    
   </table>

  
 </div>
<hr>


 <div id="openssl.cms.flags" class="section"><hr>
  <h2 class="title">Bandera/Constantes <abbr>CMS</abbr></h2>
  <p class="para">
   Las funciones CMS utilizan banderas que se especifican utilizando
   una máscara de bits que incluye una o más de las siguientes opciones:
   </p><table class="doctable table">
    <caption><strong><abbr>CMS</abbr> CONSTANTS</strong></caption>
    
     <thead>
      <tr>
       <th>Constantes</th>
       <th>Descripción</th>
      </tr>

     </thead>

     <tbody class="tbody">
      <tr id="constant.openssl-cms-text">
       <td>
        <strong><code><a href="#constant.openssl-cms-text">OPENSSL_CMS_TEXT</a></code></strong>
        (<span class="type"><a href="#language.types.integer" class="type int">int</a></span>)
       </td>
       <td>
        Añade el encabezado content type <code class="literal">text/plain</code> al mensaje cifrado/firmado.
        Al descifrar/verificar, estos encabezados se eliminan de la
        salida, si el mensaje descifrado o verificado no es del tipo <abbr title="Multipurpose Internet Mail Extensions">MIME</abbr>
        <code class="literal">text/plain</code> entonces se producirá un error.
       </td>
      </tr>

      <tr id="constant.openssl-cms-binary">
       <td>
        <strong><code><a href="#constant.openssl-cms-binary">OPENSSL_CMS_BINARY</a></code></strong>
        (<span class="type"><a href="#language.types.integer" class="type int">int</a></span>)
       </td>
       <td>
        Normalmente el mensaje de entrada se convierte a su forma "canónica"
        que en realidad utiliza <code class="literal">CR</code> y <code class="literal">LF</code>
        como fin de línea: tal como se requiere por la especificación CMS. Cuando
        esta opción está presente, ninguna traducción se realiza. Esto es útil al manejar datos binarios que pueden no estar en formato CMS.
       </td>
      </tr>

      <tr id="constant.openssl-cms-nointern">
       <td>
        <strong><code><a href="#constant.openssl-cms-nointern">OPENSSL_CMS_NOINTERN</a></code></strong>
        (<span class="type"><a href="#language.types.integer" class="type int">int</a></span>)
       </td>
       <td>
        Al verificar un mensaje, los certificados (si los hay)
        incluidos en el mensaje se utilizan normalmente para buscar el certificado
        de firma. Con esta opción, solo se utilizan los certificados especificados en
        el argumento <code class="parameter">untrusted_certificates_filename</code>
        de <span class="function"><a href="#function.openssl-cms-verify" class="function">openssl_cms_verify()</a></span>.
        Los certificados proporcionados pueden seguir utilizándose como
        autoridades de certificación no fiables.
       </td>
      </tr>

      <tr id="constant.openssl-cms-noverify">
       <td>
        <strong><code><a href="#constant.openssl-cms-noverify">OPENSSL_CMS_NOVERIFY</a></code></strong>
        (<span class="type"><a href="#language.types.integer" class="type int">int</a></span>)
       </td>
       <td>
        No verifica el certificado del firmante de un mensaje firmado.
       </td>
      </tr>

      <tr id="constant.openssl-cms-nocerts">
       <td>
        <strong><code><a href="#constant.openssl-cms-nocerts">OPENSSL_CMS_NOCERTS</a></code></strong>
        (<span class="type"><a href="#language.types.integer" class="type int">int</a></span>)
       </td>
       <td>
        Al firmar un mensaje el certificado del firmante se
        incluye normalmente, con esta opción se excluye. Esto reducirá
        el tamaño del mensaje firmado pero el verificador debe tener una copia
        del certificado del firmante disponible localmente (pasado utilizando
        <code class="parameter">untrusted_certificates_filename</code> de
        <span class="function"><a href="#function.openssl-cms-verify" class="function">openssl_cms_verify()</a></span> por ejemplo).
       </td>
      </tr>

      <tr id="constant.openssl-cms-noattr">
       <td>
        <strong><code><a href="#constant.openssl-cms-noattr">OPENSSL_CMS_NOATTR</a></code></strong>
        (<span class="type"><a href="#language.types.integer" class="type int">int</a></span>)
       </td>
       <td>
        Normalmente cuando un mensaje es firmado, se incluyen un conjunto de atributos que
        incluyen la hora de firma y los algoritmos simétricos
        soportados. Con esta opción no se incluyen.
       </td>
      </tr>

      <tr id="constant.openssl-cms-detached">
       <td>
        <strong><code><a href="#constant.openssl-cms-detached">OPENSSL_CMS_DETACHED</a></code></strong>
        (<span class="type"><a href="#language.types.integer" class="type int">int</a></span>)
       </td>
       <td>
        Al firmar un mensaje, se utiliza la firma en texto claro
        con el tipo MIME <code class="literal">"multipart/signed"</code>. Este es el
        comportamiento por defecto, si no se especifica ningún
        <code class="parameter">flags</code> a <span class="function"><a href="#function.openssl-cms-sign" class="function">openssl_cms_sign()</a></span>.
        Si se desactiva esta opción, el mensaje se firmará utilizando
        una firma opaca, que es más resistente a la traducción por
        los relés de correo pero no puede ser leída por los agentes de correo que no
        soportan S/MIME.
       </td>
      </tr>

      <tr id="constant.openssl-cms-nosigs">
       <td>
        <strong><code><a href="#constant.openssl-cms-nosigs">OPENSSL_CMS_NOSIGS</a></code></strong>
        (<span class="type"><a href="#language.types.integer" class="type int">int</a></span>)
       </td>
       <td>No intenta verificar las firmas de un mensaje</td>
      </tr>

      <tr id="constant.openssl-cms-oldmimetype">
       <td>
        <strong><code><a href="#constant.openssl-cms-oldmimetype">OPENSSL_CMS_OLDMIMETYPE</a></code></strong>
        (<span class="type"><a href="#language.types.integer" class="type int">int</a></span>)
       </td>
       <td>
        Disponible a partir de PHP 8.3.0.
        Establece el encabezado HTTP Content-Type en <code class="literal">application/x-pkcs7-mime</code> en lugar de
        <code class="literal">application/pkcs7-mime</code> para cifrar un mensaje.
       </td>
      </tr>

     </tbody>
    
   </table>

  
 </div>
<hr>


 <div id="openssl.signature-algos" class="section"><hr>
  <h2 class="title">Algoritmo de firma</h2>
  <dl>
   
    <dt id="constant.openssl-algo-dss1">
     <strong><code><a href="#constant.openssl-algo-dss1">OPENSSL_ALGO_DSS1</a></code></strong>
     (<span class="type"><a href="#language.types.integer" class="type int">int</a></span>)
    </dt>
    <dd>
     <span class="simpara">

     </span>
    </dd>
   
   
    <dt id="constant.openssl-algo-sha1">
     <strong><code><a href="#constant.openssl-algo-sha1">OPENSSL_ALGO_SHA1</a></code></strong>
     (<span class="type"><a href="#language.types.integer" class="type int">int</a></span>)
    </dt>
    <dd>
     <span class="simpara">
      Utilizado como algoritmo por defecto para las funciones
      <span class="function"><a href="#function.openssl-sign" class="function">openssl_sign()</a></span> y
      <span class="function"><a href="#function.openssl-verify" class="function">openssl_verify()</a></span>.
     </span>
    </dd>
   
   
    <dt id="constant.openssl-algo-sha224">
     <strong><code><a href="#constant.openssl-algo-sha224">OPENSSL_ALGO_SHA224</a></code></strong>
     (<span class="type"><a href="#language.types.integer" class="type int">int</a></span>)
    </dt>
    <dd>
     <span class="simpara">
     </span>
    </dd>
   
   
    <dt id="constant.openssl-algo-sha256">
     <strong><code><a href="#constant.openssl-algo-sha256">OPENSSL_ALGO_SHA256</a></code></strong>
     (<span class="type"><a href="#language.types.integer" class="type int">int</a></span>)
    </dt>
    <dd>
     <span class="simpara">
     </span>
    </dd>
   
   
    <dt id="constant.openssl-algo-sha384">
     <strong><code><a href="#constant.openssl-algo-sha384">OPENSSL_ALGO_SHA384</a></code></strong>
     (<span class="type"><a href="#language.types.integer" class="type int">int</a></span>)
    </dt>
    <dd>
     <span class="simpara">
     </span>
    </dd>
   
   
    <dt id="constant.openssl-algo-sha512">
     <strong><code><a href="#constant.openssl-algo-sha512">OPENSSL_ALGO_SHA512</a></code></strong>
     (<span class="type"><a href="#language.types.integer" class="type int">int</a></span>)
    </dt>
    <dd>
     <span class="simpara">
     </span>
    </dd>
   
   
    <dt id="constant.openssl-algo-rmd160">
     <strong><code><a href="#constant.openssl-algo-rmd160">OPENSSL_ALGO_RMD160</a></code></strong>
     (<span class="type"><a href="#language.types.integer" class="type int">int</a></span>)
    </dt>
    <dd>
     <span class="simpara">
     </span>
    </dd>
   
   
    <dt id="constant.openssl-algo-md5">
     <strong><code><a href="#constant.openssl-algo-md5">OPENSSL_ALGO_MD5</a></code></strong>
     (<span class="type"><a href="#language.types.integer" class="type int">int</a></span>)
    </dt>
    <dd>
     <span class="simpara">

     </span>
    </dd>
   
   
    <dt id="constant.openssl-algo-md4">
     <strong><code><a href="#constant.openssl-algo-md4">OPENSSL_ALGO_MD4</a></code></strong>
     (<span class="type"><a href="#language.types.integer" class="type int">int</a></span>)
    </dt>
    <dd>
     <span class="simpara">

     </span>
    </dd>
   
   
    <dt id="constant.openssl-algo-md2">
     <strong><code><a href="#constant.openssl-algo-md2">OPENSSL_ALGO_MD2</a></code></strong>
     (<span class="type"><a href="#language.types.integer" class="type int">int</a></span>)
    </dt>
    <dd>
     <span class="simpara">
      Esta constante solo está disponible cuando PHP se compila con soporte MD2. Es necesario
      pasar el CFLAG <code class="literal">-DHAVE_OPENSSL_MD2_H</code> al compilar PHP
      y pasar <code class="literal">enable-md2</code> al compilar OpenSSL 1.0.0+.
     </span>
    </dd>
   
  </dl>

 </div>
<hr>


 <div id="openssl.ciphers" class="section"><hr>
  <h2 class="title">Cifrados</h2>
  <dl>
   
    <dt id="constant.openssl-default-stream-ciphers">
     <strong><code><a href="#constant.openssl-default-stream-ciphers">OPENSSL_DEFAULT_STREAM_CIPHERS</a></code></strong>
     (<span class="type"><a href="#language.types.string" class="type string">string</a></span>)
    </dt>
    <dd>
     <span class="simpara">
      Lista de cifrados por defecto.
     </span>
    </dd>
   
   
    <dt id="constant.openssl-cipher-rc2-40">
     <strong><code><a href="#constant.openssl-cipher-rc2-40">OPENSSL_CIPHER_RC2_40</a></code></strong>
     (<span class="type"><a href="#language.types.integer" class="type int">int</a></span>)
    </dt>
    <dd>
     <span class="simpara">

     </span>
    </dd>
   
   
    <dt id="constant.openssl-cipher-rc2-128">
     <strong><code><a href="#constant.openssl-cipher-rc2-128">OPENSSL_CIPHER_RC2_128</a></code></strong>
     (<span class="type"><a href="#language.types.integer" class="type int">int</a></span>)
    </dt>
    <dd>
     <span class="simpara">

     </span>
    </dd>
   
   
    <dt id="constant.openssl-cipher-rc2-64">
     <strong><code><a href="#constant.openssl-cipher-rc2-64">OPENSSL_CIPHER_RC2_64</a></code></strong>
     (<span class="type"><a href="#language.types.integer" class="type int">int</a></span>)
    </dt>
    <dd>
     <span class="simpara">

     </span>
    </dd>
   
   
    <dt id="constant.openssl-cipher-des">
     <strong><code><a href="#constant.openssl-cipher-des">OPENSSL_CIPHER_DES</a></code></strong>
     (<span class="type"><a href="#language.types.integer" class="type int">int</a></span>)
    </dt>
    <dd>
     <span class="simpara">

     </span>
    </dd>
   
   
    <dt id="constant.openssl-cipher-3des">
     <strong><code><a href="#constant.openssl-cipher-3des">OPENSSL_CIPHER_3DES</a></code></strong>
     (<span class="type"><a href="#language.types.integer" class="type int">int</a></span>)
    </dt>
    <dd>
     <span class="simpara">

     </span>
    </dd>
   
  </dl>
  <dl>
   
    <dt id="constant.openssl-cipher-aes-128-cbc">
     <strong><code><a href="#constant.openssl-cipher-aes-128-cbc">OPENSSL_CIPHER_AES_128_CBC</a></code></strong>
     (<span class="type"><a href="#language.types.integer" class="type int">int</a></span>)
    </dt>
    <dd>
     <span class="simpara">
     </span>
    </dd>
   
   
    <dt id="constant.openssl-cipher-aes-192-cbc">
     <strong><code><a href="#constant.openssl-cipher-aes-192-cbc">OPENSSL_CIPHER_AES_192_CBC</a></code></strong>
     (<span class="type"><a href="#language.types.integer" class="type int">int</a></span>)
    </dt>
    <dd>
     <span class="simpara">
     </span>
    </dd>
   
   
    <dt id="constant.openssl-cipher-aes-256-cbc">
     <strong><code><a href="#constant.openssl-cipher-aes-256-cbc">OPENSSL_CIPHER_AES_256_CBC</a></code></strong>
     (<span class="type"><a href="#language.types.integer" class="type int">int</a></span>)
    </dt>
    <dd>
     <span class="simpara">
     </span>
    </dd>
   
  </dl>
 </div>
<hr>


 <div id="openssl.constversion" class="section"><hr>
  <h2 class="title">Constantes de versión</h2>
  <dl>
   
    <dt id="constant.openssl-version-text">
       <strong><code><a href="#constant.openssl-version-text">OPENSSL_VERSION_TEXT</a></code></strong>
       (<span class="type"><a href="#language.types.string" class="type string">string</a></span>)
    </dt>
    <dd>
     <span class="simpara">
     </span>
    </dd>
   
   
    <dt id="constant.openssl-version-number">
     <strong><code><a href="#constant.openssl-version-number">OPENSSL_VERSION_NUMBER</a></code></strong>
     (<span class="type"><a href="#language.types.integer" class="type int">int</a></span>)
    </dt>
    <dd>
     <span class="simpara">
     </span>
    </dd>
   
  </dl>
 </div>
<hr>


 <div id="openssl.constsni" class="section"><hr>
  <h2 class="title">Constantes de identificación del nombre del servidor</h2>
  <dl>
   
    <dt id="constant.openssl-tlsext-server-name">
     <strong><code><a href="#constant.openssl-tlsext-server-name">OPENSSL_TLSEXT_SERVER_NAME</a></code></strong>
     (<span class="type"><a href="#language.types.integer" class="type int">int</a></span>)
    </dt>
    <dd>
     <span class="simpara">
      Si el soporte SNI está disponible o no.
     </span>
    </dd>
   
  </dl>
  <blockquote class="note"><p><strong class="note">Nota</strong>: 
   </p><p class="para">
    Esta constante solo está disponible cuando PHP se compila con
    OpenSSL 0.9.8j o posterior
   </p>
  </blockquote>
 </div>
<hr>


 <div id="openssl.constants.other" class="section"><hr>
  <h2 class="title">Otras constantes</h2>
  <dl>
   
    <dt id="constant.openssl-raw-data">
     <strong><code><a href="#constant.openssl-raw-data">OPENSSL_RAW_DATA</a></code></strong>
     (<span class="type"><a href="#language.types.integer" class="type int">int</a></span>)
    </dt>
    <dd>
     <span class="simpara">
      Si <strong><code><a href="#constant.openssl-raw-data">OPENSSL_RAW_DATA</a></code></strong> está definida en
      <span class="function"><a href="#function.openssl-encrypt" class="function">openssl_encrypt()</a></span> o <span class="function"><a href="#function.openssl-decrypt" class="function">openssl_decrypt()</a></span>,
      los datos devueltos se devuelven tal cual.
      Cuando esto no está especificado, los datos devueltos al llamador están
      codificados en Base64.
     </span>
    </dd>
   
   
      <dt id="constant.openssl-dont-zero-pad-key">
       <strong><code><a href="#constant.openssl-dont-zero-pad-key">OPENSSL_DONT_ZERO_PAD_KEY</a></code></strong>
       (<span class="type"><a href="#language.types.integer" class="type int">int</a></span>)
      </dt>
      <dd>
        <span class="simpara">
         Impide que <span class="function"><a href="#function.openssl-encrypt" class="function">openssl_encrypt()</a></span> rellene las claves
         que son más cortas que la longitud de clave por defecto.
        </span>
      </dd>
    
    
      <dt id="constant.openssl-zero-padding">
        <strong><code><a href="#constant.openssl-zero-padding">OPENSSL_ZERO_PADDING</a></code></strong>
        (<span class="type"><a href="#language.types.integer" class="type int">int</a></span>)
      </dt>
      <dd>
        <span class="simpara">
         Por defecto, las operaciones de cifrado se completan utilizando
         bloques estándar y el relleno se verifica y elimina
         al descifrar. Si la constante <strong><code><a href="#constant.openssl-zero-padding">OPENSSL_ZERO_PADDING</a></code></strong>
         está definida en el argumento <code class="parameter">options</code> de la función
         <span class="function"><a href="#function.openssl-encrypt" class="function">openssl_encrypt()</a></span> o <span class="function"><a href="#function.openssl-decrypt" class="function">openssl_decrypt()</a></span>
         entonces no se realizará ningún relleno, la cantidad total
         de datos cifrados deberá ser entonces un múltiplo del tamaño del bloque
         o bien se producirá un error.
        </span>
      </dd>
    
   
    <dt id="constant.openssl-encoding-smime">
     <strong><code><a href="#constant.openssl-encoding-smime">OPENSSL_ENCODING_SMIME</a></code></strong>
     (<span class="type"><a href="#language.types.integer" class="type int">int</a></span>)
    </dt>
    <dd>
     <span class="simpara">
      Indica que la codificación es S/MIME.
     </span>
    </dd>
   
   
    <dt id="constant.openssl-encoding-der">
     <strong><code><a href="#constant.openssl-encoding-der">OPENSSL_ENCODING_DER</a></code></strong>
     (<span class="type"><a href="#language.types.integer" class="type int">int</a></span>)
    </dt>
    <dd>
     <span class="simpara">
      Indica que la codificación es DER (Distinguished Encoding Rules).
     </span>
    </dd>
   
   
    <dt id="constant.openssl-encoding-pem">
     <strong><code><a href="#constant.openssl-encoding-pem">OPENSSL_ENCODING_PEM</a></code></strong>
     (<span class="type"><a href="#language.types.integer" class="type int">int</a></span>)
    </dt>
    <dd>
     <span class="simpara">
      Indica que la codificación es PEM (Privacy-Enhanced Mail).
     </span>
    </dd>
   
  </dl>
 </div>
<hr>

</div>

<hr>




 



<div id="openssl.certparams" class="appendix"><hr>
 <h1 class="title">Parámetros de claves/certificados</h1>

 <p class="para">
  Un gran número de funciones OpenSSL requieren una clave o un certificado como
  parámetros. Los métodos siguientes pueden ser utilizados para obtenerlos:
  </p><ul class="itemizedlist">
   <li class="listitem">
    <p class="para">
     Certificados
     </p><ol type="1">
      <li class="listitem">
       <span class="simpara">
        Una instancia de <span class="classname"><a href="#class.opensslcertificate" class="classname">OpenSSLCertificate</a></span>
        (o anterior a PHP 8.0.0, un <span class="type"><a href="#language.types.resource" class="type resource">resource</a></span> de tipo <code class="literal">OpenSSL X.509</code>)
        devuelta por <span class="function"><a href="#function.openssl-x509-read" class="function">openssl_x509_read()</a></span>
       </span>
      </li>
      <li class="listitem">
       <span class="simpara">
        Una cadena con el formato
        <var class="filename">file://path/to/cert.pem</var>;
        El fichero identificado debe contener un certificado,
        codificado en formato <abbr title="Privacy-Enhanced Mail">PEM</abbr>.
       </span>
      </li>
      <li class="listitem">
       <span class="simpara">
        Una cadena que contiene el contenido de un certificado, codificado
        en formato <abbr title="Privacy-Enhanced Mail">PEM</abbr>, puede comenzar por <code class="literal">-----BEGIN CERTIFICATE-----</code>.
       </span>
      </li>
     </ol>
    
   </li>

   <li class="listitem">
    <p class="para">
     Solicitudes de firma de certificados (Certificate Signing Requests, abreviado CSRs)
     </p><ol type="1">
      <li class="listitem">
       <span class="simpara">
        Una instancia de <span class="classname"><a href="#class.opensslcertificatesigningrequest" class="classname">OpenSSLCertificateSigningRequest</a></span>
        (o anterior a PHP 8.0.0, un <span class="type"><a href="#language.types.resource" class="type resource">resource</a></span> de tipo <code class="literal">OpenSSL X.509 CSR</code>)
        devuelta por <span class="function"><a href="#function.openssl-csr-new" class="function">openssl_csr_new()</a></span>
       </span>
      </li>
      <li class="listitem">
       <span class="simpara">
        Una <span class="type"><a href="#language.types.string" class="type string">string</a></span> con el formato
        <var class="filename">file://path/to/csr.pem</var>; el fichero nombrado debe
        contener un <abbr title="Certificate Signing Request">CSR</abbr> codificado en formato <abbr title="Privacy-Enhanced Mail">PEM</abbr>.
       </span>
      </li>
      <li class="listitem">
       <span class="simpara">
        Una <span class="type"><a href="#language.types.string" class="type string">string</a></span> que contiene el contenido de un <abbr title="Certificate Signing Request">CSR</abbr>, codificado en formato <abbr title="Privacy-Enhanced Mail">PEM</abbr>,
        puede comenzar por <code class="literal">-----BEGIN CERTIFICATE REQUEST-----</code>.
       </span>
      </li>
     </ol>
    
   </li>

   <li class="listitem">
    <p class="para">
     Claves públicas/privadas
     </p><ol type="1">
      <li class="listitem">
       <span class="simpara">
        Una instancia de <span class="classname"><a href="#class.opensslasymmetrickey" class="classname">OpenSSLAsymmetricKey</a></span>
        (o anterior a PHP 8.0.0, un <span class="type"><a href="#language.types.resource" class="type resource">resource</a></span> de tipo <code class="literal">OpenSSL key</code>)
        devuelta por <span class="function"><a href="#function.openssl-csr-new" class="function">openssl_csr_new()</a></span>
       </span>
      </li>
      <li class="listitem">
       <span class="simpara">
        Para las claves públicas únicamente: una instancia de <span class="classname"><a href="#class.opensslcertificate" class="classname">OpenSSLCertificate</a></span>
        (o anterior a PHP 8.0.0, un <span class="type"><a href="#language.types.resource" class="type resource">resource</a></span> de tipo <code class="literal">OpenSSL X.509</code>)
       </span>
      </li>
      <li class="listitem">
       <span class="simpara">
        Una cadena con el formato:
        <var class="filename">file://path/to/file.pem</var>.
        El fichero debe contener una clave privada, o un certificado,
        codificado en formato <abbr title="Privacy-Enhanced Mail">PEM</abbr> (puede contener ambos).
       </span>
      </li>
      <li class="listitem">
       <span class="simpara">
        Una <span class="type"><a href="#language.types.string" class="type string">string</a></span> que contiene el contenido de un certificado/clave, codificado en formato <abbr title="Privacy-Enhanced Mail">PEM</abbr>,
        puede comenzar por <code class="literal">-----BEGIN PUBLIC KEY-----</code>.
       </span>
      </li>
      <li class="listitem">
       <span class="simpara">
        Para las claves privadas, también puede utilizarse la
        sintaxis <code class="literal">array($key, $passphrase)</code>, donde
        <var class="varname">$key</var>
        representa una clave especificada por un
        fichero o una representación textual como se ha citado anteriormente, y <var class="varname">$passphrase</var> representa una
        cadena que contiene la frase de contraseña de esta clave privada.
       </span>
      </li>
     </ol>
    
   </li>
  </ul>
 
</div>

<hr>




 




<div id="openssl.cert.verification" class="appendix"><hr>
<h1 class="title">Verificación de certificados</h1>

 <p class="para">
  Cuando se llama a una función que va a verificar una firma o
  un certificado, el argumento <code class="parameter">ca_info</code> debe ser un
  array que contenga los nombres de un directorio y un fichero que indiquen los
  emisores de confianza. Si se especifica un directorio, debe ser correcto,
  ya que <strong class="command">openssl</strong> lo utilizará.
 </p>
</div>

<hr>




 



<div id="ref.openssl" class="reference"><hr>
 <h1 class="title">Funciones de OpenSSL</h1>

 



<div id="function.openssl-cipher-iv-length" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">openssl_cipher_iv_length</h1>
  <p class="verinfo">(PHP 5 &gt;= 5.3.3, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">openssl_cipher_iv_length</span> — <span class="dc-title">Obtiene la longitud del vector de inicialización cipher</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-function.openssl-cipher-iv-length-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>openssl_cipher_iv_length</strong></span>(<span class="methodparam"><span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$cipher_algo</code></span>): <span class="type"><span class="type"><a href="#language.types.integer" class="type int">int</a></span>|<span class="type"><a href="#language.types.singleton" class="type false">false</a></span></span></div>

  <p class="para rdfs-comment">
   Obtiene la longitud del vector de inicialización cipher.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.openssl-cipher-iv-length-parameters">
  <h3 class="title">Parámetros</h3>
  <dl>
   
    <dt><code class="parameter">cipher_algo</code></dt>
    <dd>
     <p class="para">
      El método cipher. Consulte la función
      <span class="function"><a href="#function.openssl-get-cipher-methods" class="function">openssl_get_cipher_methods()</a></span> para obtener una lista de valores
      potenciales.
     </p>
    </dd>
   
  </dl>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.openssl-cipher-iv-length-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Devuelve la longitud cipher en caso de éxito,
   o <strong><code><a href="#constant.false">false</a></code></strong> si ocurre un error.
  </p>
 </div>


 <div class="refsect1 errors" id="refsect1-function.openssl-cipher-iv-length-errors">
  <h3 class="title">Errores/Excepciones</h3>
  <p class="para">
   Genera un error de nivel <strong><code><a href="#constant.e-warning">E_WARNING</a></code></strong> cuando
   el algoritmo cipher es desconocido.
  </p>
 </div>


 <div class="refsect1 examples" id="refsect1-function.openssl-cipher-iv-length-examples">
  <h3 class="title">Ejemplos</h3>
  <div class="example" id="openssl-cipher-iv-length.example.basic">
   <p><strong>Ejemplo #1 Ejemplo con <span class="function"><strong>openssl_cipher_iv_length()</strong></span></strong></p>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br>$method </span><span style="color: #007700">= </span><span style="color: #DD0000">'AES-128-CBC'</span><span style="color: #007700">;<br></span><span style="color: #0000BB">$ivlen </span><span style="color: #007700">= </span><span style="color: #0000BB">openssl_cipher_iv_length</span><span style="color: #007700">(</span><span style="color: #0000BB">$method</span><span style="color: #007700">);<br><br>echo </span><span style="color: #0000BB">$ivlen</span><span style="color: #007700">;<br></span><span style="color: #0000BB">?&gt;</span></span></code></div>
   </div>

   <div class="example-contents"><p>Resultado del ejemplo anterior es similar a:</p></div>
   <div class="example-contents screen">
<div class="examplescode"><pre class="examplescode">16</pre>
</div>
   </div>
  </div>
 </div>


</div>
<hr>







<div id="function.openssl-cipher-key-length" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">openssl_cipher_key_length</h1>
  <p class="verinfo">(PHP 8 &gt;= 8.2.0)</p><p class="refpurpose"><span class="refname">openssl_cipher_key_length</span> — <span class="dc-title">Devuelve la longitud de la clave de cifrado</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-function.openssl-cipher-key-length-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>openssl_cipher_key_length</strong></span>(<span class="methodparam"><span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$cipher_algo</code></span>): <span class="type"><span class="type"><a href="#language.types.integer" class="type int">int</a></span>|<span class="type"><a href="#language.types.singleton" class="type false">false</a></span></span></div>

  <p class="para rdfs-comment">
   Devuelve la longitud de la clave de cifrado.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.openssl-cipher-key-length-parameters">
  <h3 class="title">Parámetros</h3>
  <dl>
   
    <dt><code class="parameter">cipher_algo</code></dt>
    <dd>
     <p class="para">
      El método de cifrado, ver <span class="function"><a href="#function.openssl-get-cipher-methods" class="function">openssl_get_cipher_methods()</a></span> para una lista de valores potenciales.
     </p>
    </dd>
   
  </dl>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.openssl-cipher-key-length-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Devuelve la longitud de la clave de cifrado en caso de éxito,  o <strong><code><a href="#constant.false">false</a></code></strong> si ocurre un error.
  </p>
 </div>


 <div class="refsect1 errors" id="refsect1-function.openssl-cipher-key-length-errors">
  <h3 class="title">Errores/Excepciones</h3>
  <p class="para">
   Emite un error de nivel <strong><code><a href="#constant.e-warning">E_WARNING</a></code></strong> cuando el algoritmo de cifrado
   es desconocido.
  </p>
 </div>


 <div class="refsect1 examples" id="refsect1-function.openssl-cipher-key-length-examples">
  <h3 class="title">Ejemplos</h3>
  <div class="example" id="example-1019">
   <p><strong>Ejemplo #1 Ejemplo de <span class="function"><strong>openssl_cipher_key_length()</strong></span></strong></p>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br>$method </span><span style="color: #007700">= </span><span style="color: #DD0000">'AES-128-CBC'</span><span style="color: #007700">;<br><br></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">openssl_cipher_key_length</span><span style="color: #007700">(</span><span style="color: #0000BB">$method</span><span style="color: #007700">));<br></span><span style="color: #0000BB">?&gt;</span></span></code></div>
   </div>

   <div class="example-contents"><p>Resultado del ejemplo anterior es similar a:</p></div>
   <div class="example-contents screen">
<div class="examplescode"><pre class="examplescode">int(16)</pre>
</div>
   </div>
  </div>
 </div>


</div>
<hr>






<div id="function.openssl-cms-decrypt" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">openssl_cms_decrypt</h1>
  <p class="verinfo">(PHP 8)</p><p class="refpurpose"><span class="refname">openssl_cms_decrypt</span> — <span class="dc-title">Descifra un mensaje CMS</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-function.openssl-cms-decrypt-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>openssl_cms_decrypt</strong></span>(<br>    <span class="methodparam"><span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$input_filename</code></span>,<br>    <span class="methodparam"><span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$output_filename</code></span>,<br>    <span class="methodparam"><span class="attribute"><a href="class.sensitiveparameter.html">#[\SensitiveParameter]</a> </span><span class="type"><span class="type"><a href="#class.opensslcertificate" class="type OpenSSLCertificate">OpenSSLCertificate</a></span>|<span class="type"><a href="#language.types.string" class="type string">string</a></span></span> <code class="parameter">$certificate</code></span>,<br>    <span class="methodparam"><span class="attribute"><a href="class.sensitiveparameter.html">#[\SensitiveParameter]</a> </span><span class="type"><span class="type"><a href="#class.opensslasymmetrickey" class="type OpenSSLAsymmetricKey">OpenSSLAsymmetricKey</a></span>|<span class="type"><a href="#class.opensslcertificate" class="type OpenSSLCertificate">OpenSSLCertificate</a></span>|<span class="type"><a href="#language.types.array" class="type array">array</a></span>|<span class="type"><a href="#language.types.string" class="type string">string</a></span>|<span class="type"><a href="#language.types.null" class="type null">null</a></span></span> <code class="parameter">$private_key</code><span class="initializer"> = <strong><code><a href="#constant.null">null</a></code></strong></span></span>,<br>    <span class="methodparam"><span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$encoding</code><span class="initializer"> = <strong><code><a href="#constant.openssl-encoding-smime">OPENSSL_ENCODING_SMIME</a></code></strong></span></span><br>): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>

  <p class="para rdfs-comment">
   Descifra un mensaje CMS.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.openssl-cms-decrypt-parameters">
  <h3 class="title">Parámetros</h3>
  <dl>
   
    <dt><code class="parameter">input_filename</code></dt>
    <dd>
     <p class="para">
      El nombre de un fichero que contiene contenido cifrado.
     </p>
    </dd>
   
   
    <dt><code class="parameter">output_filename</code></dt>
    <dd>
     <p class="para">
      El nombre del fichero para depositar el contenido descifrado.
     </p>
    </dd>
   
   
    <dt><code class="parameter">certificate</code></dt>
    <dd>
     <p class="para">
      El nombre del fichero que contiene un certificado del destinatario.
     </p>
    </dd>
   
   
    <dt><code class="parameter">private_key</code></dt>
    <dd>
     <p class="para">
      El nombre del fichero que contiene una clave <abbr title="Public Key Cryptography Standards">PKCS</abbr>#8.
     </p>
    </dd>
   
   
    <dt><code class="parameter">encoding</code></dt>
    <dd>
     <p class="para">
      La codificación del fichero de entrada. Una de las constantes <strong><code><a href="#constant.openssl-encoding-smime">OPENSSL_ENCODING_SMIME</a></code></strong>,
      <strong><code><a href="#constant.openssl-encoding-der">OPENSSL_ENCODING_DER</a></code></strong> o <strong><code><a href="#constant.openssl-encoding-pem">OPENSSL_ENCODING_PEM</a></code></strong>.
     </p>
    </dd>
   
  </dl>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.openssl-cms-decrypt-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Esta función retorna <strong><code><a href="#constant.true">true</a></code></strong> en caso de éxito o <strong><code><a href="#constant.false">false</a></code></strong> si ocurre un error.
  </p>
 </div>


</div>
<hr>






<div id="function.openssl-cms-encrypt" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">openssl_cms_encrypt</h1>
  <p class="verinfo">(PHP 8)</p><p class="refpurpose"><span class="refname">openssl_cms_encrypt</span> — <span class="dc-title">Cifra un mensaje CMS</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-function.openssl-cms-encrypt-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>openssl_cms_encrypt</strong></span>(<br>    <span class="methodparam"><span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$input_filename</code></span>,<br>    <span class="methodparam"><span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$output_filename</code></span>,<br>    <span class="methodparam"><span class="type"><span class="type"><a href="#class.opensslcertificate" class="type OpenSSLCertificate">OpenSSLCertificate</a></span>|<span class="type"><a href="#language.types.array" class="type array">array</a></span>|<span class="type"><a href="#language.types.string" class="type string">string</a></span></span> <code class="parameter">$certificate</code></span>,<br>    <span class="methodparam"><span class="type"><span class="type"><a href="#language.types.null" class="type null">?</a></span><span class="type"><a href="#language.types.array" class="type array">array</a></span></span> <code class="parameter">$headers</code></span>,<br>    <span class="methodparam"><span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$flags</code><span class="initializer"> = 0</span></span>,<br>    <span class="methodparam"><span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$encoding</code><span class="initializer"> = <strong><code><a href="#constant.openssl-encoding-smime">OPENSSL_ENCODING_SMIME</a></code></strong></span></span>,<br>    <span class="methodparam"><span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$cipher_algo</code><span class="initializer"> = <strong><code><a href="#constant.openssl-cipher-aes-128-cbc">OPENSSL_CIPHER_AES_128_CBC</a></code></strong></span></span><br>): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>

  <p class="para rdfs-comment">
   Esta función cifra el contenido para uno o varios destinatarios,
   basado en los certificados que se le pasan.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.openssl-cms-encrypt-parameters">
  <h3 class="title">Parámetros</h3>
  <dl>
   
    <dt><code class="parameter">input_filename</code></dt>
    <dd>
     <p class="para">
       El fichero a cifrar.
     </p>
    </dd>
   
   
    <dt><code class="parameter">output_filename</code></dt>
    <dd>
     <p class="para">
      El fichero de salida.
     </p>
    </dd>
   
   
    <dt><code class="parameter">certificate</code></dt>
    <dd>
     <p class="para">
      Los destinatarios a cifrar.
     </p>
    </dd>
   
   
    <dt><code class="parameter">headers</code></dt>
    <dd>
     <p class="para">
      Las cabeceras a incluir al utilizar S/MIME.
     </p>
    </dd>
   
   
    <dt><code class="parameter">flags</code></dt>
    <dd>
     <p class="para">
      Los flag a pasar a CMS_sign.
     </p>
    </dd>
   
   
    <dt><code class="parameter">encoding</code></dt>
    <dd>
     <p class="para">
      Una codificación de salida. Una de las constantes <strong><code><a href="#constant.openssl-encoding-smime">OPENSSL_ENCODING_SMIME</a></code></strong>,
      <strong><code><a href="#constant.openssl-encoding-der">OPENSSL_ENCODING_DER</a></code></strong> o <strong><code><a href="#constant.openssl-encoding-pem">OPENSSL_ENCODING_PEM</a></code></strong>.
     </p>
    </dd>
   
   
    <dt><code class="parameter">cipher_algo</code></dt>
    <dd>
     <p class="para">
      El cifrado a utilizar.
     </p>
    </dd>
   
  </dl>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.openssl-cms-encrypt-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Esta función retorna <strong><code><a href="#constant.true">true</a></code></strong> en caso de éxito o <strong><code><a href="#constant.false">false</a></code></strong> si ocurre un error.
  </p>
 </div>


 <div class="refsect1 changelog" id="refsect1-function.openssl-cms-encrypt-changelog">
  <h3 class="title">Historial de cambios</h3>
  <table class="doctable informaltable">
   
    <thead>
     <tr>
      <th>Versión</th>
      <th>Descripción</th>
     </tr>

    </thead>

    <tbody class="tbody">
     <tr>
      <td>8.1.0</td>
      <td>
       El algoritmo de cifrado por omisión (<code class="parameter">cipher_algo</code>) es ahora
       AES-128-CBC (<strong><code><a href="#constant.openssl-cipher-aes-128-cbc">OPENSSL_CIPHER_AES_128_CBC</a></code></strong>). Anteriormente,
       se utilizaba PKCS7/CMS (<strong><code><a href="#constant.openssl-cipher-rc2-40">OPENSSL_CIPHER_RC2_40</a></code></strong>).
      </td>
     </tr>

    </tbody>
   
  </table>

 </div>


</div>
<hr>






<div id="function.openssl-cms-read" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">openssl_cms_read</h1>
  <p class="verinfo">(PHP 8)</p><p class="refpurpose"><span class="refname">openssl_cms_read</span> — <span class="dc-title">Exporta el fichero CMS a un array de certificados <abbr title="Privacy-Enhanced Mail">PEM</abbr></span></p>

 </div>

 <div class="refsect1 description" id="refsect1-function.openssl-cms-read-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>openssl_cms_read</strong></span>(<span class="methodparam"><span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$input_filename</code></span>, <span class="methodparam"><span class="type"><a href="#language.types.array" class="type array">array</a></span> <code class="parameter reference">&amp;$certificates</code></span>): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>

  <p class="para rdfs-comment">
   Realiza la operación inversa de <span class="function"><a href="#function.openssl-pkcs7-read" class="function">openssl_pkcs7_read()</a></span>.
  </p>

  
<div class="warning"><strong class="warning">Advertencia</strong>
<p class="simpara">
 Esta función está actualmente no documentada; solo la lista de sus argumentos está disponible.
</p>
</div>


 </div>


 <div class="refsect1 parameters" id="refsect1-function.openssl-cms-read-parameters">
  <h3 class="title">Parámetros</h3>
  <dl>
   
    <dt><code class="parameter">input_filename</code></dt>
    <dd>
     <p class="para">

     </p>
    </dd>
   
   
    <dt><code class="parameter">certificates</code></dt>
    <dd>
     <p class="para">

     </p>
    </dd>
   
  </dl>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.openssl-cms-read-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Esta función retorna <strong><code><a href="#constant.true">true</a></code></strong> en caso de éxito o <strong><code><a href="#constant.false">false</a></code></strong> si ocurre un error.
  </p>
 </div>


</div>
<hr>







<div id="function.openssl-cms-sign" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">openssl_cms_sign</h1>
  <p class="verinfo">(PHP 8)</p><p class="refpurpose"><span class="refname">openssl_cms_sign</span> — <span class="dc-title">Firma un fichero</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-function.openssl-cms-sign-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>openssl_cms_sign</strong></span>(<br>    <span class="methodparam"><span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$input_filename</code></span>,<br>    <span class="methodparam"><span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$output_filename</code></span>,<br>    <span class="methodparam"><span class="type"><span class="type"><a href="#class.opensslcertificate" class="type OpenSSLCertificate">OpenSSLCertificate</a></span>|<span class="type"><a href="#language.types.string" class="type string">string</a></span></span> <code class="parameter">$certificate</code></span>,<br>    <span class="methodparam"><span class="attribute"><a href="class.sensitiveparameter.html">#[\SensitiveParameter]</a> </span><span class="type"><span class="type"><a href="#class.opensslasymmetrickey" class="type OpenSSLAsymmetricKey">OpenSSLAsymmetricKey</a></span>|<span class="type"><a href="#class.opensslcertificate" class="type OpenSSLCertificate">OpenSSLCertificate</a></span>|<span class="type"><a href="#language.types.array" class="type array">array</a></span>|<span class="type"><a href="#language.types.string" class="type string">string</a></span></span> <code class="parameter">$private_key</code></span>,<br>    <span class="methodparam"><span class="type"><span class="type"><a href="#language.types.null" class="type null">?</a></span><span class="type"><a href="#language.types.array" class="type array">array</a></span></span> <code class="parameter">$headers</code></span>,<br>    <span class="methodparam"><span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$flags</code><span class="initializer"> = 0</span></span>,<br>    <span class="methodparam"><span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$encoding</code><span class="initializer"> = <strong><code><a href="#constant.openssl-encoding-smime">OPENSSL_ENCODING_SMIME</a></code></strong></span></span>,<br>    <span class="methodparam"><span class="type"><span class="type"><a href="#language.types.null" class="type null">?</a></span><span class="type"><a href="#language.types.string" class="type string">string</a></span></span> <code class="parameter">$untrusted_certificates_filename</code><span class="initializer"> = <strong><code><a href="#constant.null">null</a></code></strong></span></span><br>): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>

  <p class="para rdfs-comment">
   Esta función firma un fichero con un certificado X.509 y una clave.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.openssl-cms-sign-parameters">
  <h3 class="title">Parámetros</h3>
  <dl>
   
    <dt><code class="parameter">input_filename</code></dt>
    <dd>
     <p class="para">
      El nombre del fichero a firmar.
     </p>
    </dd>
   
   
    <dt><code class="parameter">output_filename</code></dt>
    <dd>
     <p class="para">
      El nombre del fichero para depositar los resultados.
     </p>
    </dd>
   
   
    <dt><code class="parameter">certificate</code></dt>
    <dd>
     <p class="para">
      El certificado de firma.
      Véase <a href="#openssl.certparams" class="link">Parámetros de clave/certificado</a> para una lista de valores válidos.
     </p>
    </dd>
   
   
    <dt><code class="parameter">private_key</code></dt>
    <dd>
     <p class="para">
      La clave asociada al <code class="parameter">certificate</code>.
      Véase <a href="#openssl.certparams" class="link">Parámetros de clave/certificado</a> para una lista de valores válidos.
     </p>
    </dd>
   
   
    <dt><code class="parameter">headers</code></dt>
    <dd>
     <p class="para">
      Un array de encabezados a incluir en la salida S/MIME.
     </p>
    </dd>
   
   
    <dt><code class="parameter">flags</code></dt>
    <dd>
     <p class="para">
      Los flag a pasar a <span class="function"><strong>cms_sign()</strong></span>.
     </p>
    </dd>
   
   
    <dt><code class="parameter">encoding</code></dt>
    <dd>
     <p class="para">
      La codificación del fichero de salida. Una de las constantes <strong><code><a href="#constant.openssl-encoding-smime">OPENSSL_ENCODING_SMIME</a></code></strong>,
      <strong><code><a href="#constant.openssl-encoding-der">OPENSSL_ENCODING_DER</a></code></strong> o <strong><code><a href="#constant.openssl-encoding-pem">OPENSSL_ENCODING_PEM</a></code></strong>.
     </p>
    </dd>
   
   
    <dt><code class="parameter">untrusted_certificates_filename</code></dt>
    <dd>
     <p class="para">
      Los certificados intermedios a incluir en la firma.
     </p>
    </dd>
   
  </dl>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.openssl-cms-sign-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Esta función retorna <strong><code><a href="#constant.true">true</a></code></strong> en caso de éxito o <strong><code><a href="#constant.false">false</a></code></strong> si ocurre un error.
  </p>
 </div>


 <div class="refsect1 examples" id="refsect1-function.openssl-cms-sign-examples">
  <h3 class="title">Ejemplos</h3>
  <p class="para">
   </p><div class="example" id="example-1020">
    <p><strong>Ejemplo #1 Ejemplo de <span class="function"><strong>openssl_cms_sign()</strong></span></strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br><br>openssl_cms_sign</span><span style="color: #007700">(</span><span style="color: #DD0000">'input.txt'</span><span style="color: #007700">, </span><span style="color: #DD0000">'output.txt'</span><span style="color: #007700">, </span><span style="color: #DD0000">'file://cert.pem'</span><span style="color: #007700">, </span><span style="color: #DD0000">'file://privkey.pem'</span><span style="color: #007700">, </span><span style="color: #0000BB">null</span><span style="color: #007700">, </span><span style="color: #0000BB">OPENSSL_CMS_BINARY</span><span style="color: #007700">, </span><span style="color: #0000BB">OPENSSL_ENCODING_DER</span><span style="color: #007700">, </span><span style="color: #DD0000">'chain.pem'</span><span style="color: #007700">);<br></span><span style="color: #0000BB">?&gt;</span></span></code></div>
    </div>

   </div>
  
 </div>


</div>
<hr>






<div id="function.openssl-cms-verify" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">openssl_cms_verify</h1>
  <p class="verinfo">(PHP 8)</p><p class="refpurpose"><span class="refname">openssl_cms_verify</span> — <span class="dc-title">Verifica una firma CMS</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-function.openssl-cms-verify-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>openssl_cms_verify</strong></span>(<br>    <span class="methodparam"><span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$input_filename</code></span>,<br>    <span class="methodparam"><span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$flags</code><span class="initializer"> = 0</span></span>,<br>    <span class="methodparam"><span class="type"><span class="type"><a href="#language.types.null" class="type null">?</a></span><span class="type"><a href="#language.types.string" class="type string">string</a></span></span> <code class="parameter">$certificates</code><span class="initializer"> = <strong><code><a href="#constant.null">null</a></code></strong></span></span>,<br>    <span class="methodparam"><span class="type"><a href="#language.types.array" class="type array">array</a></span> <code class="parameter">$ca_info</code><span class="initializer"> = []</span></span>,<br>    <span class="methodparam"><span class="type"><span class="type"><a href="#language.types.null" class="type null">?</a></span><span class="type"><a href="#language.types.string" class="type string">string</a></span></span> <code class="parameter">$untrusted_certificates_filename</code><span class="initializer"> = <strong><code><a href="#constant.null">null</a></code></strong></span></span>,<br>    <span class="methodparam"><span class="type"><span class="type"><a href="#language.types.null" class="type null">?</a></span><span class="type"><a href="#language.types.string" class="type string">string</a></span></span> <code class="parameter">$content</code><span class="initializer"> = <strong><code><a href="#constant.null">null</a></code></strong></span></span>,<br>    <span class="methodparam"><span class="type"><span class="type"><a href="#language.types.null" class="type null">?</a></span><span class="type"><a href="#language.types.string" class="type string">string</a></span></span> <code class="parameter">$pk7</code><span class="initializer"> = <strong><code><a href="#constant.null">null</a></code></strong></span></span>,<br>    <span class="methodparam"><span class="type"><span class="type"><a href="#language.types.null" class="type null">?</a></span><span class="type"><a href="#language.types.string" class="type string">string</a></span></span> <code class="parameter">$sigfile</code><span class="initializer"> = <strong><code><a href="#constant.null">null</a></code></strong></span></span>,<br>    <span class="methodparam"><span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$encoding</code><span class="initializer"> = <strong><code><a href="#constant.openssl-encoding-smime">OPENSSL_ENCODING_SMIME</a></code></strong></span></span><br>): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>

  <p class="para rdfs-comment">
   Esta función verifica una firma CMS, ya sea adjunta o desprendida, con la codificación especificada.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.openssl-cms-verify-parameters">
  <h3 class="title">Parámetros</h3>
  <dl>
   
    <dt><code class="parameter">input_filename</code></dt>
    <dd>
     <p class="para">
      El fichero de entrada.
     </p>
    </dd>
   
   
    <dt><code class="parameter">flags</code></dt>
    <dd>
     <p class="para">
      Los flag a pasar a <span class="function"><strong>cms_verify()</strong></span>.
     </p>
    </dd>
   
   
    <dt><code class="parameter">certificates</code></dt>
    <dd>
     <p class="para">
      Un fichero con el certificado del firmante y eventualmente certificados intermedios.
     </p>
    </dd>
   
   
    <dt><code class="parameter">ca_info</code></dt>
    <dd>
     <p class="para">
      Un array que contiene certificados de autoridad auto-firmados.
     </p>
    </dd>
   
   
    <dt><code class="parameter">untrusted_certificates_filename</code></dt>
    <dd>
     <p class="para">
      Un fichero que contiene certificados intermedios adicionales.
     </p>
    </dd>
   
   
    <dt><code class="parameter">content</code></dt>
    <dd>
     <p class="para">
      Un fichero que apunta al contenido cuando las firmas están desprendidas.
     </p>
    </dd>
   
   
    <dt><code class="parameter">pk7</code></dt>
    <dd>
     <p class="para">

     </p>
    </dd>
   
   
    <dt><code class="parameter">sigfile</code></dt>
    <dd>
     <p class="para">
      Un fichero para guardar la firma.
     </p>
    </dd>
   
   
    <dt><code class="parameter">encoding</code></dt>
    <dd>
     <p class="para">
      La codificación del fichero de entrada. Una de las constantes <strong><code><a href="#constant.openssl-encoding-smime">OPENSSL_ENCODING_SMIME</a></code></strong>,
      <strong><code><a href="#constant.openssl-encoding-der">OPENSSL_ENCODING_DER</a></code></strong> o <strong><code><a href="#constant.openssl-encoding-pem">OPENSSL_ENCODING_PEM</a></code></strong>.
     </p>
    </dd>
   
  </dl>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.openssl-cms-verify-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Esta función retorna <strong><code><a href="#constant.true">true</a></code></strong> en caso de éxito o <strong><code><a href="#constant.false">false</a></code></strong> si ocurre un error.
  </p>
 </div>


</div>
<hr>








<div id="function.openssl-csr-export" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">openssl_csr_export</h1>
  <p class="verinfo">(PHP 4 &gt;= 4.2.0, PHP 5, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">openssl_csr_export</span> — <span class="dc-title">Exporta un <abbr title="Certificate Signing Request">CSR</abbr> a un fichero o una variable</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-function.openssl-csr-export-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>openssl_csr_export</strong></span>(<span class="methodparam"><span class="type"><span class="type"><a href="#class.opensslcertificatesigningrequest" class="type OpenSSLCertificateSigningRequest">OpenSSLCertificateSigningRequest</a></span>|<span class="type"><a href="#language.types.string" class="type string">string</a></span></span> <code class="parameter">$csr</code></span>, <span class="methodparam"><span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter reference">&amp;$output</code></span>, <span class="methodparam"><span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span> <code class="parameter">$no_text</code><span class="initializer"> = <strong><code><a href="#constant.true">true</a></code></strong></span></span>): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>

  <p class="para rdfs-comment">
   <span class="function"><strong>openssl_csr_export()</strong></span> toma la solicitud de firma de certificado representada por <code class="parameter">CSR</code> y la almacena en formato <abbr title="Privacy-Enhanced Mail">PEM</abbr> en <code class="parameter">output</code>, que es pasado por referencia.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.openssl-csr-export-parameters">
  <h3 class="title">Parámetros</h3>
  <p class="para">
   </p><dl>
    
<dt><code class="parameter">csr</code></dt>
<dd>
    <p class="para">
        Ver los <a href="#openssl.certparams" class="link">parámetros CSR</a> para obtener una lista de los valores válidos.
    </p>
</dd>

    
     <dt><code class="parameter">output</code></dt>
     <dd>
      <p class="para">En caso de éxito, esta cadena contendrá el <abbr title="Certificate Signing Request">CSR</abbr> codificado en <abbr title="Privacy-Enhanced Mail">PEM</abbr></p>
     </dd>
    
    
     <dt><code class="parameter">no_text</code></dt>
     <dd>
      <p class="para">
El parámetro opcional <code class="parameter">notext</code> afecta al nivel de verbosidad del display;
si vale <strong><code><a href="#constant.false">false</a></code></strong>, se añadirán información legible por humanos en el display.
Por omisión, el parámetro <code class="parameter">notext</code> vale <strong><code><a href="#constant.true">true</a></code></strong>.
</p>
     </dd>
    
   </dl>
  
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.openssl-csr-export-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Esta función retorna <strong><code><a href="#constant.true">true</a></code></strong> en caso de éxito o <strong><code><a href="#constant.false">false</a></code></strong> si ocurre un error.
  </p>
 </div>


 <div class="refsect1 changelog" id="refsect1-function.openssl-csr-export-changelog">
  <h3 class="title">Historial de cambios</h3>
  <table class="doctable informaltable">
   
    <thead>
     <tr>
      <th>Versión</th>
      <th>Descripción</th>
     </tr>

    </thead>

    <tbody class="tbody">
     <tr>
      <td>8.0.0</td>
      <td>
       <code class="parameter">csr</code> ahora acepta una instancia de <span class="classname"><a href="#class.opensslcertificatesigningrequest" class="classname">OpenSSLCertificateSigningRequest</a></span>; anteriormente, se aceptaba un <span class="type"><a href="#language.types.resource" class="type resource">resource</a></span> de tipo <code class="literal">OpenSSL X.509 CSR</code>.
      </td>
     </tr>

    </tbody>
   
  </table>

 </div>


 <div class="refsect1 examples" id="refsect1-function.openssl-csr-export-examples">
  <h3 class="title">Ejemplos</h3>
  <p class="para">
   </p><div class="example" id="example-1021">
    <p><strong>Ejemplo #1 Ejemplo de openssl_csr_export()</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br>$subject </span><span style="color: #007700">= array(<br>    </span><span style="color: #DD0000">"commonName" </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">"example.com"</span><span style="color: #007700">,<br>);<br></span><span style="color: #0000BB">$private_key </span><span style="color: #007700">= </span><span style="color: #0000BB">openssl_pkey_new</span><span style="color: #007700">(array(<br>    </span><span style="color: #DD0000">"private_key_bits" </span><span style="color: #007700">=&gt; </span><span style="color: #0000BB">2048</span><span style="color: #007700">,<br>    </span><span style="color: #DD0000">"private_key_type" </span><span style="color: #007700">=&gt; </span><span style="color: #0000BB">OPENSSL_KEYTYPE_RSA</span><span style="color: #007700">,<br>));<br></span><span style="color: #0000BB">$configargs </span><span style="color: #007700">= array(<br>    </span><span style="color: #DD0000">'digest_alg' </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">'sha256WithRSAEncryption'<br></span><span style="color: #007700">);<br></span><span style="color: #0000BB">$csr </span><span style="color: #007700">= </span><span style="color: #0000BB">openssl_csr_new</span><span style="color: #007700">(</span><span style="color: #0000BB">$subject</span><span style="color: #007700">, </span><span style="color: #0000BB">$private_key</span><span style="color: #007700">, </span><span style="color: #0000BB">$configargs</span><span style="color: #007700">);<br></span><span style="color: #0000BB">openssl_csr_export</span><span style="color: #007700">(</span><span style="color: #0000BB">$csr</span><span style="color: #007700">, </span><span style="color: #0000BB">$csr_string</span><span style="color: #007700">);<br>echo </span><span style="color: #0000BB">$csr_string</span><span style="color: #007700">;<br></span><span style="color: #0000BB">?&gt;</span></span></code></div>
    </div>

   </div>
  
 </div>


 <div class="refsect1 seealso" id="refsect1-function.openssl-csr-export-seealso">
  <h3 class="title">Ver también</h3>
  <p class="para">
   </p><ul class="simplelist">
    <li><span class="function"><a href="#function.openssl-csr-export-to-file" class="function" rel="rdfs-seeAlso">openssl_csr_export_to_file()</a> - Exporta una CSR a un fichero</span></li>
    <li><span class="function"><a href="#function.openssl-csr-new" class="function" rel="rdfs-seeAlso">openssl_csr_new()</a> - Genera una CSR</span></li>
    <li><span class="function"><a href="#function.openssl-csr-sign" class="function" rel="rdfs-seeAlso">openssl_csr_sign()</a> - Firma un CSR con otro certificado (o consigo mismo) y genera un certificado</span></li>
   </ul>
  
 </div>


</div>
<hr>








<div id="function.openssl-csr-export-to-file" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">openssl_csr_export_to_file</h1>
  <p class="verinfo">(PHP 4 &gt;= 4.2.0, PHP 5, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">openssl_csr_export_to_file</span> — <span class="dc-title">Exporta una CSR a un fichero</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-function.openssl-csr-export-to-file-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>openssl_csr_export_to_file</strong></span>(<span class="methodparam"><span class="type"><span class="type"><a href="#class.opensslcertificatesigningrequest" class="type OpenSSLCertificateSigningRequest">OpenSSLCertificateSigningRequest</a></span>|<span class="type"><a href="#language.types.string" class="type string">string</a></span></span> <code class="parameter">$csr</code></span>, <span class="methodparam"><span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$output_filename</code></span>, <span class="methodparam"><span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span> <code class="parameter">$no_text</code><span class="initializer"> = <strong><code><a href="#constant.true">true</a></code></strong></span></span>): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>

  <p class="para rdfs-comment">
   <span class="function"><strong>openssl_csr_export_to_file()</strong></span> toma la <abbr title="Certificate Signing Request">CSR</abbr> representada por
   el argumento <code class="parameter">csr</code> y la guarda en formato <abbr title="Privacy-Enhanced Mail">PEM</abbr> en el fichero
   nombrado <code class="parameter">output_filename</code>.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.openssl-csr-export-to-file-parameters">
  <h3 class="title">Parámetros</h3>
  <p class="para">
   </p><dl>
    
<dt><code class="parameter">csr</code></dt>
<dd>
    <p class="para">
        Ver los <a href="#openssl.certparams" class="link">parámetros CSR</a> para obtener una lista de los valores válidos.
    </p>
</dd>

    
     <dt><code class="parameter">output_filename</code></dt>
     <dd>
      <p class="para">
       Ruta hacia el fichero de salida.
      </p>
     </dd>
    
    
     <dt><code class="parameter">no_text</code></dt>
     <dd>
      <p class="para">
El parámetro opcional <code class="parameter">notext</code> afecta al nivel de verbosidad del display;
si vale <strong><code><a href="#constant.false">false</a></code></strong>, se añadirán información legible por humanos en el display.
Por omisión, el parámetro <code class="parameter">notext</code> vale <strong><code><a href="#constant.true">true</a></code></strong>.
</p>
     </dd>
    
   </dl>
  
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.openssl-csr-export-to-file-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Esta función retorna <strong><code><a href="#constant.true">true</a></code></strong> en caso de éxito o <strong><code><a href="#constant.false">false</a></code></strong> si ocurre un error.
  </p>
 </div>


 <div class="refsect1 changelog" id="refsect1-function.openssl-csr-export-to-file-changelog">
  <h3 class="title">Historial de cambios</h3>
  <table class="doctable informaltable">
   
    <thead>
     <tr>
      <th>Versión</th>
      <th>Descripción</th>
     </tr>

    </thead>

    <tbody class="tbody">
     <tr>
      <td>8.0.0</td>
      <td>
       <code class="parameter">csr</code> ahora acepta una instancia de
       <span class="classname"><a href="#class.opensslcertificatesigningrequest" class="classname">OpenSSLCertificateSigningRequest</a></span>;
       anteriormente, se aceptaba un <span class="type"><a href="#language.types.resource" class="type resource">resource</a></span> de tipo <code class="literal">OpenSSL X.509 CSR</code>.
      </td>
     </tr>

    </tbody>
   
  </table>

 </div>


 <div class="refsect1 examples" id="refsect1-function.openssl-csr-export-to-file-examples">
  <h3 class="title">Ejemplos</h3>
  <p class="para">
   </p><div class="example" id="example-1022">
    <p><strong>Ejemplo #1 Ejemplo de openssl_csr_export_to_file()</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br>$subject </span><span style="color: #007700">= array(<br>    </span><span style="color: #DD0000">"commonName" </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">"example.com"</span><span style="color: #007700">,<br>);<br></span><span style="color: #0000BB">$private_key </span><span style="color: #007700">= </span><span style="color: #0000BB">openssl_pkey_new</span><span style="color: #007700">(array(<br>    </span><span style="color: #DD0000">"private_key_bits" </span><span style="color: #007700">=&gt; </span><span style="color: #0000BB">2048</span><span style="color: #007700">,<br>    </span><span style="color: #DD0000">"private_key_type" </span><span style="color: #007700">=&gt; </span><span style="color: #0000BB">OPENSSL_KEYTYPE_RSA</span><span style="color: #007700">,<br>));<br></span><span style="color: #0000BB">$csr </span><span style="color: #007700">= </span><span style="color: #0000BB">openssl_csr_new</span><span style="color: #007700">(</span><span style="color: #0000BB">$subject</span><span style="color: #007700">, </span><span style="color: #0000BB">$private_key</span><span style="color: #007700">, array(</span><span style="color: #DD0000">'digest_alg' </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">'sha384'</span><span style="color: #007700">) );<br></span><span style="color: #0000BB">openssl_pkey_export_to_file</span><span style="color: #007700">(</span><span style="color: #0000BB">$private_key</span><span style="color: #007700">, </span><span style="color: #DD0000">'example-priv.key'</span><span style="color: #007700">);<br></span><span style="color: #FF8000">// Al mismo tiempo que el sujeto, la CSR contiene la clave pública correspondiente a la clave privada<br></span><span style="color: #0000BB">openssl_csr_export_to_file</span><span style="color: #007700">(</span><span style="color: #0000BB">$csr</span><span style="color: #007700">, </span><span style="color: #DD0000">'example-csr.pem'</span><span style="color: #007700">);<br></span><span style="color: #0000BB">?&gt;</span></span></code></div>
    </div>

   </div>
  
 </div>


 <div class="refsect1 seealso" id="refsect1-function.openssl-csr-export-to-file-seealso">
  <h3 class="title">Ver también</h3>
  <p class="para">
   </p><ul class="simplelist">
    <li><span class="function"><a href="#function.openssl-csr-export" class="function" rel="rdfs-seeAlso">openssl_csr_export()</a> - Exporta un CSR a un fichero o una variable</span></li>
    <li><span class="function"><a href="#function.openssl-csr-new" class="function" rel="rdfs-seeAlso">openssl_csr_new()</a> - Genera una CSR</span></li>
    <li><span class="function"><a href="#function.openssl-csr-sign" class="function" rel="rdfs-seeAlso">openssl_csr_sign()</a> - Firma un CSR con otro certificado (o consigo mismo) y genera un certificado</span></li>
   </ul>
  
 </div>


</div>
<hr>








<div id="function.openssl-csr-get-public-key" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">openssl_csr_get_public_key</h1>
  <p class="verinfo">(PHP 5 &gt;= 5.2.0, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">openssl_csr_get_public_key</span> — <span class="dc-title">Devuelve la clave pública de un <abbr title="Certificate Signing Request">CSR</abbr></span></p>

 </div>

 <div class="refsect1 description" id="refsect1-function.openssl-csr-get-public-key-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>openssl_csr_get_public_key</strong></span>(<span class="methodparam"><span class="type"><span class="type"><a href="#class.opensslcertificatesigningrequest" class="type OpenSSLCertificateSigningRequest">OpenSSLCertificateSigningRequest</a></span>|<span class="type"><a href="#language.types.string" class="type string">string</a></span></span> <code class="parameter">$csr</code></span>, <span class="methodparam"><span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span> <code class="parameter">$short_names</code><span class="initializer"> = <strong><code><a href="#constant.true">true</a></code></strong></span></span>): <span class="type"><span class="type"><a href="#class.opensslasymmetrickey" class="type OpenSSLAsymmetricKey">OpenSSLAsymmetricKey</a></span>|<span class="type"><a href="#language.types.singleton" class="type false">false</a></span></span></div>

  <p class="para rdfs-comment">
   <span class="function"><strong>openssl_csr_get_public_key()</strong></span> extrae la clave pública de la
   <code class="parameter">csr</code> y la prepara para su utilización por otras
   funciones.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.openssl-csr-get-public-key-parameters">
  <h3 class="title">Parámetros</h3>
  <p class="para">
   </p><dl>
     
<dt><code class="parameter">csr</code></dt>
<dd>
    <p class="para">
        Ver los <a href="#openssl.certparams" class="link">parámetros CSR</a> para obtener una lista de los valores válidos.
    </p>
</dd>

    
     <dt><code class="parameter">short_names</code></dt>
     <dd>
      <div class="warning"><strong class="warning">Advertencia</strong>
       <p class="para">
        Este parámetro es ignorado
       </p>
      </div>
     </dd>
    
   </dl>
  
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.openssl-csr-get-public-key-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Devuelve una <span class="classname"><a href="#class.opensslasymmetrickey" class="classname">OpenSSLAsymmetricKey</a></span> en caso de éxito,
   o <strong><code><a href="#constant.false">false</a></code></strong> en caso de error.
  </p>
 </div>


 <div class="refsect1 changelog" id="refsect1-function.openssl-csr-get-public-key-changelog">
  <h3 class="title">Historial de cambios</h3>
  <table class="doctable informaltable">
   
    <thead>
     <tr>
      <th>Versión</th>
      <th>Descripción</th>
     </tr>

    </thead>

    <tbody class="tbody">
     <tr>
      <td>8.0.0</td>
      <td>
       En caso de éxito, esta función devuelve ahora una instancia de
       <span class="classname"><a href="#class.opensslasymmetrickey" class="classname">OpenSSLAsymmetricKey</a></span> ; anteriormente se devolvía
       un <span class="type"><a href="#language.types.resource" class="type resource">resource</a></span> de tipo <code class="literal">OpenSSL key</code>.
      </td>
     </tr>

     <tr>
      <td>8.0.0</td>
      <td>
       <code class="parameter">csr</code> acepta ahora una instancia de
       <span class="classname"><a href="#class.opensslcertificatesigningrequest" class="classname">OpenSSLCertificateSigningRequest</a></span> ;
       anteriormente, se aceptaba un <span class="type"><a href="#language.types.resource" class="type resource">resource</a></span> de tipo <code class="literal">OpenSSL X.509 CSR</code>.
      </td>
     </tr>

    </tbody>
   
  </table>

 </div>


 <div class="refsect1 examples" id="refsect1-function.openssl-csr-get-public-key-examples">
  <h3 class="title">Ejemplos</h3>
  <p class="para">
   </p><div class="example" id="example-1023">
    <p><strong>Ejemplo #1 Ejemplo de openssl_csr_get_public_key()</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br>$subject </span><span style="color: #007700">= array(<br>    </span><span style="color: #DD0000">"commonName" </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">"example.com"</span><span style="color: #007700">,<br>);<br></span><span style="color: #0000BB">$private_key </span><span style="color: #007700">= </span><span style="color: #0000BB">openssl_pkey_new</span><span style="color: #007700">(array(<br>    </span><span style="color: #DD0000">"private_key_bits" </span><span style="color: #007700">=&gt; </span><span style="color: #0000BB">2048</span><span style="color: #007700">,<br>    </span><span style="color: #DD0000">"private_key_type" </span><span style="color: #007700">=&gt; </span><span style="color: #0000BB">OPENSSL_KEYTYPE_RSA</span><span style="color: #007700">,<br>));<br></span><span style="color: #0000BB">$csr </span><span style="color: #007700">= </span><span style="color: #0000BB">openssl_csr_new</span><span style="color: #007700">(</span><span style="color: #0000BB">$subject</span><span style="color: #007700">, </span><span style="color: #0000BB">$private_key</span><span style="color: #007700">, array(</span><span style="color: #DD0000">'digest_alg' </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">'sha256'</span><span style="color: #007700">) );<br></span><span style="color: #0000BB">$public_key </span><span style="color: #007700">= </span><span style="color: #0000BB">openssl_csr_get_public_key</span><span style="color: #007700">(</span><span style="color: #0000BB">$csr</span><span style="color: #007700">);<br></span><span style="color: #0000BB">$info </span><span style="color: #007700">= </span><span style="color: #0000BB">openssl_pkey_get_details</span><span style="color: #007700">(</span><span style="color: #0000BB">$public_key</span><span style="color: #007700">);<br>echo </span><span style="color: #0000BB">$info</span><span style="color: #007700">[</span><span style="color: #DD0000">'key'</span><span style="color: #007700">];<br></span><span style="color: #0000BB">?&gt;</span></span></code></div>
    </div>

   </div>
  
 </div>


 <div class="refsect1 seealso" id="refsect1-function.openssl-csr-get-public-key-seealso">
  <h3 class="title">Ver también</h3>
  <p class="para">
   </p><ul class="simplelist">
    <li><span class="function"><a href="#function.openssl-csr-get-subject" class="function" rel="rdfs-seeAlso">openssl_csr_get_subject()</a> - Retorna el sujeto de una CSR</span></li>
    <li><span class="function"><a href="#function.openssl-csr-new" class="function" rel="rdfs-seeAlso">openssl_csr_new()</a> - Genera una CSR</span></li>
    <li><span class="function"><a href="#function.openssl-pkey-get-details" class="function" rel="rdfs-seeAlso">openssl_pkey_get_details()</a> - Devuelve un array que contiene los detalles de la clave</span></li>
    <li><span class="function"><a href="#function.openssl-pkey-export-to-file" class="function" rel="rdfs-seeAlso">openssl_pkey_export_to_file()</a> - Guarda una clave en formato ASCII en un fichero</span></li>
    <li><span class="function"><a href="#function.openssl-pkey-export" class="function" rel="rdfs-seeAlso">openssl_pkey_export()</a> - Almacena una representación exportable de la clave en una cadena de caracteres</span></li>

   </ul>
  
 </div>


</div>
<hr>








<div id="function.openssl-csr-get-subject" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">openssl_csr_get_subject</h1>
  <p class="verinfo">(PHP 5 &gt;= 5.2.0, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">openssl_csr_get_subject</span> — <span class="dc-title">Retorna el sujeto de una <abbr title="Certificate Signing Request">CSR</abbr></span></p>

 </div>

 <div class="refsect1 description" id="refsect1-function.openssl-csr-get-subject-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>openssl_csr_get_subject</strong></span>(<span class="methodparam"><span class="type"><span class="type"><a href="#class.opensslcertificatesigningrequest" class="type OpenSSLCertificateSigningRequest">OpenSSLCertificateSigningRequest</a></span>|<span class="type"><a href="#language.types.string" class="type string">string</a></span></span> <code class="parameter">$csr</code></span>, <span class="methodparam"><span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span> <code class="parameter">$short_names</code><span class="initializer"> = <strong><code><a href="#constant.true">true</a></code></strong></span></span>): <span class="type"><span class="type"><a href="#language.types.array" class="type array">array</a></span>|<span class="type"><a href="#language.types.singleton" class="type false">false</a></span></span></div>

  <p class="para rdfs-comment">
   <span class="function"><strong>openssl_csr_get_subject()</strong></span> retorna las informaciones sobre el
   nombre distintivo del sujeto codificado en el <code class="parameter">csr</code>,
   incluyendo los campos commonName (CN), organizationName (O), countryName (C) etc.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.openssl-csr-get-subject-parameters">
  <h3 class="title">Parámetros</h3>
  <p class="para">
   </p><dl>
     
<dt><code class="parameter">csr</code></dt>
<dd>
    <p class="para">
        Ver los <a href="#openssl.certparams" class="link">parámetros CSR</a> para obtener una lista de los valores válidos.
    </p>
</dd>

    
     <dt><code class="parameter">short_names</code></dt>
     <dd>
      <p class="para">
       <code class="parameter">short_names</code> controla cómo los datos son indexados
       en el array - si <code class="parameter">short_names</code> es <strong><code><a href="#constant.true">true</a></code></strong> (por omisión)
       entonces los campos serán indexados con la forma corta del nombre, de lo contrario
       el nombre completo será utilizado - por ejemplo: CN es la forma corta de commonName.
      </p>
     </dd>
    
   </dl>
  
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.openssl-csr-get-subject-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Retorna un <span class="type"><a href="#language.types.array" class="type array">array</a></span> asociativo con las descripciones de los sujetos,
    o <strong><code><a href="#constant.false">false</a></code></strong> si ocurre un error.
  </p>
 </div>


 <div class="refsect1 changelog" id="refsect1-function.openssl-csr-get-subject-changelog">
  <h3 class="title">Historial de cambios</h3>
  <table class="doctable informaltable">
   
    <thead>
     <tr>
      <th>Versión</th>
      <th>Descripción</th>
     </tr>

    </thead>

    <tbody class="tbody">
     <tr>
      <td>8.0.0</td>
      <td>
       <code class="parameter">csr</code> ahora acepta una instancia de
       <span class="classname"><a href="#class.opensslcertificatesigningrequest" class="classname">OpenSSLCertificateSigningRequest</a></span> ;
       anteriormente, se aceptaba un <span class="type"><a href="#language.types.resource" class="type resource">resource</a></span> de tipo <code class="literal">OpenSSL X.509 CSR</code>.
      </td>
     </tr>

    </tbody>
   
  </table>

 </div>


 <div class="refsect1 examples" id="refsect1-function.openssl-csr-get-subject-examples">
  <h3 class="title">Ejemplos</h3>
  <p class="para">
   </p><div class="example" id="example-1024">
    <p><strong>Ejemplo #1 Ejemplo con openssl_csr_get_subject()</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br>$subject </span><span style="color: #007700">= array(<br>    </span><span style="color: #DD0000">"countryName" </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">"CA"</span><span style="color: #007700">,<br>    </span><span style="color: #DD0000">"stateOrProvinceName" </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">"Alberta"</span><span style="color: #007700">,<br>    </span><span style="color: #DD0000">"localityName" </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">"Calgary"</span><span style="color: #007700">,<br>    </span><span style="color: #DD0000">"organizationName" </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">"XYZ Widgets Inc"</span><span style="color: #007700">,<br>    </span><span style="color: #DD0000">"organizationalUnitName" </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">"PHP Documentation Team"</span><span style="color: #007700">,<br>    </span><span style="color: #DD0000">"commonName" </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">"Wez Furlong"</span><span style="color: #007700">,<br>    </span><span style="color: #DD0000">"emailAddress" </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">"wez@example.com"</span><span style="color: #007700">,<br>);<br></span><span style="color: #0000BB">$private_key </span><span style="color: #007700">= </span><span style="color: #0000BB">openssl_pkey_new</span><span style="color: #007700">(array(<br>    </span><span style="color: #DD0000">"private_key_bits" </span><span style="color: #007700">=&gt; </span><span style="color: #0000BB">2048</span><span style="color: #007700">,<br>    </span><span style="color: #DD0000">"private_key_type" </span><span style="color: #007700">=&gt; </span><span style="color: #0000BB">OPENSSL_KEYTYPE_RSA</span><span style="color: #007700">,<br>));<br></span><span style="color: #0000BB">$configargs </span><span style="color: #007700">= array(<br>    </span><span style="color: #DD0000">'digest_alg' </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">'sha512WithRSAEncryption'<br></span><span style="color: #007700">);<br></span><span style="color: #0000BB">$csr </span><span style="color: #007700">= </span><span style="color: #0000BB">openssl_csr_new</span><span style="color: #007700">(</span><span style="color: #0000BB">$subject</span><span style="color: #007700">, </span><span style="color: #0000BB">$privkey</span><span style="color: #007700">, </span><span style="color: #0000BB">$configargs</span><span style="color: #007700">);<br></span><span style="color: #0000BB">print_r</span><span style="color: #007700">(</span><span style="color: #0000BB">openssl_csr_get_subject</span><span style="color: #007700">(</span><span style="color: #0000BB">$csr</span><span style="color: #007700">));<br></span><span style="color: #0000BB">?&gt;</span></span></code></div>
    </div>

    <div class="example-contents"><p>Resultado del ejemplo anterior es similar a:</p></div>
    <div class="example-contents screen">
<div class="examplescode"><pre class="examplescode">Array
(
    [C] =&gt; CA
    [ST] =&gt; Alberta
    [L] =&gt; Calgary
    [O] =&gt; XYZ Widgets Inc
    [OU] =&gt; PHP Documentation Team
    [CN] =&gt; Wez Furlong
    [emailAddress] =&gt; wez@example.com
)</pre>
</div>
    </div>

   </div>
  
 </div>


 <div class="refsect1 seealso" id="refsect1-function.openssl-csr-get-subject-seealso">
  <h3 class="title">Ver también</h3>
  <p class="para">
   </p><ul class="simplelist">
    <li><span class="function"><a href="#function.openssl-csr-new" class="function" rel="rdfs-seeAlso">openssl_csr_new()</a> - Genera una CSR</span></li>
    <li><span class="function"><a href="#function.openssl-csr-get-public-key" class="function" rel="rdfs-seeAlso">openssl_csr_get_public_key()</a> - Devuelve la clave pública de un CSR</span></li>
    <li><span class="function"><a href="#function.openssl-x509-parse" class="function" rel="rdfs-seeAlso">openssl_x509_parse()</a> - Analiza un certificado X509</span></li>
   </ul>
  
 </div>


</div>
<hr>








<div id="function.openssl-csr-new" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">openssl_csr_new</h1>
  <p class="verinfo">(PHP 4 &gt;= 4.2.0, PHP 5, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">openssl_csr_new</span> — <span class="dc-title">Genera una <abbr title="Certificate Signing Request">CSR</abbr></span></p>

 </div>

 <div class="refsect1 description" id="refsect1-function.openssl-csr-new-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>openssl_csr_new</strong></span>(<br>    <span class="methodparam"><span class="type"><a href="#language.types.array" class="type array">array</a></span> <code class="parameter">$distinguished_names</code></span>,<br>    <span class="methodparam"><span class="attribute"><a href="class.sensitiveparameter.html">#[\SensitiveParameter]</a> </span><span class="type"><span class="type"><a href="#language.types.null" class="type null">?</a></span><span class="type"><a href="#class.opensslasymmetrickey" class="type OpenSSLAsymmetricKey">OpenSSLAsymmetricKey</a></span></span> <code class="parameter reference">&amp;$private_key</code></span>,<br>    <span class="methodparam"><span class="type"><span class="type"><a href="#language.types.null" class="type null">?</a></span><span class="type"><a href="#language.types.array" class="type array">array</a></span></span> <code class="parameter">$options</code><span class="initializer"> = <strong><code><a href="#constant.null">null</a></code></strong></span></span>,<br>    <span class="methodparam"><span class="type"><span class="type"><a href="#language.types.null" class="type null">?</a></span><span class="type"><a href="#language.types.array" class="type array">array</a></span></span> <code class="parameter">$extra_attributes</code><span class="initializer"> = <strong><code><a href="#constant.null">null</a></code></strong></span></span><br>): <span class="type"><span class="type"><a href="#class.opensslcertificatesigningrequest" class="type OpenSSLCertificateSigningRequest">OpenSSLCertificateSigningRequest</a></span>|<span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></span></div>

  <p class="para rdfs-comment">
   <span class="function"><strong>openssl_csr_new()</strong></span> genera una nueva <abbr title="Certificate Signing Request">CSR</abbr>
   (requisición de firma de certificado), basada en la información proporcionada por <code class="parameter">distinguished_names</code>.
  </p>
  <blockquote class="note"><p><strong class="note">Nota</strong>: 
<span class="simpara">
    Debe existir un archivo <var class="filename">openssl.cnf</var> válido e
    instalado para que esta función opere correctamente.
    Ver las notas encontradas en la <a href="#openssl.installation" class="link">sección
    concerniente a la instalación</a> para más información.
</span>
</p></blockquote>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.openssl-csr-new-parameters">
  <h3 class="title">Parámetros</h3>
  <p class="para">
   </p><dl>
    
     <dt><code class="parameter">distinguished_names</code></dt>
     <dd>
      <p class="para">
       El nombre distintivo (Distinguished Name) o los campos del sujeto a incluir
       en el certificado. El <code class="parameter">distinguished_names</code> es
       un array asociativo cuyas claves representan los nombres de atributos
       de los Distinguished Names, y los valores pueden ser cadenas
       (para un valor único) o arrays (si se deben definir varios valores).
      </p>
     </dd>
    
    
     <dt><code class="parameter">private_key</code></dt>
     <dd>
      <p class="para">
       <code class="parameter">private_key</code> debe ser una clave privada que haya sido
       generada por <span class="function"><a href="#function.openssl-pkey-new" class="function">openssl_pkey_new()</a></span> (u obtenida de otro modo
       mediante alguna de las funciones de la familia openssl_pkey), o la variable <strong><code><a href="#constant.null">null</a></code></strong>.
       Si su valor es una variable <strong><code><a href="#constant.null">null</a></code></strong>, se genera una nueva clave privada
       según las <code class="parameter">options</code> proporcionadas y se asigna a la variable
       suministrada. La parte pública correspondiente de la clave se utilizará
       para firmar la <abbr title="Certificate Signing Request">CSR</abbr>.
      </p>
     </dd>
    
    
     <dt><code class="parameter">options</code></dt>
     <dd>
      <p class="para">
       Por omisión, se utiliza el archivo <code class="literal">openssl.conf</code> del sistema
       para inicializar la requisición; puede especificarse una sección
       del archivo de configuración configurando la clave <code class="literal">config_section_section</code> en
       <code class="parameter">options</code>. También puede especificarse un archivo de
       configuración alternativo de OpenSSL configurando el valor de
       <code class="literal">config</code> con la ruta del archivo a utilizar.
       Si las claves siguientes están presentes en <code class="parameter">options</code>, se
       comportan como sus equivalentes en <code class="literal">openssl.conf</code>, según la
       lista siguiente.
       </p><table class="doctable table">
        <caption><strong>Sobrescribir configuración</strong></caption>
        
         <thead>
          <tr>
           <th><code class="parameter">options</code></th>
           <th>tipo</th>
           <th>Equivalente de <code class="literal">openssl.conf</code></th>
           <th>descripción</th>
          </tr>

         </thead>

         <tbody class="tbody">
          <tr>
           <td>digest_alg</td>
           <td><span class="type"><a href="#language.types.string" class="type string">string</a></span></td>
           <td>default_md</td>
           <td>Método de digest o firma de hash, generalmente uno de <span class="function"><a href="#function.openssl-get-md-methods" class="function">openssl_get_md_methods()</a></span></td>
          </tr>

          <tr>
           <td>x509_extensions</td>
           <td><span class="type"><a href="#language.types.string" class="type string">string</a></span></td>
           <td>x509_extensions</td>
           <td>Selecciona qué extensión utilizar al crear un certificado x509</td>
          </tr>

          <tr>
           <td>req_extensions</td>
           <td><span class="type"><a href="#language.types.string" class="type string">string</a></span></td>
           <td>req_extensions</td>
           <td>Selecciona qué extensión utilizar al crear una <abbr title="Certificate Signing Request">CSR</abbr></td>
          </tr>

          <tr>
           <td>private_key_bits</td>
           <td><span class="type"><a href="#language.types.integer" class="type int">int</a></span></td>
           <td>default_bits</td>
           <td>Especifica la longitud en bits de la clave privada</td>
          </tr>

          <tr>
           <td>private_key_type</td>
           <td><span class="type"><a href="#language.types.integer" class="type int">int</a></span></td>
           <td>none</td>
           <td>Especifica el tipo de clave privada a crear. Puede ser uno
            de <strong><code><a href="#constant.openssl-keytype-dsa">OPENSSL_KEYTYPE_DSA</a></code></strong>,
            <strong><code><a href="#constant.openssl-keytype-dh">OPENSSL_KEYTYPE_DH</a></code></strong>,
            <strong><code><a href="#constant.openssl-keytype-rsa">OPENSSL_KEYTYPE_RSA</a></code></strong> o
            <strong><code><a href="#constant.openssl-keytype-ec">OPENSSL_KEYTYPE_EC</a></code></strong>.
            El valor por omisión es <strong><code><a href="#constant.openssl-keytype-rsa">OPENSSL_KEYTYPE_RSA</a></code></strong>.
           </td>
          </tr>

          <tr>
           <td>encrypt_key</td>
           <td><span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></td>
           <td>encrypt_key</td>
           <td>¿Debe estar cifrada la clave (con contraseña) exportada?</td>
          </tr>

          <tr>
           <td>encrypt_key_cipher</td>
           <td><span class="type"><a href="#language.types.integer" class="type int">int</a></span></td>
           <td>none</td>
           <td>
            Una de las <a href="#openssl.ciphers" class="link">constantes cipher</a>.
           </td>
          </tr>

          <tr>
           <td>curve_name</td>
           <td><span class="type"><a href="#language.types.string" class="type string">string</a></span></td>
           <td>none</td>
           <td>
            Uno de <span class="function"><a href="#function.openssl-get-curve-names" class="function">openssl_get_curve_names()</a></span>.
           </td>
          </tr>

          <tr>
           <td>config</td>
           <td><span class="type"><a href="#language.types.string" class="type string">string</a></span></td>
           <td>N/A</td>
           <td>
            Ruta hacia su archivo openssl.conf alternativo.
           </td>
          </tr>

         </tbody>
        
       </table>

      
     </dd>
    
    
     <dt><code class="parameter">extra_attributes</code></dt>
     <dd>
      <p class="para">
       <code class="parameter">extra_attributes</code> se utiliza para especificar
       atributos adicionales para la <abbr title="Certificate Signing Request">CSR</abbr>. Se trata de un array asociativo
       cuyas claves se convierten en OID y se aplican como atributos
       de <abbr title="Certificate Signing Request">CSR</abbr>.
      </p>
     </dd>
    
   </dl>
  
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.openssl-csr-new-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Devuelve la <abbr title="Certificate Signing Request">CSR</abbr> en caso de éxito, <strong><code><a href="#constant.true">true</a></code></strong> si
   la creación de la <abbr title="Certificate Signing Request">CSR</abbr> tiene éxito pero falla la firma o <strong><code><a href="#constant.false">false</a></code></strong> si ocurre un error.
  </p>
 </div>


 <div class="refsect1 changelog" id="refsect1-function.openssl-csr-new-changelog">
  <h3 class="title">Historial de cambios</h3>
  <table class="doctable informaltable">
   
    <thead>
     <tr>
      <th>Versión</th>
      <th>Descripción</th>
     </tr>

    </thead>

    <tbody class="tbody">
     <tr>
      <td>8.4.0</td>
      <td>
       El array asociativo <code class="parameter">distinguished_names</code> ahora
       admite arrays como valores, permitiendo especificar varios
       valores para un mismo atributo.
      </td>
     </tr>

     <tr>
      <td>8.4.0</td>
      <td>
       El parámetro <code class="parameter">extra_attributes</code> ahora define
       correctamente los atributos del CSR, en lugar de modificar el nombre distintivo
       del sujeto como hacía anteriormente de forma incorrecta.
      </td>
     </tr>

     <tr>
      <td>8.0.0</td>
      <td>
       <code class="parameter">csr</code> ahora acepta una instancia de
       <span class="classname"><a href="#class.opensslcertificatesigningrequest" class="classname">OpenSSLCertificateSigningRequest</a></span> ;
       anteriormente, se aceptaba un <span class="type"><a href="#language.types.resource" class="type resource">resource</a></span> de tipo <code class="literal">OpenSSL X.509 CSR</code>.
      </td>
     </tr>

     <tr>
      <td>8.0.0</td>
      <td>
       En caso de éxito, esta función ahora devuelve una instancia de
       <span class="classname"><a href="#class.opensslasymmetrickey" class="classname">OpenSSLAsymmetricKey</a></span> ; anteriormente se devolvía una
       <span class="type"><a href="#language.types.resource" class="type resource">resource</a></span> de tipo <code class="literal">OpenSSL key</code>.
      </td>
     </tr>

     <tr>
      <td>7.1.0</td>
      <td>
       <code class="parameter">options</code> ahora admite <code class="literal">curve_name</code>.
      </td>
     </tr>

    </tbody>
   
  </table>

 </div>


 <div class="refsect1 examples" id="refsect1-function.openssl-csr-new-examples">
  <h3 class="title">Ejemplos</h3>
  <p class="para">
   </p><div class="example" id="example-1025">
    <p><strong>Ejemplo #1 Creación de un certificado autosignado</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br></span><span style="color: #FF8000">// para certificados SSL de servidor, el commonName es el nombre de dominio a proteger<br>// para certificados de correo electrónico S/MIME el commonName es el propietario de la dirección de correo<br>// los campos de ubicación e identificación hacen referencia al propietario del dominio o al objeto del correo a proteger<br></span><span style="color: #0000BB">$dn </span><span style="color: #007700">= array(<br>    </span><span style="color: #DD0000">"countryName" </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">"GB"</span><span style="color: #007700">,<br>    </span><span style="color: #DD0000">"stateOrProvinceName" </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">"Somerset"</span><span style="color: #007700">,<br>    </span><span style="color: #DD0000">"localityName" </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">"Glastonbury"</span><span style="color: #007700">,<br>    </span><span style="color: #DD0000">"organizationName" </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">"The Brain Room Limited"</span><span style="color: #007700">,<br>    </span><span style="color: #DD0000">"organizationalUnitName" </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">"PHP Documentation Team"</span><span style="color: #007700">,<br>    </span><span style="color: #DD0000">"commonName" </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">"Wez Furlong"</span><span style="color: #007700">,<br>    </span><span style="color: #DD0000">"emailAddress" </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">"wez@example.com"<br></span><span style="color: #007700">);<br><br></span><span style="color: #FF8000">// Genera un nuevo par de claves privada (y pública)<br></span><span style="color: #0000BB">$privkey </span><span style="color: #007700">= </span><span style="color: #0000BB">openssl_pkey_new</span><span style="color: #007700">(array(<br>    </span><span style="color: #DD0000">"private_key_bits" </span><span style="color: #007700">=&gt; </span><span style="color: #0000BB">2048</span><span style="color: #007700">,<br>    </span><span style="color: #DD0000">"private_key_type" </span><span style="color: #007700">=&gt; </span><span style="color: #0000BB">OPENSSL_KEYTYPE_RSA</span><span style="color: #007700">,<br>));<br><br></span><span style="color: #FF8000">// Genera una requisición de firma de certificado<br></span><span style="color: #0000BB">$csr </span><span style="color: #007700">= </span><span style="color: #0000BB">openssl_csr_new</span><span style="color: #007700">(</span><span style="color: #0000BB">$dn</span><span style="color: #007700">, </span><span style="color: #0000BB">$privkey</span><span style="color: #007700">, array(</span><span style="color: #DD0000">'digest_alg' </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">'sha256'</span><span style="color: #007700">));<br><br></span><span style="color: #FF8000">// Genera un certificado autosignado, válido durante 365 días<br></span><span style="color: #0000BB">$x509 </span><span style="color: #007700">= </span><span style="color: #0000BB">openssl_csr_sign</span><span style="color: #007700">(</span><span style="color: #0000BB">$csr</span><span style="color: #007700">, </span><span style="color: #0000BB">null</span><span style="color: #007700">, </span><span style="color: #0000BB">$privkey</span><span style="color: #007700">, </span><span style="color: #0000BB">$days</span><span style="color: #007700">=</span><span style="color: #0000BB">365</span><span style="color: #007700">, array(</span><span style="color: #DD0000">'digest_alg' </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">'sha256'</span><span style="color: #007700">));<br><br></span><span style="color: #FF8000">// Guarde su clave privada, CSR y certificado autosignado para uso posterior<br></span><span style="color: #0000BB">openssl_csr_export</span><span style="color: #007700">(</span><span style="color: #0000BB">$csr</span><span style="color: #007700">, </span><span style="color: #0000BB">$csrout</span><span style="color: #007700">) and </span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$csrout</span><span style="color: #007700">);<br></span><span style="color: #0000BB">openssl_x509_export</span><span style="color: #007700">(</span><span style="color: #0000BB">$x509</span><span style="color: #007700">, </span><span style="color: #0000BB">$certout</span><span style="color: #007700">) and </span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$certout</span><span style="color: #007700">);<br></span><span style="color: #0000BB">openssl_pkey_export</span><span style="color: #007700">(</span><span style="color: #0000BB">$privkey</span><span style="color: #007700">, </span><span style="color: #0000BB">$pkeyout</span><span style="color: #007700">, </span><span style="color: #DD0000">"mypassword"</span><span style="color: #007700">) and </span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$pkeyout</span><span style="color: #007700">);<br><br></span><span style="color: #FF8000">// Muestra los errores que han ocurrido<br></span><span style="color: #007700">while ((</span><span style="color: #0000BB">$e </span><span style="color: #007700">= </span><span style="color: #0000BB">openssl_error_string</span><span style="color: #007700">()) !== </span><span style="color: #0000BB">false</span><span style="color: #007700">) {<br>    echo </span><span style="color: #0000BB">$e </span><span style="color: #007700">. </span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br>}<br></span><span style="color: #0000BB">?&gt;</span></span></code></div>
    </div>

   </div>

   <div class="example" id="example-1026">
    <p><strong>Ejemplo #2 Crear un certificado ECC autosignado (a partir de PHP 7.1.0)</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br>$subject </span><span style="color: #007700">= array(<br>    </span><span style="color: #DD0000">"commonName" </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">"docs.php.net"</span><span style="color: #007700">,<br>);<br><br></span><span style="color: #FF8000">// Genera un nuevo par de claves privada (y pública)<br></span><span style="color: #0000BB">$private_key </span><span style="color: #007700">= </span><span style="color: #0000BB">openssl_pkey_new</span><span style="color: #007700">(array(<br>    </span><span style="color: #DD0000">"private_key_type" </span><span style="color: #007700">=&gt; </span><span style="color: #0000BB">OPENSSL_KEYTYPE_EC</span><span style="color: #007700">,<br>    </span><span style="color: #DD0000">"curve_name" </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">'prime256v1'</span><span style="color: #007700">,<br>));<br><br></span><span style="color: #FF8000">// Genera una requisición de firma de certificado<br></span><span style="color: #0000BB">$csr </span><span style="color: #007700">= </span><span style="color: #0000BB">openssl_csr_new</span><span style="color: #007700">(</span><span style="color: #0000BB">$subject</span><span style="color: #007700">, </span><span style="color: #0000BB">$private_key</span><span style="color: #007700">, array(</span><span style="color: #DD0000">'digest_alg' </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">'sha384'</span><span style="color: #007700">));<br><br></span><span style="color: #FF8000">// Genera un certificado EC autosignado<br></span><span style="color: #0000BB">$x509 </span><span style="color: #007700">= </span><span style="color: #0000BB">openssl_csr_sign</span><span style="color: #007700">(</span><span style="color: #0000BB">$csr</span><span style="color: #007700">, </span><span style="color: #0000BB">null</span><span style="color: #007700">, </span><span style="color: #0000BB">$private_key</span><span style="color: #007700">, </span><span style="color: #0000BB">$days</span><span style="color: #007700">=</span><span style="color: #0000BB">365</span><span style="color: #007700">, array(</span><span style="color: #DD0000">'digest_alg' </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">'sha384'</span><span style="color: #007700">));<br></span><span style="color: #0000BB">openssl_x509_export_to_file</span><span style="color: #007700">(</span><span style="color: #0000BB">$x509</span><span style="color: #007700">, </span><span style="color: #DD0000">'ecc-cert.pem'</span><span style="color: #007700">);<br></span><span style="color: #0000BB">openssl_pkey_export_to_file</span><span style="color: #007700">(</span><span style="color: #0000BB">$private_key</span><span style="color: #007700">, </span><span style="color: #DD0000">'ecc-private.key'</span><span style="color: #007700">);<br></span><span style="color: #0000BB">?&gt;</span></span></code></div>
    </div>

   </div>

  
 </div>


 <div class="refsect1 seealso" id="refsect1-function.openssl-csr-new-seealso">
  <h3 class="title">Ver también</h3>
  <p class="para">
   </p><ul class="simplelist">
    <li><span class="function"><a href="#function.openssl-csr-sign" class="function" rel="rdfs-seeAlso">openssl_csr_sign()</a> - Firma un CSR con otro certificado (o consigo mismo) y genera un certificado</span></li>
   </ul>
  
 </div>


</div>
<hr>







<div id="function.openssl-csr-sign" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">openssl_csr_sign</h1>
  <p class="verinfo">(PHP 4 &gt;= 4.2.0, PHP 5, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">openssl_csr_sign</span> — <span class="dc-title">Firma un <abbr title="Certificate Signing Request">CSR</abbr> con otro certificado (o consigo mismo) y genera un certificado</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-function.openssl-csr-sign-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>openssl_csr_sign</strong></span>(<br>    <span class="methodparam"><span class="type"><span class="type"><a href="#class.opensslcertificatesigningrequest" class="type OpenSSLCertificateSigningRequest">OpenSSLCertificateSigningRequest</a></span>|<span class="type"><a href="#language.types.string" class="type string">string</a></span></span> <code class="parameter">$csr</code></span>,<br>    <span class="methodparam"><span class="type"><span class="type"><a href="#class.opensslcertificate" class="type OpenSSLCertificate">OpenSSLCertificate</a></span>|<span class="type"><a href="#language.types.string" class="type string">string</a></span>|<span class="type"><a href="#language.types.null" class="type null">null</a></span></span> <code class="parameter">$ca_certificate</code></span>,<br>    <span class="methodparam"><span class="attribute"><a href="class.sensitiveparameter.html">#[\SensitiveParameter]</a> </span><span class="type"><span class="type"><a href="#class.opensslasymmetrickey" class="type OpenSSLAsymmetricKey">OpenSSLAsymmetricKey</a></span>|<span class="type"><a href="#class.opensslcertificate" class="type OpenSSLCertificate">OpenSSLCertificate</a></span>|<span class="type"><a href="#language.types.array" class="type array">array</a></span>|<span class="type"><a href="#language.types.string" class="type string">string</a></span></span> <code class="parameter">$private_key</code></span>,<br>    <span class="methodparam"><span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$days</code></span>,<br>    <span class="methodparam"><span class="type"><span class="type"><a href="#language.types.null" class="type null">?</a></span><span class="type"><a href="#language.types.array" class="type array">array</a></span></span> <code class="parameter">$options</code><span class="initializer"> = <strong><code><a href="#constant.null">null</a></code></strong></span></span>,<br>    <span class="methodparam"><span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$serial</code><span class="initializer"> = 0</span></span>,<br>    <span class="methodparam"><span class="type"><span class="type"><a href="#language.types.null" class="type null">?</a></span><span class="type"><a href="#language.types.string" class="type string">string</a></span></span> <code class="parameter">$serial_hex</code><span class="initializer"> = <strong><code><a href="#constant.null">null</a></code></strong></span></span><br>): <span class="type"><span class="type"><a href="#class.opensslcertificate" class="type OpenSSLCertificate">OpenSSLCertificate</a></span>|<span class="type"><a href="#language.types.singleton" class="type false">false</a></span></span></div>

  <p class="para rdfs-comment">
   <span class="function"><strong>openssl_csr_sign()</strong></span> genera un certificado x509 desde el <abbr title="Certificate Signing Request">CSR</abbr> proporcionado.
  </p>
  <blockquote class="note"><p><strong class="note">Nota</strong>: 
<span class="simpara">
    Debe existir un archivo <var class="filename">openssl.cnf</var> válido e
    instalado para que esta función opere correctamente.
    Ver las notas encontradas en la <a href="#openssl.installation" class="link">sección
    concerniente a la instalación</a> para más información.
</span>
</p></blockquote>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.openssl-csr-sign-parameters">
  <h3 class="title">Parámetros</h3>
  <p class="para">
   </p><dl>
    
     <dt><code class="parameter">csr</code></dt>
     <dd>
      <p class="para">
       Un <abbr title="Certificate Signing Request">CSR</abbr> generado previamente por <span class="function"><a href="#function.openssl-csr-new" class="function">openssl_csr_new()</a></span>.
       Sin embargo, esto también puede ser la ruta hacia un <abbr title="Certificate Signing Request">CSR</abbr> codificado en formato <abbr title="Privacy-Enhanced Mail">PEM</abbr> si se especifica con
       <var class="filename">file://path/to/csr</var> o una cadena exportada generada por
       <span class="function"><a href="#function.openssl-csr-export" class="function">openssl_csr_export()</a></span>.
      </p>
     </dd>
    
    
     <dt><code class="parameter">ca_certificate</code></dt>
     <dd>
      <p class="para">
       El certificado generado será firmado por el certificado <code class="parameter">ca_certificate</code>.
       Si <code class="parameter">ca_certificate</code> es <strong><code><a href="#constant.null">null</a></code></strong>, el certificado generado será autosignado.
      </p>
     </dd>
    
    
     <dt><code class="parameter">private_key</code></dt>
     <dd>
      <p class="para">
       <code class="parameter">private_key</code> es la clave privada que corresponde al certificado
       <code class="parameter">ca_certificate</code>.
      </p>
     </dd>
    
    
     <dt><code class="parameter">days</code></dt>
     <dd>
      <p class="para">
       <code class="parameter">days</code> especifica la duración para la cual el certificado
       es válido, en número de días.
      </p>
     </dd>
    
    
     <dt><code class="parameter">options</code></dt>
     <dd>
      <p class="para">
       Se pueden ajustar las opciones de firma <abbr title="Certificate Signing Request">CSR</abbr> con <code class="parameter">options</code>.
       Consulte la función <span class="function"><a href="#function.openssl-csr-new" class="function">openssl_csr_new()</a></span> para obtener más información sobre
       <code class="parameter">options</code>.
      </p>
     </dd>
    
    
     <dt><code class="parameter">serial</code></dt>
     <dd>
      <p class="para">
       Un número de serie opcional para el certificado emitido. Si no se especifica,
       tendrá un valor de 0.
      </p>
     </dd>
    
    
     <dt><code class="parameter">serial_hex</code></dt>
     <dd>
      <p class="para">
       Una cadena hexadecimal opcional que representa el número de serie del
       certificado emitido. Si se define, tiene prioridad sobre el valor
       del parámetro <code class="parameter">serial</code>. Si no se especifica
       o se define como <strong><code><a href="#constant.null">null</a></code></strong>, se utiliza el valor del parámetro
       <code class="parameter">serial</code> en su lugar.
      </p>
     </dd>
    
   </dl>
  
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.openssl-csr-sign-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Devuelve una instancia de <span class="classname"><a href="#class.opensslcertificate" class="classname">OpenSSLCertificate</a></span> en caso de éxito, <strong><code><a href="#constant.false">false</a></code></strong> en caso contrario.
  </p>
 </div>


 <div class="refsect1 changelog" id="refsect1-function.openssl-csr-sign-changelog">
  <h3 class="title">Historial de cambios</h3>
  <table class="doctable informaltable">
   
    <thead>
     <tr>
      <th>Versión</th>
      <th>Descripción</th>
     </tr>

    </thead>

    <tbody class="tbody">
     <tr>
      <td>8.4.0</td>
      <td>
       Se ha añadido el parámetro <code class="parameter">serial_hex</code>.
      </td>
     </tr>

     <tr>
      <td>8.0.0</td>
      <td>
       En caso de éxito, esta función devuelve ahora una instancia de
       <span class="classname"><a href="#class.opensslcertificate" class="classname">OpenSSLCertificate</a></span> ; anteriormente se devolvía un
       <span class="type"><a href="#language.types.resource" class="type resource">resource</a></span> de tipo <code class="literal">OpenSSL X.509</code>.
      </td>
     </tr>

     <tr>
      <td>8.0.0</td>
      <td>
       <code class="parameter">csr</code> ahora acepta una instancia de
       <span class="classname"><a href="#class.opensslcertificatesigningrequest" class="classname">OpenSSLCertificateSigningRequest</a></span> ;
       anteriormente se aceptaba un <span class="type"><a href="#language.types.resource" class="type resource">resource</a></span> de tipo <code class="literal">OpenSSL X.509 CSR</code>.
      </td>
     </tr>

     <tr>
      <td>8.0.0</td>
      <td>
       <code class="parameter">ca_certificate</code> ahora acepta una instancia de
       <span class="classname"><a href="#class.opensslcertificate" class="classname">OpenSSLCertificate</a></span> ;
       anteriormente se aceptaba un <span class="type"><a href="#language.types.resource" class="type resource">resource</a></span> de tipo <code class="literal">OpenSSL X.509</code>.
      </td>
     </tr>

     <tr>
      <td>8.0.0</td>
      <td>
       <code class="parameter">ca_certificate</code> ahora acepta una instancia de
       <span class="classname"><a href="#class.opensslasymmetrickey" class="classname">OpenSSLAsymmetricKey</a></span> o <span class="classname"><a href="#class.opensslcertificate" class="classname">OpenSSLCertificate</a></span> ;
       anteriormente se aceptaba un <span class="type"><a href="#language.types.resource" class="type resource">resource</a></span> de tipo <code class="literal">OpenSSL key</code> o
       <code class="literal">OpenSSL X.509</code>.
      </td>
     </tr>

    </tbody>
   
  </table>

 </div>

 <div class="refsect1 examples" id="refsect1-function.openssl-csr-sign-examples">
  <h3 class="title">Ejemplos</h3>
  <p class="para">
   </p><div class="example" id="example-1027">
    <p><strong>Ejemplo #1 Ejemplo con <span class="function"><strong>openssl_csr_sign()</strong></span> - firmar una
     <abbr title="Certificate Signing Request">CSR</abbr> (cómo ser su propia Autoridad de Certificación)</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br></span><span style="color: #FF8000">// Supongamos que este script está configurado para recibir CSR que han<br>// sido pegados en un campo textarea desde otra página<br></span><span style="color: #0000BB">$csrdata </span><span style="color: #007700">= </span><span style="color: #0000BB">$_POST</span><span style="color: #007700">[</span><span style="color: #DD0000">"CSR"</span><span style="color: #007700">];<br><br></span><span style="color: #FF8000">// Vamos a firmar la solicitud con nuestro propio certificado, como<br>// "autoridad de certificación". Puede utilizarse cualquier certificado para firmar otro,<br>// pero el proceso es inútil a menos que el certificado de firma tenga la confianza de los usuarios<br>// que utilizarán el nuevo certificado firmado.<br><br>// Necesitamos nuestro certificado y la clave privada<br></span><span style="color: #0000BB">$cacert </span><span style="color: #007700">= </span><span style="color: #DD0000">"file://path/to/ca.crt"</span><span style="color: #007700">;<br></span><span style="color: #0000BB">$privkey </span><span style="color: #007700">= array(</span><span style="color: #DD0000">"file://path/to/ca.key"</span><span style="color: #007700">, </span><span style="color: #DD0000">"la_clave_secreta_de_su_certificado"</span><span style="color: #007700">);<br><br></span><span style="color: #0000BB">$usercert </span><span style="color: #007700">= </span><span style="color: #0000BB">openssl_csr_sign</span><span style="color: #007700">(</span><span style="color: #0000BB">$csrdata</span><span style="color: #007700">, </span><span style="color: #0000BB">$cacert</span><span style="color: #007700">, </span><span style="color: #0000BB">$privkey</span><span style="color: #007700">, </span><span style="color: #0000BB">365</span><span style="color: #007700">, array(</span><span style="color: #DD0000">'digest_alg'</span><span style="color: #007700">=&gt;</span><span style="color: #DD0000">'sha256'</span><span style="color: #007700">) );<br><br></span><span style="color: #FF8000">// Mostramos ahora el certificado generado, de forma que el usuario<br>// pueda copiarlo/pegarlo en su configuración local (como un<br>// archivo que contiene los certificados de su servidor SSL)<br></span><span style="color: #0000BB">openssl_x509_export</span><span style="color: #007700">(</span><span style="color: #0000BB">$usercert</span><span style="color: #007700">, </span><span style="color: #0000BB">$certout</span><span style="color: #007700">);<br>echo </span><span style="color: #0000BB">$certout</span><span style="color: #007700">;<br><br></span><span style="color: #FF8000">// Muestra todos los errores ocurridos<br></span><span style="color: #007700">while ((</span><span style="color: #0000BB">$e </span><span style="color: #007700">= </span><span style="color: #0000BB">openssl_error_string</span><span style="color: #007700">()) !== </span><span style="color: #0000BB">false</span><span style="color: #007700">) {<br>    echo </span><span style="color: #0000BB">$e </span><span style="color: #007700">. </span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br>}<br></span><span style="color: #0000BB">?&gt;</span></span></code></div>
    </div>

   </div>
  
 </div>


</div>
<hr>






<div id="function.openssl-decrypt" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">openssl_decrypt</h1>
  <p class="verinfo">(PHP 5 &gt;= 5.3.0, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">openssl_decrypt</span> — <span class="dc-title">Descifrar los datos</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-function.openssl-decrypt-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>openssl_decrypt</strong></span>(<br>    <span class="methodparam"><span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$data</code></span>,<br>    <span class="methodparam"><span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$cipher_algo</code></span>,<br>    <span class="methodparam"><span class="attribute"><a href="class.sensitiveparameter.html">#[\SensitiveParameter]</a> </span><span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$passphrase</code></span>,<br>    <span class="methodparam"><span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$options</code><span class="initializer"> = 0</span></span>,<br>    <span class="methodparam"><span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$iv</code><span class="initializer"> = ""</span></span>,<br>    <span class="methodparam"><span class="type"><span class="type"><a href="#language.types.null" class="type null">?</a></span><span class="type"><a href="#language.types.string" class="type string">string</a></span></span> <code class="parameter">$tag</code><span class="initializer"> = <strong><code><a href="#constant.null">null</a></code></strong></span></span>,<br>    <span class="methodparam"><span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$aad</code><span class="initializer"> = ""</span></span><br>): <span class="type"><span class="type"><a href="#language.types.string" class="type string">string</a></span>|<span class="type"><a href="#language.types.singleton" class="type false">false</a></span></span></div>

  <p class="para rdfs-comment">
   Toma una cadena sin tratar o codificada en base64 y la descifra utilizando
   el método y la frase de contraseña proporcionados.
  </p>

 </div>


 <div class="refsect1 parameters" id="refsect1-function.openssl-decrypt-parameters">
  <h3 class="title">Parámetros</h3>
  <p class="para">
   </p><dl>
    
     <dt><code class="parameter">data</code></dt>
     <dd>
      <p class="para">
       El mensaje cifrado a descifrar.
      </p>
     </dd>
    
    
     <dt><code class="parameter">cipher_algo</code></dt>
     <dd>
      <p class="para">
       El algoritmo de cifrado. Para obtener la lista de algoritmos de cifrado
       disponibles, utilizar <span class="function"><a href="#function.openssl-get-cipher-methods" class="function">openssl_get_cipher_methods()</a></span>.
      </p>
     </dd>
    
    
     <dt><code class="parameter">passphrase</code></dt>
     <dd>
      <p class="para">
       La frase de contraseña. Si la frase de contraseña es más corta de lo esperado, se completa silenciosamente
       con caracteres <code class="literal">NUL</code>; si la frase de contraseña es más larga de lo esperado,
       se trunca silenciosamente.
      </p>
      <div class="caution"><strong class="caution">Precaución</strong>
       <p class="simpara">
        No se utiliza ninguna función de derivación de clave para el parámetro <code class="parameter">passphrase</code>
        como su nombre podría sugerir. La única operación utilizada es el relleno con caracteres
        <code class="literal">NUL</code> o la truncación si la longitud es diferente de la esperada.
       </p>
      </div>
     </dd>
   
   
    <dt><code class="parameter">options</code></dt>
      <dd>
       <p class="para">
        El parámetro <code class="parameter">options</code> puede
        tomar como valor
        <strong><code><a href="#constant.openssl-raw-data">OPENSSL_RAW_DATA</a></code></strong> o
        <strong><code><a href="#constant.openssl-zero-padding">OPENSSL_ZERO_PADDING</a></code></strong>
        o <strong><code><a href="#constant.openssl-dont-zero-pad-key">OPENSSL_DONT_ZERO_PAD_KEY</a></code></strong>.
       </p>
      </dd>
    
    
     <dt><code class="parameter">iv</code></dt>
     <dd>
      <p class="para">
       Un vector de inicialización no-<strong><code><a href="#constant.null">null</a></code></strong>. Si el VI es más corto de lo esperado, se completa con
       caracteres <code class="literal">NUL</code> y se emite un aviso; si la frase de contraseña es más larga
       de lo esperado, se trunca y se emite un aviso.
      </p>
     </dd>
    
    
     <dt><code class="parameter">tag</code></dt>
     <dd>
      <p class="para">
       La etiqueta de autenticación en modo de cifrado AEAD. Si es incorrecta, la autenticación falla y la función devuelve <strong><code><a href="#constant.false">false</a></code></strong>.
      </p>
      <div class="caution"><strong class="caution">Precaución</strong>
       <p class="simpara">
        La longitud de <code class="parameter">tag</code> no es verificada por la función.
        Es responsabilidad del llamador asegurarse de que la longitud del
        tag coincida con la longitud del tag recibido cuando
        <span class="function"><a href="#function.openssl-encrypt" class="function">openssl_encrypt()</a></span> fue llamada. De lo contrario, el
        descifrado puede tener éxito si el inicio del tag proporcionado coincide con el inicio
        del verdadero tag.
       </p>
      </div>
     </dd>
    
    
     <dt><code class="parameter">aad</code></dt>
     <dd>
      <p class="para">
       Datos adicionales autenticados.
      </p>
     </dd>
    
  </dl>
 
</div>


 <div class="refsect1 returnvalues" id="refsect1-function.openssl-decrypt-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   La cadena descifrada en caso de éxito  o <strong><code><a href="#constant.false">false</a></code></strong> si ocurre un error.
  </p>
 </div>


 <div class="refsect1 errors" id="refsect1-function.openssl-decrypt-errors">
  <h3 class="title">Errores/Excepciones</h3>
  <p class="para">
   Emite un error de nivel <strong><code><a href="#constant.e-warning">E_WARNING</a></code></strong> si se pasa un algoritmo
   de cifrado desconocido a través de <code class="parameter">cipher_algo</code>.
  </p>
  <p class="para">
   Emite un error de nivel <strong><code><a href="#constant.e-warning">E_WARNING</a></code></strong> si se pasa un valor
   vacío como parámetro <code class="parameter">iv</code>.
  </p>
 </div>


 <div class="refsect1 changelog" id="refsect1-function.openssl-decrypt-changelog">
  <h3 class="title">Historial de cambios</h3>
  <table class="doctable informaltable">
   
    <thead>
     <tr>
      <th>Versión</th>
      <th>Descripción</th>
     </tr>

    </thead>

    <tbody class="tbody">
     <tr>
      <td>8.1.0</td>
      <td><code class="parameter">tag</code> ahora es nullable.</td>
     </tr>

     <tr>
      <td>7.1.0</td>
      <td>Se añadieron los parámetros <code class="parameter">tag</code> y <code class="parameter">aad</code>.</td>
     </tr>

    </tbody>
   
  </table>

 </div>


 <div class="refsect1 seealso" id="refsect1-function.openssl-decrypt-seealso">
  <h3 class="title">Ver también</h3>
  <p class="para">
   </p><ul class="simplelist">
    <li><span class="function"><a href="#function.openssl-encrypt" class="function" rel="rdfs-seeAlso">openssl_encrypt()</a> - Cifra los datos</span></li>
   </ul>
  
 </div>


</div>
<hr>







<div id="function.openssl-dh-compute-key" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">openssl_dh_compute_key</h1>
  <p class="verinfo">(PHP 5 &gt;= 5.3.0, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">openssl_dh_compute_key</span> — <span class="dc-title">Calcula un secreto compartido para un valor público de la clave DH pública remota y la clave DH local</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-function.openssl-dh-compute-key-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>openssl_dh_compute_key</strong></span>(<span class="methodparam"><span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$public_key</code></span>, <span class="methodparam"><span class="attribute"><a href="class.sensitiveparameter.html">#[\SensitiveParameter]</a> </span><span class="type"><a href="#class.opensslasymmetrickey" class="type OpenSSLAsymmetricKey">OpenSSLAsymmetricKey</a></span> <code class="parameter">$private_key</code></span>): <span class="type"><span class="type"><a href="#language.types.string" class="type string">string</a></span>|<span class="type"><a href="#language.types.singleton" class="type false">false</a></span></span></div>

  <p class="para rdfs-comment">
   El secreto compartido devuelto por <span class="function"><strong>openssl_dh_compute_key()</strong></span> se
   utiliza a menudo como una clave de cifrado para comunicarse de forma secreta con
   una parte remota. Esto es conocido como el intercambio de claves Diffie-Hellman.
  </p>
  <div class="caution"><strong class="caution">Precaución</strong>
   <p class="para">
    Es importante utilizar los mismos parámetros DH para los pares de claves locales y remotas; de lo contrario, el
    secreto generado entre las dos partes no coincidirá.
   </p>
  </div>
  <blockquote class="note"><p><strong class="note">Nota</strong>: 
   <span class="simpara">
    ECDH solo es compatible a partir de PHP 8.1.0 <em>y</em> OpenSSL 3.0.0.
   </span>
  </p></blockquote>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.openssl-dh-compute-key-parameters">
  <h3 class="title">Parámetros</h3>
  <p class="para">
   </p><dl>
    
     <dt><code class="parameter">public_key</code></dt>
     <dd>
      <p class="para">
       Clave DH pública de la parte remota.
      </p>
     </dd>
    
    
     <dt><code class="parameter">private_key</code></dt>
     <dd>
      <p class="para">
       Una clave DH privada local, correspondiente a la clave pública a compartir con la parte remota.
      </p>
     </dd>
    
   </dl>
  
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.openssl-dh-compute-key-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Devuelve el secreto compartido en caso de éxito o <strong><code><a href="#constant.false">false</a></code></strong> si ocurre un error.
  </p>
 </div>


 <div class="refsect1 changelog" id="refsect1-function.openssl-dh-compute-key-changelog">
  <h3 class="title">Historial de cambios</h3>
  <table class="doctable informaltable">
   
    <thead>
     <tr>
      <th>Versión</th>
      <th>Descripción</th>
     </tr>

    </thead>

    <tbody class="tbody">
     <tr>
      <td>8.0.0</td>
      <td>
       <code class="parameter">private_key</code> ahora acepta una instancia de
       <span class="classname"><a href="#class.opensslasymmetrickey" class="classname">OpenSSLAsymmetricKey</a></span> ;
       anteriormente, se aceptaba un <span class="type"><a href="#language.types.resource" class="type resource">resource</a></span> de tipo <code class="literal">OpenSSL key</code>.
      </td>
     </tr>

    </tbody>
   
  </table>

 </div>


  <div class="refsect1 examples" id="refsect1-function.openssl-dh-compute-key-examples">
  <h3 class="title">Ejemplos</h3>
  <p class="para">

   </p><div class="example" id="example-1028">
    <p><strong>Ejemplo #1 Calcular un secreto compartido</strong></p>
    <div class="example-contents"><p>
     Primero, se genera localmente un par de claves DH pública/privada y se solicita a la parte remota que haga lo mismo. Se debe utilizar
     la utilidad de línea de comandos <code class="literal">openssl</code>
    </p></div>
    <div class="example-contents">
<div class="shellcode"><pre class="shellcode"># generar un par de claves privada/pública
openssl dhparam -out dhparam.pem 2048
openssl genpkey -paramfile dhparam.pem -out privatekey.pem

# extraer solo la clave pública
openssl pkey -in privatekey.pem -pubout -out publickey.pem</pre>
</div>
    </div>

    <div class="example-contents"><p>
     Ahora, envíe su clave pública a la parte remota. Utilice el comando <code class="literal">openssl pkey</code> para mostrar la clave pública que le
     será enviada por la parte remota.
    </p></div>
    <div class="example-contents">
<div class="shellcode"><pre class="shellcode">openssl pkey -pubin -in remotepublickey.pem -text -noout</pre>
</div>
    </div>

    <div class="example-contents"><p>Resultado del ejemplo anterior es similar a:</p></div>
    <div class="example-contents screen">
<div class="examplescode"><pre class="examplescode">PKCS#3 DH Public-Key: (2048 bit)
    public-key:
        67:e5:e5:fa:e0:7b:0f:96:2c:dc:96:44:5f:50:02:
        9e:8d:c2:6c:04:68:b0:d1:1d:75:66:fc:63:f5:e3:
        42:30:b8:96:c1:45:cc:08:60:b4:21:3b:dd:ee:66:
        88:db:77:d9:1e:11:89:d4:5c:f2:7a:f2:f1:fe:1c:
        77:9d:6f:13:b8:b2:56:00:ef:cb:3b:60:79:74:02:
        98:f5:f9:8e:3e:b5:62:08:de:ca:8c:c3:40:4a:80:
        79:d5:43:06:17:a8:19:56:af:cc:95:5e:e2:32:2d:
        d2:14:7b:76:5a:9a:f1:3c:76:76:35:cc:7b:c1:a5:
        f4:39:e5:b6:ca:71:3f:7c:3f:97:e5:ab:86:c1:cd:
        0e:e6:ee:04:c9:e6:2d:80:7e:59:c0:49:eb:b6:64:
        4f:a8:f9:bb:a3:87:b3:3d:76:01:9e:2b:16:94:a4:
        37:30:fb:35:e2:63:be:23:90:b9:ef:3f:46:46:04:
        94:8f:60:79:7a:51:55:d6:1a:1d:f5:d9:7f:4a:3e:
        aa:ac:b0:d0:82:cc:c2:e0:94:e0:54:c1:17:83:0b:
        74:08:4d:5a:79:ae:ff:7f:1c:04:ab:23:39:4a:ae:
        87:83:55:43:ab:7a:7c:04:9d:20:80:bb:af:5f:16:
        a3:e3:20:b9:21:47:8c:f8:7f:a8:60:80:9e:61:77:
        36
 [...abbreviated...]</pre>
</div>
    </div>
    <div class="example-contents"><p>
     Utilizar esta clave pública como argumento para <span class="function"><strong>openssl_dh_compute_key()</strong></span>
     para calcular el secreto compartido.
    </p></div>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br>$remote_public_key </span><span style="color: #007700">= </span><span style="color: #DD0000">'67e5e5fae07b0f962cdc96445f50029e8dc26c0468b0d11d7566fc63f5e34230b896c145cc0860b4213bddee6688db77d91e1189d45cf27af2f1fe1c779d6f13b8b25600efcb3b6079740298f5f98e3eb56208deca8cc3404a8079d5430617a81956afcc955ee2322dd2147b765a9af13c767635cc7bc1a5f439e5b6ca713f7c3f97e5ab86c1cd0ee6ee04c9e62d807e59c049ebb6644fa8f9bba387b33d76019e2b1694a43730fb35e263be2390b9ef3f464604948f60797a5155d61a1df5d97f4a3eaaacb0d082ccc2e094e054c117830b74084d5a79aeff7f1c04ab23394aae87835543ab7a7c049d2080bbaf5f16a3e320b921478cf87fa860809e617736'</span><span style="color: #007700">;<br><br></span><span style="color: #0000BB">$local_priv_key </span><span style="color: #007700">= </span><span style="color: #0000BB">openssl_pkey_get_private</span><span style="color: #007700">(</span><span style="color: #DD0000">'file://privatekey.pem'</span><span style="color: #007700">);<br><br></span><span style="color: #0000BB">$shared_secret </span><span style="color: #007700">= </span><span style="color: #0000BB">openssl_dh_compute_key</span><span style="color: #007700">(</span><span style="color: #0000BB">hex2bin</span><span style="color: #007700">(</span><span style="color: #0000BB">$remote_public_key</span><span style="color: #007700">), </span><span style="color: #0000BB">$local_priv_key</span><span style="color: #007700">);<br>echo </span><span style="color: #0000BB">bin2hex</span><span style="color: #007700">(</span><span style="color: #0000BB">$shared_secret</span><span style="color: #007700">).</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br></span><span style="color: #0000BB">?&gt;</span></span></code></div>
     </div>

   </div>
  
  <p class="para">
   </p><div class="example" id="example-1029">
    <p><strong>Ejemplo #2 Generar un par de claves DH pública/privada en PHP</strong></p>
    <div class="example-contents"><p>Primero, generar el número primo DH</p></div>
    <div class="example-contents">
<div class="shellcode"><pre class="shellcode">openssl dhparam -out dhparam.pem 2048
openssl dh -in dhparam.pem -noout  -text</pre>
</div>
    </div>

    <div class="example-contents"><p>Resultado del ejemplo anterior es similar a:</p></div>
    <div class="example-contents screen">
<div class="examplescode"><pre class="examplescode">PKCS#3 DH Parameters: (2048 bit)
        prime:
            00:a3:25:1e:73:3f:44:b9:2b:ee:f4:9d:9f:37:6a:
            4b:fd:1d:bd:f4:af:da:c8:10:77:59:41:c6:5f:73:
            d2:88:29:39:cd:1c:5f:c3:9f:0f:22:d2:9c:20:c1:
            e4:c0:18:03:b8:b6:d8:da:ad:3b:39:a6:da:8e:fe:
            12:30:e9:03:5d:22:ba:ef:18:d2:7b:69:f9:5b:cb:
            78:c6:0c:8c:6b:f2:49:92:c2:49:e0:45:77:72:b3:
            55:36:30:f2:40:17:89:18:50:03:fa:2d:54:7a:7f:
            34:4c:73:32:b6:88:14:51:14:be:80:57:95:e6:a3:
            f6:51:ff:17:47:4f:15:d6:0e:6c:47:53:72:2c:2a:
            4c:21:cb:7d:f3:49:97:c9:47:5e:40:33:7b:99:52:
            7e:7a:f3:52:27:80:de:1b:26:6b:40:bb:14:11:0b:
            fb:e6:d8:2f:cf:a0:06:2f:96:b9:1c:0b:b4:cb:d3:
            a6:62:9c:48:67:f6:81:f2:c6:ff:45:03:0a:9d:67:
            9d:ce:27:d9:6b:48:5d:ca:fb:c2:5d:84:9b:8b:cb:
            40:c7:a4:0c:8a:6e:f4:ab:ba:b6:10:c3:b8:25:4d:
            cf:60:96:f4:db:e8:00:1c:58:47:7a:fb:51:86:d1:
            22:d7:4e:94:31:7a:d5:da:3d:53:de:da:bb:64:8d:
            62:6b
        generator: 2 (0x2)</pre>
</div>
    </div>
    <div class="example-contents"><p>
     El número primo y los valores del generador se pasan como
     p y q en <span class="function"><a href="#function.openssl-pkey-new" class="function">openssl_pkey_new()</a></span>
    </p></div>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br>$configargs </span><span style="color: #007700">= array();<br></span><span style="color: #0000BB">$configargs</span><span style="color: #007700">[</span><span style="color: #DD0000">'p'</span><span style="color: #007700">] = </span><span style="color: #0000BB">hex2bin</span><span style="color: #007700">(</span><span style="color: #DD0000">'00a3251e733f44b92beef49d9f376a4bfd1dbdf4afdac810775941c65f73d2882939cd1c5fc39f0f22d29c20c1e4c01803b8b6d8daad3b39a6da8efe1230e9035d22baef18d27b69f95bcb78c60c8c6bf24992c249e0457772b3553630f2401789185003fa2d547a7f344c7332b688145114be805795e6a3f651ff17474f15d60e6c4753722c2a4c21cb7df34997c9475e40337b99527e7af3522780de1b266b40bb14110bfbe6d82fcfa0062f96b91c0bb4cbd3a6629c4867f681f2c6ff45030a9d679dce27d96b485dcafbc25d849b8bcb40c7a40c8a6ef4abbab610c3b8254dcf6096f4dbe8001c58477afb5186d122d74e94317ad5da3d53dedabb648d626b'</span><span style="color: #007700">);<br></span><span style="color: #0000BB">$configargs</span><span style="color: #007700">[</span><span style="color: #DD0000">'g'</span><span style="color: #007700">] = </span><span style="color: #0000BB">hex2bin</span><span style="color: #007700">(</span><span style="color: #DD0000">'02'</span><span style="color: #007700">);<br></span><span style="color: #0000BB">$private_key </span><span style="color: #007700">= </span><span style="color: #0000BB">openssl_pkey_new</span><span style="color: #007700">(array(</span><span style="color: #DD0000">'dh' </span><span style="color: #007700">=&gt; </span><span style="color: #0000BB">$configargs</span><span style="color: #007700">));<br></span><span style="color: #0000BB">openssl_pkey_export_to_file</span><span style="color: #007700">(</span><span style="color: #0000BB">$private_key</span><span style="color: #007700">,</span><span style="color: #DD0000">'privatekey.pem'</span><span style="color: #007700">,</span><span style="color: #0000BB">$passphrase</span><span style="color: #007700">=</span><span style="color: #DD0000">'y0urp@s5phr@se'</span><span style="color: #007700">);<br><br></span><span style="color: #0000BB">$details </span><span style="color: #007700">= </span><span style="color: #0000BB">openssl_pkey_get_details</span><span style="color: #007700">(</span><span style="color: #0000BB">$private_key</span><span style="color: #007700">);<br></span><span style="color: #0000BB">$local_pub_key </span><span style="color: #007700">= </span><span style="color: #0000BB">$details</span><span style="color: #007700">[</span><span style="color: #DD0000">'dh'</span><span style="color: #007700">][</span><span style="color: #DD0000">'pub_key'</span><span style="color: #007700">];<br>echo </span><span style="color: #0000BB">bin2hex</span><span style="color: #007700">(</span><span style="color: #0000BB">$local_pub_key</span><span style="color: #007700">).</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br></span><span style="color: #FF8000">// puede enviar su clave pública a la parte remota<br><br></span><span style="color: #0000BB">$details </span><span style="color: #007700">= </span><span style="color: #0000BB">openssl_pkey_get_details</span><span style="color: #007700">(</span><span style="color: #0000BB">openssl_pkey_get_public</span><span style="color: #007700">(</span><span style="color: #DD0000">"file://remotepublickey.pem"</span><span style="color: #007700">));<br></span><span style="color: #0000BB">$remote_public_key </span><span style="color: #007700">= </span><span style="color: #0000BB">$details</span><span style="color: #007700">[</span><span style="color: #DD0000">'dh'</span><span style="color: #007700">][</span><span style="color: #DD0000">'pub_key'</span><span style="color: #007700">];<br></span><span style="color: #0000BB">$shared_secret </span><span style="color: #007700">= </span><span style="color: #0000BB">openssl_dh_compute_key</span><span style="color: #007700">(</span><span style="color: #0000BB">$remote_public_key</span><span style="color: #007700">, </span><span style="color: #0000BB">$private_key</span><span style="color: #007700">);<br>echo </span><span style="color: #0000BB">bin2hex</span><span style="color: #007700">(</span><span style="color: #0000BB">$shared_secret</span><span style="color: #007700">).</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br></span><span style="color: #0000BB">?&gt;</span></span></code></div>
    </div>

   </div>
  
 </div>


 <div class="refsect1 seealso" id="refsect1-function.openssl-dh-compute-key-seealso">
  <h3 class="title">Ver también</h3>
  <p class="para">
   </p><ul class="simplelist">
    <li><span class="function"><a href="#function.openssl-pkey-new" class="function" rel="rdfs-seeAlso">openssl_pkey_new()</a> - Genera una nueva clave privada</span></li>
    <li><span class="function"><a href="#function.openssl-pkey-get-details" class="function" rel="rdfs-seeAlso">openssl_pkey_get_details()</a> - Devuelve un array que contiene los detalles de la clave</span></li>
    <li><span class="function"><a href="#function.openssl-pkey-get-private" class="function" rel="rdfs-seeAlso">openssl_pkey_get_private()</a> - Lee una clave privada</span></li>
    <li><span class="function"><a href="#function.openssl-pkey-get-public" class="function" rel="rdfs-seeAlso">openssl_pkey_get_public()</a> - Extrae una clave pública de un certificado y la prepara</span></li>
   </ul>
  
 </div>


</div>
<hr>







<div id="function.openssl-digest" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">openssl_digest</h1>
  <p class="verinfo">(PHP 5 &gt;= 5.3.0, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">openssl_digest</span> — <span class="dc-title">Calcula un digest</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-function.openssl-digest-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>openssl_digest</strong></span>(<span class="methodparam"><span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$data</code></span>, <span class="methodparam"><span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$digest_algo</code></span>, <span class="methodparam"><span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span> <code class="parameter">$binary</code><span class="initializer"> = <strong><code><a href="#constant.false">false</a></code></strong></span></span>): <span class="type"><span class="type"><a href="#language.types.string" class="type string">string</a></span>|<span class="type"><a href="#language.types.singleton" class="type false">false</a></span></span></div>

  <p class="para rdfs-comment">
   Calcula un hash digest para los datos de entrada utilizando el método proporcionado.
   Devuelve un string bruto o hexadecimal.
  </p>

 </div>


 <div class="refsect1 parameters" id="refsect1-function.openssl-digest-parameters">
  <h3 class="title">Parámetros</h3>
  <p class="para">
   </p><dl>
    
     <dt><code class="parameter">data</code></dt>
     <dd>
      <p class="para">
       Los datos.
      </p>
     </dd>
    
    
     <dt><code class="parameter">digest_algo</code></dt>
     <dd>
      <p class="para">
       El método digest a utilizar, por ejemplo "SHA256". Consulte
       <span class="function"><a href="#function.openssl-get-md-methods" class="function">openssl_get_md_methods()</a></span> para obtener la lista de
       métodos de digest disponibles.
      </p>
     </dd>
    
    
     <dt><code class="parameter">binary</code></dt>
     <dd>
      <p class="para">
       Pase a <strong><code><a href="#constant.true">true</a></code></strong> y se devolverá un dato bruto, de lo contrario el valor devuelto
       será hexadecimal.
      </p>
     </dd>
    
   </dl>
  
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.openssl-digest-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Devuelve el valor en caso de éxito  o <strong><code><a href="#constant.false">false</a></code></strong> si ocurre un error.
  </p>
 </div>


 <div class="refsect1 errors" id="refsect1-function.openssl-digest-errors">
  <h3 class="title">Errores/Excepciones</h3>
  <p class="para">
   Emite un error de nivel <strong><code><a href="#constant.e-warning">E_WARNING</a></code></strong> si se pasa un algoritmo desconocido
   al argumento <code class="parameter">digest_algo</code>.
  </p>
 </div>


 <div class="refsect1 seealso" id="refsect1-function.openssl-digest-seealso">
  <h3 class="title">Ver también</h3>
  <p class="para">
   </p><ul class="simplelist">
    <li><span class="function"><a href="#function.openssl-get-md-methods" class="function" rel="rdfs-seeAlso">openssl_get_md_methods()</a> - Obtiene la lista de métodos digest disponibles</span></li>
   </ul>
  
 </div>


</div>
<hr>






<div id="function.openssl-encrypt" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">openssl_encrypt</h1>
  <p class="verinfo">(PHP 5 &gt;= 5.3.0, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">openssl_encrypt</span> — <span class="dc-title">Cifra los datos</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-function.openssl-encrypt-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>openssl_encrypt</strong></span>(<br>    <span class="methodparam"><span class="attribute"><a href="class.sensitiveparameter.html">#[\SensitiveParameter]</a> </span><span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$data</code></span>,<br>    <span class="methodparam"><span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$cipher_algo</code></span>,<br>    <span class="methodparam"><span class="attribute"><a href="class.sensitiveparameter.html">#[\SensitiveParameter]</a> </span><span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$passphrase</code></span>,<br>    <span class="methodparam"><span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$options</code><span class="initializer"> = 0</span></span>,<br>    <span class="methodparam"><span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$iv</code><span class="initializer"> = ""</span></span>,<br>    <span class="methodparam"><span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter reference">&amp;$tag</code><span class="initializer"> = <strong><code><a href="#constant.null">null</a></code></strong></span></span>,<br>    <span class="methodparam"><span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$aad</code><span class="initializer"> = ""</span></span>,<br>    <span class="methodparam"><span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$tag_length</code><span class="initializer"> = 16</span></span><br>): <span class="type"><span class="type"><a href="#language.types.string" class="type string">string</a></span>|<span class="type"><a href="#language.types.singleton" class="type false">false</a></span></span></div>

  <p class="para rdfs-comment">
   Cifra los datos pasados con el método y la frase de contraseña especificados. Devuelve un
   <span class="type"><a href="#language.types.string" class="type string">string</a></span> bruto o codificado en base64.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.openssl-encrypt-parameters">
  <h3 class="title">Parámetros</h3>
  <p class="para">
   </p><dl>
    
     <dt><code class="parameter">data</code></dt>
     <dd>
      <p class="para">
       Los datos del mensaje en texto bruto a cifrar.
      </p>
     </dd>
    
    
     <dt><code class="parameter">cipher_algo</code></dt>
     <dd>
      <p class="para">
       El método de cifrado. Para una lista de los métodos de cifrado disponibles,
       utilizar <span class="function"><a href="#function.openssl-get-cipher-methods" class="function">openssl_get_cipher_methods()</a></span>.
      </p>
     </dd>
    
    
     <dt><code class="parameter">passphrase</code></dt>
     <dd>
      <p class="para">
       La frase de contraseña. Si la frase de contraseña es más corta de lo esperado, se rellena silenciosamente
       con caracteres <code class="literal">NUL</code>; si la frase de contraseña es más larga de lo esperado, se trunca silenciosamente.
      </p>
      <div class="caution"><strong class="caution">Precaución</strong>
       <p class="simpara">
        No se utiliza ninguna función de derivación de clave para el parámetro <code class="parameter">passphrase</code>
        como su nombre podría sugerir. La única operación utilizada es el relleno con caracteres
        <code class="literal">NUL</code> o la truncación si la longitud es diferente de la esperada.
       </p>
      </div>
     </dd>
    
    
     <dt><code class="parameter">options</code></dt>
     <dd>
      <p class="para">
       <code class="parameter">options</code> es una disyunción a nivel de bits de los flags
       <strong><code><a href="#constant.openssl-raw-data">OPENSSL_RAW_DATA</a></code></strong> y
       <strong><code><a href="#constant.openssl-zero-padding">OPENSSL_ZERO_PADDING</a></code></strong>
       o <strong><code><a href="#constant.openssl-dont-zero-pad-key">OPENSSL_DONT_ZERO_PAD_KEY</a></code></strong>.
      </p>
     </dd>
    
    
     <dt><code class="parameter">iv</code></dt>
     <dd>
      <p class="para">
       Un vector de inicialización no-<strong><code><a href="#constant.null">null</a></code></strong>. Si el IV es más corto de lo esperado, se completa con
       caracteres <code class="literal">NUL</code> y se emite un aviso; si la frase de contraseña es más larga
       de lo esperado, se trunca y se emite un aviso.
      </p>
     </dd>
    
    
     <dt><code class="parameter">tag</code></dt>
     <dd>
      <p class="para">
       La etiqueta de autenticación pasada por referencia al utilizar el modo
       de cifrado AEAD (GCM o CCM).
      </p>
     </dd>
    
    
     <dt><code class="parameter">aad</code></dt>
     <dd>
      <p class="para">
       Datos adicionales autenticados.
      </p>
     </dd>
    
    
     <dt><code class="parameter">tag_length</code></dt>
     <dd>
      <p class="para">
       La longitud de la <code class="parameter">tag</code> de autenticación.
       Su valor puede estar entre 4 y 16 para el modo GCM.
      </p>
     </dd>
    
   </dl>
  
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.openssl-encrypt-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Devuelve la cadena cifrada en caso de éxito  o <strong><code><a href="#constant.false">false</a></code></strong> si ocurre un error.
  </p>
 </div>


 <div class="refsect1 errors" id="refsect1-function.openssl-encrypt-errors">
  <h3 class="title">Errores/Excepciones</h3>
  <p class="para">
   Emite un error de nivel <strong><code><a href="#constant.e-warning">E_WARNING</a></code></strong> si se pasa un algoritmo de cifrado
   desconocido como parámetro <code class="parameter">cipher_algo</code>.
  </p>
  <p class="para">
   Emite un error de nivel <strong><code><a href="#constant.e-warning">E_WARNING</a></code></strong> si se pasa un valor
   vacío como parámetro <code class="parameter">iv</code>.
  </p>
 </div>


 <div class="refsect1 changelog" id="refsect1-function.openssl-encrypt-changelog">
  <h3 class="title">Historial de cambios</h3>
  <table class="doctable informaltable">
   
    <thead>
     <tr>
      <th>Versión</th>
      <th>Descripción</th>
     </tr>

    </thead>

    <tbody class="tbody">
     <tr>
      <td>7.1.0</td>
      <td>Se añadieron los parámetros <code class="parameter">tag</code>, <code class="parameter">aad</code> y <code class="parameter">tag_length</code>.</td>
     </tr>

    </tbody>
   
  </table>

 </div>


 <div class="refsect1 examples" id="refsect1-function.openssl-encrypt-examples">
  <h3 class="title">Ejemplos</h3>
  <p class="para">
   </p><div class="example" id="example-1030">
    <p><strong>Ejemplo #1 Ejemplo de cifrado autenticado AES en modo GCM para PHP 7.1+</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br></span><span style="color: #FF8000">//$key debería ser generado previamente de manera criptográfica, tal como openssl_random_pseudo_bytes<br></span><span style="color: #0000BB">$plaintext </span><span style="color: #007700">= </span><span style="color: #DD0000">"message to be encrypted"</span><span style="color: #007700">;<br></span><span style="color: #0000BB">$cipher </span><span style="color: #007700">= </span><span style="color: #DD0000">"aes-128-gcm"</span><span style="color: #007700">;<br>if (</span><span style="color: #0000BB">in_array</span><span style="color: #007700">(</span><span style="color: #0000BB">$cipher</span><span style="color: #007700">, </span><span style="color: #0000BB">openssl_get_cipher_methods</span><span style="color: #007700">()))<br>{<br>    </span><span style="color: #0000BB">$ivlen </span><span style="color: #007700">= </span><span style="color: #0000BB">openssl_cipher_iv_length</span><span style="color: #007700">(</span><span style="color: #0000BB">$cipher</span><span style="color: #007700">);<br>    </span><span style="color: #0000BB">$iv </span><span style="color: #007700">= </span><span style="color: #0000BB">openssl_random_pseudo_bytes</span><span style="color: #007700">(</span><span style="color: #0000BB">$ivlen</span><span style="color: #007700">);<br>    </span><span style="color: #0000BB">$ciphertext </span><span style="color: #007700">= </span><span style="color: #0000BB">openssl_encrypt</span><span style="color: #007700">(</span><span style="color: #0000BB">$plaintext</span><span style="color: #007700">, </span><span style="color: #0000BB">$cipher</span><span style="color: #007700">, </span><span style="color: #0000BB">$key</span><span style="color: #007700">, </span><span style="color: #0000BB">$options</span><span style="color: #007700">=</span><span style="color: #0000BB">0</span><span style="color: #007700">, </span><span style="color: #0000BB">$iv</span><span style="color: #007700">, </span><span style="color: #0000BB">$tag</span><span style="color: #007700">);<br>    </span><span style="color: #FF8000">//guardar $cipher, $iv, y $tag para el descifrado posterior<br>    </span><span style="color: #0000BB">$original_plaintext </span><span style="color: #007700">= </span><span style="color: #0000BB">openssl_decrypt</span><span style="color: #007700">(</span><span style="color: #0000BB">$ciphertext</span><span style="color: #007700">, </span><span style="color: #0000BB">$cipher</span><span style="color: #007700">, </span><span style="color: #0000BB">$key</span><span style="color: #007700">, </span><span style="color: #0000BB">$options</span><span style="color: #007700">=</span><span style="color: #0000BB">0</span><span style="color: #007700">, </span><span style="color: #0000BB">$iv</span><span style="color: #007700">, </span><span style="color: #0000BB">$tag</span><span style="color: #007700">);<br>    echo </span><span style="color: #0000BB">$original_plaintext</span><span style="color: #007700">.</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br>}<br></span><span style="color: #0000BB">?&gt;</span></span></code></div>
    </div>

   </div>

   <div class="example" id="example-1031">
    <p><strong>Ejemplo #2 Ejemplo de cifrado autenticado AES en modo GCM anterior a PHP 7.1</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br></span><span style="color: #FF8000">//$key debería ser generado previamente de manera criptográfica, tal como openssl_random_pseudo_bytes<br></span><span style="color: #0000BB">$plaintext </span><span style="color: #007700">= </span><span style="color: #DD0000">"message to be encrypted"</span><span style="color: #007700">;<br></span><span style="color: #0000BB">$ivlen </span><span style="color: #007700">= </span><span style="color: #0000BB">openssl_cipher_iv_length</span><span style="color: #007700">(</span><span style="color: #0000BB">$cipher</span><span style="color: #007700">=</span><span style="color: #DD0000">"AES-128-CBC"</span><span style="color: #007700">);<br></span><span style="color: #0000BB">$iv </span><span style="color: #007700">= </span><span style="color: #0000BB">openssl_random_pseudo_bytes</span><span style="color: #007700">(</span><span style="color: #0000BB">$ivlen</span><span style="color: #007700">);<br></span><span style="color: #0000BB">$ciphertext_raw </span><span style="color: #007700">= </span><span style="color: #0000BB">openssl_encrypt</span><span style="color: #007700">(</span><span style="color: #0000BB">$plaintext</span><span style="color: #007700">, </span><span style="color: #0000BB">$cipher</span><span style="color: #007700">, </span><span style="color: #0000BB">$key</span><span style="color: #007700">, </span><span style="color: #0000BB">$options</span><span style="color: #007700">=</span><span style="color: #0000BB">OPENSSL_RAW_DATA</span><span style="color: #007700">, </span><span style="color: #0000BB">$iv</span><span style="color: #007700">);<br></span><span style="color: #0000BB">$hmac </span><span style="color: #007700">= </span><span style="color: #0000BB">hash_hmac</span><span style="color: #007700">(</span><span style="color: #DD0000">'sha256'</span><span style="color: #007700">, </span><span style="color: #0000BB">$ciphertext_raw</span><span style="color: #007700">, </span><span style="color: #0000BB">$key</span><span style="color: #007700">, </span><span style="color: #0000BB">$as_binary</span><span style="color: #007700">=</span><span style="color: #0000BB">true</span><span style="color: #007700">);<br></span><span style="color: #0000BB">$ciphertext </span><span style="color: #007700">= </span><span style="color: #0000BB">base64_encode</span><span style="color: #007700">( </span><span style="color: #0000BB">$iv</span><span style="color: #007700">.</span><span style="color: #0000BB">$hmac</span><span style="color: #007700">.</span><span style="color: #0000BB">$ciphertext_raw </span><span style="color: #007700">);<br><br></span><span style="color: #FF8000">// descifrar más tarde ...<br></span><span style="color: #0000BB">$c </span><span style="color: #007700">= </span><span style="color: #0000BB">base64_decode</span><span style="color: #007700">(</span><span style="color: #0000BB">$ciphertext</span><span style="color: #007700">);<br></span><span style="color: #0000BB">$ivlen </span><span style="color: #007700">= </span><span style="color: #0000BB">openssl_cipher_iv_length</span><span style="color: #007700">(</span><span style="color: #0000BB">$cipher</span><span style="color: #007700">=</span><span style="color: #DD0000">"AES-128-CBC"</span><span style="color: #007700">);<br></span><span style="color: #0000BB">$iv </span><span style="color: #007700">= </span><span style="color: #0000BB">substr</span><span style="color: #007700">(</span><span style="color: #0000BB">$c</span><span style="color: #007700">, </span><span style="color: #0000BB">0</span><span style="color: #007700">, </span><span style="color: #0000BB">$ivlen</span><span style="color: #007700">);<br></span><span style="color: #0000BB">$hmac </span><span style="color: #007700">= </span><span style="color: #0000BB">substr</span><span style="color: #007700">(</span><span style="color: #0000BB">$c</span><span style="color: #007700">, </span><span style="color: #0000BB">$ivlen</span><span style="color: #007700">, </span><span style="color: #0000BB">$sha2len</span><span style="color: #007700">=</span><span style="color: #0000BB">32</span><span style="color: #007700">);<br></span><span style="color: #0000BB">$ciphertext_raw </span><span style="color: #007700">= </span><span style="color: #0000BB">substr</span><span style="color: #007700">(</span><span style="color: #0000BB">$c</span><span style="color: #007700">, </span><span style="color: #0000BB">$ivlen</span><span style="color: #007700">+</span><span style="color: #0000BB">$sha2len</span><span style="color: #007700">);<br></span><span style="color: #0000BB">$original_plaintext </span><span style="color: #007700">= </span><span style="color: #0000BB">openssl_decrypt</span><span style="color: #007700">(</span><span style="color: #0000BB">$ciphertext_raw</span><span style="color: #007700">, </span><span style="color: #0000BB">$cipher</span><span style="color: #007700">, </span><span style="color: #0000BB">$key</span><span style="color: #007700">, </span><span style="color: #0000BB">$options</span><span style="color: #007700">=</span><span style="color: #0000BB">OPENSSL_RAW_DATA</span><span style="color: #007700">, </span><span style="color: #0000BB">$iv</span><span style="color: #007700">);<br></span><span style="color: #0000BB">$calcmac </span><span style="color: #007700">= </span><span style="color: #0000BB">hash_hmac</span><span style="color: #007700">(</span><span style="color: #DD0000">'sha256'</span><span style="color: #007700">, </span><span style="color: #0000BB">$ciphertext_raw</span><span style="color: #007700">, </span><span style="color: #0000BB">$key</span><span style="color: #007700">, </span><span style="color: #0000BB">$as_binary</span><span style="color: #007700">=</span><span style="color: #0000BB">true</span><span style="color: #007700">);<br>if (</span><span style="color: #0000BB">hash_equals</span><span style="color: #007700">(</span><span style="color: #0000BB">$hmac</span><span style="color: #007700">, </span><span style="color: #0000BB">$calcmac</span><span style="color: #007700">))</span><span style="color: #FF8000">// comparación segura contra ataques de tiempo<br></span><span style="color: #007700">{<br>    echo </span><span style="color: #0000BB">$original_plaintext</span><span style="color: #007700">.</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br>}<br></span><span style="color: #0000BB">?&gt;</span></span></code></div>
    </div>

   </div>

  
 </div>


 <div class="refsect1 seealso" id="refsect1-function.openssl-encrypt-seealso">
  <h3 class="title">Ver también</h3>
  <p class="para">
   </p><ul class="simplelist">
    <li><span class="function"><a href="#function.openssl-decrypt" class="function" rel="rdfs-seeAlso">openssl_decrypt()</a> - Descifrar los datos</span></li>
   </ul>
  
 </div>


</div>
<hr>







<div id="function.openssl-error-string" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">openssl_error_string</h1>
  <p class="verinfo">(PHP 4 &gt;= 4.0.6, PHP 5, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">openssl_error_string</span> — <span class="dc-title">Retorna el mensaje de error OpenSSL</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-function.openssl-error-string-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>openssl_error_string</strong></span>(): <span class="type"><span class="type"><a href="#language.types.string" class="type string">string</a></span>|<span class="type"><a href="#language.types.singleton" class="type false">false</a></span></span></div>

  <p class="para rdfs-comment">
   <span class="function"><strong>openssl_error_string()</strong></span> retorna el último error de
   la biblioteca OpenSSL. Los mensajes de error son puestos en cola, y la función
   <span class="function"><strong>openssl_error_string()</strong></span> debe ser llamada varias veces para mostrar
   todos los errores. El último error será el más reciente en esta cola.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.openssl-error-string-parameters">
  <h3 class="title">Parámetros</h3>
  <p class="para">Esta función no contiene ningún parámetro.</p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.openssl-error-string-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Retorna un mensaje de error, en forma de <span class="type"><a href="#language.types.string" class="type string">string</a></span>, o <strong><code><a href="#constant.false">false</a></code></strong>
   si no hay más mensajes que mostrar.
  </p>
 </div>


 <div class="refsect1 examples" id="refsect1-function.openssl-error-string-examples">
  <h3 class="title">Ejemplos</h3>
  <p class="para">
   </p><div class="example" id="example-1032">
    <p><strong>Ejemplo #1 Ejemplo con <span class="function"><strong>openssl_error_string()</strong></span></strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br></span><span style="color: #FF8000">// Supongamos que se ha llamado a una función que ha generado un error<br></span><span style="color: #007700">while (</span><span style="color: #0000BB">$msg </span><span style="color: #007700">= </span><span style="color: #0000BB">openssl_error_string</span><span style="color: #007700">())<br>    echo </span><span style="color: #0000BB">$msg </span><span style="color: #007700">. </span><span style="color: #DD0000">"&lt;br /&gt;\n"</span><span style="color: #007700">;<br></span><span style="color: #0000BB">?&gt;</span></span></code></div>
    </div>

   </div>
  
 </div>


</div>
<hr>








<div id="function.openssl-free-key" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">openssl_free_key</h1>
  <p class="verinfo">(PHP 4 &gt;= 4.0.4, PHP 5, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">openssl_free_key</span> — <span class="dc-title">Libera los recursos</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-function.openssl-free-key-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="attribute"><a href="class.deprecated.html">#[\Deprecated]</a> </span><br>
   <span class="methodname"><strong>openssl_free_key</strong></span>(<span class="methodparam"><span class="type"><a href="#class.opensslasymmetrickey" class="type OpenSSLAsymmetricKey">OpenSSLAsymmetricKey</a></span> <code class="parameter">$key</code></span>): <span class="type"><a href="language.types.void.html" class="type void">void</a></span></div>

  <p class="para rdfs-comment">
   <span class="function"><strong>openssl_free_key()</strong></span> libera las claves
   asociadas a <code class="parameter">key</code> de la memoria.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.openssl-free-key-parameters">
  <h3 class="title">Parámetros</h3>
  <p class="para">
   </p><dl>
    
     <dt><code class="parameter">key</code></dt>
     <dd>
      <p class="para">
      </p>
     </dd>
    
   </dl>
  
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.openssl-free-key-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   No se retorna ningún valor.
  </p>
 </div>


 <div class="refsect1 changelog" id="refsect1-function.openssl-free-key-changelog">
  <h3 class="title">Historial de cambios</h3>
  <table class="doctable informaltable">
   
    <thead>
     <tr>
      <th>Versión</th>
      <th>Descripción</th>
     </tr>

    </thead>

    <tbody class="tbody">
     <tr>
      <td>8.0.0</td>
      <td>
       Esta función es ahora obsoleta ya que no tiene ningún efecto.
      </td>
     </tr>

     <tr>
      <td>8.0.0</td>
      <td>
       <code class="parameter">key</code> acepta ahora una instancia de
       <span class="classname"><a href="#class.opensslasymmetrickey" class="classname">OpenSSLAsymmetricKey</a></span>;
       anteriormente, se aceptaba un <span class="type"><a href="#language.types.resource" class="type resource">resource</a></span> de tipo <code class="literal">OpenSSL key</code>.
      </td>
     </tr>

    </tbody>
   
  </table>

 </div>


</div>
<hr>








<div id="function.openssl-get-cert-locations" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">openssl_get_cert_locations</h1>
  <p class="verinfo">(PHP 5 &gt;= 5.6.0, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">openssl_get_cert_locations</span> — <span class="dc-title">Obtener las ubicaciones de certificados disponibles</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-function.openssl-get-cert-locations-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>openssl_get_cert_locations</strong></span>(): <span class="type"><a href="#language.types.array" class="type array">array</a></span></div>

  <p class="para rdfs-comment">
   <span class="function"><strong>openssl_get_cert_locations()</strong></span> devuelve un array con
   información sobre la ubicaciones de certificados disponibles donde buscar
   certificados SSL.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.openssl-get-cert-locations-parameters">
  <h3 class="title">Parámetros</h3>
  <p class="para">Esta función no contiene ningún parámetro.</p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.openssl-get-cert-locations-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Devuelve un array con las ubicaciones de certificados disponibles.
  </p>
 </div>


 <div class="refsect1 examples" id="refsect1-function.openssl-get-cert-locations-examples">
  <h3 class="title">Ejemplos</h3>
  <p class="para">
   </p><div class="example" id="example-1033">
    <p><strong>Ejemplo #1 Ejemplo de <span class="function"><strong>openssl_get_cert_locations()</strong></span></strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br>var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">openssl_get_cert_locations</span><span style="color: #007700">());<br></span><span style="color: #0000BB">?&gt;</span></span></code></div>
    </div>

    <div class="example-contents"><p>El ejemplo anterior mostrará:</p></div>
    <div class="example-contents screen">
<div class="examplescode"><pre class="examplescode">array(8) {
  ["default_cert_file"]=&gt;
  string(21) "/usr/lib/ssl/cert.pem"
  ["default_cert_file_env"]=&gt;
  string(13) "SSL_CERT_FILE"
  ["default_cert_dir"]=&gt;
  string(18) "/usr/lib/ssl/certs"
  ["default_cert_dir_env"]=&gt;
  string(12) "SSL_CERT_DIR"
  ["default_private_dir"]=&gt;
  string(20) "/usr/lib/ssl/private"
  ["default_default_cert_area"]=&gt;
  string(12) "/usr/lib/ssl"
  ["ini_cafile"]=&gt;
  string(0) ""
  ["ini_capath"]=&gt;
  string(0) ""
}</pre>
</div>
    </div>
   </div>
  
 </div>

</div>
<hr>








<div id="function.openssl-get-cipher-methods" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">openssl_get_cipher_methods</h1>
  <p class="verinfo">(PHP 5 &gt;= 5.3.0, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">openssl_get_cipher_methods</span> — <span class="dc-title">Obtiene la lista de métodos de cifrado disponibles</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-function.openssl-get-cipher-methods-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>openssl_get_cipher_methods</strong></span>(<span class="methodparam"><span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span> <code class="parameter">$aliases</code><span class="initializer"> = <strong><code><a href="#constant.false">false</a></code></strong></span></span>): <span class="type"><a href="#language.types.array" class="type array">array</a></span></div>

  <p class="para rdfs-comment">
   Obtiene la lista de métodos de cifrado disponibles.
  </p>

 </div>


 <div class="refsect1 parameters" id="refsect1-function.openssl-get-cipher-methods-parameters">
  <h3 class="title">Parámetros</h3>
  <p class="para">
   </p><dl>
    
     <dt><code class="parameter">aliases</code></dt>
     <dd>
      <p class="para">
       Pásese <strong><code><a href="#constant.true">true</a></code></strong> si se desea que los alias de los métodos de cifrado
       sean incluidos en el array devuelto.
      </p>
     </dd>
    
   </dl>
  
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.openssl-get-cipher-methods-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Un <span class="type"><a href="#language.types.array" class="type array">array</a></span> de los métodos de cifrado disponibles.
   Cabe señalar que antes de OpenSSL 1.1.1, los métodos de cifrado
   se devolvían en mayúsculas y minúsculas; a partir de OpenSSL 1.1.1
   solo se devuelve la variante en minúsculas.
  </p>
 </div>


 <div class="refsect1 examples" id="refsect1-function.openssl-get-cipher-methods-examples">
  <h3 class="title">Ejemplos</h3>
  <p class="para">
   </p><div class="example" id="example-1034">
    <p><strong>Ejemplo #1 Ejemplo <span class="function"><strong>openssl_get_cipher_methods()</strong></span></strong></p>
    <div class="example-contents"><p>
     Muestra cómo son los ciphers disponibles, así como los alias
     disponibles.
    </p></div>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br>$ciphers             </span><span style="color: #007700">= </span><span style="color: #0000BB">openssl_get_cipher_methods</span><span style="color: #007700">();<br></span><span style="color: #0000BB">$ciphers_and_aliases </span><span style="color: #007700">= </span><span style="color: #0000BB">openssl_get_cipher_methods</span><span style="color: #007700">(</span><span style="color: #0000BB">true</span><span style="color: #007700">);<br></span><span style="color: #0000BB">$cipher_aliases      </span><span style="color: #007700">= </span><span style="color: #0000BB">array_diff</span><span style="color: #007700">(</span><span style="color: #0000BB">$ciphers_and_aliases</span><span style="color: #007700">, </span><span style="color: #0000BB">$ciphers</span><span style="color: #007700">);<br><br></span><span style="color: #FF8000">//ECB mode should be avoided<br></span><span style="color: #0000BB">$ciphers </span><span style="color: #007700">= </span><span style="color: #0000BB">array_filter</span><span style="color: #007700">( </span><span style="color: #0000BB">$ciphers</span><span style="color: #007700">, function(</span><span style="color: #0000BB">$n</span><span style="color: #007700">) { return </span><span style="color: #0000BB">stripos</span><span style="color: #007700">(</span><span style="color: #0000BB">$n</span><span style="color: #007700">,</span><span style="color: #DD0000">"ecb"</span><span style="color: #007700">)===</span><span style="color: #0000BB">FALSE</span><span style="color: #007700">; } );<br><br></span><span style="color: #FF8000">//At least as early as Aug 2016, Openssl declared the following weak: RC2, RC4, DES, 3DES, MD5 based<br></span><span style="color: #0000BB">$ciphers </span><span style="color: #007700">= </span><span style="color: #0000BB">array_filter</span><span style="color: #007700">( </span><span style="color: #0000BB">$ciphers</span><span style="color: #007700">, function(</span><span style="color: #0000BB">$c</span><span style="color: #007700">) { return </span><span style="color: #0000BB">stripos</span><span style="color: #007700">(</span><span style="color: #0000BB">$c</span><span style="color: #007700">,</span><span style="color: #DD0000">"des"</span><span style="color: #007700">)===</span><span style="color: #0000BB">FALSE</span><span style="color: #007700">; } );<br></span><span style="color: #0000BB">$ciphers </span><span style="color: #007700">= </span><span style="color: #0000BB">array_filter</span><span style="color: #007700">( </span><span style="color: #0000BB">$ciphers</span><span style="color: #007700">, function(</span><span style="color: #0000BB">$c</span><span style="color: #007700">) { return </span><span style="color: #0000BB">stripos</span><span style="color: #007700">(</span><span style="color: #0000BB">$c</span><span style="color: #007700">,</span><span style="color: #DD0000">"rc2"</span><span style="color: #007700">)===</span><span style="color: #0000BB">FALSE</span><span style="color: #007700">; } );<br></span><span style="color: #0000BB">$ciphers </span><span style="color: #007700">= </span><span style="color: #0000BB">array_filter</span><span style="color: #007700">( </span><span style="color: #0000BB">$ciphers</span><span style="color: #007700">, function(</span><span style="color: #0000BB">$c</span><span style="color: #007700">) { return </span><span style="color: #0000BB">stripos</span><span style="color: #007700">(</span><span style="color: #0000BB">$c</span><span style="color: #007700">,</span><span style="color: #DD0000">"rc4"</span><span style="color: #007700">)===</span><span style="color: #0000BB">FALSE</span><span style="color: #007700">; } );<br></span><span style="color: #0000BB">$ciphers </span><span style="color: #007700">= </span><span style="color: #0000BB">array_filter</span><span style="color: #007700">( </span><span style="color: #0000BB">$ciphers</span><span style="color: #007700">, function(</span><span style="color: #0000BB">$c</span><span style="color: #007700">) { return </span><span style="color: #0000BB">stripos</span><span style="color: #007700">(</span><span style="color: #0000BB">$c</span><span style="color: #007700">,</span><span style="color: #DD0000">"md5"</span><span style="color: #007700">)===</span><span style="color: #0000BB">FALSE</span><span style="color: #007700">; } );<br></span><span style="color: #0000BB">$cipher_aliases </span><span style="color: #007700">= </span><span style="color: #0000BB">array_filter</span><span style="color: #007700">(</span><span style="color: #0000BB">$cipher_aliases</span><span style="color: #007700">,function(</span><span style="color: #0000BB">$c</span><span style="color: #007700">) { return </span><span style="color: #0000BB">stripos</span><span style="color: #007700">(</span><span style="color: #0000BB">$c</span><span style="color: #007700">,</span><span style="color: #DD0000">"des"</span><span style="color: #007700">)===</span><span style="color: #0000BB">FALSE</span><span style="color: #007700">; } );<br></span><span style="color: #0000BB">$cipher_aliases </span><span style="color: #007700">= </span><span style="color: #0000BB">array_filter</span><span style="color: #007700">(</span><span style="color: #0000BB">$cipher_aliases</span><span style="color: #007700">,function(</span><span style="color: #0000BB">$c</span><span style="color: #007700">) { return </span><span style="color: #0000BB">stripos</span><span style="color: #007700">(</span><span style="color: #0000BB">$c</span><span style="color: #007700">,</span><span style="color: #DD0000">"rc2"</span><span style="color: #007700">)===</span><span style="color: #0000BB">FALSE</span><span style="color: #007700">; } );<br><br></span><span style="color: #0000BB">print_r</span><span style="color: #007700">(</span><span style="color: #0000BB">$ciphers</span><span style="color: #007700">);<br></span><span style="color: #0000BB">print_r</span><span style="color: #007700">(</span><span style="color: #0000BB">$cipher_aliases</span><span style="color: #007700">);<br></span><span style="color: #0000BB">?&gt;</span></span></code></div>
    </div>

    <div class="example-contents"><p>Resultado del ejemplo anterior es similar a:</p></div>
    <div class="example-contents screen">
<div class="examplescode"><pre class="examplescode">Array
(
    [0] =&gt; aes-128-cbc
    [1] =&gt; aes-128-cbc-hmac-sha1
    [2] =&gt; aes-128-cbc-hmac-sha256
    [3] =&gt; aes-128-ccm
    [4] =&gt; aes-128-cfb
    [5] =&gt; aes-128-cfb1
    [6] =&gt; aes-128-cfb8
    [7] =&gt; aes-128-ctr
    [9] =&gt; aes-128-gcm
    [10] =&gt; aes-128-ocb
    [11] =&gt; aes-128-ofb
    [12] =&gt; aes-128-xts
    [13] =&gt; aes-192-cbc
    [14] =&gt; aes-192-ccm
    [15] =&gt; aes-192-cfb
    [16] =&gt; aes-192-cfb1
    [17] =&gt; aes-192-cfb8
    [18] =&gt; aes-192-ctr
    [20] =&gt; aes-192-gcm
    [21] =&gt; aes-192-ocb
    [22] =&gt; aes-192-ofb
    [23] =&gt; aes-256-cbc
    [24] =&gt; aes-256-cbc-hmac-sha1
    [25] =&gt; aes-256-cbc-hmac-sha256
    [26] =&gt; aes-256-ccm
    [27] =&gt; aes-256-cfb
    [28] =&gt; aes-256-cfb1
    [29] =&gt; aes-256-cfb8
    [30] =&gt; aes-256-ctr
    [32] =&gt; aes-256-gcm
    [33] =&gt; aes-256-ocb
    [34] =&gt; aes-256-ofb
    [35] =&gt; aes-256-xts
    [36] =&gt; aria-128-cbc
    [37] =&gt; aria-128-ccm
    [38] =&gt; aria-128-cfb
    [39] =&gt; aria-128-cfb1
    [40] =&gt; aria-128-cfb8
    [41] =&gt; aria-128-ctr
    [43] =&gt; aria-128-gcm
    [44] =&gt; aria-128-ofb
    [45] =&gt; aria-192-cbc
    [46] =&gt; aria-192-ccm
    [47] =&gt; aria-192-cfb
    [48] =&gt; aria-192-cfb1
    [49] =&gt; aria-192-cfb8
    [50] =&gt; aria-192-ctr
    [52] =&gt; aria-192-gcm
    [53] =&gt; aria-192-ofb
    [54] =&gt; aria-256-cbc
    [55] =&gt; aria-256-ccm
    [56] =&gt; aria-256-cfb
    [57] =&gt; aria-256-cfb1
    [58] =&gt; aria-256-cfb8
    [59] =&gt; aria-256-ctr
    [61] =&gt; aria-256-gcm
    [62] =&gt; aria-256-ofb
    [63] =&gt; bf-cbc
    [64] =&gt; bf-cfb
    [66] =&gt; bf-ofb
    [67] =&gt; camellia-128-cbc
    [68] =&gt; camellia-128-cfb
    [69] =&gt; camellia-128-cfb1
    [70] =&gt; camellia-128-cfb8
    [71] =&gt; camellia-128-ctr
    [73] =&gt; camellia-128-ofb
    [74] =&gt; camellia-192-cbc
    [75] =&gt; camellia-192-cfb
    [76] =&gt; camellia-192-cfb1
    [77] =&gt; camellia-192-cfb8
    [78] =&gt; camellia-192-ctr
    [80] =&gt; camellia-192-ofb
    [81] =&gt; camellia-256-cbc
    [82] =&gt; camellia-256-cfb
    [83] =&gt; camellia-256-cfb1
    [84] =&gt; camellia-256-cfb8
    [85] =&gt; camellia-256-ctr
    [87] =&gt; camellia-256-ofb
    [88] =&gt; cast5-cbc
    [89] =&gt; cast5-cfb
    [91] =&gt; cast5-ofb
    [92] =&gt; chacha20
    [93] =&gt; chacha20-poly1305
    [111] =&gt; id-aes128-CCM
    [112] =&gt; id-aes128-GCM
    [113] =&gt; id-aes128-wrap
    [114] =&gt; id-aes128-wrap-pad
    [115] =&gt; id-aes192-CCM
    [116] =&gt; id-aes192-GCM
    [117] =&gt; id-aes192-wrap
    [118] =&gt; id-aes192-wrap-pad
    [119] =&gt; id-aes256-CCM
    [120] =&gt; id-aes256-GCM
    [121] =&gt; id-aes256-wrap
    [122] =&gt; id-aes256-wrap-pad
    [124] =&gt; idea-cbc
    [125] =&gt; idea-cfb
    [127] =&gt; idea-ofb
    [137] =&gt; seed-cbc
    [138] =&gt; seed-cfb
    [140] =&gt; seed-ofb
    [141] =&gt; sm4-cbc
    [142] =&gt; sm4-cfb
    [143] =&gt; sm4-ctr
    [145] =&gt; sm4-ofb
)
Array
(
    [36] =&gt; aes128
    [37] =&gt; aes128-wrap
    [38] =&gt; aes192
    [39] =&gt; aes192-wrap
    [40] =&gt; aes256
    [41] =&gt; aes256-wrap
    [69] =&gt; aria128
    [70] =&gt; aria192
    [71] =&gt; aria256
    [72] =&gt; bf
    [77] =&gt; blowfish
    [99] =&gt; camellia128
    [100] =&gt; camellia192
    [101] =&gt; camellia256
    [102] =&gt; cast
    [103] =&gt; cast-cbc
    [146] =&gt; idea
    [164] =&gt; seed
    [169] =&gt; sm4
)</pre>
</div>
    </div>
   </div>
  
 </div>


 <div class="refsect1 seealso" id="refsect1-function.openssl-get-cipher-methods-seealso">
  <h3 class="title">Ver también</h3>
  <p class="para">
   </p><ul class="simplelist">
    <li><span class="function"><a href="#function.openssl-get-md-methods" class="function" rel="rdfs-seeAlso">openssl_get_md_methods()</a> - Obtiene la lista de métodos digest disponibles</span></li>
   </ul>
  
 </div>


</div>
<hr>








<div id="function.openssl-get-curve-names" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">openssl_get_curve_names</h1>
  <p class="verinfo">(PHP 7 &gt;= 7.1.0, PHP 8)</p><p class="refpurpose"><span class="refname">openssl_get_curve_names</span> — <span class="dc-title">Obtiene la lista de nombres de curvas disponibles para ECC</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-function.openssl-get-curve-names-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>openssl_get_curve_names</strong></span>(): <span class="type"><span class="type"><a href="#language.types.array" class="type array">array</a></span>|<span class="type"><a href="#language.types.singleton" class="type false">false</a></span></span></div>

  <p class="para rdfs-comment">
   Obtiene la lista de nombres de curvas disponibles para su uso en
   la criptografía de curva elíptica (ECC) para las operaciones de
   clave pública/privada. Las dos curvas más ampliamente
   estandarizadas/soportadas son <em>prime256v1</em>
   (NIST P-256) y <em>secp384r1</em> (NIST P-384).
   </p><table class="doctable table">
    <caption><strong>Equivalencias aproximadas de tamaños de claves de AES, RSA, DSA y ECC</strong></caption>
    
     <thead>
      <tr>
       <th>Tamaño de clave simétrica AES (Bits)</th>
       <th>Tamaño de clave RSA y DSA (Bits)</th>
       <th>Tamaño de clave ECC (Bits)</th>
      </tr>

     </thead>

     <tbody class="tbody">
      <tr>
       <td>80</td>
       <td>1024</td>
       <td>160</td>
      </tr>

      <tr>
       <td>112</td>
       <td>2048</td>
       <td>224</td>
      </tr>

      <tr>
       <td>128</td>
       <td>3072</td>
       <td>256</td>
      </tr>

      <tr>
       <td>192</td>
       <td>7680</td>
       <td>384</td>
      </tr>

      <tr>
       <td>256</td>
       <td>15360</td>
       <td>512</td>
      </tr>

     </tbody>
    
   </table>

   <a href="http://dx.doi.org/10.6028/NIST.SP.800-57pt1r4" class="link external">» NIST
   recomienda utilizar curvas ECC que tengan al menos 256 bits</a>.
  
 </div>


 <div class="refsect1 parameters" id="refsect1-function.openssl-get-curve-names-parameters">
  <h3 class="title">Parámetros</h3>
  <p class="para">Esta función no contiene ningún parámetro.</p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.openssl-get-curve-names-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Un <span class="type"><a href="#language.types.array" class="type array">array</a></span> de los nombres de curvas disponibles,  o <strong><code><a href="#constant.false">false</a></code></strong> si ocurre un error.
  </p>
 </div>


 <div class="refsect1 examples" id="refsect1-function.openssl-get-curve-names-examples">
  <h3 class="title">Ejemplos</h3>
  <p class="para">
   </p><div class="example" id="example-1035">
    <p><strong>Ejemplo #1 Ejemplo con <span class="function"><strong>openssl_get_curve_names()</strong></span></strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br>$curve_names </span><span style="color: #007700">= </span><span style="color: #0000BB">openssl_get_curve_names</span><span style="color: #007700">();<br></span><span style="color: #0000BB">print_r</span><span style="color: #007700">(</span><span style="color: #0000BB">$curve_names</span><span style="color: #007700">);<br></span><span style="color: #0000BB">?&gt;</span></span></code></div>
    </div>

    <div class="example-contents"><p>Resultado del ejemplo anterior es similar a:</p></div>
    <div class="example-contents screen">
<div class="examplescode"><pre class="examplescode">Array
(
    [0] =&gt; secp112r1
    [1] =&gt; secp112r2
    [2] =&gt; secp128r1
    [3] =&gt; secp128r2
    [4] =&gt; secp160k1
    [5] =&gt; secp160r1
    [6] =&gt; secp160r2
    [7] =&gt; secp192k1
    [8] =&gt; secp224k1
    [9] =&gt; secp224r1
    [10] =&gt; secp256k1
    [11] =&gt; secp384r1
    [12] =&gt; secp521r1
    [13] =&gt; prime192v1
    [14] =&gt; prime192v2
    [15] =&gt; prime192v3
    [16] =&gt; prime239v1
    [17] =&gt; prime239v2
    [18] =&gt; prime239v3
    [19] =&gt; prime256v1
    [20] =&gt; sect113r1
    [21] =&gt; sect113r2
    [22] =&gt; sect131r1
    [23] =&gt; sect131r2
    [24] =&gt; sect163k1
    [25] =&gt; sect163r1
    [26] =&gt; sect163r2
    [27] =&gt; sect193r1
    [28] =&gt; sect193r2
    [29] =&gt; sect233k1
    [30] =&gt; sect233r1
    [31] =&gt; sect239k1
    [32] =&gt; sect283k1
    [33] =&gt; sect283r1
    [34] =&gt; sect409k1
    [35] =&gt; sect409r1
    [36] =&gt; sect571k1
    [37] =&gt; sect571r1
    [38] =&gt; c2pnb163v1
    [39] =&gt; c2pnb163v2
    [40] =&gt; c2pnb163v3
    [41] =&gt; c2pnb176v1
    [42] =&gt; c2tnb191v1
    [43] =&gt; c2tnb191v2
    [44] =&gt; c2tnb191v3
    [45] =&gt; c2pnb208w1
    [46] =&gt; c2tnb239v1
    [47] =&gt; c2tnb239v2
    [48] =&gt; c2tnb239v3
    [49] =&gt; c2pnb272w1
    [50] =&gt; c2pnb304w1
    [51] =&gt; c2tnb359v1
    [52] =&gt; c2pnb368w1
    [53] =&gt; c2tnb431r1
    [54] =&gt; wap-wsg-idm-ecid-wtls1
    [55] =&gt; wap-wsg-idm-ecid-wtls3
    [56] =&gt; wap-wsg-idm-ecid-wtls4
    [57] =&gt; wap-wsg-idm-ecid-wtls5
    [58] =&gt; wap-wsg-idm-ecid-wtls6
    [59] =&gt; wap-wsg-idm-ecid-wtls7
    [60] =&gt; wap-wsg-idm-ecid-wtls8
    [61] =&gt; wap-wsg-idm-ecid-wtls9
    [62] =&gt; wap-wsg-idm-ecid-wtls10
    [63] =&gt; wap-wsg-idm-ecid-wtls11
    [64] =&gt; wap-wsg-idm-ecid-wtls12
    [65] =&gt; Oakley-EC2N-3
    [66] =&gt; Oakley-EC2N-4
    [67] =&gt; brainpoolP160r1
    [68] =&gt; brainpoolP160t1
    [69] =&gt; brainpoolP192r1
    [70] =&gt; brainpoolP192t1
    [71] =&gt; brainpoolP224r1
    [72] =&gt; brainpoolP224t1
    [73] =&gt; brainpoolP256r1
    [74] =&gt; brainpoolP256t1
    [75] =&gt; brainpoolP320r1
    [76] =&gt; brainpoolP320t1
    [77] =&gt; brainpoolP384r1
    [78] =&gt; brainpoolP384t1
    [79] =&gt; brainpoolP512r1
    [80] =&gt; brainpoolP512t1
)</pre>
</div>
    </div>
   </div>
  
 </div>

</div>
<hr>








<div id="function.openssl-get-md-methods" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">openssl_get_md_methods</h1>
  <p class="verinfo">(PHP 5 &gt;= 5.3.0, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">openssl_get_md_methods</span> — <span class="dc-title">Obtiene la lista de métodos digest disponibles</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-function.openssl-get-md-methods-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>openssl_get_md_methods</strong></span>(<span class="methodparam"><span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span> <code class="parameter">$aliases</code><span class="initializer"> = <strong><code><a href="#constant.false">false</a></code></strong></span></span>): <span class="type"><a href="#language.types.array" class="type array">array</a></span></div>

  <p class="para rdfs-comment">
   Obtiene la lista de métodos digest disponibles.
  </p>

 </div>


 <div class="refsect1 parameters" id="refsect1-function.openssl-get-md-methods-parameters">
  <h3 class="title">Parámetros</h3>
  <p class="para">
   </p><dl>
    
     <dt><code class="parameter">aliases</code></dt>
     <dd>
      <p class="para">
       Pásese <strong><code><a href="#constant.true">true</a></code></strong> si se desean incluir los alias de digest en el array devuelto.
      </p>
     </dd>
    
   </dl>
  
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.openssl-get-md-methods-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Un <span class="type"><a href="#language.types.array" class="type array">array</a></span> de los métodos digest disponibles.
  </p>
 </div>


 <div class="refsect1 examples" id="refsect1-function.openssl-get-md-methods-examples">
  <h3 class="title">Ejemplos</h3>
  <p class="para">
   </p><div class="example" id="example-1036">
    <p><strong>Ejemplo #1 Ejemplo <span class="function"><strong>openssl_get_md_methods()</strong></span></strong></p>
    <div class="example-contents"><p>
     Muestra cómo son los digests disponibles, así como los alias disponibles.
    </p></div>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br>$digests             </span><span style="color: #007700">= </span><span style="color: #0000BB">openssl_get_md_methods</span><span style="color: #007700">();<br></span><span style="color: #0000BB">$digests_and_aliases </span><span style="color: #007700">= </span><span style="color: #0000BB">openssl_get_md_methods</span><span style="color: #007700">(</span><span style="color: #0000BB">true</span><span style="color: #007700">);<br></span><span style="color: #0000BB">$digest_aliases      </span><span style="color: #007700">= </span><span style="color: #0000BB">array_diff</span><span style="color: #007700">(</span><span style="color: #0000BB">$digests_and_aliases</span><span style="color: #007700">, </span><span style="color: #0000BB">$digests</span><span style="color: #007700">);<br><br></span><span style="color: #0000BB">print_r</span><span style="color: #007700">(</span><span style="color: #0000BB">$digests</span><span style="color: #007700">);<br><br></span><span style="color: #0000BB">print_r</span><span style="color: #007700">(</span><span style="color: #0000BB">$digest_aliases</span><span style="color: #007700">);<br><br></span><span style="color: #0000BB">?&gt;</span></span></code></div>
    </div>

    <div class="example-contents"><p>Resultado del ejemplo anterior es similar a:</p></div>
    <div class="example-contents screen">
<div class="examplescode"><pre class="examplescode">Array
(
    [0] =&gt; DSA
    [1] =&gt; DSA-SHA
    [2] =&gt; MD2
    [3] =&gt; MD4
    [4] =&gt; MD5
    [5] =&gt; RIPEMD160
    [6] =&gt; SHA
    [7] =&gt; SHA1
    [8] =&gt; SHA224
    [9] =&gt; SHA256
    [10] =&gt; SHA384
    [11] =&gt; SHA512
    [12] =&gt; dsaEncryption
    [13] =&gt; dsaWithSHA
    [14] =&gt; ecdsa-with-SHA1
    [15] =&gt; md2
    [16] =&gt; md4
    [17] =&gt; md5
    [18] =&gt; ripemd160
    [19] =&gt; sha
    [20] =&gt; sha1
    [21] =&gt; sha224
    [22] =&gt; sha256
    [23] =&gt; sha384
    [24] =&gt; sha512
)
Array
(
    [2] =&gt; DSA-SHA1
    [3] =&gt; DSA-SHA1-old
    [4] =&gt; DSS1
    [9] =&gt; RSA-MD2
    [10] =&gt; RSA-MD4
    [11] =&gt; RSA-MD5
    [12] =&gt; RSA-RIPEMD160
    [13] =&gt; RSA-SHA
    [14] =&gt; RSA-SHA1
    [15] =&gt; RSA-SHA1-2
    [16] =&gt; RSA-SHA224
    [17] =&gt; RSA-SHA256
    [18] =&gt; RSA-SHA384
    [19] =&gt; RSA-SHA512
    [28] =&gt; dsaWithSHA1
    [29] =&gt; dss1
    [32] =&gt; md2WithRSAEncryption
    [34] =&gt; md4WithRSAEncryption
    [36] =&gt; md5WithRSAEncryption
    [37] =&gt; ripemd
    [39] =&gt; ripemd160WithRSA
    [40] =&gt; rmd160
    [43] =&gt; sha1WithRSAEncryption
    [45] =&gt; sha224WithRSAEncryption
    [47] =&gt; sha256WithRSAEncryption
    [49] =&gt; sha384WithRSAEncryption
    [51] =&gt; sha512WithRSAEncryption
    [52] =&gt; shaWithRSAEncryption
    [53] =&gt; ssl2-md5
    [54] =&gt; ssl3-md5
    [55] =&gt; ssl3-sha1
)</pre>
</div>
    </div>
   </div>
  
 </div>


 <div class="refsect1 seealso" id="refsect1-function.openssl-get-md-methods-seealso">
  <h3 class="title">Ver también</h3>
  <p class="para">
   </p><ul class="simplelist">
    <li><span class="function"><a href="#function.openssl-digest" class="function" rel="rdfs-seeAlso">openssl_digest()</a> - Calcula un digest</span></li>
    <li><span class="function"><a href="#function.openssl-get-cipher-methods" class="function" rel="rdfs-seeAlso">openssl_get_cipher_methods()</a> - Obtiene la lista de métodos de cifrado disponibles</span></li>
   </ul>
  
 </div>


</div>
<hr>







<div id="function.openssl-get-privatekey" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">openssl_get_privatekey</h1>
  <p class="verinfo">(PHP 4 &gt;= 4.0.4, PHP 5, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">openssl_get_privatekey</span> — <span class="dc-title">Alias de <span class="function"><a href="#function.openssl-pkey-get-private" class="function">openssl_pkey_get_private()</a></span></span></p>

 </div>

 <div class="refsect1 description" id="refsect1-function.openssl-get-privatekey-description">
  <h3 class="title">Descripción</h3>
  <p class="simpara">
   Esta función es un alias de: 
   <span class="function"><a href="#function.openssl-pkey-get-private" class="function">openssl_pkey_get_private()</a></span>.
  </p>
 </div>


</div>
<hr>








<div id="function.openssl-get-publickey" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">openssl_get_publickey</h1>
  <p class="verinfo">(PHP 4 &gt;= 4.0.4, PHP 5, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">openssl_get_publickey</span> — <span class="dc-title">Alias de <span class="function"><a href="#function.openssl-pkey-get-public" class="function">openssl_pkey_get_public()</a></span></span></p>

 </div>

 <div class="refsect1 description" id="refsect1-function.openssl-get-publickey-description">
  <h3 class="title">Descripción</h3>
  <p class="simpara">
   Esta función es un alias de: 
   <span class="function"><a href="#function.openssl-pkey-get-public" class="function">openssl_pkey_get_public()</a></span>.
  </p>
 </div>

</div>
<hr>







<div id="function.openssl-open" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">openssl_open</h1>
  <p class="verinfo">(PHP 4 &gt;= 4.0.4, PHP 5, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">openssl_open</span> — <span class="dc-title">Abre datos sellados</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-function.openssl-open-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>openssl_open</strong></span>(<br>    <span class="methodparam"><span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$data</code></span>,<br>    <span class="methodparam"><span class="attribute"><a href="class.sensitiveparameter.html">#[\SensitiveParameter]</a> </span><span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter reference">&amp;$output</code></span>,<br>    <span class="methodparam"><span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$encrypted_key</code></span>,<br>    <span class="methodparam"><span class="attribute"><a href="class.sensitiveparameter.html">#[\SensitiveParameter]</a> </span><span class="type"><span class="type"><a href="#class.opensslasymmetrickey" class="type OpenSSLAsymmetricKey">OpenSSLAsymmetricKey</a></span>|<span class="type"><a href="#class.opensslcertificate" class="type OpenSSLCertificate">OpenSSLCertificate</a></span>|<span class="type"><a href="#language.types.array" class="type array">array</a></span>|<span class="type"><a href="#language.types.string" class="type string">string</a></span></span> <code class="parameter">$private_key</code></span>,<br>    <span class="methodparam"><span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$cipher_algo</code></span>,<br>    <span class="methodparam"><span class="type"><span class="type"><a href="#language.types.null" class="type null">?</a></span><span class="type"><a href="#language.types.string" class="type string">string</a></span></span> <code class="parameter">$iv</code><span class="initializer"> = <strong><code><a href="#constant.null">null</a></code></strong></span></span><br>): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>

  <p class="para rdfs-comment">
   La <span class="function"><strong>openssl_open()</strong></span> abre (descifra) <code class="parameter">data</code> utilizando una clave de envoltura
   que se descifra a partir de <code class="parameter">encrypted_key</code> utilizando
   <code class="parameter">private_key</code>. La descifrado se realiza mediante
   <code class="parameter">cipher_algo</code> y <code class="parameter">iv</code>. El IV es requerido únicamente si el
   método de cifrado lo exige. La función llena <code class="parameter">output</code> con los datos
   descifrados. La clave de envoltura generalmente se genera cuando los datos son sellados utilizando una clave pública
   asociada a la clave privada. Consulte <span class="function"><a href="#function.openssl-seal" class="function">openssl_seal()</a></span> para más información.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.openssl-open-parameters">
  <h3 class="title">Parámetros</h3>
  <p class="para">
   </p><dl>
    
     <dt><code class="parameter">data</code></dt>
     <dd>
      <p class="para">
       Los datos sellados.
      </p>
     </dd>
    
    
     <dt><code class="parameter">output</code></dt>
     <dd>
      <p class="para">
       Si la llamada tiene éxito, los datos abiertos son
       devueltos en este parámetro.
      </p>
     </dd>
    
    
     <dt><code class="parameter">encrypted_key</code></dt>
     <dd>
      <p class="para">
       La clave simétrica cifrada que puede ser descifrada utilizando <code class="parameter">private_key</code>
      </p>
     </dd>
    
    
     <dt><code class="parameter">private_key</code></dt>
     <dd>
      <p class="para">
       La clave privada utilizada para descifrar <code class="parameter">encrypted_key</code>.
      </p>
     </dd>
    
    
     <dt><code class="parameter">cipher_algo</code></dt>
     <dd>
      <p class="para">
       El método de cifrado utilizado para el descifrado de <code class="parameter">data</code>.
       </p><div class="caution"><strong class="caution">Precaución</strong>
        <p class="simpara">
         El valor por omisión para las versiones de PHP anteriores a 8.0 es (<code class="literal">'RC4'</code>), que es
         considerada como no segura. Se recomienda fuertemente especificar explícitamente un método de cifrado
         seguro.
        </p>
       </div>
      
     </dd>
    
    
     <dt><code class="parameter">iv</code></dt>
     <dd>
      <p class="para">
       El vector de inicialización utilizado para el descifrado de <code class="parameter">data</code>. Es requerido
       si el método de cifrado necesita un IV. Esto puede ser determinado llamando
       a <span class="function"><a href="#function.openssl-cipher-iv-length" class="function">openssl_cipher_iv_length()</a></span> con <code class="parameter">cipher_algo</code>.
      </p>
     </dd>
    
   </dl>
  
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.openssl-open-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Esta función retorna <strong><code><a href="#constant.true">true</a></code></strong> en caso de éxito o <strong><code><a href="#constant.false">false</a></code></strong> si ocurre un error.
  </p>
 </div>


 <div class="refsect1 changelog" id="refsect1-function.openssl-open-changelog">
  <h3 class="title">Historial de cambios</h3>
  <table class="doctable informaltable">
   
    <thead>
     <tr>
      <th>Versión</th>
      <th>Descripción</th>
     </tr>

    </thead>

    <tbody class="tbody">
     <tr>
      <td>8.0.0</td>
      <td>
       <code class="parameter">private_key</code> ahora acepta una instancia de
       <span class="classname"><a href="#class.opensslasymmetrickey" class="classname">OpenSSLAsymmetricKey</a></span> o <span class="classname"><a href="#class.opensslcertificate" class="classname">OpenSSLCertificate</a></span>;
       anteriormente, se aceptaba un <span class="type"><a href="#language.types.resource" class="type resource">resource</a></span> de tipo <code class="literal">OpenSSL key</code> o <code class="literal">OpenSSL X.509 CSR</code>.
      </td>
     </tr>

     <tr>
      <td>8.0.0</td>
      <td>
       <code class="parameter">cipher_algo</code> ya no es un parámetro opcional.
      </td>
     </tr>

    </tbody>
   
  </table>

 </div>


 <div class="refsect1 examples" id="refsect1-function.openssl-open-examples">
  <h3 class="title">Ejemplos</h3>
  <p class="para">
   </p><div class="example" id="example-1037">
    <p><strong>Ejemplo #1 Ejemplo con <span class="function"><strong>openssl_open()</strong></span></strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br><br></span><span style="color: #FF8000">// Se asume que $sealed, $env_key y $iv contienen los datos sellados,<br>// la clave de envoltura y el IV. Todos proporcionados por el remitente.<br><br>// Obtener la clave privada desde el archivo ubicado en private_key.pem<br></span><span style="color: #0000BB">$pkey </span><span style="color: #007700">= </span><span style="color: #0000BB">openssl_get_privatekey</span><span style="color: #007700">(</span><span style="color: #DD0000">"file://private_key.pem"</span><span style="color: #007700">);<br><br></span><span style="color: #FF8000">// Descifrado de los datos: se colocan en $open<br></span><span style="color: #007700">if (</span><span style="color: #0000BB">openssl_open</span><span style="color: #007700">(</span><span style="color: #0000BB">$sealed</span><span style="color: #007700">, </span><span style="color: #0000BB">$open</span><span style="color: #007700">, </span><span style="color: #0000BB">$env_key</span><span style="color: #007700">, </span><span style="color: #0000BB">$pkey</span><span style="color: #007700">, </span><span style="color: #DD0000">'AES256'</span><span style="color: #007700">, </span><span style="color: #0000BB">$iv</span><span style="color: #007700">)) {<br>    echo </span><span style="color: #DD0000">"Aquí están los datos descifrados: "</span><span style="color: #007700">, </span><span style="color: #0000BB">$open</span><span style="color: #007700">;<br>} else {<br>    echo </span><span style="color: #DD0000">"No se pudo descifrar los datos"</span><span style="color: #007700">;<br>}<br><br></span><span style="color: #0000BB">?&gt;</span></span></code></div>
    </div>

   </div>
  
 </div>


 <div class="refsect1 seealso" id="refsect1-function.openssl-open-seealso">
  <h3 class="title">Ver también</h3>
  <p class="para">
   </p><ul class="simplelist">
    <li><span class="function"><a href="#function.openssl-seal" class="function" rel="rdfs-seeAlso">openssl_seal()</a> - Sella datos</span></li>
   </ul>
  
 </div>


</div>
<hr>






<div id="function.openssl-pbkdf2" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">openssl_pbkdf2</h1>
  <p class="verinfo">(PHP 5 &gt;= 5.5.0, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">openssl_pbkdf2</span> — <span class="dc-title">Genera una cadena PKCS5 v2 PBKDF2</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-function.openssl-pbkdf2-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>openssl_pbkdf2</strong></span>(<br>    <span class="methodparam"><span class="attribute"><a href="class.sensitiveparameter.html">#[\SensitiveParameter]</a> </span><span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$password</code></span>,<br>    <span class="methodparam"><span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$salt</code></span>,<br>    <span class="methodparam"><span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$key_length</code></span>,<br>    <span class="methodparam"><span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$iterations</code></span>,<br>    <span class="methodparam"><span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$digest_algo</code><span class="initializer"> = "sha1"</span></span><br>): <span class="type"><span class="type"><a href="#language.types.string" class="type string">string</a></span>|<span class="type"><a href="#language.types.singleton" class="type false">false</a></span></span></div>

  <p class="para rdfs-comment">
   <span class="function"><strong>openssl_pbkdf2()</strong></span> calcula PBKDF2 (Password-Based Key Derivation Function 2),
   una función de derivación de clave definida en PKCS5 v2.
  </p>

 </div>


 <div class="refsect1 parameters" id="refsect1-function.openssl-pbkdf2-parameters">
  <h3 class="title">Parámetros</h3>
  <dl>
   
    <dt><code class="parameter">password</code></dt>
    <dd>
     <p class="para">
      Contraseña desde la cual se genera la clave derivada.
     </p>
    </dd>
   
   
    <dt><code class="parameter">salt</code></dt>
    <dd>
     <p class="para">
      PBKDF2 recomienda un sal criptográfico de al menos 128 bits (16 octetos).
     </p>
    </dd>
   
   
    <dt><code class="parameter">key_length</code></dt>
    <dd>
     <p class="para">
      Longitud deseada de la clave de salida.
     </p>
    </dd>
   
   
    <dt><code class="parameter">iterations</code></dt>
    <dd>
     <p class="para">
      El número de iteraciones deseado.
      <a href="https://nvlpubs.nist.gov/nistpubs/Legacy/SP/nistspecialpublication800-132.pdf" class="link external">» El NIST
      recomienda al menos 1 000</a>. A partir de 2023, el OWASP recomienda 600 000 iteraciones para
      PBKDF2-HMAC-SHA256 y 210 000 para PBKDF2-HMAC-SHA512.
     </p>
    </dd>
   
   
    <dt><code class="parameter">digest_algo</code></dt>
    <dd>
     <p class="para">
      Algoritmo de hash o digest opcional a partir de <span class="function"><a href="#function.openssl-get-md-methods" class="function">openssl_get_md_methods()</a></span>.
      Por omisión SHA-1. Se recomienda definirlo en SHA-256 o SHA-512.
     </p>
    </dd>
   
  </dl>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.openssl-pbkdf2-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Devuelve una cadena binaria sin tratar o <strong><code><a href="#constant.false">false</a></code></strong> si ocurre un error.
  </p>
 </div>


 <div class="refsect1 examples" id="refsect1-function.openssl-pbkdf2-examples">
  <h3 class="title">Ejemplos</h3>
  <p class="para">
   </p><div class="example" id="example-1038">
    <p><strong>Ejemplo #1 Ejemplo con openssl_pbkdf2()</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br>$password </span><span style="color: #007700">= </span><span style="color: #DD0000">'password'</span><span style="color: #007700">;<br></span><span style="color: #0000BB">$salt </span><span style="color: #007700">= </span><span style="color: #0000BB">openssl_random_pseudo_bytes</span><span style="color: #007700">(</span><span style="color: #0000BB">16</span><span style="color: #007700">);<br></span><span style="color: #0000BB">$keyLength </span><span style="color: #007700">= </span><span style="color: #0000BB">20</span><span style="color: #007700">;<br></span><span style="color: #0000BB">$iterations </span><span style="color: #007700">= </span><span style="color: #0000BB">600000</span><span style="color: #007700">;<br></span><span style="color: #0000BB">$generated_key </span><span style="color: #007700">= </span><span style="color: #0000BB">openssl_pbkdf2</span><span style="color: #007700">(</span><span style="color: #0000BB">$password</span><span style="color: #007700">, </span><span style="color: #0000BB">$salt</span><span style="color: #007700">, </span><span style="color: #0000BB">$keyLength</span><span style="color: #007700">, </span><span style="color: #0000BB">$iterations</span><span style="color: #007700">, </span><span style="color: #DD0000">'sha256'</span><span style="color: #007700">);<br>echo </span><span style="color: #0000BB">bin2hex</span><span style="color: #007700">(</span><span style="color: #0000BB">$generated_key</span><span style="color: #007700">).</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br>echo </span><span style="color: #0000BB">base64_encode</span><span style="color: #007700">(</span><span style="color: #0000BB">$generated_key</span><span style="color: #007700">).</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br></span><span style="color: #0000BB">?&gt;</span></span></code></div>
    </div>


   </div>
  
 </div>


 <div class="refsect1 seealso" id="refsect1-function.openssl-pbkdf2-seealso">
  <h3 class="title">Ver también</h3>
  <p class="para">
   </p><ul class="simplelist">
    <li><span class="function"><strong>hash_pbkdf2()</strong></span></li>
    <li><span class="function"><a href="#function.openssl-get-md-methods" class="function" rel="rdfs-seeAlso">openssl_get_md_methods()</a> - Obtiene la lista de métodos digest disponibles</span></li>
   </ul>
  
 </div>


</div>
<hr>






<div id="function.openssl-pkcs12-export" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">openssl_pkcs12_export</h1>
  <p class="verinfo">(PHP 5 &gt;= 5.2.2, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">openssl_pkcs12_export</span> — <span class="dc-title">Exporta un certificado compatible <abbr title="Public Key Cryptography Standards">PKCS</abbr>#12 a una variable</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-function.openssl-pkcs12-export-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>openssl_pkcs12_export</strong></span>(<br>    <span class="methodparam"><span class="type"><span class="type"><a href="#class.opensslcertificate" class="type OpenSSLCertificate">OpenSSLCertificate</a></span>|<span class="type"><a href="#language.types.string" class="type string">string</a></span></span> <code class="parameter">$certificate</code></span>,<br>    <span class="methodparam"><span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter reference">&amp;$output</code></span>,<br>    <span class="methodparam"><span class="attribute"><a href="class.sensitiveparameter.html">#[\SensitiveParameter]</a> </span><span class="type"><span class="type"><a href="#class.opensslasymmetrickey" class="type OpenSSLAsymmetricKey">OpenSSLAsymmetricKey</a></span>|<span class="type"><a href="#class.opensslcertificate" class="type OpenSSLCertificate">OpenSSLCertificate</a></span>|<span class="type"><a href="#language.types.array" class="type array">array</a></span>|<span class="type"><a href="#language.types.string" class="type string">string</a></span></span> <code class="parameter">$private_key</code></span>,<br>    <span class="methodparam"><span class="attribute"><a href="class.sensitiveparameter.html">#[\SensitiveParameter]</a> </span><span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$passphrase</code></span>,<br>    <span class="methodparam"><span class="type"><a href="#language.types.array" class="type array">array</a></span> <code class="parameter">$options</code><span class="initializer"> = []</span></span><br>): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>

  <p class="para rdfs-comment">
   <span class="function"><strong>openssl_pkcs12_export()</strong></span> almacena un certificado
   <code class="parameter">certificate</code> en una cadena denominada
   <code class="parameter">output</code> en un formato <abbr title="Public Key Cryptography Standards">PKCS</abbr>#12.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.openssl-pkcs12-export-parameters">
  <h3 class="title">Parámetros</h3>
  <p class="para">
   </p><dl>
    
<dt><code class="parameter">x509</code></dt>
<dd>
    <p class="para">
        Ver los <a href="#openssl.certparams" class="link">parámetros clave/Certificados</a>
        para una lista de valores válidos.
    </p>
</dd>

    
     <dt><code class="parameter">output</code></dt>
     <dd>
      <p class="para">
       En caso de éxito, esta variable contendrá el <abbr title="Public Key Cryptography Standards">PKCS</abbr>#12.
      </p>
     </dd>
    
    
     <dt><code class="parameter">private_key</code></dt>
     <dd>
      <p class="para">
       Clave privada del archivo <abbr title="Public Key Cryptography Standards">PKCS</abbr>#12.
       Consulte <a href="#openssl.certparams" class="link">Public/Private Key Parameters</a> para obtener la lista de valores válidos.
      </p>
     </dd>
    
    
     <dt><code class="parameter">passphrase</code></dt>
     <dd>
      <p class="para">
       Contraseña de cifrado para desbloquear el archivo <abbr title="Public Key Cryptography Standards">PKCS</abbr>#12.
      </p>
     </dd>
    
    
     <dt><code class="parameter">options</code></dt>
     <dd>
      <p class="para">
       Array opcional, las otras claves serán ignoradas.
       </p><table class="doctable informaltable">
        
         <thead>
          <tr>
           <th>Clave</th>
           <th>Descripción</th>
          </tr>

         </thead>

         <tbody class="tbody">
          <tr>
           <td><code class="literal">"extracerts"</code></td>
           <td>Array de certificados adicionales o de un certificado único a incluir en el archivo <abbr title="Public Key Cryptography Standards">PKCS</abbr>#12.</td>
          </tr>

          <tr>
           <td><code class="literal">"friendly_name"</code></td>
           <td>cadena a utilizar para el certificado y la clave proporcionados</td>
          </tr>

         </tbody>
        
       </table>

      
     </dd>
    
   </dl>
  
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.openssl-pkcs12-export-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Esta función retorna <strong><code><a href="#constant.true">true</a></code></strong> en caso de éxito o <strong><code><a href="#constant.false">false</a></code></strong> si ocurre un error.
  </p>
 </div>


 <div class="refsect1 changelog" id="refsect1-function.openssl-pkcs12-export-changelog">
  <h3 class="title">Historial de cambios</h3>
  <table class="doctable informaltable">
   
    <thead>
     <tr>
      <th>Versión</th>
      <th>Descripción</th>
     </tr>

    </thead>

    <tbody class="tbody">
     <tr>
      <td>8.0.0</td>
      <td>
       <code class="parameter">certificate</code> ahora acepta una instancia de
       <span class="classname"><a href="#class.opensslcertificate" class="classname">OpenSSLCertificate</a></span> ;
       anteriormente, se aceptaba un <span class="type"><a href="#language.types.resource" class="type resource">resource</a></span> de tipo <code class="literal">OpenSSL X.509 CSR</code>.
      </td>
     </tr>

     <tr>
      <td>8.0.0</td>
      <td>
       <code class="parameter">private_key</code> ahora acepta una instancia de
       <span class="classname"><a href="#class.opensslasymmetrickey" class="classname">OpenSSLAsymmetricKey</a></span> o <span class="classname"><a href="#class.opensslcertificate" class="classname">OpenSSLCertificate</a></span> ;
       anteriormente, se aceptaba un <span class="type"><a href="#language.types.resource" class="type resource">resource</a></span> de tipo <code class="literal">OpenSSL key</code> o <code class="literal">OpenSSL X.509</code>.
      </td>
     </tr>

    </tbody>
   
  </table>

 </div>


</div>
<hr>






<div id="function.openssl-pkcs12-export-to-file" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">openssl_pkcs12_export_to_file</h1>
  <p class="verinfo">(PHP 5 &gt;= 5.2.2, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">openssl_pkcs12_export_to_file</span> — <span class="dc-title">Exporta un certificado compatible con <abbr title="Public Key Cryptography Standards">PKCS</abbr>#12</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-function.openssl-pkcs12-export-to-file-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>openssl_pkcs12_export_to_file</strong></span>(<br>    <span class="methodparam"><span class="type"><span class="type"><a href="#class.opensslcertificate" class="type OpenSSLCertificate">OpenSSLCertificate</a></span>|<span class="type"><a href="#language.types.string" class="type string">string</a></span></span> <code class="parameter">$certificate</code></span>,<br>    <span class="methodparam"><span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$output_filename</code></span>,<br>    <span class="methodparam"><span class="attribute"><a href="class.sensitiveparameter.html">#[\SensitiveParameter]</a> </span><span class="type"><span class="type"><a href="#class.opensslasymmetrickey" class="type OpenSSLAsymmetricKey">OpenSSLAsymmetricKey</a></span>|<span class="type"><a href="#class.opensslcertificate" class="type OpenSSLCertificate">OpenSSLCertificate</a></span>|<span class="type"><a href="#language.types.array" class="type array">array</a></span>|<span class="type"><a href="#language.types.string" class="type string">string</a></span></span> <code class="parameter">$private_key</code></span>,<br>    <span class="methodparam"><span class="attribute"><a href="class.sensitiveparameter.html">#[\SensitiveParameter]</a> </span><span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$passphrase</code></span>,<br>    <span class="methodparam"><span class="type"><a href="#language.types.array" class="type array">array</a></span> <code class="parameter">$options</code><span class="initializer"> = []</span></span><br>): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>

  <p class="para rdfs-comment">
   <span class="function"><strong>openssl_pkcs12_export_to_file()</strong></span> almacena un certificado
   <code class="parameter">certificate</code> en un fichero denominado
   <code class="parameter">output_filename</code> en un formato de fichero <abbr title="Public Key Cryptography Standards">PKCS</abbr>#12.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.openssl-pkcs12-export-to-file-parameters">
  <h3 class="title">Parámetros</h3>
  <p class="para">
   </p><dl>
    
<dt><code class="parameter">x509</code></dt>
<dd>
    <p class="para">
        Ver los <a href="#openssl.certparams" class="link">parámetros clave/Certificados</a>
        para una lista de valores válidos.
    </p>
</dd>

    
     <dt><code class="parameter">output_filename</code></dt>
     <dd>
      <p class="para">
       Ruta de acceso al fichero de salida.
      </p>
     </dd>
    
    
     <dt><code class="parameter">private_key</code></dt>
     <dd>
      <p class="para">
       Clave privada del fichero <abbr title="Public Key Cryptography Standards">PKCS</abbr>#12.
       Ver <a href="#openssl.certparams" class="link">parámetros Clave/Certificado</a>
       para una lista de valores válidos.
      </p>
     </dd>
    
    
     <dt><code class="parameter">passphrase</code></dt>
     <dd>
      <p class="para">
       Contraseña de cifrado para desbloquear el fichero <abbr title="Public Key Cryptography Standards">PKCS</abbr>#12.
      </p>
     </dd>
    
    
     <dt><code class="parameter">options</code></dt>
     <dd>
      <p class="para">
       Array opcional, las demás claves serán ignoradas.
       </p><table class="doctable informaltable">
        
         <thead>
          <tr>
           <th>Clave</th>
           <th>Descripción</th>
          </tr>

         </thead>

         <tbody class="tbody">
          <tr>
           <td><code class="literal">"extracerts"</code></td>
           <td>
            array de certificados adicionales o un certificado único a incluir
            en el fichero <abbr title="Public Key Cryptography Standards">PKCS</abbr>#12.</td>
          </tr>

          <tr>
           <td><code class="literal">"friendly_name"</code></td>
           <td><span class="type"><a href="#language.types.string" class="type string">string</a></span> a utilizar para el certificado y la clave proporcionados</td>
          </tr>

         </tbody>
        
       </table>

      
     </dd>
    
   </dl>
  
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.openssl-pkcs12-export-to-file-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Esta función retorna <strong><code><a href="#constant.true">true</a></code></strong> en caso de éxito o <strong><code><a href="#constant.false">false</a></code></strong> si ocurre un error.
  </p>
 </div>


 <div class="refsect1 changelog" id="refsect1-function.openssl-pkcs12-export-to-file-changelog">
  <h3 class="title">Historial de cambios</h3>
  <table class="doctable informaltable">
   
    <thead>
     <tr>
      <th>Versión</th>
      <th>Descripción</th>
     </tr>

    </thead>

    <tbody class="tbody">
     <tr>
      <td>8.0.0</td>
      <td>
       <code class="parameter">certificate</code> ahora acepta una instancia de
       <span class="classname"><a href="#class.opensslcertificate" class="classname">OpenSSLCertificate</a></span> ;
       anteriormente, se aceptaba un <span class="type"><a href="#language.types.resource" class="type resource">resource</a></span> de tipo <code class="literal">OpenSSL X.509 CSR</code>.
      </td>
     </tr>

     <tr>
      <td>8.0.0</td>
      <td>
       <code class="parameter">private_key</code> ahora acepta una instancia de
       <span class="classname"><a href="#class.opensslasymmetrickey" class="classname">OpenSSLAsymmetricKey</a></span> o <span class="classname"><a href="#class.opensslcertificate" class="classname">OpenSSLCertificate</a></span> ;
       anteriormente, se aceptaba un <span class="type"><a href="#language.types.resource" class="type resource">resource</a></span> de tipo <code class="literal">OpenSSL key</code> o <code class="literal">OpenSSL X.509</code>.
      </td>
     </tr>

    </tbody>
   
  </table>

 </div>


</div>
<hr>







<div id="function.openssl-pkcs12-read" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">openssl_pkcs12_read</h1>
  <p class="verinfo">(PHP 5 &gt;= 5.2.2, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">openssl_pkcs12_read</span> — <span class="dc-title">Lee un certificado <abbr title="Public Key Cryptography Standards">PKCS</abbr>#12 en un array</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-function.openssl-pkcs12-read-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>openssl_pkcs12_read</strong></span>(<span class="methodparam"><span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$pkcs12</code></span>, <span class="methodparam"><span class="type"><a href="#language.types.array" class="type array">array</a></span> <code class="parameter reference">&amp;$certificates</code></span>, <span class="methodparam"><span class="attribute"><a href="class.sensitiveparameter.html">#[\SensitiveParameter]</a> </span><span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$passphrase</code></span>): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>

  <p class="para rdfs-comment">
   <span class="function"><strong>openssl_pkcs12_read()</strong></span> lee el certificado <abbr title="Public Key Cryptography Standards">PKCS</abbr>#12 proporcionado por el
   argumento <code class="parameter">pkcs12</code> en un array denominado <code class="parameter">certificates</code>.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.openssl-pkcs12-read-parameters">
  <h3 class="title">Parámetros</h3>
  <p class="para">
   </p><dl>
    
     <dt><code class="parameter">pkcs12</code></dt>
     <dd>
      <p class="para">
       El contenido del almacén de certificados, no el nombre del fichero.
      </p>
     </dd>
    
    
     <dt><code class="parameter">certificates</code></dt>
     <dd>
      <p class="para">
       En caso de éxito, este array contendrá los datos del certificado.
      </p>
     </dd>
    
    
     <dt><code class="parameter">passphrase</code></dt>
     <dd>
      <p class="para">
       Frase de contraseña para desencriptar el archivo <abbr title="Public Key Cryptography Standards">PKCS</abbr>#12.
      </p>
     </dd>
    
   </dl>
  
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.openssl-pkcs12-read-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Esta función retorna <strong><code><a href="#constant.true">true</a></code></strong> en caso de éxito o <strong><code><a href="#constant.false">false</a></code></strong> si ocurre un error.
  </p>
 </div>


 <div class="refsect1 examples" id="refsect1-function.openssl-pkcs12-read-examples">
  <h3 class="title">Ejemplos</h3>
  <div class="example" id="example-1039">
   <p><strong>Ejemplo #1 <span class="function"><strong>openssl_pkcs12_read()</strong></span> example</strong></p>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br></span><span style="color: #007700">if (!</span><span style="color: #0000BB">$cert_store </span><span style="color: #007700">= </span><span style="color: #0000BB">file_get_contents</span><span style="color: #007700">(</span><span style="color: #DD0000">"/certs/file.p12"</span><span style="color: #007700">)) {<br>    echo </span><span style="color: #DD0000">"Error: No se pudo leer el fichero de certificado\n"</span><span style="color: #007700">;<br>    exit;<br>}<br><br>if (</span><span style="color: #0000BB">openssl_pkcs12_read</span><span style="color: #007700">(</span><span style="color: #0000BB">$cert_store</span><span style="color: #007700">, </span><span style="color: #0000BB">$cert_info</span><span style="color: #007700">, </span><span style="color: #DD0000">"my_secret_pass"</span><span style="color: #007700">)) {<br>    echo </span><span style="color: #DD0000">"Información del Certificado\n"</span><span style="color: #007700">;<br>    </span><span style="color: #0000BB">print_r</span><span style="color: #007700">(</span><span style="color: #0000BB">$cert_info</span><span style="color: #007700">);<br>} else {<br>    echo </span><span style="color: #DD0000">"Error: No se pudo leer el almacén de certificados.\n"</span><span style="color: #007700">;<br>    exit;<br>}<br></span><span style="color: #0000BB">?&gt;</span></span></code></div>
   </div>

  </div>
 </div>


</div>
<hr>







<div id="function.openssl-pkcs7-decrypt" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">openssl_pkcs7_decrypt</h1>
  <p class="verinfo">(PHP 4 &gt;= 4.0.6, PHP 5, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">openssl_pkcs7_decrypt</span> — <span class="dc-title">Descifra un mensaje S/MIME</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-function.openssl-pkcs7-decrypt-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>openssl_pkcs7_decrypt</strong></span>(<br>    <span class="methodparam"><span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$input_filename</code></span>,<br>    <span class="methodparam"><span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$output_filename</code></span>,<br>    <span class="methodparam"><span class="attribute"><a href="class.sensitiveparameter.html">#[\SensitiveParameter]</a> </span><span class="type"><span class="type"><a href="#class.opensslcertificate" class="type OpenSSLCertificate">OpenSSLCertificate</a></span>|<span class="type"><a href="#language.types.string" class="type string">string</a></span></span> <code class="parameter">$certificate</code></span>,<br>    <span class="methodparam"><span class="attribute"><a href="class.sensitiveparameter.html">#[\SensitiveParameter]</a> </span><span class="type"><span class="type"><a href="#class.opensslasymmetrickey" class="type OpenSSLAsymmetricKey">OpenSSLAsymmetricKey</a></span>|<span class="type"><a href="#class.opensslcertificate" class="type OpenSSLCertificate">OpenSSLCertificate</a></span>|<span class="type"><a href="#language.types.array" class="type array">array</a></span>|<span class="type"><a href="#language.types.string" class="type string">string</a></span>|<span class="type"><a href="#language.types.null" class="type null">null</a></span></span> <code class="parameter">$private_key</code><span class="initializer"> = <strong><code><a href="#constant.null">null</a></code></strong></span></span><br>): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>

  <p class="para rdfs-comment">
   Descifra el mensaje S/MIME contenido en el fichero
   <code class="parameter">input_filename</code>, utilizando el certificado y la clave privada asociados por
   <code class="parameter">certificate</code> y <code class="parameter">private_key</code>.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.openssl-pkcs7-decrypt-parameters">
  <h3 class="title">Parámetros</h3>
  <p class="para">
   </p><dl>
    
     <dt><code class="parameter">input_filename</code></dt>
     <dd>
      <p class="para">
      </p>
     </dd>
    
    
     <dt><code class="parameter">output_filename</code></dt>
     <dd>
      <p class="para">
       El mensaje descifrado se escribe en el fichero especificado por este argumento.
      </p>
     </dd>
    
    
     <dt><code class="parameter">certificate</code></dt>
     <dd>
      <p class="para">
      </p>
     </dd>
    
    
     <dt><code class="parameter">private_key</code></dt>
     <dd>
      <p class="para">
      </p>
     </dd>
    
   </dl>
  
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.openssl-pkcs7-decrypt-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Esta función retorna <strong><code><a href="#constant.true">true</a></code></strong> en caso de éxito o <strong><code><a href="#constant.false">false</a></code></strong> si ocurre un error.
  </p>
 </div>


 <div class="refsect1 changelog" id="refsect1-function.openssl-pkcs7-decrypt-changelog">
  <h3 class="title">Historial de cambios</h3>
  <table class="doctable informaltable">
   
    <thead>
     <tr>
      <th>Versión</th>
      <th>Descripción</th>
     </tr>

    </thead>

    <tbody class="tbody">
     <tr>
      <td>8.0.0</td>
      <td>
       <code class="parameter">private_key</code> acepta ahora una instancia de
       <span class="classname"><a href="#class.opensslasymmetrickey" class="classname">OpenSSLAsymmetricKey</a></span> o <span class="classname"><a href="#class.opensslcertificate" class="classname">OpenSSLCertificate</a></span>;
       anteriormente, se aceptaba un <span class="type"><a href="#language.types.resource" class="type resource">resource</a></span> de tipo <code class="literal">OpenSSL key</code> o <code class="literal">OpenSSL X.509 CSR</code>.
      </td>
     </tr>

    </tbody>
   
  </table>

 </div>


 <div class="refsect1 examples" id="refsect1-function.openssl-pkcs7-decrypt-examples">
  <h3 class="title">Ejemplos</h3>
  <p class="para">
   </p><div class="example" id="example-1040">
    <p><strong>Ejemplo #1 Ejemplo con <span class="function"><strong>openssl_pkcs7_decrypt()</strong></span></strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br></span><span style="color: #FF8000">// $cert y $key contienen sus certificados y claves privadas<br>// Se asume que el mensaje está dirigido a usted<br></span><span style="color: #0000BB">$infilename </span><span style="color: #007700">= </span><span style="color: #DD0000">"encrypted.msg"</span><span style="color: #007700">;  </span><span style="color: #FF8000">// este fichero contiene su mensaje cifrado<br></span><span style="color: #0000BB">$outfilename </span><span style="color: #007700">= </span><span style="color: #DD0000">"decrypted.msg"</span><span style="color: #007700">; </span><span style="color: #FF8000">// asegúrese de poder escribir en este fichero<br><br></span><span style="color: #007700">if (</span><span style="color: #0000BB">openssl_pkcs7_decrypt</span><span style="color: #007700">(</span><span style="color: #0000BB">$infilename</span><span style="color: #007700">, </span><span style="color: #0000BB">$outfilename</span><span style="color: #007700">, </span><span style="color: #0000BB">$cert</span><span style="color: #007700">, </span><span style="color: #0000BB">$key</span><span style="color: #007700">)) {<br>    echo </span><span style="color: #DD0000">"descifrado !"</span><span style="color: #007700">;<br>} else {<br>    echo </span><span style="color: #DD0000">"Error al descifrar !"</span><span style="color: #007700">;<br>}<br></span><span style="color: #0000BB">?&gt;</span></span></code></div>
    </div>

   </div>
  
 </div>


</div>
<hr>






<div id="function.openssl-pkcs7-encrypt" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">openssl_pkcs7_encrypt</h1>
  <p class="verinfo">(PHP 4 &gt;= 4.0.6, PHP 5, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">openssl_pkcs7_encrypt</span> — <span class="dc-title">Cifra un mensaje S/MIME</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-function.openssl-pkcs7-encrypt-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>openssl_pkcs7_encrypt</strong></span>(<br>    <span class="methodparam"><span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$input_filename</code></span>,<br>    <span class="methodparam"><span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$output_filename</code></span>,<br>    <span class="methodparam"><span class="type"><span class="type"><a href="#class.opensslcertificate" class="type OpenSSLCertificate">OpenSSLCertificate</a></span>|<span class="type"><a href="#language.types.array" class="type array">array</a></span>|<span class="type"><a href="#language.types.string" class="type string">string</a></span></span> <code class="parameter">$certificate</code></span>,<br>    <span class="methodparam"><span class="type"><span class="type"><a href="#language.types.null" class="type null">?</a></span><span class="type"><a href="#language.types.array" class="type array">array</a></span></span> <code class="parameter">$headers</code></span>,<br>    <span class="methodparam"><span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$flags</code><span class="initializer"> = 0</span></span>,<br>    <span class="methodparam"><span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$cipher_algo</code><span class="initializer"> = <strong><code><a href="#constant.openssl-cipher-aes-128-cbc">OPENSSL_CIPHER_AES_128_CBC</a></code></strong></span></span><br>): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>

  <p class="para rdfs-comment">
   <span class="function"><strong>openssl_pkcs7_encrypt()</strong></span> toma el contenido del fichero
   <code class="parameter">input_filename</code> y lo cifra utilizando un
   cifrado RC2 de 40 bits, de manera que el mensaje solo pueda
   ser leído por el poseedor de <code class="parameter">certificate</code>.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.openssl-pkcs7-encrypt-parameters">
  <h3 class="title">Parámetros</h3>
  <p class="para">
   </p><dl>
    
     <dt><code class="parameter">input_filename</code></dt>
     <dd>
      <p class="para">
      </p>
     </dd>
    
    
     <dt><code class="parameter">output_filename</code></dt>
     <dd>
      <p class="para">
      </p>
     </dd>
    
    
     <dt><code class="parameter">certificate</code></dt>
     <dd>
      <p class="para">
       Puede ser un certificado X.509 o un array de certificados X.509.
      </p>
     </dd>
    
    
     <dt><code class="parameter">headers</code></dt>
     <dd>
      <p class="para">
       <code class="parameter">headers</code> es un array de encabezados que serán
       añadidos al inicio del mensaje, una vez que los datos hayan sido
       cifrados.
      </p>
      <p class="para">
       <code class="parameter">headers</code> puede ser un array asociativo, donde
       las claves son los nombres de los encabezados, o bien un array indexado donde cada
       línea contiene un encabezado completo.
      </p>
     </dd>
    
    
     <dt><code class="parameter">flags</code></dt>
     <dd>
      <p class="para">
       <code class="parameter">flags</code> puede ser utilizado para especificar
       opciones que afectarán al cifrado (ver las
       <a href="#openssl.pkcs7.flags" class="link">constantes PKCS7</a>).
      </p>
     </dd>
    
    
     <dt><code class="parameter">cipher_algo</code></dt>
     <dd>
      <p class="para">
       Una de las <a href="#openssl.ciphers" class="link">constantes cipher</a>.
      </p>
     </dd>
    
   </dl>
  
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.openssl-pkcs7-encrypt-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Esta función retorna <strong><code><a href="#constant.true">true</a></code></strong> en caso de éxito o <strong><code><a href="#constant.false">false</a></code></strong> si ocurre un error.
  </p>
 </div>


 <div class="refsect1 changelog" id="refsect1-function.openssl-pkcs7-encrypt-changelog">
  <h3 class="title">Historial de cambios</h3>
  <table class="doctable informaltable">
   
    <thead>
     <tr>
      <th>Versión</th>
      <th>Descripción</th>
     </tr>

    </thead>

    <tbody class="tbody">
     <tr>
      <td>8.1.0</td>
      <td>
       El algoritmo de cifrado por omisión (<code class="parameter">cipher_algo</code>)
       es ahora AES-128-CBC (<strong><code><a href="#constant.openssl-cipher-aes-128-cbc">OPENSSL_CIPHER_AES_128_CBC</a></code></strong>).
       Anteriormente, se utilizaba PKCS7/CMS (<strong><code><a href="#constant.openssl-cipher-rc2-40">OPENSSL_CIPHER_RC2_40</a></code></strong>).
      </td>
     </tr>

     <tr>
      <td>8.0.0</td>
      <td>
       <code class="parameter">certificate</code> acepta ahora una instancia de
       <span class="classname"><a href="#class.opensslcertificate" class="classname">OpenSSLCertificate</a></span>;
       anteriormente, se aceptaba un <span class="type"><a href="#language.types.resource" class="type resource">resource</a></span> de tipo <code class="literal">OpenSSL X.509 CSR</code>.
      </td>
     </tr>

    </tbody>
   
  </table>

 </div>


 <div class="refsect1 examples" id="refsect1-function.openssl-pkcs7-encrypt-examples">
  <h3 class="title">Ejemplos</h3>
  <p class="para">
   </p><div class="example" id="example-1041">
    <p><strong>Ejemplo #1 Ejemplo con <span class="function"><strong>openssl_pkcs7_encrypt()</strong></span></strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br></span><span style="color: #FF8000">// el mensaje que se desea cifrar y enviar a su agente secreto<br>// en misión, llamado "nighthawk". Tiene su certificado<br>// en el fichero "nighthawk.pem"<br></span><span style="color: #0000BB">$data </span><span style="color: #007700">= &lt;&lt;&lt;EOD<br></span><span style="color: #DD0000">Nighthawk,<br><br>Top secret, solo para sus ojos !<br><br>El enemigo se acerca! Reúnase en el café a las 8:30,<br>para su pasaporte falso.<br><br>HQ<br></span><span style="color: #007700">EOD;<br><br></span><span style="color: #FF8000">// Carga de la clave<br></span><span style="color: #0000BB">$key </span><span style="color: #007700">= </span><span style="color: #0000BB">file_get_contents</span><span style="color: #007700">(</span><span style="color: #DD0000">"nighthawk.pem"</span><span style="color: #007700">);<br><br></span><span style="color: #FF8000">// Guardado del mensaje en un fichero<br></span><span style="color: #0000BB">$fp </span><span style="color: #007700">= </span><span style="color: #0000BB">fopen</span><span style="color: #007700">(</span><span style="color: #DD0000">"msg.txt"</span><span style="color: #007700">, </span><span style="color: #DD0000">"w"</span><span style="color: #007700">);<br></span><span style="color: #0000BB">fwrite</span><span style="color: #007700">(</span><span style="color: #0000BB">$fp</span><span style="color: #007700">, </span><span style="color: #0000BB">$data</span><span style="color: #007700">);<br></span><span style="color: #0000BB">fclose</span><span style="color: #007700">(</span><span style="color: #0000BB">$fp</span><span style="color: #007700">);<br><br></span><span style="color: #FF8000">// Cifrado del mensaje<br></span><span style="color: #007700">if (</span><span style="color: #0000BB">openssl_pkcs7_encrypt</span><span style="color: #007700">(</span><span style="color: #DD0000">"msg.txt"</span><span style="color: #007700">, </span><span style="color: #DD0000">"enc.txt"</span><span style="color: #007700">, </span><span style="color: #0000BB">$key</span><span style="color: #007700">,<br>    array(</span><span style="color: #DD0000">"To" </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">"nighthawk@example.com"</span><span style="color: #007700">, </span><span style="color: #FF8000">// sintaxis en forma de clave<br>          </span><span style="color: #DD0000">"From: HQ &lt;hq@example.com&gt;"</span><span style="color: #007700">, </span><span style="color: #FF8000">// sintaxis en forma de índice<br>          </span><span style="color: #DD0000">"Subject" </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">"Solo para sus ojos !"</span><span style="color: #007700">))) {<br>    </span><span style="color: #FF8000">// mensaje cifrado - envíelo !<br>    </span><span style="color: #0000BB">exec</span><span style="color: #007700">(</span><span style="color: #0000BB">ini_get</span><span style="color: #007700">(</span><span style="color: #DD0000">"sendmail_path"</span><span style="color: #007700">) . </span><span style="color: #DD0000">" &lt; enc.txt"</span><span style="color: #007700">);<br>}<br></span><span style="color: #0000BB">?&gt;</span></span></code></div>
    </div>

   </div>
  
 </div>


</div>
<hr>







<div id="function.openssl-pkcs7-read" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">openssl_pkcs7_read</h1>
  <p class="verinfo">(PHP 7 &gt;= 7.2.0, PHP 8)</p><p class="refpurpose"><span class="refname">openssl_pkcs7_read</span> — <span class="dc-title">Exporta el fichero PKCS7 a un array de certificados <abbr title="Privacy-Enhanced Mail">PEM</abbr></span></p>

 </div>

 <div class="refsect1 description" id="refsect1-function.openssl-pkcs7-read-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>openssl_pkcs7_read</strong></span>(<span class="methodparam"><span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$data</code></span>, <span class="methodparam"><span class="type"><a href="#language.types.array" class="type array">array</a></span> <code class="parameter reference">&amp;$certificates</code></span>): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>

  <p class="para rdfs-comment">

  </p>

  
<div class="warning"><strong class="warning">Advertencia</strong>
<p class="simpara">
 Esta función está actualmente no documentada; solo la lista de sus argumentos está disponible.
</p>
</div>


 </div>


 <div class="refsect1 parameters" id="refsect1-function.openssl-pkcs7-read-parameters">
  <h3 class="title">Parámetros</h3>
  <dl>
   
    <dt><code class="parameter">data</code></dt>
    <dd>
     <p class="para">
      El string de datos que debe ser analizado (en formato p7b).
     </p>
    </dd>
   
   
    <dt><code class="parameter">certificates</code></dt>
    <dd>
     <p class="para">
      Un array de certificados <abbr title="Privacy-Enhanced Mail">PEM</abbr> desde los datos de entrada p7b.
     </p>
    </dd>
   
  </dl>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.openssl-pkcs7-read-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Esta función retorna <strong><code><a href="#constant.true">true</a></code></strong> en caso de éxito o <strong><code><a href="#constant.false">false</a></code></strong> si ocurre un error.
  </p>
 </div>


 <div class="refsect1 examples" id="refsect1-function.openssl-pkcs7-read-examples">
  <h3 class="title">Ejemplos</h3>
  <p class="para">
   </p><div class="example" id="example-1042">
    <p><strong>Ejemplo #1 Obtener un array <abbr title="Privacy-Enhanced Mail">PEM</abbr> desde un fichero P7B</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br><br>$file </span><span style="color: #007700">= </span><span style="color: #DD0000">'certs.p7b'</span><span style="color: #007700">;<br><br></span><span style="color: #0000BB">$f </span><span style="color: #007700">= </span><span style="color: #0000BB">file_get_contents</span><span style="color: #007700">(</span><span style="color: #0000BB">$file</span><span style="color: #007700">);<br></span><span style="color: #0000BB">$p7 </span><span style="color: #007700">= array();<br></span><span style="color: #0000BB">$r </span><span style="color: #007700">= </span><span style="color: #0000BB">openssl_pkcs7_read</span><span style="color: #007700">(</span><span style="color: #0000BB">$f</span><span style="color: #007700">, </span><span style="color: #0000BB">$p7</span><span style="color: #007700">);<br><br>if (</span><span style="color: #0000BB">$r </span><span style="color: #007700">=== </span><span style="color: #0000BB">false</span><span style="color: #007700">) {<br>    </span><span style="color: #0000BB">printf</span><span style="color: #007700">(</span><span style="color: #DD0000">"ERROR: %s no es un fichero p7b válido"</span><span style="color: #007700">.</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">, </span><span style="color: #0000BB">$file</span><span style="color: #007700">);<br>        for(</span><span style="color: #0000BB">$e </span><span style="color: #007700">= </span><span style="color: #0000BB">openssl_error_string</span><span style="color: #007700">(), </span><span style="color: #0000BB">$i </span><span style="color: #007700">= </span><span style="color: #0000BB">0</span><span style="color: #007700">; </span><span style="color: #0000BB">$e</span><span style="color: #007700">; </span><span style="color: #0000BB">$e </span><span style="color: #007700">= </span><span style="color: #0000BB">openssl_error_string</span><span style="color: #007700">(), </span><span style="color: #0000BB">$i</span><span style="color: #007700">++)<br>            </span><span style="color: #0000BB">printf</span><span style="color: #007700">(</span><span style="color: #DD0000">"SSL l%d: %s"</span><span style="color: #007700">.</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">, </span><span style="color: #0000BB">$i</span><span style="color: #007700">, </span><span style="color: #0000BB">$e</span><span style="color: #007700">);<br>    exit(</span><span style="color: #0000BB">1</span><span style="color: #007700">);<br>}<br><br></span><span style="color: #0000BB">print_r</span><span style="color: #007700">(</span><span style="color: #0000BB">$p7</span><span style="color: #007700">);<br></span><span style="color: #0000BB">?&gt;</span></span></code></div>
    </div>

   </div>

  
 </div>


 <div class="refsect1 seealso" id="refsect1-function.openssl-pkcs7-read-seealso">
  <h3 class="title">Ver también</h3>
  <p class="para">
   </p><ul class="simplelist">
    <li><span class="function"><a href="#function.openssl-csr-sign" class="function" rel="rdfs-seeAlso">openssl_csr_sign()</a> - Firma un CSR con otro certificado (o consigo mismo) y genera un certificado</span></li>
   </ul>
  
 </div>


</div>
<hr>







<div id="function.openssl-pkcs7-sign" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">openssl_pkcs7_sign</h1>
  <p class="verinfo">(PHP 4 &gt;= 4.0.6, PHP 5, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">openssl_pkcs7_sign</span> — <span class="dc-title">Firma un mensaje S/MIME</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-function.openssl-pkcs7-sign-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>openssl_pkcs7_sign</strong></span>(<br>    <span class="methodparam"><span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$input_filename</code></span>,<br>    <span class="methodparam"><span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$output_filename</code></span>,<br>    <span class="methodparam"><span class="type"><span class="type"><a href="#class.opensslcertificate" class="type OpenSSLCertificate">OpenSSLCertificate</a></span>|<span class="type"><a href="#language.types.string" class="type string">string</a></span></span> <code class="parameter">$certificate</code></span>,<br>    <span class="methodparam"><span class="attribute"><a href="class.sensitiveparameter.html">#[\SensitiveParameter]</a> </span><span class="type"><span class="type"><a href="#class.opensslasymmetrickey" class="type OpenSSLAsymmetricKey">OpenSSLAsymmetricKey</a></span>|<span class="type"><a href="#class.opensslcertificate" class="type OpenSSLCertificate">OpenSSLCertificate</a></span>|<span class="type"><a href="#language.types.array" class="type array">array</a></span>|<span class="type"><a href="#language.types.string" class="type string">string</a></span></span> <code class="parameter">$private_key</code></span>,<br>    <span class="methodparam"><span class="type"><span class="type"><a href="#language.types.null" class="type null">?</a></span><span class="type"><a href="#language.types.array" class="type array">array</a></span></span> <code class="parameter">$headers</code></span>,<br>    <span class="methodparam"><span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$flags</code><span class="initializer"> = <strong><code><a href="#constant.pkcs7-detached">PKCS7_DETACHED</a></code></strong></span></span>,<br>    <span class="methodparam"><span class="type"><span class="type"><a href="#language.types.null" class="type null">?</a></span><span class="type"><a href="#language.types.string" class="type string">string</a></span></span> <code class="parameter">$untrusted_certificates_filename</code><span class="initializer"> = <strong><code><a href="#constant.null">null</a></code></strong></span></span><br>): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>

  <p class="para rdfs-comment">
   <span class="function"><strong>openssl_pkcs7_sign()</strong></span> toma el contenido del fichero
   <code class="parameter">input_filename</code> y lo firma utilizando el
   certificado y la clave privada contenidos en los argumentos
   <code class="parameter">certificate</code> y <code class="parameter">private_key</code>.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.openssl-pkcs7-sign-parameters">
  <h3 class="title">Parámetros</h3>
  <p class="para">
   </p><dl>
    
     <dt><code class="parameter">input_filename</code></dt>
     <dd>
      <p class="para">
       El fichero de entrada que se tiene la intención de firmar digitalmente.
      </p>
     </dd>
    
    
     <dt><code class="parameter">output_filename</code></dt>
     <dd>
      <p class="para">
       El fichero donde se escribirá la firma digital.
      </p>
     </dd>
    
    
     <dt><code class="parameter">certificate</code></dt>
     <dd>
      <p class="para">
       El certificado X.509 utilizado para firmar digitalmente <code class="parameter">input_filename</code>.
       Ver <a href="#openssl.certparams" class="link">parámetros Clave/Certificado</a>
       para una lista de valores válidos.
      </p>
     </dd>
    
    
     <dt><code class="parameter">private_key</code></dt>
     <dd>
      <p class="para">
       <code class="parameter">private_key</code> es la clave privada correspondiente a <code class="parameter">certificate</code>.
       Ver <a href="#openssl.certparams" class="link">parámetros Clave Pública/Privada</a>
       para una lista de valores válidos.
      </p>
     </dd>
    
    
     <dt><code class="parameter">headers</code></dt>
     <dd>
      <p class="para">
       <code class="parameter">headers</code> es un array de encabezados que
       serán añadidos a los datos cifrados (ver la función
       <span class="function"><a href="#function.openssl-pkcs7-encrypt" class="function">openssl_pkcs7_encrypt()</a></span> para más detalles sobre
       el formato del parámetro).
      </p>
     </dd>
    
    
     <dt><code class="parameter">flags</code></dt>
     <dd>
      <p class="para">
       <code class="parameter">flags</code> puede ser utilizado para modificar la salida.
       Ver las <a href="#openssl.pkcs7.flags" class="link">constantes PKCS7</a>.
      </p>
     </dd>
    
    
     <dt><code class="parameter">untrusted_certificates_filename</code></dt>
     <dd>
      <p class="para">
       <code class="parameter">untrusted_certificates_filename</code> especifica el nombre del fichero que contiene
       un conjunto de certificados adicionales a incluir en la
       firma, los cuales podrán ayudar al destinatario a verificar los
       datos que se utilizan.
      </p>
     </dd>
    
   </dl>
  
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.openssl-pkcs7-sign-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Esta función retorna <strong><code><a href="#constant.true">true</a></code></strong> en caso de éxito o <strong><code><a href="#constant.false">false</a></code></strong> si ocurre un error.
  </p>
 </div>


 <div class="refsect1 changelog" id="refsect1-function.openssl-pkcs7-sign-changelog">
  <h3 class="title">Historial de cambios</h3>
  <table class="doctable informaltable">
   
    <thead>
     <tr>
      <th>Versión</th>
      <th>Descripción</th>
     </tr>

    </thead>

    <tbody class="tbody">
     <tr>
      <td>8.0.0</td>
      <td>
       <code class="parameter">certificate</code> ahora acepta una instancia de
       <span class="classname"><a href="#class.opensslcertificate" class="classname">OpenSSLCertificate</a></span> ;
       anteriormente, se aceptaba un <span class="type"><a href="#language.types.resource" class="type resource">resource</a></span> de tipo <code class="literal">OpenSSL X.509 CSR</code>.
      </td>
     </tr>

     <tr>
      <td>8.0.0</td>
      <td>
       <code class="parameter">private_key</code> ahora acepta una instancia de
       <span class="classname"><a href="#class.opensslasymmetrickey" class="classname">OpenSSLAsymmetricKey</a></span> o <span class="classname"><a href="#class.opensslcertificate" class="classname">OpenSSLCertificate</a></span> ;
       anteriormente, se aceptaba un <span class="type"><a href="#language.types.resource" class="type resource">resource</a></span> de tipo <code class="literal">OpenSSL key</code> o <code class="literal">OpenSSL X.509</code>.
      </td>
     </tr>

    </tbody>
   
  </table>

 </div>


 <div class="refsect1 examples" id="refsect1-function.openssl-pkcs7-sign-examples">
  <h3 class="title">Ejemplos</h3>
  <p class="para">
   </p><div class="example" id="example-1043">
    <p><strong>Ejemplo #1 Ejemplo con <span class="function"><strong>openssl_pkcs7_sign()</strong></span></strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br></span><span style="color: #FF8000">// el mensaje que se quiere firmar, para que el destinatario esté seguro de que<br>// proviene de usted<br></span><span style="color: #0000BB">$data </span><span style="color: #007700">= &lt;&lt;&lt;EOD<br></span><span style="color: #DD0000"><br>Usted está autorizado a gastar 10 000€ en gastos de viaje.<br><br>El PDG<br></span><span style="color: #007700">EOD;<br></span><span style="color: #FF8000">// guardar el mensaje en un fichero<br></span><span style="color: #0000BB">$fp </span><span style="color: #007700">= </span><span style="color: #0000BB">fopen</span><span style="color: #007700">(</span><span style="color: #DD0000">"msg.txt"</span><span style="color: #007700">, </span><span style="color: #DD0000">"w"</span><span style="color: #007700">);<br></span><span style="color: #0000BB">fwrite</span><span style="color: #007700">(</span><span style="color: #0000BB">$fp</span><span style="color: #007700">, </span><span style="color: #0000BB">$data</span><span style="color: #007700">);<br></span><span style="color: #0000BB">fclose</span><span style="color: #007700">(</span><span style="color: #0000BB">$fp</span><span style="color: #007700">);<br></span><span style="color: #FF8000">// cifrarlo<br></span><span style="color: #007700">if (</span><span style="color: #0000BB">openssl_pkcs7_sign</span><span style="color: #007700">(</span><span style="color: #DD0000">"msg.txt"</span><span style="color: #007700">, </span><span style="color: #DD0000">"signed.txt"</span><span style="color: #007700">, </span><span style="color: #DD0000">"file://mycert.pem"</span><span style="color: #007700">,<br>    array(</span><span style="color: #DD0000">"file://mycert.pem"</span><span style="color: #007700">, </span><span style="color: #DD0000">"mypassphrase"</span><span style="color: #007700">),<br>    array(</span><span style="color: #DD0000">"To" </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">"joes@example.com"</span><span style="color: #007700">, </span><span style="color: #FF8000">// sintaxis con clave<br>          </span><span style="color: #DD0000">"From: HQ &lt;ceo@example.com&gt;"</span><span style="color: #007700">, </span><span style="color: #FF8000">// sintaxis indexada<br>          </span><span style="color: #DD0000">"Subject" </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">"Eyes only"</span><span style="color: #007700">)<br>    )) {<br>    </span><span style="color: #FF8000">// mensaje firmado - ¡envíelo!<br>    </span><span style="color: #0000BB">exec</span><span style="color: #007700">(</span><span style="color: #0000BB">ini_get</span><span style="color: #007700">(</span><span style="color: #DD0000">"sendmail_path"</span><span style="color: #007700">) . </span><span style="color: #DD0000">" &lt; signed.txt"</span><span style="color: #007700">);<br>}<br></span><span style="color: #0000BB">?&gt;</span></span></code></div>
    </div>

   </div>
  
 </div>


</div>
<hr>







<div id="function.openssl-pkcs7-verify" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">openssl_pkcs7_verify</h1>
  <p class="verinfo">(PHP 4 &gt;= 4.0.6, PHP 5, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">openssl_pkcs7_verify</span> — <span class="dc-title">Verifica la firma de un mensaje S/MIME</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-function.openssl-pkcs7-verify-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>openssl_pkcs7_verify</strong></span>(<br>    <span class="methodparam"><span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$input_filename</code></span>,<br>    <span class="methodparam"><span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$flags</code></span>,<br>    <span class="methodparam"><span class="type"><span class="type"><a href="#language.types.null" class="type null">?</a></span><span class="type"><a href="#language.types.string" class="type string">string</a></span></span> <code class="parameter">$signers_certificates_filename</code><span class="initializer"> = <strong><code><a href="#constant.null">null</a></code></strong></span></span>,<br>    <span class="methodparam"><span class="type"><a href="#language.types.array" class="type array">array</a></span> <code class="parameter">$ca_info</code><span class="initializer"> = []</span></span>,<br>    <span class="methodparam"><span class="type"><span class="type"><a href="#language.types.null" class="type null">?</a></span><span class="type"><a href="#language.types.string" class="type string">string</a></span></span> <code class="parameter">$untrusted_certificates_filename</code><span class="initializer"> = <strong><code><a href="#constant.null">null</a></code></strong></span></span>,<br>    <span class="methodparam"><span class="type"><span class="type"><a href="#language.types.null" class="type null">?</a></span><span class="type"><a href="#language.types.string" class="type string">string</a></span></span> <code class="parameter">$content</code><span class="initializer"> = <strong><code><a href="#constant.null">null</a></code></strong></span></span>,<br>    <span class="methodparam"><span class="type"><span class="type"><a href="#language.types.null" class="type null">?</a></span><span class="type"><a href="#language.types.string" class="type string">string</a></span></span> <code class="parameter">$output_filename</code><span class="initializer"> = <strong><code><a href="#constant.null">null</a></code></strong></span></span><br>): <span class="type"><span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span>|<span class="type"><a href="#language.types.integer" class="type int">int</a></span></span></div>

  <p class="para rdfs-comment">
   <span class="function"><strong>openssl_pkcs7_verify()</strong></span> lee el mensaje S/MIME contenido
   en el fichero <code class="parameter">filename</code> y examina la firma
   digital.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.openssl-pkcs7-verify-parameters">
  <h3 class="title">Parámetros</h3>
  <p class="para">
   </p><dl>
    
     <dt><code class="parameter">input_filename</code></dt>
     <dd>
      <p class="para">
       Ruta hacia el mensaje.
      </p>
     </dd>
    
    
     <dt><code class="parameter">flags</code></dt>
     <dd>
      <p class="para">
       <code class="parameter">flags</code> sirve para modificar la forma en que se verifica la firma.
       Consulte las <a href="#openssl.pkcs7.flags" class="link">constantes PKCS7</a>. Por
       omisión, el valor es: PKCS7_DETACHED.
      </p>
     </dd>
    
    
     <dt><code class="parameter">signers_certificates_filename</code></dt>
     <dd>
      <p class="para">
       Si el parámetro <code class="parameter">signers_certificates_filename</code> es especificado, debe
       ser una cadena que contenga el nombre de un fichero que contiene el certificado
       del firmante, en formato <abbr title="Privacy-Enhanced Mail">PEM</abbr>.
      </p>
     </dd>
    
    
     <dt><code class="parameter">ca_info</code></dt>
     <dd>
      <p class="para">
       Si el parámetro <code class="parameter">ca_info</code> es especificado, debe
       contener la información sobre los certificados de confianza de terceros
       utilizados durante la verificación. Consulte
       <a href="#openssl.cert.verification" class="link">verificación de certificados</a>
       para más detalles.
      </p>
     </dd>
    
    
     <dt><code class="parameter">untrusted_certificates_filename</code></dt>
     <dd>
      <p class="para">
       Si el parámetro <code class="parameter">untrusted_certificates_filename</code> es especificado, debe
       representar el nombre de un fichero que contiene un conjunto de
       certificados utilizados como certificados de poca confianza.
      </p>
     </dd>
    
    
     <dt><code class="parameter">content</code></dt>
     <dd>
      <p class="para">
       Puede especificarse un nombre de fichero con el parámetro
       <code class="parameter">content</code> que puede ser rellenado con los datos verificados,
       pero sin las informaciones de firma.
      </p>
     </dd>
    
    
     <dt><code class="parameter">output_filename</code></dt>
     <dd>
      <p class="para">

      </p>
     </dd>
    
   </dl>
  
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.openssl-pkcs7-verify-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Devuelve <strong><code><a href="#constant.true">true</a></code></strong> si la firma es verificada, y <strong><code><a href="#constant.false">false</a></code></strong>
   en caso contrario (el mensaje ha sido modificado, o bien el certificado de firma es
   inválido) o -1 si ocurre un error.
  </p>
 </div>


 <div class="refsect1 changelog" id="refsect1-function.openssl-pkcs7-verify-changelog">
  <h3 class="title">Historial de cambios</h3>
  <table class="doctable informaltable">
   
    <thead>
     <tr>
      <th>Versión</th>
      <th>Descripción</th>
     </tr>

    </thead>

    <tbody class="tbody">
     <tr>
      <td>8.0.0</td>
      <td>
       <code class="parameter">signers_certificates_filename</code>, <code class="parameter">untrusted_certificates_filename</code>,
       <code class="parameter">content</code> y <code class="parameter">output_filename</code> ahora son nullable.
      </td>
     </tr>

     <tr>
      <td>7.2.0</td>
      <td>
       Se ha añadido el parámetro <code class="parameter">output_filename</code>.
      </td>
     </tr>

    </tbody>
   
  </table>

 </div>


 <div class="refsect1 notes" id="refsect1-function.openssl-pkcs7-verify-notes">
  <h3 class="title">Notas</h3>
  <blockquote class="note"><p><strong class="note">Nota</strong>: 
   <span class="simpara">
    Tal como se especifica en la RFC 2045, las líneas
    no deben ser más largas que 76 caracteres
    en el parámetro <code class="parameter">input_filename</code>.
   </span>
  </p></blockquote>
 </div>


</div>
<hr>






<div id="function.openssl-pkey-derive" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">openssl_pkey_derive</h1>
  <p class="verinfo">(PHP 7 &gt;= 7.3.0, PHP 8)</p><p class="refpurpose"><span class="refname">openssl_pkey_derive</span> — <span class="dc-title">Calcula el secreto compartido para el valor público de la clave DH o ECDH remota y local</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-function.openssl-pkey-derive-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>openssl_pkey_derive</strong></span>(<span class="methodparam"><span class="type"><span class="type"><a href="#class.opensslasymmetrickey" class="type OpenSSLAsymmetricKey">OpenSSLAsymmetricKey</a></span>|<span class="type"><a href="#class.opensslcertificate" class="type OpenSSLCertificate">OpenSSLCertificate</a></span>|<span class="type"><a href="#language.types.array" class="type array">array</a></span>|<span class="type"><a href="#language.types.string" class="type string">string</a></span></span> <code class="parameter">$public_key</code></span>, <span class="methodparam"><span class="type"><span class="type"><a href="#class.opensslasymmetrickey" class="type OpenSSLAsymmetricKey">OpenSSLAsymmetricKey</a></span>|<span class="type"><a href="#class.opensslcertificate" class="type OpenSSLCertificate">OpenSSLCertificate</a></span>|<span class="type"><a href="#language.types.array" class="type array">array</a></span>|<span class="type"><a href="#language.types.string" class="type string">string</a></span></span> <code class="parameter">$private_key</code><span class="initializer"> = ?</span></span>, <span class="methodparam"><span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$key_length</code><span class="initializer"> = 0</span></span>): <span class="type"><span class="type"><a href="#language.types.string" class="type string">string</a></span>|<span class="type"><a href="#language.types.singleton" class="type false">false</a></span></span></div>

  <p class="para rdfs-comment">
   <span class="function"><strong>openssl_pkey_derive()</strong></span> toma un conjunto de <code class="parameter">public_key</code>
   y <code class="parameter">private_key</code> y deriva un secreto compartido, para claves DH o EC.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.openssl-pkey-derive-parameters">
  <h3 class="title">Parámetros</h3>
  <dl>
   
    <dt><code class="parameter">public_key</code></dt>
    <dd>
     <p class="para">
      <code class="parameter">public_key</code> es la clave pública para la derivación.
      Consulte <a href="#openssl.certparams" class="link">Parámetros de clave/certificado</a> para una lista de valores válidos.
     </p>
    </dd>
   
   
    <dt><code class="parameter">private_key</code></dt>
    <dd>
     <p class="para">
      <code class="parameter">private_key</code> es la clave privada para la derivación.
      Consulte <a href="#openssl.certparams" class="link">Parámetros de clave pública/privada</a> para una lista de valores válidos.
     </p>
    </dd>
   
   
    <dt><code class="parameter">key_length</code></dt>
    <dd>
     <p class="para">
      Si no es nulo, intentará establecer la longitud deseada del secreto derivado.
     </p>
     <div class="caution"><strong class="caution">Precaución</strong>
      <p class="simpara">
       Este parámetro no debe utilizarse, ya que no funciona como se espera. Nunca devuelve un secreto
       más largo que el tamaño del primero. Si la longitud deseada es menor que el tamaño del
       primero, solo trunca la longitud para claves ECDH pero falla para claves DH.
      </p>
     </div>
    </dd>
   
  </dl>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.openssl-pkey-derive-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   El secreto derivado en caso de éxito o <strong><code><a href="#constant.false">false</a></code></strong> si ocurre un error.
  </p>
 </div>


 <div class="refsect1 examples" id="refsect1-function.openssl-pkey-derive-examples">
  <h3 class="title">Ejemplos</h3>
  <p class="para">
   </p><div class="example" id="openssl-pkey-derive.example.basic">
    <p><strong>Ejemplo #1 Ejemplo de <span class="function"><strong>openssl_pkey_derive()</strong></span></strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br></span><span style="color: #FF8000">// Carga la clave privada<br></span><span style="color: #0000BB">$priv </span><span style="color: #007700">= </span><span style="color: #0000BB">openssl_pkey_get_private</span><span style="color: #007700">(</span><span style="color: #DD0000">"-----BEGIN PRIVATE KEY-----<br>MIICJgIBADCCARcGCSqGSIb3DQEDATCCAQgCggEBAJLxRCaZ933uW+AXmabHFDDy<br>upojBIRlbmQLJZfigDaSA1f9YOTsIv+WwVFTX/J1mtCyx9uBcz0Nt2kmVwxWuc2f<br>VtCEMPsmLsVXX7xRUFLpyX1Y1IYGBVXQOoOvLWYQjpZgnx47Pkh1Ok1+smffztfC<br>0DCNt4KorWrbsPcmqBejXHN79KvWFjZmXOksRiNu/Bn76RiqvofC4z8Ri3kHXQG2<br>197JGZzzFXHadGC3xbkg8UxsNbYhVMKbm0iANfafUH7/hoS9UjAVQYtvwe7YNiW/<br>HnyfVCrKwcc7sadd8Iphh+3lf5P1AhaQEAMytanrzq9RDXKBxuvpSJifRYasZYsC<br>AQIEggEEAoIBAGwAYC2E81Y1U2Aox0U7u1+vBcbht/OO87tutMvc4NTLf6NLPHsW<br>cPqBixs+3rSn4fADzAIvdLBmogjtiIZoB6qyHrllF/2xwTVGEeYaZIupQH3bMK2b<br>6eUvnpuu4Ytksiz6VpXBBRMrIsj3frM+zUtnq8vKUr+TbjV2qyKR8l3eNDwzqz30<br>dlbKh9kIhZafclHfRVfyp+fVSKPfgrRAcLUgAbsVjOjPeJ90xQ4DTMZ6vjiv6tHM<br>hkSjJIcGhRtSBzVF/cT38GyCeTmiIA/dRz2d70lWrqDQCdp9ArijgnpjNKAAulSY<br>CirnMsGZTDGmLOHg4xOZ5FEAzZI2sFNLlcw=<br>-----END PRIVATE KEY-----<br>"</span><span style="color: #007700">);<br><br></span><span style="color: #FF8000">// Carga la clave pública<br></span><span style="color: #0000BB">$pub </span><span style="color: #007700">= </span><span style="color: #0000BB">openssl_pkey_get_public</span><span style="color: #007700">(</span><span style="color: #DD0000">"-----BEGIN PUBLIC KEY-----<br>MIICJDCCARcGCSqGSIb3DQEDATCCAQgCggEBAJLxRCaZ933uW+AXmabHFDDyupoj<br>BIRlbmQLJZfigDaSA1f9YOTsIv+WwVFTX/J1mtCyx9uBcz0Nt2kmVwxWuc2fVtCE<br>MPsmLsVXX7xRUFLpyX1Y1IYGBVXQOoOvLWYQjpZgnx47Pkh1Ok1+smffztfC0DCN<br>t4KorWrbsPcmqBejXHN79KvWFjZmXOksRiNu/Bn76RiqvofC4z8Ri3kHXQG2197J<br>GZzzFXHadGC3xbkg8UxsNbYhVMKbm0iANfafUH7/hoS9UjAVQYtvwe7YNiW/Hnyf<br>VCrKwcc7sadd8Iphh+3lf5P1AhaQEAMytanrzq9RDXKBxuvpSJifRYasZYsCAQID<br>ggEFAAKCAQAiCSBpxvGgsTorxAWtcAlSmzAJnJxFgSPef0g7OjhESytnc8G2QYmx<br>ovMt5KVergcitztWh08hZQUdAYm4rI+zMlAFDdN8LWwBT/mGKSzRkWeprd8E7mvy<br>ucqC1YXCMqmIwPySvLQUB/Dl8kgau7BLAnIJm8VP+MVrn8g9gghD0qRCgPgtEaDV<br>vocfgnOU43rhKnIgO0cHOKtw2qybSFB8QuZrYugq4j8Bwkrzh6rdMMeyMl/ej5Aj<br>c0wamOzuBDtXt0T9+Fx3khHaowjCc7xJZRgZCxg43SbqMWJ9lUg94I7+LTX61Gyv<br>dtlkbGbtoDOnxeNnN93gwQZngGYZYciu<br>-----END PUBLIC KEY-----<br>"</span><span style="color: #007700">);<br><br></span><span style="color: #FF8000">// Salida de la versión hexadecimal de la clave derivada<br></span><span style="color: #007700">echo </span><span style="color: #0000BB">bin2hex</span><span style="color: #007700">(</span><span style="color: #0000BB">openssl_pkey_derive</span><span style="color: #007700">(</span><span style="color: #0000BB">$pub</span><span style="color: #007700">,</span><span style="color: #0000BB">$priv</span><span style="color: #007700">));</span></span></code></div>
    </div>

   </div>
  
 </div>

</div>
<hr>







<div id="function.openssl-pkey-export" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">openssl_pkey_export</h1>
  <p class="verinfo">(PHP 4 &gt;= 4.2.0, PHP 5, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">openssl_pkey_export</span> — <span class="dc-title">Almacena una representación exportable de la clave en una cadena de caracteres</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-function.openssl-pkey-export-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>openssl_pkey_export</strong></span>(<br>    <span class="methodparam"><span class="attribute"><a href="class.sensitiveparameter.html">#[\SensitiveParameter]</a> </span><span class="type"><span class="type"><a href="#class.opensslasymmetrickey" class="type OpenSSLAsymmetricKey">OpenSSLAsymmetricKey</a></span>|<span class="type"><a href="#class.opensslcertificate" class="type OpenSSLCertificate">OpenSSLCertificate</a></span>|<span class="type"><a href="#language.types.array" class="type array">array</a></span>|<span class="type"><a href="#language.types.string" class="type string">string</a></span></span> <code class="parameter">$key</code></span>,<br>    <span class="methodparam"><span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter reference">&amp;$output</code></span>,<br>    <span class="methodparam"><span class="attribute"><a href="class.sensitiveparameter.html">#[\SensitiveParameter]</a> </span><span class="type"><span class="type"><a href="#language.types.null" class="type null">?</a></span><span class="type"><a href="#language.types.string" class="type string">string</a></span></span> <code class="parameter">$passphrase</code><span class="initializer"> = <strong><code><a href="#constant.null">null</a></code></strong></span></span>,<br>    <span class="methodparam"><span class="type"><span class="type"><a href="#language.types.null" class="type null">?</a></span><span class="type"><a href="#language.types.array" class="type array">array</a></span></span> <code class="parameter">$options</code><span class="initializer"> = <strong><code><a href="#constant.null">null</a></code></strong></span></span><br>): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>

  <p class="para rdfs-comment">
   <span class="function"><strong>openssl_pkey_export()</strong></span> exporta la clave
   <code class="parameter">key</code> en formato de cadena <abbr title="Privacy-Enhanced Mail">PEM</abbr>,
   y la almacena en la variable <code class="parameter">output</code> (que se pasa por referencia).
  </p>
  <blockquote class="note"><p><strong class="note">Nota</strong>: 
<span class="simpara">
    Debe existir un archivo <var class="filename">openssl.cnf</var> válido e
    instalado para que esta función opere correctamente.
    Ver las notas encontradas en la <a href="#openssl.installation" class="link">sección
    concerniente a la instalación</a> para más información.
</span>
</p></blockquote>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.openssl-pkey-export-parameters">
  <h3 class="title">Parámetros</h3>
  <p class="para">
   </p><dl>
    
     <dt><code class="parameter">key</code></dt>
     <dd>
      <p class="para">
      </p>
     </dd>
    
    
     <dt><code class="parameter">output</code></dt>
     <dd>
      <p class="para">
      </p>
     </dd>
    
    
     <dt><code class="parameter">passphrase</code></dt>
     <dd>
      <p class="para">
       La clave puede estar protegida por la contraseña <code class="parameter">passphrase</code>.
      </p>
     </dd>
    
    
     <dt><code class="parameter">options</code></dt>
     <dd>
      <p class="para">
       <code class="parameter">options</code> puede ser utilizado para ajustar el proceso
       de exportación especificando o reemplazando las opciones del archivo
       de configuración de OpenSSL. Consulte <span class="function"><a href="#function.openssl-csr-new" class="function">openssl_csr_new()</a></span>
       para más información sobre <code class="parameter">options</code>.
      </p>
     </dd>
    
   </dl>
  
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.openssl-pkey-export-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Esta función retorna <strong><code><a href="#constant.true">true</a></code></strong> en caso de éxito o <strong><code><a href="#constant.false">false</a></code></strong> si ocurre un error.
  </p>
 </div>


 <div class="refsect1 changelog" id="refsect1-function.openssl-pkey-export-changelog">
  <h3 class="title">Historial de cambios</h3>
  <table class="doctable informaltable">
   
    <thead>
     <tr>
      <th>Versión</th>
      <th>Descripción</th>
     </tr>

    </thead>

    <tbody class="tbody">
     <tr>
      <td>8.0.0</td>
      <td>
       <code class="parameter">key</code> ahora acepta una instancia de
       <span class="classname"><a href="#class.opensslasymmetrickey" class="classname">OpenSSLAsymmetricKey</a></span> o <span class="classname"><a href="#class.opensslcertificate" class="classname">OpenSSLCertificate</a></span> ;
       anteriormente, se aceptaba un <span class="type"><a href="#language.types.resource" class="type resource">resource</a></span> de tipo <code class="literal">OpenSSL key</code> o <code class="literal">OpenSSL X.509</code>.
      </td>
     </tr>

    </tbody>
   
  </table>

 </div>

</div>
<hr>







<div id="function.openssl-pkey-export-to-file" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">openssl_pkey_export_to_file</h1>
  <p class="verinfo">(PHP 4 &gt;= 4.2.0, PHP 5, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">openssl_pkey_export_to_file</span> — <span class="dc-title">Guarda una clave en formato ASCII en un fichero</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-function.openssl-pkey-export-to-file-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>openssl_pkey_export_to_file</strong></span>(<br>    <span class="methodparam"><span class="attribute"><a href="class.sensitiveparameter.html">#[\SensitiveParameter]</a> </span><span class="type"><span class="type"><a href="#class.opensslasymmetrickey" class="type OpenSSLAsymmetricKey">OpenSSLAsymmetricKey</a></span>|<span class="type"><a href="#class.opensslcertificate" class="type OpenSSLCertificate">OpenSSLCertificate</a></span>|<span class="type"><a href="#language.types.array" class="type array">array</a></span>|<span class="type"><a href="#language.types.string" class="type string">string</a></span></span> <code class="parameter">$key</code></span>,<br>    <span class="methodparam"><span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$output_filename</code></span>,<br>    <span class="methodparam"><span class="attribute"><a href="class.sensitiveparameter.html">#[\SensitiveParameter]</a> </span><span class="type"><span class="type"><a href="#language.types.null" class="type null">?</a></span><span class="type"><a href="#language.types.string" class="type string">string</a></span></span> <code class="parameter">$passphrase</code><span class="initializer"> = <strong><code><a href="#constant.null">null</a></code></strong></span></span>,<br>    <span class="methodparam"><span class="type"><span class="type"><a href="#language.types.null" class="type null">?</a></span><span class="type"><a href="#language.types.array" class="type array">array</a></span></span> <code class="parameter">$options</code><span class="initializer"> = <strong><code><a href="#constant.null">null</a></code></strong></span></span><br>): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>

  <p class="para rdfs-comment">
   <span class="function"><strong>openssl_pkey_export_to_file()</strong></span> guarda la clave en formato ASCII
   (<abbr title="Privacy-Enhanced Mail">PEM</abbr>) <code class="parameter">key</code> en el fichero
   <code class="parameter">output_filename</code>.
  </p>
  <blockquote class="note"><p><strong class="note">Nota</strong>: 
<span class="simpara">
    Debe existir un archivo <var class="filename">openssl.cnf</var> válido e
    instalado para que esta función opere correctamente.
    Ver las notas encontradas en la <a href="#openssl.installation" class="link">sección
    concerniente a la instalación</a> para más información.
</span>
</p></blockquote>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.openssl-pkey-export-to-file-parameters">
  <h3 class="title">Parámetros</h3>
  <p class="para">
   </p><dl>
    
     <dt><code class="parameter">key</code></dt>
     <dd>
      <p class="para">
      </p>
     </dd>
    
    
     <dt><code class="parameter">output_filename</code></dt>
     <dd>
      <p class="para">
       Ruta del fichero de salida.
      </p>
     </dd>
    
    
     <dt><code class="parameter">passphrase</code></dt>
     <dd>
      <p class="para">
       La clave puede estar eventualmente protegida por una
       <code class="parameter">frase de contraseña</code>.
      </p>
     </dd>
    
    
     <dt><code class="parameter">options</code></dt>
     <dd>
      <p class="para">
       <code class="parameter">options</code> puede ser utilizado para ajustar el proceso
       de exportación especificando o reemplazando las opciones del archivo
       de configuración de OpenSSL. Véase <span class="function"><a href="#function.openssl-csr-new" class="function">openssl_csr_new()</a></span>
       para más información sobre <code class="parameter">options</code>.
      </p>
     </dd>
    
   </dl>
  
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.openssl-pkey-export-to-file-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Esta función retorna <strong><code><a href="#constant.true">true</a></code></strong> en caso de éxito o <strong><code><a href="#constant.false">false</a></code></strong> si ocurre un error.
  </p>
 </div>


 <div class="refsect1 changelog" id="refsect1-function.openssl-pkey-export-to-file-changelog">
  <h3 class="title">Historial de cambios</h3>
  <table class="doctable informaltable">
   
    <thead>
     <tr>
      <th>Versión</th>
      <th>Descripción</th>
     </tr>

    </thead>

    <tbody class="tbody">
     <tr>
      <td>8.0.0</td>
      <td>
       <code class="parameter">key</code> acepta ahora una instancia de
       <span class="classname"><a href="#class.opensslasymmetrickey" class="classname">OpenSSLAsymmetricKey</a></span> o <span class="classname"><a href="#class.opensslcertificate" class="classname">OpenSSLCertificate</a></span>;
       anteriormente, se aceptaba un <span class="type"><a href="#language.types.resource" class="type resource">resource</a></span> de tipo <code class="literal">OpenSSL key</code> o <code class="literal">OpenSSL X.509</code>.
      </td>
     </tr>

    </tbody>
   
  </table>

 </div>

</div>
<hr>







<div id="function.openssl-pkey-free" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">openssl_pkey_free</h1>
  <p class="verinfo">(PHP 4 &gt;= 4.2.0, PHP 5, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">openssl_pkey_free</span> — <span class="dc-title">Libera una clave privada</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-function.openssl-pkey-free-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="attribute"><a href="class.deprecated.html">#[\Deprecated]</a> </span><br>
   <span class="methodname"><strong>openssl_pkey_free</strong></span>(<span class="methodparam"><span class="type"><a href="#class.opensslasymmetrickey" class="type OpenSSLAsymmetricKey">OpenSSLAsymmetricKey</a></span> <code class="parameter">$key</code></span>): <span class="type"><a href="language.types.void.html" class="type void">void</a></span></div>

  <blockquote class="note"><p><strong class="note">Nota</strong>: 
 </p><p class="para">
  Esta función no tiene ningún efecto. Anterior a PHP 8.0.0,
  esta función era utilizada para cerrar un recurso.
 </p>
</blockquote>

  <p class="para">
   Libera una clave privada creada por la función
   <span class="function"><a href="#function.openssl-pkey-new" class="function">openssl_pkey_new()</a></span>.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.openssl-pkey-free-parameters">
  <h3 class="title">Parámetros</h3>
  <p class="para">
   </p><dl>
    
     <dt><code class="parameter">key</code></dt>
     <dd>
      <p class="para">
       Recurso que representa la clave.
      </p>
     </dd>
    
   </dl>
  
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.openssl-pkey-free-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   No se retorna ningún valor.
  </p>
 </div>


 <div class="refsect1 changelog" id="refsect1-function.openssl-pkey-free-changelog">
  <h3 class="title">Historial de cambios</h3>
  <table class="doctable informaltable">
   
    <thead>
     <tr>
      <th>Versión</th>
      <th>Descripción</th>
     </tr>

    </thead>

    <tbody class="tbody">
     <tr>
      <td>8.0.0</td>
      <td>
       Esta función es ahora obsoleta ya que no tiene ningún efecto.
      </td>
     </tr>

     <tr>
      <td>8.0.0</td>
      <td>
       <code class="parameter">key</code> acepta ahora una instancia de
       <span class="classname"><a href="#class.opensslasymmetrickey" class="classname">OpenSSLAsymmetricKey</a></span>;
       anteriormente, se aceptaba un <span class="type"><a href="#language.types.resource" class="type resource">resource</a></span> de tipo <code class="literal">OpenSSL key</code>.
      </td>
     </tr>

    </tbody>
   
  </table>

 </div>

</div>
<hr>







<div id="function.openssl-pkey-get-details" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">openssl_pkey_get_details</h1>
  <p class="verinfo">(PHP 5 &gt;= 5.2.0, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">openssl_pkey_get_details</span> — <span class="dc-title">Devuelve un array que contiene los detalles de la clave</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-function.openssl-pkey-get-details-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>openssl_pkey_get_details</strong></span>(<span class="methodparam"><span class="type"><a href="#class.opensslasymmetrickey" class="type OpenSSLAsymmetricKey">OpenSSLAsymmetricKey</a></span> <code class="parameter">$key</code></span>): <span class="type"><span class="type"><a href="#language.types.array" class="type array">array</a></span>|<span class="type"><a href="#language.types.singleton" class="type false">false</a></span></span></div>

  <p class="para rdfs-comment">
   Esta función devuelve los detalles de la clave (bits, key, type).
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.openssl-pkey-get-details-parameters">
  <h3 class="title">Parámetros</h3>
  <p class="para">
   </p><dl>
    
     <dt><code class="parameter">key</code></dt>
     <dd>
      <p class="para">
       Recurso que contiene la clave.
      </p>
     </dd>
    
   </dl>
  
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.openssl-pkey-get-details-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Devuelve un array con los detalles de la clave en caso de éxito,
   o <strong><code><a href="#constant.false">false</a></code></strong> en caso de fallo.
   El array devuelto contiene los índices <code class="literal">bits</code> (número de bits),
   <code class="literal">key</code> (representación en forma de <span class="type"><a href="#language.types.string" class="type string">string</a></span> de la clave pública)
   y <code class="literal">type</code> (tipo de clave que es uno de
   <strong><code><a href="#constant.openssl-keytype-rsa">OPENSSL_KEYTYPE_RSA</a></code></strong>,
   <strong><code><a href="#constant.openssl-keytype-dsa">OPENSSL_KEYTYPE_DSA</a></code></strong>,
   <strong><code><a href="#constant.openssl-keytype-dh">OPENSSL_KEYTYPE_DH</a></code></strong>,
   <strong><code><a href="#constant.openssl-keytype-ec">OPENSSL_KEYTYPE_EC</a></code></strong>,
   <strong><code><a href="#constant.openssl-keytype-x25519">OPENSSL_KEYTYPE_X25519</a></code></strong>,
   <strong><code><a href="#constant.openssl-keytype-ed25519">OPENSSL_KEYTYPE_ED25519</a></code></strong>,
   <strong><code><a href="#constant.openssl-keytype-x448">OPENSSL_KEYTYPE_X448</a></code></strong>,
   <strong><code><a href="#constant.openssl-keytype-ed448">OPENSSL_KEYTYPE_ED448</a></code></strong>,
   o <code class="literal">-1</code> significando desconocido).
  </p>
  <p class="para">
   Dependiendo del tipo de claves utilizadas, pueden devolverse detalles adicionales.
   Tenga en cuenta que algunos elementos pueden no estar siempre disponibles.
  </p>
  <ul class="itemizedlist">
   <li class="listitem">
    <span class="simpara">
     <strong><code><a href="#constant.openssl-keytype-rsa">OPENSSL_KEYTYPE_RSA</a></code></strong>, se devuelve una clave de array adicional llamada <code class="literal">"rsa"</code>,
     que contiene los datos de la clave.
    </span>
     <table class="doctable informaltable">
      
       <thead>
        <tr>
         <th>Key</th>
         <th>Descripción</th>
        </tr>

       </thead>

       <tbody class="tbody">
        <tr>
         <td><code class="literal">"n"</code></td>
         <td>módulo</td>
        </tr>

        <tr>
         <td><code class="literal">"e"</code></td>
         <td>exponente público</td>
        </tr>

        <tr>
         <td><code class="literal">"d"</code></td>
         <td>exponente privado</td>
        </tr>

        <tr>
         <td><code class="literal">"p"</code></td>
         <td>número primo 1</td>
        </tr>

        <tr>
         <td><code class="literal">"q"</code></td>
         <td>número primo 2</td>
        </tr>

        <tr>
         <td><code class="literal">"dmp1"</code></td>
         <td>exponent1, d mod (p-1)</td>
        </tr>

        <tr>
         <td><code class="literal">"dmq1"</code></td>
         <td>exponent2, d mod (q-1)</td>
        </tr>

        <tr>
         <td><code class="literal">"iqmp"</code></td>
         <td>coeficiente, (inverso de q) mod p</td>
        </tr>

       </tbody>
      
     </table>

   </li>
   <li class="listitem">
    <span class="simpara">
     <strong><code><a href="#constant.openssl-keytype-dsa">OPENSSL_KEYTYPE_DSA</a></code></strong>, se devuelve una clave de array adicional llamada <code class="literal">"dsa"</code>,
     que contiene los datos de la clave.
    </span>
     <table class="doctable informaltable">
      
       <thead>
        <tr>
         <th>Key</th>
         <th>Descripción</th>
        </tr>

       </thead>

       <tbody class="tbody">
        <tr>
         <td><code class="literal">"p"</code></td>
         <td>número primo (público)</td>
        </tr>

        <tr>
         <td><code class="literal">"q"</code></td>
         <td>160-bit número sub-prime, q | p-1 (público)</td>
        </tr>

        <tr>
         <td><code class="literal">"g"</code></td>
         <td>generador del subgrupo (público)</td>
        </tr>

        <tr>
         <td><code class="literal">"priv_key"</code></td>
         <td>clave privada x</td>
        </tr>

        <tr>
         <td><code class="literal">"pub_key"</code></td>
         <td>clave pública y = g^x</td>
        </tr>

       </tbody>
      
     </table>

   </li>
   <li class="listitem">
    <span class="simpara">
     <strong><code><a href="#constant.openssl-keytype-dh">OPENSSL_KEYTYPE_DH</a></code></strong>, se devuelve una clave de array adicional llamada <code class="literal">"dh"</code>,
     que contiene los datos de la clave.
    </span>
     <table class="doctable informaltable">
      
       <thead>
        <tr>
         <th>Key</th>
         <th>Descripción</th>
        </tr>

       </thead>

       <tbody class="tbody">
        <tr>
         <td><code class="literal">"p"</code></td>
         <td>número primo (compartido)</td>
        </tr>

        <tr>
         <td><code class="literal">"g"</code></td>
         <td>generador de Z_p (compartido)</td>
        </tr>

        <tr>
         <td><code class="literal">"priv_key"</code></td>
         <td>valor privado DH x</td>
        </tr>

        <tr>
         <td><code class="literal">"pub_key"</code></td>
         <td>valor público DH g^x</td>
        </tr>

       </tbody>
      
     </table>

   </li>
   <li class="listitem">
    <span class="simpara">
     <strong><code><a href="#constant.openssl-keytype-x25519">OPENSSL_KEYTYPE_X25519</a></code></strong>,
     <strong><code><a href="#constant.openssl-keytype-ed25519">OPENSSL_KEYTYPE_ED25519</a></code></strong>,
     <strong><code><a href="#constant.openssl-keytype-x448">OPENSSL_KEYTYPE_X448</a></code></strong>,
     o <strong><code><a href="#constant.openssl-keytype-ed448">OPENSSL_KEYTYPE_ED448</a></code></strong>,
     se devuelve una clave adicional en el array llamada
     <code class="literal">"x25519"</code>,
     <code class="literal">"ed25519"</code>,
     <code class="literal">"x448"</code>,
     o <code class="literal">"ed448"</code> respectivamente,
     que contiene los datos de la clave.
    </span>
     <table class="doctable informaltable">
      
       <thead>
        <tr>
         <th>Key</th>
         <th>Descripción</th>
        </tr>

       </thead>

       <tbody class="tbody">
        <tr>
         <td><code class="literal">"priv_key"</code></td>
         <td>clave privada</td>
        </tr>

        <tr>
         <td><code class="literal">"pub_key"</code></td>
         <td>clave pública</td>
        </tr>

       </tbody>
      
     </table>

   </li>
  </ul>
 </div>


 <div class="refsect1 changelog" id="refsect1-function.openssl-pkey-get-details-changelog">
  <h3 class="title">Historial de cambios</h3>
  <table class="doctable informaltable">
   
    <thead>
     <tr>
      <th>Versión</th>
      <th>Descripción</th>
     </tr>

    </thead>

    <tbody class="tbody">
     <tr>
      <td>8.4.0</td>
      <td>
       Se añadió el soporte para claves basadas en Curve25519 y Curve448.
       Más específicamente, se introdujeron los campos <code class="literal">x25519</code>, <code class="literal">ed25519</code>,
       <code class="literal">x448</code> y <code class="literal">ed448</code>.
      </td>
     </tr>

     <tr>
      <td>8.0.0</td>
      <td>
       <code class="parameter">key</code> ahora acepta una instancia de
       <span class="classname"><a href="#class.opensslasymmetrickey" class="classname">OpenSSLAsymmetricKey</a></span>;
       anteriormente, se aceptaba un <span class="type"><a href="#language.types.resource" class="type resource">resource</a></span> de tipo <code class="literal">OpenSSL key</code>.
      </td>
     </tr>

    </tbody>
   
  </table>

 </div>

</div>
<hr>







<div id="function.openssl-pkey-get-private" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">openssl_pkey_get_private</h1>
  <p class="verinfo">(PHP 4 &gt;= 4.2.0, PHP 5, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">openssl_pkey_get_private</span> — <span class="dc-title">Lee una clave privada</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-function.openssl-pkey-get-private-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>openssl_pkey_get_private</strong></span>(<span class="methodparam"><span class="attribute"><a href="class.sensitiveparameter.html">#[\SensitiveParameter]</a> </span><span class="type"><span class="type"><a href="#class.opensslasymmetrickey" class="type OpenSSLAsymmetricKey">OpenSSLAsymmetricKey</a></span>|<span class="type"><a href="#class.opensslcertificate" class="type OpenSSLCertificate">OpenSSLCertificate</a></span>|<span class="type"><a href="#language.types.array" class="type array">array</a></span>|<span class="type"><a href="#language.types.string" class="type string">string</a></span></span> <code class="parameter">$private_key</code></span>, <span class="methodparam"><span class="attribute"><a href="class.sensitiveparameter.html">#[\SensitiveParameter]</a> </span><span class="type"><span class="type"><a href="#language.types.null" class="type null">?</a></span><span class="type"><a href="#language.types.string" class="type string">string</a></span></span> <code class="parameter">$passphrase</code><span class="initializer"> = <strong><code><a href="#constant.null">null</a></code></strong></span></span>): <span class="type"><span class="type"><a href="#class.opensslasymmetrickey" class="type OpenSSLAsymmetricKey">OpenSSLAsymmetricKey</a></span>|<span class="type"><a href="#language.types.singleton" class="type false">false</a></span></span></div>

  <p class="para rdfs-comment">
   <span class="function"><strong>openssl_pkey_get_private()</strong></span> analiza la clave
   <code class="parameter">private_key</code> y la prepara para ser utilizada
   por otras funciones.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.openssl-pkey-get-private-parameters">
  <h3 class="title">Parámetros</h3>
  <p class="para">
   </p><dl>
    
     <dt><code class="parameter">private_key</code></dt>
     <dd>
      <p class="para">
       <code class="parameter">private_key</code> puede ser uno de los siguientes valores:
       </p><ol type="1">
        <li class="listitem">
         <span class="simpara">
          una cadena en el formato <var class="filename">file://path/to/file.pem</var>.
          El fichero así designado debe contener una clave privada o
          un certificado en formato <abbr title="Privacy-Enhanced Mail">PEM</abbr> (eventualmente ambos).
         </span>
        </li>
        <li class="listitem">
         <span class="simpara">
          Una clave privada en formato <abbr title="Privacy-Enhanced Mail">PEM</abbr>.
         </span>
        </li>
       </ol>
      
     </dd>
    
    
     <dt><code class="parameter">passphrase</code></dt>
     <dd>
      <p class="para">
       El parámetro opcional <code class="parameter">passphrase</code> debe ser utilizado si
       la clave especificada está cifrada (protegida por una contraseña).
      </p>
     </dd>
    
   </dl>
  
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.openssl-pkey-get-private-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Devuelve una instancia de <span class="classname"><a href="#class.opensslasymmetrickey" class="classname">OpenSSLAsymmetricKey</a></span> en caso de éxito, o
   <strong><code><a href="#constant.false">false</a></code></strong> si ocurre un error.
  </p>
 </div>


 <div class="refsect1 changelog" id="refsect1-function.openssl-pkey-get-private-changelog">
  <h3 class="title">Historial de cambios</h3>
  <table class="doctable informaltable">
   
    <thead>
     <tr>
      <th>Versión</th>
      <th>Descripción</th>
     </tr>

    </thead>

    <tbody class="tbody">
     <tr>
      <td>8.0.0</td>
      <td>
       En caso de éxito, esta función devuelve ahora una instancia de
       <span class="classname"><a href="#class.opensslasymmetrickey" class="classname">OpenSSLAsymmetricKey</a></span>;
       anteriormente se devolvía un <span class="type"><a href="#language.types.resource" class="type resource">resource</a></span> de tipo <code class="literal">OpenSSL key</code>.
      </td>
     </tr>

     <tr>
      <td>8.0.0</td>
      <td>
       <code class="parameter">private_key</code> acepta ahora una instancia de
       <span class="classname"><a href="#class.opensslasymmetrickey" class="classname">OpenSSLAsymmetricKey</a></span> o <span class="classname"><a href="#class.opensslcertificate" class="classname">OpenSSLCertificate</a></span>;
       anteriormente se aceptaba un <span class="type"><a href="#language.types.resource" class="type resource">resource</a></span> de tipo <code class="literal">OpenSSL key</code> o <code class="literal">OpenSSL X.509</code>.
      </td>
     </tr>

     <tr>
      <td>8.0.0</td>
      <td>
       <code class="parameter">passphrase</code> es ahora nullable.
      </td>
     </tr>

    </tbody>
   
  </table>

 </div>

</div>
<hr>







<div id="function.openssl-pkey-get-public" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">openssl_pkey_get_public</h1>
  <p class="verinfo">(PHP 4 &gt;= 4.2.0, PHP 5, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">openssl_pkey_get_public</span> — <span class="dc-title">Extrae una clave pública de un certificado y la prepara</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-function.openssl-pkey-get-public-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>openssl_pkey_get_public</strong></span>(<span class="methodparam"><span class="type"><span class="type"><a href="#class.opensslasymmetrickey" class="type OpenSSLAsymmetricKey">OpenSSLAsymmetricKey</a></span>|<span class="type"><a href="#class.opensslcertificate" class="type OpenSSLCertificate">OpenSSLCertificate</a></span>|<span class="type"><a href="#language.types.array" class="type array">array</a></span>|<span class="type"><a href="#language.types.string" class="type string">string</a></span></span> <code class="parameter">$public_key</code></span>): <span class="type"><span class="type"><a href="#class.opensslasymmetrickey" class="type OpenSSLAsymmetricKey">OpenSSLAsymmetricKey</a></span>|<span class="type"><a href="#language.types.singleton" class="type false">false</a></span></span></div>

  <p class="para rdfs-comment">
   <span class="function"><strong>openssl_pkey_get_public()</strong></span> extrae la clave pública
   del certificado <code class="parameter">public_key</code> y la prepara
   para ser utilizada por otras funciones.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.openssl-pkey-get-public-parameters">
  <h3 class="title">Parámetros</h3>
  <p class="para">
   </p><dl>
    
     <dt><code class="parameter">public_key</code></dt>
     <dd>
      <p class="para">
       <code class="parameter">public_key</code> puede tener uno de los siguientes valores:
       </p><ol type="1">
        <li class="listitem">
         <span class="simpara">
          Una instancia de <span class="classname"><a href="#class.opensslasymmetrickey" class="classname">OpenSSLAsymmetricKey</a></span>.
         </span>
        </li>
        <li class="listitem">
         <span class="simpara">
          Una cadena en el formato <var class="filename">file://path/to/file.pem</var>.
          El fichero designado debe contener una clave pública o
          un certificado en formato <abbr title="Privacy-Enhanced Mail">PEM</abbr> (eventualmente ambos).
         </span>
        </li>
        <li class="listitem">
         <span class="simpara">
          Una clave pública en formato <abbr title="Privacy-Enhanced Mail">PEM</abbr>.
         </span>
        </li>
       </ol>
      
     </dd>
    
   </dl>
  
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.openssl-pkey-get-public-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Devuelve una instancia de <span class="classname"><a href="#class.opensslasymmetrickey" class="classname">OpenSSLAsymmetricKey</a></span> en caso de éxito,
   o <strong><code><a href="#constant.false">false</a></code></strong> si ocurre un error.
  </p>
 </div>


 <div class="refsect1 changelog" id="refsect1-function.openssl-pkey-get-public-changelog">
  <h3 class="title">Historial de cambios</h3>
  <table class="doctable informaltable">
   
    <thead>
     <tr>
      <th>Versión</th>
      <th>Descripción</th>
     </tr>

    </thead>

    <tbody class="tbody">
     <tr>
      <td>8.0.0</td>
      <td>
       En caso de éxito, esta función devuelve ahora una instancia de
       <span class="classname"><a href="#class.opensslasymmetrickey" class="classname">OpenSSLAsymmetricKey</a></span>;
       anteriormente se devolvía un <span class="type"><a href="#language.types.resource" class="type resource">resource</a></span> de tipo <code class="literal">OpenSSL key</code>.
      </td>
     </tr>

     <tr>
      <td>8.0.0</td>
      <td>
       <code class="parameter">public_key</code> acepta ahora una instancia de
       <span class="classname"><a href="#class.opensslasymmetrickey" class="classname">OpenSSLAsymmetricKey</a></span> o <span class="classname"><a href="#class.opensslcertificate" class="classname">OpenSSLCertificate</a></span>;
       anteriormente se aceptaba un <span class="type"><a href="#language.types.resource" class="type resource">resource</a></span> de tipo <code class="literal">OpenSSL key</code> o <code class="literal">OpenSSL X.509</code>.
      </td>
     </tr>

    </tbody>
   
  </table>

 </div>

</div>
<hr>







<div id="function.openssl-pkey-new" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">openssl_pkey_new</h1>
  <p class="verinfo">(PHP 4 &gt;= 4.2.0, PHP 5, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">openssl_pkey_new</span> — <span class="dc-title">Genera una nueva clave privada</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-function.openssl-pkey-new-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>openssl_pkey_new</strong></span>(<span class="methodparam"><span class="type"><span class="type"><a href="#language.types.null" class="type null">?</a></span><span class="type"><a href="#language.types.array" class="type array">array</a></span></span> <code class="parameter">$options</code><span class="initializer"> = <strong><code><a href="#constant.null">null</a></code></strong></span></span>): <span class="type"><span class="type"><a href="#class.opensslasymmetrickey" class="type OpenSSLAsymmetricKey">OpenSSLAsymmetricKey</a></span>|<span class="type"><a href="#language.types.singleton" class="type false">false</a></span></span></div>

  <p class="para rdfs-comment">
   <span class="function"><strong>openssl_pkey_new()</strong></span> genera una nueva clave privada.
   Cómo obtener el componente público de la clave se demuestra en un ejemplo a continuación.
  </p>
  <blockquote class="note"><p><strong class="note">Nota</strong>: 
<span class="simpara">
    Debe existir un archivo <var class="filename">openssl.cnf</var> válido e
    instalado para que esta función opere correctamente.
    Ver las notas encontradas en la <a href="#openssl.installation" class="link">sección
    concerniente a la instalación</a> para más información.
</span>
</p></blockquote>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.openssl-pkey-new-parameters">
  <h3 class="title">Parámetros</h3>
  <p class="para">
   </p><dl>
    
     <dt><code class="parameter">options</code></dt>
     <dd>
      <p class="para">
       Es posible afinar la generación de claves (por ejemplo, especificando
       el número de bits o los parámetros) mediante el argumento <code class="parameter">options</code>.
       Estas opciones pueden ser parámetros específicos del algoritmo utilizados para la
       generación de claves, u opciones genéricas también utilizadas para la generación
       de <abbr title="Certificate Signing Request">CSR</abbr> si no se especifican.
       Consulte <span class="function"><a href="#function.openssl-csr-new" class="function">openssl_csr_new()</a></span> para obtener más información
       sobre el uso de <code class="parameter">options</code> para un <abbr title="Certificate Signing Request">CSR</abbr>.
       Entre estas opciones, solo <code class="literal">private_key_bits</code>,
       <code class="literal">private_key_type</code>, <code class="literal">curve_name</code>,
       y <code class="literal">config</code> se utilizan para la generación de claves.
       Las opciones específicas de un algoritmo se utilizan si el array asociativo incluye
       una de las claves específicas.
       </p><ul class="itemizedlist">
        <li class="listitem">
         <span class="simpara">
          Clave <code class="literal">"rsa"</code> para definir los parámetros RSA.
         </span>
         <table class="doctable informaltable">
          
           <thead>
            <tr>
             <th>options</th>
             <th>type</th>
             <th>format</th>
             <th>requis</th>
             <th>description</th>
            </tr>

           </thead>

           <tbody class="tbody">
            <tr>
             <td><code class="literal">"n"</code></td>
             <td><span class="type"><a href="#language.types.string" class="type string">string</a></span></td>
             <td>número binario</td>
             <td>sí</td>
             <td>módulo</td>
            </tr>

            <tr>
             <td><code class="literal">"e"</code></td>
             <td><span class="type"><a href="#language.types.string" class="type string">string</a></span></td>
             <td>número binario</td>
             <td>no</td>
             <td>exponente público</td>
            </tr>

            <tr>
             <td><code class="literal">"d"</code></td>
             <td><span class="type"><a href="#language.types.string" class="type string">string</a></span></td>
             <td>número binario</td>
             <td>sí</td>
             <td>exponente privado</td>
            </tr>

            <tr>
             <td><code class="literal">"p"</code></td>
             <td><span class="type"><a href="#language.types.string" class="type string">string</a></span></td>
             <td>número binario</td>
             <td>no</td>
             <td>primer 1</td>
            </tr>

            <tr>
             <td><code class="literal">"q"</code></td>
             <td><span class="type"><a href="#language.types.string" class="type string">string</a></span></td>
             <td>número binario</td>
             <td>no</td>
             <td>primer 2</td>
            </tr>

            <tr>
             <td><code class="literal">"dmp1"</code></td>
             <td><span class="type"><a href="#language.types.string" class="type string">string</a></span></td>
             <td>número binario</td>
             <td>no</td>
             <td>exponent1, d mod (p-1)</td>
            </tr>

            <tr>
             <td><code class="literal">"dmq1"</code></td>
             <td><span class="type"><a href="#language.types.string" class="type string">string</a></span></td>
             <td>número binario</td>
             <td>no</td>
             <td>exponent2, d mod (q-1)</td>
            </tr>

            <tr>
             <td><code class="literal">"iqmp"</code></td>
             <td><span class="type"><a href="#language.types.string" class="type string">string</a></span></td>
             <td>número binario</td>
             <td>no</td>
             <td>coeficiente, (inverso de q) mod p</td>
            </tr>

           </tbody>
          
         </table>

        </li>
        <li class="listitem">
         <span class="simpara">
          Clave <code class="literal">"dsa"</code> para definir los parámetros DSA.
         </span>
         <table class="doctable informaltable">
          
           <thead>
            <tr>
             <th>options</th>
             <th>type</th>
             <th>format</th>
             <th>requis</th>
             <th>description</th>
            </tr>

           </thead>

           <tbody class="tbody">
            <tr>
             <td><code class="literal">"p"</code></td>
             <td><span class="type"><a href="#language.types.string" class="type string">string</a></span></td>
             <td>número binario</td>
             <td>no</td>
             <td>número primo (público)</td>
            </tr>

            <tr>
             <td><code class="literal">"q"</code></td>
             <td><span class="type"><a href="#language.types.string" class="type string">string</a></span></td>
             <td>número binario</td>
             <td>no</td>
             <td>160 bits sub-prime, q | p-1 (público)</td>
            </tr>

            <tr>
             <td><code class="literal">"g"</code></td>
             <td><span class="type"><a href="#language.types.string" class="type string">string</a></span></td>
             <td>número binario</td>
             <td>no</td>
             <td>generador del subgrupo (público)</td>
            </tr>

            <tr>
             <td><code class="literal">"priv_key"</code></td>
             <td><span class="type"><a href="#language.types.string" class="type string">string</a></span></td>
             <td>clave PEM</td>
             <td>no</td>
             <td>clave privada x</td>
            </tr>

            <tr>
             <td><code class="literal">"pub_key"</code></td>
             <td><span class="type"><a href="#language.types.string" class="type string">string</a></span></td>
             <td>clave PEM</td>
             <td>no</td>
             <td>clave pública y = g^x</td>
            </tr>

           </tbody>
          
         </table>

        </li>
        <li class="listitem">
         <span class="simpara">
          Clave <code class="literal">"dh"</code> para los parámetros DH (intercambio de claves Diffie–Hellman).
         </span>
         <table class="doctable informaltable">
          
           <thead>
            <tr>
             <th>Options</th>
             <th>Tipo</th>
             <th>Format</th>
             <th>Requis</th>
             <th>Descripción</th>
            </tr>

           </thead>

           <tbody class="tbody">
            <tr>
             <td><code class="literal">"p"</code></td>
             <td><span class="type"><a href="#language.types.string" class="type string">string</a></span></td>
             <td>número binario</td>
             <td>no</td>
             <td>número primo (compartido)</td>
            </tr>

            <tr>
             <td><code class="literal">"g"</code></td>
             <td><span class="type"><a href="#language.types.string" class="type string">string</a></span></td>
             <td>número binario</td>
             <td>no</td>
             <td>generador de Z_p (compartido)</td>
            </tr>

            <tr>
             <td><code class="literal">"priv_key"</code></td>
             <td><span class="type"><a href="#language.types.string" class="type string">string</a></span></td>
             <td>clave PEM</td>
             <td>no</td>
             <td>valor DH privado x</td>
            </tr>

            <tr>
             <td><code class="literal">"pub_key"</code></td>
             <td><span class="type"><a href="#language.types.string" class="type string">string</a></span></td>
             <td>clave PEM</td>
             <td>no</td>
             <td>valor DH público g^x</td>
            </tr>

           </tbody>
          
         </table>

        </li>
        <li class="listitem">
         <span class="simpara">
          Clave <code class="literal">"ec"</code> para los parámetros de curva elíptica
         </span>
         <table class="doctable informaltable">
          
           <thead>
            <tr>
             <th>Options</th>
             <th>Tipo</th>
             <th>Format</th>
             <th>Requis</th>
             <th>Descripción</th>
            </tr>

           </thead>

           <tbody class="tbody">
            <tr>
             <td><code class="literal">"curve_name"</code></td>
             <td><span class="type"><a href="#language.types.string" class="type string">string</a></span></td>
             <td>nombre</td>
             <td>no</td>
             <td>nombre de la curva, ver <span class="function"><a href="#function.openssl-get-curve-names" class="function">openssl_get_curve_names()</a></span></td>
            </tr>

            <tr>
             <td><code class="literal">"p"</code></td>
             <td><span class="type"><a href="#language.types.string" class="type string">string</a></span></td>
             <td>número binario</td>
             <td>no</td>
             <td>número primo del campo para la curva sobre Fp</td>
            </tr>

            <tr>
             <td><code class="literal">"a"</code></td>
             <td><span class="type"><a href="#language.types.string" class="type string">string</a></span></td>
             <td>número binario</td>
             <td>no</td>
             <td>coeficiente a de la curva para Fp : y^2 mod p = x^3 + ax + b mod p</td>
            </tr>

            <tr>
             <td><code class="literal">"b"</code></td>
             <td><span class="type"><a href="#language.types.string" class="type string">string</a></span></td>
             <td>número binario</td>
             <td>no</td>
             <td>coeficiente b de la curva para Fp : y^2 mod p = x^3 + ax + b mod p</td>
            </tr>

            <tr>
             <td><code class="literal">"seed"</code></td>
             <td><span class="type"><a href="#language.types.string" class="type string">string</a></span></td>
             <td>número binario</td>
             <td>no</td>
             <td>número aleatorio opcional utilizado para generar el coeficiente b</td>
            </tr>

            <tr>
             <td><code class="literal">"generator"</code></td>
             <td><span class="type"><a href="#language.types.string" class="type string">string</a></span></td>
             <td>punto codificado en binario</td>
             <td>no</td>
             <td>punto generador de la curva</td>
            </tr>

            <tr>
             <td><code class="literal">"g_x"</code></td>
             <td><span class="type"><a href="#language.types.string" class="type string">string</a></span></td>
             <td>número binario</td>
             <td>no</td>
             <td>coordenada x del punto generador de la curva</td>
            </tr>

            <tr>
             <td><code class="literal">"g_y"</code></td>
             <td><span class="type"><a href="#language.types.string" class="type string">string</a></span></td>
             <td>número binario</td>
             <td>no</td>
             <td>coordenada y del punto generador de la curva</td>
            </tr>

            <tr>
             <td><code class="literal">"cofactor"</code></td>
             <td><span class="type"><a href="#language.types.string" class="type string">string</a></span></td>
             <td>número binario</td>
             <td>no</td>
             <td>cofactor de la curva</td>
            </tr>

            <tr>
             <td><code class="literal">"order"</code></td>
             <td><span class="type"><a href="#language.types.string" class="type string">string</a></span></td>
             <td>número binario</td>
             <td>no</td>
             <td>orden de la curva</td>
            </tr>

            <tr>
             <td><code class="literal">"x"</code></td>
             <td><span class="type"><a href="#language.types.string" class="type string">string</a></span></td>
             <td>número binario</td>
             <td>no</td>
             <td>coordenada x (pública)</td>
            </tr>

            <tr>
             <td><code class="literal">"y"</code></td>
             <td><span class="type"><a href="#language.types.string" class="type string">string</a></span></td>
             <td>número binario</td>
             <td>no</td>
             <td>coordenada y (pública)</td>
            </tr>

            <tr>
             <td><code class="literal">"d"</code></td>
             <td><span class="type"><a href="#language.types.string" class="type string">string</a></span></td>
             <td>número binario</td>
             <td>no</td>
             <td>clave privada</td>
            </tr>

           </tbody>
          
         </table>

        </li>
        <li class="listitem">
         <span class="simpara">
          Claves <code class="literal">"x25519"</code>, <code class="literal">"x448"</code>,
          <code class="literal">"ed25519"</code>, <code class="literal">"ed448"</code> para
          los parámetros Curve25519 y Curve448.
         </span>
         <table class="doctable informaltable">
          
           <thead>
            <tr>
             <th>Options</th>
             <th>Tipo</th>
             <th>Format</th>
             <th>Requis</th>
             <th>Descripción</th>
            </tr>

           </thead>

           <tbody class="tbody">
             <tr>
             <td><code class="literal">"priv_key"</code></td>
             <td><span class="type"><a href="#language.types.string" class="type string">string</a></span></td>
             <td>clave PEM</td>
             <td>no</td>
             <td>clave privada</td>
            </tr>

            <tr>
             <td><code class="literal">"pub_key"</code></td>
             <td><span class="type"><a href="#language.types.string" class="type string">string</a></span></td>
             <td>clave PEM</td>
             <td>no</td>
             <td>clave pública</td>
            </tr>

           </tbody>
          
         </table>

        </li>
       </ul>
      
     </dd>
    
   </dl>
  
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.openssl-pkey-new-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Devuelve una instancia de <span class="classname"><a href="#class.opensslasymmetrickey" class="classname">OpenSSLAsymmetricKey</a></span> en caso de éxito, <strong><code><a href="#constant.false">false</a></code></strong>
   en caso de error.
  </p>
 </div>


 <div class="refsect1 changelog" id="refsect1-function.openssl-pkey-new-changelog">
  <h3 class="title">Historial de cambios</h3>
  <table class="doctable informaltable">
   
    <thead>
     <tr>
      <th>Versión</th>
      <th>Descripción</th>
     </tr>

    </thead>

    <tbody class="tbody">
     <tr>
      <td>8.4.0</td>
      <td>
       Se añadió el soporte para claves basadas en Curve25519 y Curve448 con la introducción de
       los campos <code class="literal">x25519</code>, <code class="literal">ed25519</code>, <code class="literal">x448</code>,
       y <code class="literal">ed448</code>.
      </td>
     </tr>

     <tr>
      <td>8.3.0</td>
      <td>
       Se añadió el soporte para la generación de claves EC con parámetros EC personalizados.
       Más específicamente, con la introducción de las opciones EC:
       <code class="literal">p</code>, <code class="literal">a</code>, <code class="literal">b</code>, <code class="literal">seed</code>,
       <code class="literal">generator</code>, <code class="literal">g_x</code>, <code class="literal">g_y</code>,
       <code class="literal">cofactor</code>, y <code class="literal">order</code>.
      </td>
     </tr>

     <tr>
      <td>8.0.0</td>
      <td>
       En caso de éxito, esta función devuelve ahora una instancia de
       <span class="classname"><a href="#class.opensslasymmetrickey" class="classname">OpenSSLAsymmetricKey</a></span>;
       anteriormente, se devolvía un <span class="type"><a href="#language.types.resource" class="type resource">resource</a></span> de tipo <code class="literal">OpenSSL key</code>.
      </td>
     </tr>

     <tr>
      <td>7.1.0</td>
      <td>
       Se añadió la opción <code class="parameter">curve_name</code>
       para permitir la creación de claves EC.
      </td>
     </tr>

    </tbody>
   
  </table>

 </div>


 <div class="refsect1 examples" id="refsect1-function.openssl-pkey-new-examples">
  <h3 class="title">Ejemplos</h3>
  <div class="example" id="function.openssl-pkey-new.example.public-key">
   <p><strong>Ejemplo #1 Obtener la clave pública a partir de una clave privada</strong></p>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br><br>$private_key </span><span style="color: #007700">= </span><span style="color: #0000BB">openssl_pkey_new</span><span style="color: #007700">();<br></span><span style="color: #0000BB">$public_key_pem </span><span style="color: #007700">= </span><span style="color: #0000BB">openssl_pkey_get_details</span><span style="color: #007700">(</span><span style="color: #0000BB">$private_key</span><span style="color: #007700">)[</span><span style="color: #DD0000">'key'</span><span style="color: #007700">];<br>echo </span><span style="color: #0000BB">$public_key_pem</span><span style="color: #007700">, </span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br><br></span><span style="color: #0000BB">$public_key </span><span style="color: #007700">= </span><span style="color: #0000BB">openssl_pkey_get_public</span><span style="color: #007700">(</span><span style="color: #0000BB">$public_key_pem</span><span style="color: #007700">);<br></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$public_key</span><span style="color: #007700">);<br><br></span><span style="color: #0000BB">?&gt;</span></span></code></div>
   </div>

   <div class="example-contents"><p>Resultado del ejemplo anterior es similar a:</p></div>
   <div class="example-contents screen">
<div class="examplescode"><pre class="examplescode">// Resultado antes de PHP 8.0.0; note que la función devuelve un recurso
-----BEGIN PUBLIC KEY-----
MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAwknBFEherZe74BiRjTFA
hqwZ1SK7brwq7C/afnLXKhRR7jnrpfM0ypC46q8xz5UZswenZakJ7kd5fls+r4Bv
3P8XsKYLTh2m1GiWQhV1g77cNIN4qNWh70PiDO3fB2446o1LBgToQYuRZS5YQRfJ
rVD0ysgtVcCU9tjaey28HlgApOpYFTaaKPj2MBmEYpMC+kG2HhL12GfpHUi2eiXI
dXT2WskWHWvUrmQ7fJIfI92JlDokV62DH/q1oiedLs9OPNb0rL1aAmYdzaVN6XNH
x/o4Lh125v2vAPV9E3fZCDc/HDEUaahpjanMiCQEgEDp5Hr+CRkvERT5/ydN+p08
5wIDAQAB
-----END PUBLIC KEY-----
resource(6) of type (OpenSSL key)

// Resultado a partir de PHP 8.0.0; note que la función devuelve un objeto
-----BEGIN PUBLIC KEY-----
MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAwknBFEherZe74BiRjTFA
hqwZ1SK7brwq7C/afnLXKhRR7jnrpfM0ypC46q8xz5UZswenZakJ7kd5fls+r4Bv
3P8XsKYLTh2m1GiWQhV1g77cNIN4qNWh70PiDO3fB2446o1LBgToQYuRZS5YQRfJ
rVD0ysgtVcCU9tjaey28HlgApOpYFTaaKPj2MBmEYpMC+kG2HhL12GfpHUi2eiXI
dXT2WskWHWvUrmQ7fJIfI92JlDokV62DH/q1oiedLs9OPNb0rL1aAmYdzaVN6XNH
x/o4Lh125v2vAPV9E3fZCDc/HDEUaahpjanMiCQEgEDp5Hr+CRkvERT5/ydN+p08
5wIDAQAB
-----END PUBLIC KEY-----

object(OpenSSLAsymmetricKey)#2 (0) {
}</pre>
</div>
   </div>
  </div>
  <div class="example" id="function.openssl-pkey-new.example.rsa-key">
   <p><strong>Ejemplo #2 Generación de una clave RSA a partir de parámetros</strong></p>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br><br>$nhex </span><span style="color: #007700">= </span><span style="color: #DD0000">"BBF82F090682CE9C2338AC2B9DA871F7368D07EED41043A440D6B6F07454F51F" </span><span style="color: #007700">.<br>        </span><span style="color: #DD0000">"B8DFBAAF035C02AB61EA48CEEB6FCD4876ED520D60E1EC4619719D8A5B8B807F" </span><span style="color: #007700">.<br>        </span><span style="color: #DD0000">"AFB8E0A3DFC737723EE6B4B7D93A2584EE6A649D060953748834B2454598394E" </span><span style="color: #007700">.<br>        </span><span style="color: #DD0000">"E0AAB12D7B61A51F527A9A41F6C1687FE2537298CA2A8F5946F8E5FD091DBDCB"</span><span style="color: #007700">;<br><br></span><span style="color: #0000BB">$ehex </span><span style="color: #007700">= </span><span style="color: #DD0000">"11"</span><span style="color: #007700">;<br></span><span style="color: #0000BB">$dhex </span><span style="color: #007700">= </span><span style="color: #DD0000">"A5DAFC5341FAF289C4B988DB30C1CDF83F31251E0668B42784813801579641B2" </span><span style="color: #007700">.<br>        </span><span style="color: #DD0000">"9410B3C7998D6BC465745E5C392669D6870DA2C082A939E37FDCB82EC93EDAC9" </span><span style="color: #007700">.<br>        </span><span style="color: #DD0000">"7FF3AD5950ACCFBC111C76F1A9529444E56AAF68C56C092CD38DC3BEF5D20A93" </span><span style="color: #007700">.<br>        </span><span style="color: #DD0000">"9926ED4F74A13EDDFBE1A1CECC4894AF9428C2B7B8883FE4463A4BC85B1CB3C1"</span><span style="color: #007700">;<br><br></span><span style="color: #0000BB">$phex </span><span style="color: #007700">= </span><span style="color: #DD0000">"EECFAE81B1B9B3C908810B10A1B5600199EB9F44AEF4FDA493B81A9E3D84F632" </span><span style="color: #007700">.<br>        </span><span style="color: #DD0000">"124EF0236E5D1E3B7E28FAE7AA040A2D5B252176459D1F397541BA2A58FB6599"</span><span style="color: #007700">;<br><br></span><span style="color: #0000BB">$qhex </span><span style="color: #007700">= </span><span style="color: #DD0000">"C97FB1F027F453F6341233EAAAD1D9353F6C42D08866B1D05A0F2035028B9D86" </span><span style="color: #007700">.<br>        </span><span style="color: #DD0000">"9840B41666B42E92EA0DA3B43204B5CFCE3352524D0416A5A441E700AF461503"</span><span style="color: #007700">;<br><br></span><span style="color: #0000BB">$dphex </span><span style="color: #007700">= </span><span style="color: #DD0000">"11"</span><span style="color: #007700">;<br></span><span style="color: #0000BB">$dqhex </span><span style="color: #007700">= </span><span style="color: #DD0000">"11"</span><span style="color: #007700">;<br></span><span style="color: #0000BB">$qinvhex </span><span style="color: #007700">= </span><span style="color: #DD0000">"b06c4fdabb6301198d265bdbae9423b380f271f73453885093077fcd39e2119f" </span><span style="color: #007700">.<br>           </span><span style="color: #DD0000">"c98632154f5883b167a967bf402b4e9e2e0f9656e698ea3666edfb25798039f7"</span><span style="color: #007700">;<br><br></span><span style="color: #0000BB">$rsa</span><span style="color: #007700">= </span><span style="color: #0000BB">openssl_pkey_new</span><span style="color: #007700">([<br>    </span><span style="color: #DD0000">'rsa' </span><span style="color: #007700">=&gt; [<br>        </span><span style="color: #DD0000">'n' </span><span style="color: #007700">=&gt; </span><span style="color: #0000BB">hex2bin</span><span style="color: #007700">(</span><span style="color: #0000BB">$nhex</span><span style="color: #007700">),<br>        </span><span style="color: #DD0000">'e' </span><span style="color: #007700">=&gt; </span><span style="color: #0000BB">hex2bin</span><span style="color: #007700">(</span><span style="color: #0000BB">$ehex</span><span style="color: #007700">),<br>        </span><span style="color: #DD0000">'d' </span><span style="color: #007700">=&gt; </span><span style="color: #0000BB">hex2bin</span><span style="color: #007700">(</span><span style="color: #0000BB">$dhex</span><span style="color: #007700">),<br>        </span><span style="color: #DD0000">'p' </span><span style="color: #007700">=&gt; </span><span style="color: #0000BB">hex2bin</span><span style="color: #007700">(</span><span style="color: #0000BB">$phex</span><span style="color: #007700">),<br>        </span><span style="color: #DD0000">'q' </span><span style="color: #007700">=&gt; </span><span style="color: #0000BB">hex2bin</span><span style="color: #007700">(</span><span style="color: #0000BB">$qhex</span><span style="color: #007700">),<br>        </span><span style="color: #DD0000">'dmp1' </span><span style="color: #007700">=&gt; </span><span style="color: #0000BB">hex2bin</span><span style="color: #007700">(</span><span style="color: #0000BB">$dphex</span><span style="color: #007700">),<br>        </span><span style="color: #DD0000">'dmq1' </span><span style="color: #007700">=&gt; </span><span style="color: #0000BB">hex2bin</span><span style="color: #007700">(</span><span style="color: #0000BB">$dqhex</span><span style="color: #007700">),<br>        </span><span style="color: #DD0000">'iqmp' </span><span style="color: #007700">=&gt; </span><span style="color: #0000BB">hex2bin</span><span style="color: #007700">(</span><span style="color: #0000BB">$qinvhex</span><span style="color: #007700">),<br>    ],<br>]);<br></span><span style="color: #0000BB">$details </span><span style="color: #007700">= </span><span style="color: #0000BB">openssl_pkey_get_details</span><span style="color: #007700">(</span><span style="color: #0000BB">$rsa</span><span style="color: #007700">);<br></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$details</span><span style="color: #007700">);<br><br></span><span style="color: #0000BB">?&gt;</span></span></code></div>
   </div>

  </div>
 </div>


</div>
<hr>







<div id="function.openssl-private-decrypt" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">openssl_private_decrypt</h1>
  <p class="verinfo">(PHP 4 &gt;= 4.0.6, PHP 5, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">openssl_private_decrypt</span> — <span class="dc-title">Descifra datos con una clave privada</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-function.openssl-private-decrypt-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>openssl_private_decrypt</strong></span>(<br>    <span class="methodparam"><span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$data</code></span>,<br>    <span class="methodparam"><span class="attribute"><a href="class.sensitiveparameter.html">#[\SensitiveParameter]</a> </span><span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter reference">&amp;$decrypted_data</code></span>,<br>    <span class="methodparam"><span class="attribute"><a href="class.sensitiveparameter.html">#[\SensitiveParameter]</a> </span><span class="type"><span class="type"><a href="#class.opensslasymmetrickey" class="type OpenSSLAsymmetricKey">OpenSSLAsymmetricKey</a></span>|<span class="type"><a href="#class.opensslcertificate" class="type OpenSSLCertificate">OpenSSLCertificate</a></span>|<span class="type"><a href="#language.types.array" class="type array">array</a></span>|<span class="type"><a href="#language.types.string" class="type string">string</a></span></span> <code class="parameter">$private_key</code></span>,<br>    <span class="methodparam"><span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$padding</code><span class="initializer"> = <strong><code><a href="#constant.openssl-pkcs1-padding">OPENSSL_PKCS1_PADDING</a></code></strong></span></span><br>): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>

  <p class="para rdfs-comment">
   <span class="function"><strong>openssl_private_decrypt()</strong></span> descifra
   <code class="parameter">data</code> que ha sido cifrada previamente con
   <span class="function"><a href="#function.openssl-public-encrypt" class="function">openssl_public_encrypt()</a></span>, y almacena el resultado
   en la variable <code class="parameter">decrypted_data</code>.
  </p>
  <p class="para">
   Esta función puede ser utilizada, por ejemplo, para descifrar datos
   que solo deben ser accesibles para el usuario.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.openssl-private-decrypt-parameters">
  <h3 class="title">Parámetros</h3>
  <p class="para">
   </p><dl>
    
     <dt><code class="parameter">data</code></dt>
     <dd>
      <p class="para">
      </p>
     </dd>
    
    
     <dt><code class="parameter">decrypted_data</code></dt>
     <dd>
      <p class="para">
      </p>
     </dd>
    
    
     <dt><code class="parameter">private_key</code></dt>
     <dd>
      <p class="para">
       <code class="parameter">private_key</code> debe ser la clave privada
       utilizada para cifrar los datos.
      </p>
     </dd>
    
    
     <dt><code class="parameter">padding</code></dt>
     <dd>
      <p class="para">
       <code class="parameter">padding</code> puede ser
       <strong><code><a href="#constant.openssl-pkcs1-padding">OPENSSL_PKCS1_PADDING</a></code></strong>,
       <strong><code><a href="#constant.openssl-sslv23-padding">OPENSSL_SSLV23_PADDING</a></code></strong>,
       <strong><code><a href="#constant.openssl-pkcs1-oaep-padding">OPENSSL_PKCS1_OAEP_PADDING</a></code></strong> o
       <strong><code><a href="#constant.openssl-no-padding">OPENSSL_NO_PADDING</a></code></strong>.
      </p>
     </dd>
    
   </dl>
  
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.openssl-private-decrypt-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Esta función retorna <strong><code><a href="#constant.true">true</a></code></strong> en caso de éxito o <strong><code><a href="#constant.false">false</a></code></strong> si ocurre un error.
  </p>
 </div>


 <div class="refsect1 changelog" id="refsect1-function.openssl-private-decrypt-changelog">
  <h3 class="title">Historial de cambios</h3>
  <table class="doctable informaltable">
   
    <thead>
     <tr>
      <th>Versión</th>
      <th>Descripción</th>
     </tr>

    </thead>

    <tbody class="tbody">
     <tr>
      <td>8.0.0</td>
      <td>
       <code class="parameter">private_key</code> ahora acepta una instancia de
       <span class="classname"><a href="#class.opensslasymmetrickey" class="classname">OpenSSLAsymmetricKey</a></span> o <span class="classname"><a href="#class.opensslcertificate" class="classname">OpenSSLCertificate</a></span>;
       anteriormente, se aceptaba un <span class="type"><a href="#language.types.resource" class="type resource">resource</a></span> de tipo <code class="literal">OpenSSL key</code> o <code class="literal">OpenSSL X.509</code>.
      </td>
     </tr>

    </tbody>
   
  </table>

 </div>


 <div class="refsect1 seealso" id="refsect1-function.openssl-private-decrypt-seealso">
  <h3 class="title">Ver también</h3>
  <p class="para">
   </p><ul class="simplelist">
    <li><span class="function"><a href="#function.openssl-public-encrypt" class="function" rel="rdfs-seeAlso">openssl_public_encrypt()</a> - Cifra datos con una clave pública</span></li>
    <li><span class="function"><a href="#function.openssl-public-decrypt" class="function" rel="rdfs-seeAlso">openssl_public_decrypt()</a> - Descifra datos con una clave pública</span></li>
   </ul>
  
 </div>


</div>
<hr>







<div id="function.openssl-private-encrypt" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">openssl_private_encrypt</h1>
  <p class="verinfo">(PHP 4 &gt;= 4.0.6, PHP 5, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">openssl_private_encrypt</span> — <span class="dc-title">Cifra datos con una clave privada</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-function.openssl-private-encrypt-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>openssl_private_encrypt</strong></span>(<br>    <span class="methodparam"><span class="attribute"><a href="class.sensitiveparameter.html">#[\SensitiveParameter]</a> </span><span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$data</code></span>,<br>    <span class="methodparam"><span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter reference">&amp;$encrypted_data</code></span>,<br>    <span class="methodparam"><span class="attribute"><a href="class.sensitiveparameter.html">#[\SensitiveParameter]</a> </span><span class="type"><span class="type"><a href="#class.opensslasymmetrickey" class="type OpenSSLAsymmetricKey">OpenSSLAsymmetricKey</a></span>|<span class="type"><a href="#class.opensslcertificate" class="type OpenSSLCertificate">OpenSSLCertificate</a></span>|<span class="type"><a href="#language.types.array" class="type array">array</a></span>|<span class="type"><a href="#language.types.string" class="type string">string</a></span></span> <code class="parameter">$private_key</code></span>,<br>    <span class="methodparam"><span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$padding</code><span class="initializer"> = <strong><code><a href="#constant.openssl-pkcs1-padding">OPENSSL_PKCS1_PADDING</a></code></strong></span></span><br>): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>

  <p class="para rdfs-comment">
   <span class="function"><strong>openssl_private_encrypt()</strong></span> cifra los datos
   <code class="parameter">data</code> con la clave privada <code class="parameter">private_key</code>
   y almacena el resultado en <code class="parameter">encrypted_data</code>.
   Los datos cifrados pueden ser descifrados con la función
   <span class="function"><a href="#function.openssl-public-decrypt" class="function">openssl_public_decrypt()</a></span>.
  </p>
  <p class="para">
   Esta función puede ser utilizada para firmar los datos (o sus cifrados) para
   demostrar que no han sido escritos por otra persona.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.openssl-private-encrypt-parameters">
  <h3 class="title">Parámetros</h3>
  <p class="para">
   </p><dl>
    
     <dt><code class="parameter">data</code></dt>
     <dd>
      <p class="para">
      </p>
     </dd>
    
    
     <dt><code class="parameter">encrypted_data</code></dt>
     <dd>
      <p class="para">
      </p>
     </dd>
    
    
     <dt><code class="parameter">private_key</code></dt>
     <dd>
      <p class="para">
       <code class="parameter">private_key</code> debe ser la clave privada correspondiente
       a la clave pública que será utilizada para descifrar los datos.
      </p>
     </dd>
    
    
     <dt><code class="parameter">padding</code></dt>
     <dd>
      <p class="para">
       El parámetro <code class="parameter">padding</code> puede ser
       <strong><code><a href="#constant.openssl-pkcs1-padding">OPENSSL_PKCS1_PADDING</a></code></strong> o
       <strong><code><a href="#constant.openssl-no-padding">OPENSSL_NO_PADDING</a></code></strong>.
      </p>
     </dd>
    
   </dl>
  
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.openssl-private-encrypt-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Esta función retorna <strong><code><a href="#constant.true">true</a></code></strong> en caso de éxito o <strong><code><a href="#constant.false">false</a></code></strong> si ocurre un error.
  </p>
 </div>


 <div class="refsect1 changelog" id="refsect1-function.openssl-private-encrypt-changelog">
  <h3 class="title">Historial de cambios</h3>
  <table class="doctable informaltable">
   
    <thead>
     <tr>
      <th>Versión</th>
      <th>Descripción</th>
     </tr>

    </thead>

    <tbody class="tbody">
     <tr>
      <td>8.0.0</td>
      <td>
       <code class="parameter">private_key</code> acepta ahora una instancia de
       <span class="classname"><a href="#class.opensslasymmetrickey" class="classname">OpenSSLAsymmetricKey</a></span> o <span class="classname"><a href="#class.opensslcertificate" class="classname">OpenSSLCertificate</a></span> ;
       anteriormente, se aceptaba un <span class="type"><a href="#language.types.resource" class="type resource">resource</a></span> de tipo <code class="literal">OpenSSL key</code> o <code class="literal">OpenSSL X.509</code>.
      </td>
     </tr>

    </tbody>
   
  </table>

 </div>


 <div class="refsect1 seealso" id="refsect1-function.openssl-private-encrypt-seealso">
  <h3 class="title">Ver también</h3>
  <p class="para">
   </p><ul class="simplelist">
    <li><span class="function"><a href="#function.openssl-public-encrypt" class="function" rel="rdfs-seeAlso">openssl_public_encrypt()</a> - Cifra datos con una clave pública</span></li>
    <li><span class="function"><a href="#function.openssl-public-decrypt" class="function" rel="rdfs-seeAlso">openssl_public_decrypt()</a> - Descifra datos con una clave pública</span></li>
   </ul>
  
 </div>


</div>
<hr>







<div id="function.openssl-public-decrypt" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">openssl_public_decrypt</h1>
  <p class="verinfo">(PHP 4 &gt;= 4.0.6, PHP 5, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">openssl_public_decrypt</span> — <span class="dc-title">Descifra datos con una clave pública</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-function.openssl-public-decrypt-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>openssl_public_decrypt</strong></span>(<br>    <span class="methodparam"><span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$data</code></span>,<br>    <span class="methodparam"><span class="attribute"><a href="class.sensitiveparameter.html">#[\SensitiveParameter]</a> </span><span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter reference">&amp;$decrypted_data</code></span>,<br>    <span class="methodparam"><span class="type"><span class="type"><a href="#class.opensslasymmetrickey" class="type OpenSSLAsymmetricKey">OpenSSLAsymmetricKey</a></span>|<span class="type"><a href="#class.opensslcertificate" class="type OpenSSLCertificate">OpenSSLCertificate</a></span>|<span class="type"><a href="#language.types.array" class="type array">array</a></span>|<span class="type"><a href="#language.types.string" class="type string">string</a></span></span> <code class="parameter">$public_key</code></span>,<br>    <span class="methodparam"><span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$padding</code><span class="initializer"> = <strong><code><a href="#constant.openssl-pkcs1-padding">OPENSSL_PKCS1_PADDING</a></code></strong></span></span><br>): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>

  <p class="para rdfs-comment">
   <span class="function"><strong>openssl_public_decrypt()</strong></span> descifra los datos
   <code class="parameter">data</code> que han sido cifrados con la función
   <span class="function"><a href="#function.openssl-private-encrypt" class="function">openssl_private_encrypt()</a></span> y almacena el resultado en
   <code class="parameter">decrypted_data</code>.
  </p>
  <p class="para">
   Puede utilizarse esta función para verificar si el mensaje ha sido escrito por el
   propietario de la clave privada.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.openssl-public-decrypt-parameters">
  <h3 class="title">Parámetros</h3>
  <p class="para">
   </p><dl>
    
     <dt><code class="parameter">data</code></dt>
     <dd>
      <p class="para">
      </p>
     </dd>
    
    
     <dt><code class="parameter">decrypted_data</code></dt>
     <dd>
      <p class="para">
      </p>
     </dd>
    
    
     <dt><code class="parameter">public_key</code></dt>
     <dd>
      <p class="para">
       <code class="parameter">public_key</code> debe ser la clave pública que
       ha sido utilizada para cifrar los datos.
      </p>
     </dd>
    
    
     <dt><code class="parameter">padding</code></dt>
     <dd>
      <p class="para">
       <code class="parameter">padding</code> puede ser
       <strong><code><a href="#constant.openssl-pkcs1-padding">OPENSSL_PKCS1_PADDING</a></code></strong>
       o <strong><code><a href="#constant.openssl-no-padding">OPENSSL_NO_PADDING</a></code></strong>.
      </p>
     </dd>
    
   </dl>
  
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.openssl-public-decrypt-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Esta función retorna <strong><code><a href="#constant.true">true</a></code></strong> en caso de éxito o <strong><code><a href="#constant.false">false</a></code></strong> si ocurre un error.
  </p>
 </div>


 <div class="refsect1 changelog" id="refsect1-function.openssl-public-decrypt-changelog">
  <h3 class="title">Historial de cambios</h3>
  <table class="doctable informaltable">
   
    <thead>
     <tr>
      <th>Versión</th>
      <th>Descripción</th>
     </tr>

    </thead>

    <tbody class="tbody">
     <tr>
      <td>8.0.0</td>
      <td>
       <code class="parameter">public_key</code> acepta ahora una instancia de
       <span class="classname"><a href="#class.opensslasymmetrickey" class="classname">OpenSSLAsymmetricKey</a></span> o <span class="classname"><a href="#class.opensslcertificate" class="classname">OpenSSLCertificate</a></span> ;
       anteriormente, se aceptaba un <span class="type"><a href="#language.types.resource" class="type resource">resource</a></span> de tipo <code class="literal">OpenSSL key</code> o <code class="literal">OpenSSL X.509</code>
       .
      </td>
     </tr>

    </tbody>
   
  </table>

 </div>


 <div class="refsect1 seealso" id="refsect1-function.openssl-public-decrypt-seealso">
  <h3 class="title">Ver también</h3>
  <p class="para">
   </p><ul class="simplelist">
    <li><span class="function"><a href="#function.openssl-private-encrypt" class="function" rel="rdfs-seeAlso">openssl_private_encrypt()</a> - Cifra datos con una clave privada</span></li>
    <li><span class="function"><a href="#function.openssl-private-decrypt" class="function" rel="rdfs-seeAlso">openssl_private_decrypt()</a> - Descifra datos con una clave privada</span></li>
   </ul>
  
 </div>


</div>
<hr>







<div id="function.openssl-public-encrypt" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">openssl_public_encrypt</h1>
  <p class="verinfo">(PHP 4 &gt;= 4.0.6, PHP 5, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">openssl_public_encrypt</span> — <span class="dc-title">Cifra datos con una clave pública</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-function.openssl-public-encrypt-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>openssl_public_encrypt</strong></span>(<br>    <span class="methodparam"><span class="attribute"><a href="class.sensitiveparameter.html">#[\SensitiveParameter]</a> </span><span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$data</code></span>,<br>    <span class="methodparam"><span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter reference">&amp;$encrypted_data</code></span>,<br>    <span class="methodparam"><span class="type"><span class="type"><a href="#class.opensslasymmetrickey" class="type OpenSSLAsymmetricKey">OpenSSLAsymmetricKey</a></span>|<span class="type"><a href="#class.opensslcertificate" class="type OpenSSLCertificate">OpenSSLCertificate</a></span>|<span class="type"><a href="#language.types.array" class="type array">array</a></span>|<span class="type"><a href="#language.types.string" class="type string">string</a></span></span> <code class="parameter">$public_key</code></span>,<br>    <span class="methodparam"><span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$padding</code><span class="initializer"> = <strong><code><a href="#constant.openssl-pkcs1-padding">OPENSSL_PKCS1_PADDING</a></code></strong></span></span><br>): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>

  <p class="para rdfs-comment">
   <span class="function"><strong>openssl_public_encrypt()</strong></span> cifra los datos
   <code class="parameter">data</code> con la clave pública
   <code class="parameter">public_key</code> y almacena el resultado en <code class="parameter">encrypted_data</code>.
   Los datos cifrados pueden ser descifrados con la función
   <span class="function"><a href="#function.openssl-private-decrypt" class="function">openssl_private_decrypt()</a></span>.
  </p>
  <p class="para">
   Esta función puede ser utilizada para cifrar un mensaje que podrá ser leído
   únicamente por el propietario de la clave privada. Puede ser igualmente utilizada
   para almacenar datos seguros en una base de datos.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.openssl-public-encrypt-parameters">
  <h3 class="title">Parámetros</h3>
  <p class="para">
   </p><dl>
    
     <dt><code class="parameter">data</code></dt>
     <dd>
      <p class="para">
      </p>
     </dd>
    
    
     <dt><code class="parameter">encrypted_data</code></dt>
     <dd>
      <p class="para">
       Contendrá el resultado del cifrado.
      </p>
     </dd>
    
    
     <dt><code class="parameter">public_key</code></dt>
     <dd>
      <p class="para">
       <code class="parameter">public_key</code> debe ser la clave pública correspondiente
       a la clave privada que será utilizada para descifrar los datos.
      </p>
     </dd>
    
    
     <dt><code class="parameter">padding</code></dt>
     <dd>
      <p class="para">
       <code class="parameter">padding</code> puede ser
       <strong><code><a href="#constant.openssl-pkcs1-padding">OPENSSL_PKCS1_PADDING</a></code></strong>,
       <strong><code><a href="#constant.openssl-sslv23-padding">OPENSSL_SSLV23_PADDING</a></code></strong>,
       <strong><code><a href="#constant.openssl-pkcs1-oaep-padding">OPENSSL_PKCS1_OAEP_PADDING</a></code></strong> o
       <strong><code><a href="#constant.openssl-no-padding">OPENSSL_NO_PADDING</a></code></strong>.
      </p>
     </dd>
    
   </dl>
  
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.openssl-public-encrypt-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Esta función retorna <strong><code><a href="#constant.true">true</a></code></strong> en caso de éxito o <strong><code><a href="#constant.false">false</a></code></strong> si ocurre un error.
  </p>
 </div>


 <div class="refsect1 changelog" id="refsect1-function.openssl-public-encrypt-changelog">
  <h3 class="title">Historial de cambios</h3>
  <table class="doctable informaltable">
   
    <thead>
     <tr>
      <th>Versión</th>
      <th>Descripción</th>
     </tr>

    </thead>

    <tbody class="tbody">
     <tr>
      <td>8.0.0</td>
      <td>
       <code class="parameter">public_key</code> acepta ahora una instancia de
       <span class="classname"><a href="#class.opensslasymmetrickey" class="classname">OpenSSLAsymmetricKey</a></span> o <span class="classname"><a href="#class.opensslcertificate" class="classname">OpenSSLCertificate</a></span> ;
       anteriormente, se aceptaba un <span class="type"><a href="#language.types.resource" class="type resource">resource</a></span> de tipo <code class="literal">OpenSSL key</code> o <code class="literal">OpenSSL X.509</code>.
      </td>
     </tr>

    </tbody>
   
  </table>

 </div>


 <div class="refsect1 seealso" id="refsect1-function.openssl-public-encrypt-seealso">
  <h3 class="title">Ver también</h3>
  <p class="para">
   </p><ul class="simplelist">
    <li><span class="function"><a href="#function.openssl-private-encrypt" class="function" rel="rdfs-seeAlso">openssl_private_encrypt()</a> - Cifra datos con una clave privada</span></li>
    <li><span class="function"><a href="#function.openssl-private-decrypt" class="function" rel="rdfs-seeAlso">openssl_private_decrypt()</a> - Descifra datos con una clave privada</span></li>
   </ul>
  
 </div>


</div>
<hr>







<div id="function.openssl-random-pseudo-bytes" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">openssl_random_pseudo_bytes</h1>
  <p class="verinfo">(PHP 5 &gt;= 5.3.0, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">openssl_random_pseudo_bytes</span> — <span class="dc-title">Genera una cadena pseudo-aleatoria de octetos</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-function.openssl-random-pseudo-bytes-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>openssl_random_pseudo_bytes</strong></span>(<span class="methodparam"><span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$length</code></span>, <span class="methodparam"><span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span> <code class="parameter reference">&amp;$strong_result</code><span class="initializer"> = <strong><code><a href="#constant.null">null</a></code></strong></span></span>): <span class="type"><a href="#language.types.string" class="type string">string</a></span></div>

  <p class="para rdfs-comment">
   Genera una <span class="type"><a href="#language.types.string" class="type string">string</a></span> pseudo-aleatoria de octetos, cuya longitud es
   especificada por el argumento <code class="parameter">length</code>.
  </p>
  <p class="para">
   Indica asimismo si el algoritmo fuerte de criptología ha sido utilizado para
   producir estos octetos pseudo-aleatorios, utilizando el argumento
   <code class="parameter">strong_result</code>.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.openssl-random-pseudo-bytes-parameters">
  <h3 class="title">Parámetros</h3>
  <p class="para">
   </p><dl>
    
     <dt><code class="parameter">length</code></dt>
     <dd>
      <p class="para">
       El tamaño deseado para la cadena de octetos. Debe ser un número entero positivo
       inferior o igual a <code class="literal">2147483647</code>. PHP intentará
       convertir este argumento a un entero no nulo para utilizarlo.
      </p>
     </dd>
    
    
     <dt><code class="parameter">strong_result</code></dt>
     <dd>
      <p class="para">
       Si se proporciona, determina si el algoritmo de criptología utilizado
       era criptológicamente fuerte, es decir, seguro para ser utilizado con GPG, contraseñas, etc. <strong><code><a href="#constant.true">true</a></code></strong> si lo es, <strong><code><a href="#constant.false">false</a></code></strong> en caso contrario.
      </p>
     </dd>
    
   </dl>
  
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.openssl-random-pseudo-bytes-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Devuelve la cadena de octetos generada.
  </p>
 </div>


 <div class="refsect1 errors" id="refsect1-function.openssl-random-pseudo-bytes-errors">
  <h3 class="title">Errores/Excepciones</h3>
  <p class="para">
   <span class="function"><strong>openssl_random_pseudo_bytes()</strong></span> lanza una <span class="classname"><a href="#class.exception" class="classname">Exception</a></span> en caso de error.
  </p>
 </div>


 <div class="refsect1 changelog" id="refsect1-function.openssl-random-pseudo-bytes-changelog">
  <h3 class="title">Historial de cambios</h3>
  <table class="doctable informaltable">
   
    <thead>
     <tr>
      <th>Versión</th>
      <th>Descripción</th>
     </tr>

    </thead>

    <tbody class="tbody">
     <tr>
      <td>8.0.0</td>
      <td>
       <code class="parameter">strong_result</code> ahora es nullable.
      </td>
     </tr>

     <tr>
      <td>7.4.0</td>
      <td>
       La función ya no devuelve <strong><code><a href="#constant.false">false</a></code></strong> en caso de error, sino que lanza una <span class="classname"><a href="#class.exception" class="classname">Exception</a></span> en su lugar.
      </td>
     </tr>

    </tbody>
   
  </table>

 </div>


 <div class="refsect1 examples" id="refsect1-function.openssl-random-pseudo-bytes-examples">
  <h3 class="title">Ejemplos</h3>
  <p class="para">
   </p><div class="example" id="example-1047">
    <p><strong>Ejemplo #1 Ejemplo <span class="function"><strong>openssl_random_pseudo_bytes()</strong></span></strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br></span><span style="color: #007700">for (</span><span style="color: #0000BB">$i </span><span style="color: #007700">= </span><span style="color: #0000BB">1</span><span style="color: #007700">; </span><span style="color: #0000BB">$i </span><span style="color: #007700">&lt;= </span><span style="color: #0000BB">4</span><span style="color: #007700">; </span><span style="color: #0000BB">$i</span><span style="color: #007700">++) {<br>    </span><span style="color: #0000BB">$bytes </span><span style="color: #007700">= </span><span style="color: #0000BB">openssl_random_pseudo_bytes</span><span style="color: #007700">(</span><span style="color: #0000BB">$i</span><span style="color: #007700">, </span><span style="color: #0000BB">$cstrong</span><span style="color: #007700">);<br>    </span><span style="color: #0000BB">$hex   </span><span style="color: #007700">= </span><span style="color: #0000BB">bin2hex</span><span style="color: #007700">(</span><span style="color: #0000BB">$bytes</span><span style="color: #007700">);<br><br>    echo </span><span style="color: #DD0000">"Longitud : Octetos : </span><span style="color: #0000BB">$i</span><span style="color: #DD0000"> y Hex: " </span><span style="color: #007700">. </span><span style="color: #0000BB">strlen</span><span style="color: #007700">(</span><span style="color: #0000BB">$hex</span><span style="color: #007700">) . </span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br>    </span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$hex</span><span style="color: #007700">);<br>    </span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$cstrong</span><span style="color: #007700">);<br>    echo </span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br>}<br></span><span style="color: #0000BB">?&gt;</span></span></code></div>
    </div>

    <div class="example-contents"><p>Resultado del ejemplo anterior es similar a:</p></div>
    <div class="example-contents screen">
<div class="examplescode"><pre class="examplescode">Longitud : Octetos : 1 y Hex: 2
string(2) "42"
bool(true)

Longitud : Octetos : 2 y Hex: 4
string(4) "dc6e"
bool(true)

Longitud : Octetos : 3 y Hex: 6
string(6) "288591"
bool(true)

Longitud : Octetos : 4 y Hex: 8
string(8) "ab86d144"
bool(true)</pre>
</div>
    </div>
   </div>
  
 </div>


 <div class="refsect1 seealso" id="refsect1-function.openssl-random-pseudo-bytes-seealso">
  <h3 class="title">Ver también</h3>
  <ul class="simplelist">
   <li><span class="function"><a href="#function.random-bytes" class="function" rel="rdfs-seeAlso">random_bytes()</a> - Obtiene bytes aleatorios criptográficamente seguros</span></li>
   <li><span class="function"><a href="#function.bin2hex" class="function" rel="rdfs-seeAlso">bin2hex()</a> - Convierte datos binarios en representación hexadecimal</span></li>
   <li><span class="function"><a href="#function.crypt" class="function" rel="rdfs-seeAlso">crypt()</a> - Hash de un solo sentido (indescifrable)</span></li>
   <li><span class="function"><a href="#function.random-int" class="function" rel="rdfs-seeAlso">random_int()</a> - Obtiene un integer seleccionado de manera uniforme y criptográficamente segura</span></li>
  </ul>
 </div>

</div>
<hr>








<div id="function.openssl-seal" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">openssl_seal</h1>
  <p class="verinfo">(PHP 4 &gt;= 4.0.4, PHP 5, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">openssl_seal</span> — <span class="dc-title">Sella datos</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-function.openssl-seal-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>openssl_seal</strong></span>(<br>    <span class="methodparam"><span class="attribute"><a href="class.sensitiveparameter.html">#[\SensitiveParameter]</a> </span><span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$data</code></span>,<br>    <span class="methodparam"><span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter reference">&amp;$sealed_data</code></span>,<br>    <span class="methodparam"><span class="type"><a href="#language.types.array" class="type array">array</a></span> <code class="parameter reference">&amp;$encrypted_keys</code></span>,<br>    <span class="methodparam"><span class="type"><a href="#language.types.array" class="type array">array</a></span> <code class="parameter">$public_key</code></span>,<br>    <span class="methodparam"><span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$cipher_algo</code></span>,<br>    <span class="methodparam"><span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter reference">&amp;$iv</code><span class="initializer"> = <strong><code><a href="#constant.null">null</a></code></strong></span></span><br>): <span class="type"><span class="type"><a href="#language.types.integer" class="type int">int</a></span>|<span class="type"><a href="#language.types.singleton" class="type false">false</a></span></span></div>

  <p class="para rdfs-comment">
   La <span class="function"><strong>openssl_seal()</strong></span> sella (cifra) <code class="parameter">data</code> utilizando el
   <code class="parameter">cipher_algo</code> especificado con una clave secreta generada aleatoriamente. La clave es
   posteriormente cifrada con cada una de las claves públicas en el array <code class="parameter">public_key</code>,
   y cada clave de envoltura cifrada es devuelta en <code class="parameter">encrypted_keys</code>. Esto permite
   enviar datos sellados a múltiples destinatarios (siempre que sus claves públicas estén disponibles).
   Cada destinatario debe recibir tanto los datos sellados como la clave de envoltura que ha sido cifrada con
   la clave pública del destinatario. El IV (vector de inicialización) es generado, y su valor es devuelto en
   <code class="parameter">iv</code>.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.openssl-seal-parameters">
  <h3 class="title">Parámetros</h3>
  <p class="para">
   </p><dl>
    
     <dt><code class="parameter">data</code></dt>
     <dd>
      <p class="para">
       Los datos a sellar
      </p>
     </dd>
    
    
     <dt><code class="parameter">sealed_data</code></dt>
     <dd>
      <p class="para">
       Los datos sellados.
      </p>
     </dd>
    
    
     <dt><code class="parameter">encrypted_keys</code></dt>
     <dd>
      <p class="para">
       Array de claves cifradas.
      </p>
     </dd>
    
    
     <dt><code class="parameter">public_key</code></dt>
     <dd>
      <p class="para">
       Array de instancias <span class="classname"><a href="#class.opensslasymmetrickey" class="classname">OpenSSLAsymmetricKey</a></span>
       que contienen las claves públicas.
      </p>
     </dd>
    
    
     <dt><code class="parameter">cipher_algo</code></dt>
     <dd>
      <p class="para">
       El método de cifrado.
       </p><div class="caution"><strong class="caution">Precaución</strong>
        <p class="simpara">
         El valor por omisión para versiones de PHP anteriores a 8.0 es (<code class="literal">'RC4'</code>), que se
         considera no segura. Se recomienda encarecidamente especificar explícitamente un método de cifrado
         seguro.
        </p>
       </div>
      
     </dd>
    
    
     <dt><code class="parameter">iv</code></dt>
     <dd>
      <p class="para">
       El vector de inicialización para el descifrado de <code class="parameter">data</code>. Es requerido si
       el método de cifrado necesita un IV. Esto puede ser determinado llamando a
       <span class="function"><a href="#function.openssl-cipher-iv-length" class="function">openssl_cipher_iv_length()</a></span> con <code class="parameter">cipher_algo</code>.
      </p>
      <div class="caution"><strong class="caution">Precaución</strong>
       <p class="simpara">
        El IV no puede ser definido explícitamente. Cualquier valor que se le asigne es sobrescrito por un valor
        generado aleatoriamente.
       </p>
      </div>
     </dd>
    
   </dl>
  
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.openssl-seal-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Devuelve la longitud de los datos
   sellados en caso de éxito, y <strong><code><a href="#constant.false">false</a></code></strong> en caso contrario.
   En caso de éxito, los datos sellados son
   colocados en el parámetro <code class="parameter">sealed_data</code>,
   y las claves de envoltura en <code class="parameter">encrypted_keys</code>.
  </p>
 </div>


 <div class="refsect1 changelog" id="refsect1-function.openssl-seal-changelog">
  <h3 class="title">Historial de cambios</h3>
  <table class="doctable informaltable">
   
    <thead>
     <tr>
      <th>Versión</th>
      <th>Descripción</th>
     </tr>

    </thead>

    <tbody class="tbody">
     <tr>
      <td>8.0.0</td>
      <td>
       <code class="parameter">public_key</code> ahora acepta un <span class="type"><a href="#language.types.array" class="type array">array</a></span>
       de instancias de <span class="classname"><a href="#class.opensslasymmetrickey" class="classname">OpenSSLAsymmetricKey</a></span>;
       anteriormente, se aceptaba un <span class="type"><a href="#language.types.array" class="type array">array</a></span> de <span class="type"><a href="#language.types.resource" class="type resource">resource</a></span>s de tipo <code class="literal">OpenSSL key</code>.
      </td>
     </tr>

     <tr>
      <td>8.0.0</td>
      <td>
       <code class="parameter">cipher_algo</code> ya no es un parámetro opcional.
      </td>
     </tr>

     <tr>
      <td>8.0.0</td>
      <td>
       <code class="parameter">iv</code> ahora es nullable.
      </td>
     </tr>

    </tbody>
   
  </table>

 </div>


 <div class="refsect1 examples" id="refsect1-function.openssl-seal-examples">
  <h3 class="title">Ejemplos</h3>
  <p class="para">
   </p><div class="example" id="example-1048">
    <p><strong>Ejemplo #1 Ejemplo con <span class="function"><strong>openssl_seal()</strong></span></strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br><br>$data </span><span style="color: #007700">= </span><span style="color: #DD0000">"test"</span><span style="color: #007700">;<br><br></span><span style="color: #FF8000">// obtener las claves públicas<br></span><span style="color: #0000BB">$pk1 </span><span style="color: #007700">= </span><span style="color: #0000BB">openssl_get_publickey</span><span style="color: #007700">(</span><span style="color: #DD0000">"file://cert1.pem"</span><span style="color: #007700">);<br></span><span style="color: #0000BB">$pk2 </span><span style="color: #007700">= </span><span style="color: #0000BB">openssl_get_publickey</span><span style="color: #007700">(</span><span style="color: #DD0000">"file://cert2.pem"</span><span style="color: #007700">);<br><br></span><span style="color: #FF8000">// sella el mensaje: solo los poseedores de $pk1 y $pk2 pueden descifrar<br>// el mensaje $sealed con las claves $ekeys[0] y $ekeys[1] (respectivamente).<br></span><span style="color: #0000BB">openssl_seal</span><span style="color: #007700">(</span><span style="color: #0000BB">$data</span><span style="color: #007700">, </span><span style="color: #0000BB">$sealed</span><span style="color: #007700">, </span><span style="color: #0000BB">$ekeys</span><span style="color: #007700">, array(</span><span style="color: #0000BB">$pk1</span><span style="color: #007700">, </span><span style="color: #0000BB">$pk2</span><span style="color: #007700">));<br><br>if (</span><span style="color: #0000BB">openssl_seal</span><span style="color: #007700">(</span><span style="color: #0000BB">$data</span><span style="color: #007700">, </span><span style="color: #0000BB">$sealed</span><span style="color: #007700">, </span><span style="color: #0000BB">$ekeys</span><span style="color: #007700">, array(</span><span style="color: #0000BB">$pk1</span><span style="color: #007700">, </span><span style="color: #0000BB">$pk2</span><span style="color: #007700">), </span><span style="color: #DD0000">'AES256'</span><span style="color: #007700">, </span><span style="color: #0000BB">$iv</span><span style="color: #007700">) &gt; </span><span style="color: #0000BB">0</span><span style="color: #007700">) {<br>    </span><span style="color: #FF8000">// posiblemente almacenar los valores $sealed y $iv y utilizarlos más tarde en openssl_open<br>    </span><span style="color: #007700">echo </span><span style="color: #DD0000">"éxito\n"</span><span style="color: #007700">;<br>}<br></span><span style="color: #0000BB">?&gt;</span></span></code></div>
    </div>

   </div>
  
 </div>


 <div class="refsect1 seealso" id="refsect1-function.openssl-seal-seealso">
  <h3 class="title">Ver también</h3>
  <p class="para">
   </p><ul class="simplelist">
    <li><span class="function"><a href="#function.openssl-open" class="function" rel="rdfs-seeAlso">openssl_open()</a> - Abre datos sellados</span></li>
   </ul>
  
 </div>


</div>
<hr>







<div id="function.openssl-sign" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">openssl_sign</h1>
  <p class="verinfo">(PHP 4 &gt;= 4.0.4, PHP 5, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">openssl_sign</span> — <span class="dc-title">Firma los datos</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-function.openssl-sign-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>openssl_sign</strong></span>(<br>    <span class="methodparam"><span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$data</code></span>,<br>    <span class="methodparam"><span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter reference">&amp;$signature</code></span>,<br>    <span class="methodparam"><span class="attribute"><a href="class.sensitiveparameter.html">#[\SensitiveParameter]</a> </span><span class="type"><span class="type"><a href="#class.opensslasymmetrickey" class="type OpenSSLAsymmetricKey">OpenSSLAsymmetricKey</a></span>|<span class="type"><a href="#class.opensslcertificate" class="type OpenSSLCertificate">OpenSSLCertificate</a></span>|<span class="type"><a href="#language.types.array" class="type array">array</a></span>|<span class="type"><a href="#language.types.string" class="type string">string</a></span></span> <code class="parameter">$private_key</code></span>,<br>    <span class="methodparam"><span class="type"><span class="type"><a href="#language.types.string" class="type string">string</a></span>|<span class="type"><a href="#language.types.integer" class="type int">int</a></span></span> <code class="parameter">$algorithm</code><span class="initializer"> = <strong><code><a href="#constant.openssl-algo-sha1">OPENSSL_ALGO_SHA1</a></code></strong></span></span><br>): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>

  <p class="para rdfs-comment">
   <span class="function"><strong>openssl_sign()</strong></span> calcula la firma de los datos
   <code class="parameter">data</code> generando una firma digital criptográfica
   utilizando la clave privada asociada con el parámetro
   <code class="parameter">private_key</code>. Tenga en cuenta que los datos en sí
   no son cifrados.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.openssl-sign-parameters">
  <h3 class="title">Parámetros</h3>
  <p class="para">
   </p><dl>
    
     <dt><code class="parameter">data</code></dt>
     <dd>
      <p class="para">
       La cadena de datos que se desea firmar.
      </p>
     </dd>
    
    
     <dt><code class="parameter">signature</code></dt>
     <dd>
      <p class="para">
       Si la llamada a la función tiene éxito, la firma será
       devuelta en el parámetro
       <code class="parameter">signature</code>.
      </p>
     </dd>
    
    
     <dt><code class="parameter">private_key</code></dt>
     <dd>
      <p class="para">
       <span class="classname"><a href="#class.opensslasymmetrickey" class="classname">OpenSSLAsymmetricKey</a></span> - una clave, devuelta por la función
       <span class="function"><a href="#function.openssl-get-privatekey" class="function">openssl_get_privatekey()</a></span>
      </p>
      <p class="para">
       <span class="type"><a href="#language.types.string" class="type string">string</a></span> - una clave en formato <abbr title="Privacy-Enhanced Mail">PEM</abbr>.
      </p>
     </dd>
    
    
     <dt><code class="parameter">algorithm</code></dt>
     <dd>
      <p class="para">
       <span class="type"><a href="#language.types.integer" class="type int">int</a></span> - uno de los <a href="#openssl.signature-algos" class="link">algoritmos de firma</a>.
      </p>
      <p class="para">
       <span class="type"><a href="#language.types.string" class="type string">string</a></span> - una cadena válida devuelta por la función
       <span class="function"><a href="#function.openssl-get-md-methods" class="function">openssl_get_md_methods()</a></span>, por ejemplo: "sha256WithRSAEncryption" o "sha384".
      </p>
     </dd>
    
   </dl>
  
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.openssl-sign-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Esta función retorna <strong><code><a href="#constant.true">true</a></code></strong> en caso de éxito o <strong><code><a href="#constant.false">false</a></code></strong> si ocurre un error.
  </p>
 </div>


 <div class="refsect1 changelog" id="refsect1-function.openssl-sign-changelog">
  <h3 class="title">Historial de cambios</h3>
  <table class="doctable informaltable">
   
    <thead>
     <tr>
      <th>Versión</th>
      <th>Descripción</th>
     </tr>

    </thead>

    <tbody class="tbody">
     <tr>
      <td>8.0.0</td>
      <td>
       <code class="parameter">private_key</code> ahora acepta una instancia de
       <span class="classname"><a href="#class.opensslasymmetrickey" class="classname">OpenSSLAsymmetricKey</a></span> o <span class="classname"><a href="#class.opensslcertificate" class="classname">OpenSSLCertificate</a></span>;
       anteriormente, se aceptaba un <span class="type"><a href="#language.types.resource" class="type resource">resource</a></span> de tipo <code class="literal">OpenSSL key</code> o <code class="literal">OpenSSL X.509</code>.
      </td>
     </tr>

    </tbody>
   
  </table>

 </div>


 <div class="refsect1 examples" id="refsect1-function.openssl-sign-examples">
  <h3 class="title">Ejemplos</h3>
  <p class="para">
   </p><div class="example" id="example-1049">
    <p><strong>Ejemplo #1 Ejemplo con <span class="function"><strong>openssl_sign()</strong></span></strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br></span><span style="color: #FF8000">// Se asume que $data contiene los datos a firmar<br><br>// lectura de la clave pública para cada destinatario<br></span><span style="color: #0000BB">$pkeyid </span><span style="color: #007700">= </span><span style="color: #0000BB">openssl_pkey_get_private</span><span style="color: #007700">(</span><span style="color: #DD0000">"file://src/openssl-0.9.6/demos/sign/key.pem"</span><span style="color: #007700">);<br><br></span><span style="color: #FF8000">// cálculo de la firma<br></span><span style="color: #0000BB">openssl_sign</span><span style="color: #007700">(</span><span style="color: #0000BB">$data</span><span style="color: #007700">, </span><span style="color: #0000BB">$signature</span><span style="color: #007700">, </span><span style="color: #0000BB">$pkeyid</span><span style="color: #007700">);<br><br></span><span style="color: #FF8000">// libera las claves de la memoria<br></span><span style="color: #0000BB">openssl_free_key</span><span style="color: #007700">(</span><span style="color: #0000BB">$pkeyid</span><span style="color: #007700">);<br></span><span style="color: #0000BB">?&gt;</span></span></code></div>
    </div>

   </div>
   <div class="example" id="example-1050">
    <p><strong>Ejemplo #2 Ejemplo con <span class="function"><strong>openssl_sign()</strong></span></strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br></span><span style="color: #FF8000">//datos que se desean firmar<br></span><span style="color: #0000BB">$data </span><span style="color: #007700">= </span><span style="color: #DD0000">'my data'</span><span style="color: #007700">;<br><br></span><span style="color: #FF8000">//Crea una nueva clave privada y pública<br></span><span style="color: #0000BB">$new_key_pair </span><span style="color: #007700">= </span><span style="color: #0000BB">openssl_pkey_new</span><span style="color: #007700">(array(<br>    </span><span style="color: #DD0000">"private_key_bits" </span><span style="color: #007700">=&gt; </span><span style="color: #0000BB">2048</span><span style="color: #007700">,<br>    </span><span style="color: #DD0000">"private_key_type" </span><span style="color: #007700">=&gt; </span><span style="color: #0000BB">OPENSSL_KEYTYPE_RSA</span><span style="color: #007700">,<br>));<br></span><span style="color: #0000BB">openssl_pkey_export</span><span style="color: #007700">(</span><span style="color: #0000BB">$new_key_pair</span><span style="color: #007700">, </span><span style="color: #0000BB">$private_key_pem</span><span style="color: #007700">);<br><br></span><span style="color: #0000BB">$details </span><span style="color: #007700">= </span><span style="color: #0000BB">openssl_pkey_get_details</span><span style="color: #007700">(</span><span style="color: #0000BB">$new_key_pair</span><span style="color: #007700">);<br></span><span style="color: #0000BB">$public_key_pem </span><span style="color: #007700">= </span><span style="color: #0000BB">$details</span><span style="color: #007700">[</span><span style="color: #DD0000">'key'</span><span style="color: #007700">];<br><br></span><span style="color: #FF8000">//Creación de la firma<br></span><span style="color: #0000BB">openssl_sign</span><span style="color: #007700">(</span><span style="color: #0000BB">$data</span><span style="color: #007700">, </span><span style="color: #0000BB">$signature</span><span style="color: #007700">, </span><span style="color: #0000BB">$private_key_pem</span><span style="color: #007700">, </span><span style="color: #0000BB">OPENSSL_ALGO_SHA256</span><span style="color: #007700">);<br><br></span><span style="color: #FF8000">//Guardado para uso posterior<br></span><span style="color: #0000BB">file_put_contents</span><span style="color: #007700">(</span><span style="color: #DD0000">'private_key.pem'</span><span style="color: #007700">, </span><span style="color: #0000BB">$private_key_pem</span><span style="color: #007700">);<br></span><span style="color: #0000BB">file_put_contents</span><span style="color: #007700">(</span><span style="color: #DD0000">'public_key.pem'</span><span style="color: #007700">, </span><span style="color: #0000BB">$public_key_pem</span><span style="color: #007700">);<br></span><span style="color: #0000BB">file_put_contents</span><span style="color: #007700">(</span><span style="color: #DD0000">'signature.dat'</span><span style="color: #007700">, </span><span style="color: #0000BB">$signature</span><span style="color: #007700">);<br><br></span><span style="color: #FF8000">//Verificación de la firma<br></span><span style="color: #0000BB">$r </span><span style="color: #007700">= </span><span style="color: #0000BB">openssl_verify</span><span style="color: #007700">(</span><span style="color: #0000BB">$data</span><span style="color: #007700">, </span><span style="color: #0000BB">$signature</span><span style="color: #007700">, </span><span style="color: #0000BB">$public_key_pem</span><span style="color: #007700">, </span><span style="color: #DD0000">"sha256WithRSAEncryption"</span><span style="color: #007700">);<br></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$r</span><span style="color: #007700">);<br></span><span style="color: #0000BB">?&gt;</span></span></code></div>
    </div>

   </div>
  
 </div>


 <div class="refsect1 seealso" id="refsect1-function.openssl-sign-seealso">
  <h3 class="title">Ver también</h3>
  <p class="para">
   </p><ul class="simplelist">
    <li><span class="function"><a href="#function.openssl-verify" class="function" rel="rdfs-seeAlso">openssl_verify()</a> - Verifica una firma</span></li>
   </ul>
  
 </div>


</div>
<hr>







<div id="function.openssl-spki-export" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">openssl_spki_export</h1>
  <p class="verinfo">(PHP 5 &gt;= 5.6.0, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">openssl_spki_export</span> — <span class="dc-title">Exporta un <abbr title="Privacy-Enhanced Mail">PEM</abbr> válido formateado como una clave pública firmada</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-function.openssl-spki-export-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>openssl_spki_export</strong></span>(<span class="methodparam"><span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$spki</code></span>): <span class="type"><span class="type"><a href="#language.types.string" class="type string">string</a></span>|<span class="type"><a href="#language.types.singleton" class="type false">false</a></span></span></div>

  <p class="para rdfs-comment">
   Exporta un <abbr title="Privacy-Enhanced Mail">PEM</abbr> válido formateado como una clave pública firmada.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.openssl-spki-export-parameters">
  <h3 class="title">Parámetros</h3>
  <dl>
    
     <dt><code class="parameter">spki</code></dt>
     <dd>
      <p class="para">
       Una clave pública firmada válida
      </p>
     </dd>
    
  </dl>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.openssl-spki-export-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Devuelve el <abbr title="Privacy-Enhanced Mail">PEM</abbr> asociado formateado como clave pública, o <strong><code><a href="#constant.false">false</a></code></strong> si se
   produce un error.
  </p>
 </div>


 <div class="refsect1 errors" id="refsect1-function.openssl-spki-export-errors">
  <h3 class="title">Errores/Excepciones</h3>
  <p class="para">
   Emite una alerta de nivel <strong><code><a href="#constant.e-warning">E_WARNING</a></code></strong> si un
   argumento no válido es pasado mediante el parámetro
   <code class="parameter">spki</code>.
  </p>
 </div>


 <div class="refsect1 examples" id="refsect1-function.openssl-spki-export-examples">
  <h3 class="title">Ejemplos</h3>
  <div class="example" id="openssl_spki_export.example.basic">
   <p><strong>Ejemplo #1 Ejemplo con <span class="function"><strong>openssl_spki_export()</strong></span></strong></p>
   <div class="example-contents"><p>
    Extrae el <abbr title="Privacy-Enhanced Mail">PEM</abbr> asociado formateado como clave pública, o <strong><code><a href="#constant.null">null</a></code></strong> en caso de fallo.
   </p></div>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br>$pkey </span><span style="color: #007700">= </span><span style="color: #0000BB">openssl_pkey_new</span><span style="color: #007700">(</span><span style="color: #DD0000">'secret password'</span><span style="color: #007700">);<br></span><span style="color: #0000BB">$spkac </span><span style="color: #007700">= </span><span style="color: #0000BB">openssl_spki_new</span><span style="color: #007700">(</span><span style="color: #0000BB">$pkey</span><span style="color: #007700">, </span><span style="color: #DD0000">'challenge string'</span><span style="color: #007700">);<br></span><span style="color: #0000BB">$pubKey </span><span style="color: #007700">= </span><span style="color: #0000BB">openssl_spki_export</span><span style="color: #007700">(</span><span style="color: #0000BB">preg_replace</span><span style="color: #007700">(</span><span style="color: #DD0000">'/SPKAC=/'</span><span style="color: #007700">, </span><span style="color: #DD0000">''</span><span style="color: #007700">, </span><span style="color: #0000BB">$spkac</span><span style="color: #007700">));<br><br>if (</span><span style="color: #0000BB">$pubKey</span><span style="color: #007700">) {<br>    echo </span><span style="color: #0000BB">$pubKey</span><span style="color: #007700">;<br>}<br></span><span style="color: #0000BB">?&gt;</span></span></code></div>
   </div>

  </div>
  <div class="example" id="openssl_spki_export.example.keygen">
   <p><strong>Ejemplo #2 Ejemplo con <span class="function"><strong>openssl_spki_export()</strong></span> desde &lt;keygen&gt;</strong></p>
   <div class="example-contents"><p>
    Extrae el <abbr title="Privacy-Enhanced Mail">PEM</abbr> asociado formateado como clave pública, procedente de un elemento
    &lt;keygen&gt;
   </p></div>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br>$spkac </span><span style="color: #007700">= </span><span style="color: #0000BB">openssl_spki_export</span><span style="color: #007700">(</span><span style="color: #0000BB">preg_replace</span><span style="color: #007700">(</span><span style="color: #DD0000">'/SPKAC=/'</span><span style="color: #007700">, </span><span style="color: #DD0000">''</span><span style="color: #007700">, </span><span style="color: #0000BB">$_POST</span><span style="color: #007700">[</span><span style="color: #DD0000">'spkac'</span><span style="color: #007700">]));<br>if (</span><span style="color: #0000BB">$spkac </span><span style="color: #007700">!= </span><span style="color: #0000BB">NULL</span><span style="color: #007700">) {<br>    echo </span><span style="color: #0000BB">$spkac</span><span style="color: #007700">;<br>} else {<br>    echo </span><span style="color: #DD0000">"La extracción de la clave pública ha fallado"</span><span style="color: #007700">;<br>}<br></span><span style="color: #0000BB">?&gt;<br></span>&lt;keygen name="spkac" challenge="challenge string" keytype="RSA"&gt;</span></code></div>
   </div>

  </div>
 </div>


 <div class="refsect1 seealso" id="refsect1-function.openssl-spki-export-seealso">
  <h3 class="title">Ver también</h3>
  <p class="para">
   </p><ul class="simplelist">
    <li><span class="function"><a href="#function.openssl-spki-new" class="function" rel="rdfs-seeAlso">openssl_spki_new()</a> - Genera una clave pública firmada y realiza un desafío</span></li>
    <li><span class="function"><a href="#function.openssl-spki-verify" class="function" rel="rdfs-seeAlso">openssl_spki_verify()</a> - Verifica una clave pública firmada y realiza un desafío</span></li>
    <li><span class="function"><a href="#function.openssl-spki-export-challenge" class="function" rel="rdfs-seeAlso">openssl_spki_export_challenge()</a> - Exporta el challenge asociado con la clave pública firmada</span></li>
    <li><span class="function"><a href="#function.openssl-get-md-methods" class="function" rel="rdfs-seeAlso">openssl_get_md_methods()</a> - Obtiene la lista de métodos digest disponibles</span></li>
    <li><span class="function"><a href="#function.openssl-csr-new" class="function" rel="rdfs-seeAlso">openssl_csr_new()</a> - Genera una CSR</span></li>
    <li><span class="function"><a href="#function.openssl-csr-sign" class="function" rel="rdfs-seeAlso">openssl_csr_sign()</a> - Firma un CSR con otro certificado (o consigo mismo) y genera un certificado</span></li>
   </ul>
  
 </div>


</div>
<hr>







<div id="function.openssl-spki-export-challenge" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">openssl_spki_export_challenge</h1>
  <p class="verinfo">(PHP 5 &gt;= 5.6.0, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">openssl_spki_export_challenge</span> — <span class="dc-title">Exporta el challenge asociado con la clave pública firmada</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-function.openssl-spki-export-challenge-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>openssl_spki_export_challenge</strong></span>(<span class="methodparam"><span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$spki</code></span>): <span class="type"><span class="type"><a href="#language.types.string" class="type string">string</a></span>|<span class="type"><a href="#language.types.singleton" class="type false">false</a></span></span></div>

  <p class="para rdfs-comment">
   Exporta el challenge asociado con la clave pública firmada.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.openssl-spki-export-challenge-parameters">
  <h3 class="title">Parámetros</h3>
  <dl>
    
     <dt><code class="parameter">spki</code></dt>
     <dd>
      <p class="para">
       Una clave pública firmada válida
      </p>
     </dd>
    
  </dl>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.openssl-spki-export-challenge-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Devuelve el challenge asociado en forma de string o
   <strong><code><a href="#constant.false">false</a></code></strong> en caso de error.
  </p>
 </div>


  <div class="refsect1 errors" id="refsect1-function.openssl-spki-export-challenge-errors">
  <h3 class="title">Errores/Excepciones</h3>
  <p class="para">
   Emite una advertencia de nivel <strong><code><a href="#constant.e-warning">E_WARNING</a></code></strong> si se pasa un argumento
   inválido a través del parámetro <code class="parameter">spki</code>.
  </p>
 </div>


 <div class="refsect1 examples" id="refsect1-function.openssl-spki-export-challenge-examples">
  <h3 class="title">Ejemplos</h3>
  <div class="example" id="openssl_spki_export_challenge.example.basic">
   <p><strong>Ejemplo #1 Ejemplo con <span class="function"><strong>openssl_spki_export_challenge()</strong></span></strong></p>
   <div class="example-contents"><p>
    Extrae el challenge asociado en forma de string o <strong><code><a href="#constant.null">null</a></code></strong> en caso de error.
   </p></div>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br>$pkey </span><span style="color: #007700">= </span><span style="color: #0000BB">openssl_pkey_new</span><span style="color: #007700">(</span><span style="color: #DD0000">'secret password'</span><span style="color: #007700">);<br></span><span style="color: #0000BB">$spkac </span><span style="color: #007700">= </span><span style="color: #0000BB">openssl_spki_new</span><span style="color: #007700">(</span><span style="color: #0000BB">$pkey</span><span style="color: #007700">, </span><span style="color: #DD0000">'challenge string'</span><span style="color: #007700">);<br></span><span style="color: #0000BB">$challenge </span><span style="color: #007700">= </span><span style="color: #0000BB">openssl_spki_export_challenge</span><span style="color: #007700">(</span><span style="color: #0000BB">preg_replace</span><span style="color: #007700">(</span><span style="color: #DD0000">'/SPKAC=/'</span><span style="color: #007700">, </span><span style="color: #DD0000">''</span><span style="color: #007700">, </span><span style="color: #0000BB">$spkac</span><span style="color: #007700">));<br></span><span style="color: #0000BB">?&gt;</span></span></code></div>
   </div>

  </div>
  <div class="example" id="openssl_spki_export_challenge.example.keygen">
   <p><strong>Ejemplo #2 Ejemplo con <span class="function"><strong>openssl_spki_export_challenge()</strong></span> desde &lt;keygen&gt;</strong></p>
   <div class="example-contents"><p>
    Extrae el challenge asociado de un elemento &lt;keygen&gt;
   </p></div>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br>$challenge </span><span style="color: #007700">= </span><span style="color: #0000BB">openssl_spki_export_challenge</span><span style="color: #007700">(</span><span style="color: #0000BB">preg_replace</span><span style="color: #007700">(</span><span style="color: #DD0000">'/SPKAC=/'</span><span style="color: #007700">, </span><span style="color: #DD0000">''</span><span style="color: #007700">, </span><span style="color: #0000BB">$_POST</span><span style="color: #007700">[</span><span style="color: #DD0000">'spkac'</span><span style="color: #007700">]));<br></span><span style="color: #0000BB">?&gt;<br></span>&lt;keygen name="spkac" challenge="challenge string" keytype="RSA"&gt;</span></code></div>
   </div>

  </div>
 </div>


 <div class="refsect1 seealso" id="refsect1-function.openssl-spki-export-challenge-seealso">
  <h3 class="title">Ver también</h3>
  <p class="para">
   </p><ul class="simplelist">
    <li><span class="function"><a href="#function.openssl-spki-new" class="function" rel="rdfs-seeAlso">openssl_spki_new()</a> - Genera una clave pública firmada y realiza un desafío</span></li>
    <li><span class="function"><a href="#function.openssl-spki-verify" class="function" rel="rdfs-seeAlso">openssl_spki_verify()</a> - Verifica una clave pública firmada y realiza un desafío</span></li>
    <li><span class="function"><a href="#function.openssl-spki-export" class="function" rel="rdfs-seeAlso">openssl_spki_export()</a> - Exporta un PEM válido formateado como una clave pública firmada</span></li>
    <li><span class="function"><a href="#function.openssl-get-md-methods" class="function" rel="rdfs-seeAlso">openssl_get_md_methods()</a> - Obtiene la lista de métodos digest disponibles</span></li>
    <li><span class="function"><a href="#function.openssl-csr-new" class="function" rel="rdfs-seeAlso">openssl_csr_new()</a> - Genera una CSR</span></li>
    <li><span class="function"><a href="#function.openssl-csr-sign" class="function" rel="rdfs-seeAlso">openssl_csr_sign()</a> - Firma un CSR con otro certificado (o consigo mismo) y genera un certificado</span></li>
   </ul>
  
 </div>


</div>
<hr>







<div id="function.openssl-spki-new" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">openssl_spki_new</h1>
  <p class="verinfo">(PHP 5 &gt;= 5.6.0, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">openssl_spki_new</span> — <span class="dc-title">Genera una clave pública firmada y realiza un desafío</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-function.openssl-spki-new-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>openssl_spki_new</strong></span>(<span class="methodparam"><span class="attribute"><a href="class.sensitiveparameter.html">#[\SensitiveParameter]</a> </span><span class="type"><a href="#class.opensslasymmetrickey" class="type OpenSSLAsymmetricKey">OpenSSLAsymmetricKey</a></span> <code class="parameter">$private_key</code></span>, <span class="methodparam"><span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$challenge</code></span>, <span class="methodparam"><span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$digest_algo</code><span class="initializer"> = <strong><code><a href="#constant.openssl-algo-md5">OPENSSL_ALGO_MD5</a></code></strong></span></span>): <span class="type"><span class="type"><a href="#language.types.string" class="type string">string</a></span>|<span class="type"><a href="#language.types.singleton" class="type false">false</a></span></span></div>

  <p class="para rdfs-comment">
   Genera una clave pública firmada utilizando un algoritmo de hash
   especificado.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.openssl-spki-new-parameters">
  <h3 class="title">Parámetros</h3>
  <dl>
   
     <dt><code class="parameter">private_key</code></dt>
     <dd>
      <p class="para">
       <code class="parameter">private_key</code> debe ser una clave privada
       que haya sido previamente generada por la función
       <span class="function"><a href="#function.openssl-pkey-new" class="function">openssl_pkey_new()</a></span> (o de lo contrario, obtenida desde
       una función de la familia openssl_pkey). La porción
       pública de la clave será utilizada para firmar el <abbr title="Certificate Signing Request">CSR</abbr>.
      </p>
     </dd>
    
    
     <dt><code class="parameter">challenge</code></dt>
     <dd>
      <p class="para">
       El desafío asociado al SPKAC
      </p>
     </dd>
    
    
     <dt><code class="parameter">digest_algo</code></dt>
     <dd>
      <p class="para">
       El algoritmo digest. Ver openssl_get_md_method().
      </p>
     </dd>
    
  </dl>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.openssl-spki-new-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Devuelve una clave pública firmada en forma de string o <strong><code><a href="#constant.false">false</a></code></strong> en caso de fallo.
  </p>
 </div>


 <div class="refsect1 errors" id="refsect1-function.openssl-spki-new-errors">
  <h3 class="title">Errores/Excepciones</h3>
  <p class="para">
   Emite una alerta de nivel <strong><code><a href="#constant.e-warning">E_WARNING</a></code></strong> si
   un algoritmo con una firma desconocida es pasado mediante el
   parámetro <code class="parameter">digest_algo</code>.
  </p>
 </div>


 <div class="refsect1 changelog" id="refsect1-function.openssl-spki-new-changelog">
  <h3 class="title">Historial de cambios</h3>
  <table class="doctable informaltable">
   
    <thead>
     <tr>
      <th>Versión</th>
      <th>Descripción</th>
     </tr>

    </thead>

    <tbody class="tbody">
     <tr>
      <td>8.0.0</td>
      <td>
       <code class="parameter">private_key</code> ahora acepta una instancia de
       <span class="classname"><a href="#class.opensslasymmetrickey" class="classname">OpenSSLAsymmetricKey</a></span>;
       anteriormente, se aceptaba un <span class="type"><a href="#language.types.resource" class="type resource">resource</a></span> de tipo <code class="literal">OpenSSL key</code>.
      </td>
     </tr>

    </tbody>
   
  </table>

 </div>


 <div class="refsect1 examples" id="refsect1-function.openssl-spki-new-examples">
  <h3 class="title">Ejemplos</h3>
  <div class="example" id="openssl_spki_new.example.basic">
   <p><strong>Ejemplo #1 Ejemplo con <span class="function"><strong>openssl_spki_new()</strong></span></strong></p>
   <div class="example-contents"><p>
    Genera un nuevo SPKAC con el digest por defecto (MD5)
   </p></div>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br>$pkey </span><span style="color: #007700">= </span><span style="color: #0000BB">openssl_pkey_new</span><span style="color: #007700">(</span><span style="color: #DD0000">'secret password'</span><span style="color: #007700">);<br></span><span style="color: #0000BB">$spkac </span><span style="color: #007700">= </span><span style="color: #0000BB">openssl_spki_new</span><span style="color: #007700">(</span><span style="color: #0000BB">$pkey</span><span style="color: #007700">, </span><span style="color: #DD0000">'testing'</span><span style="color: #007700">);<br><br>if (</span><span style="color: #0000BB">$spkac </span><span style="color: #007700">!== </span><span style="color: #0000BB">NULL</span><span style="color: #007700">) {<br>    echo </span><span style="color: #0000BB">$spkac</span><span style="color: #007700">;<br>} else {<br>    echo </span><span style="color: #DD0000">"La generación de SPKAC ha fallado"</span><span style="color: #007700">;<br>}<br></span><span style="color: #0000BB">?&gt;</span></span></code></div>
   </div>

   <div class="example-contents"><p>Resultado del ejemplo anterior es similar a:</p></div>
   <div class="example-contents screen">
<div class="examplescode"><pre class="examplescode">MIICRzCCAS8wggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDM3V3sS4o4
mB9dczziRnjGAmSp+JwPrHoYMAFGvDNmZGyiWfU586X4BKs++BAj7e/FsAfno0Hd
hN9FwpCNFSox30L03nQvLYJE7f/WqigwBeMRT7Op/xvFks4sT70xP2HRYv4KqP9a
WRcKU6cFH8VxhFhqM2txEIxZKdFLaL28yT7bEDmcglf4JLDdgNMb9rET1dkgtKE6
dOaJHPGjf1uvnOH4YwkQr7n4sLUR3Kdbh0ZJAFuQVDZulo+LLzxBBkqJJcB6FhF+
oXCdHTKZnqAhpWDz+NXYytAmevab6IYm5TWPWsJUv1YKJA5lg2mXbbloIZlN9Mgc
i9fi03bdw+crAgMBAAEWB3Rlc3RpbmcwDQYJKoZIhvcNAQEEBQADggEBALyUvP/o
pPSoWBlorFyZ2RnGwKf9qMpE0q2IJP7G3oDR4LyK/m933DUiZ+YnqThrH/CWb4Ek
y5I3OCyl3S4wCuU1ibZZwDVwYShr5ELp0J9PEf7qMQZOhNsizoC7k+Czb2xB6hYW
sKfsfTKm3cXBtH3fdgc/Z1Z7VSWnAzYo38snqm72NTf5yFRnrQdphNNXi+kn1zHA
lxXRyFDXHOcYsOnwAWfyXFA4QDHQ0ezz0UoCY8gJXovcZb4GRYqOLUAsF2HcNboy
29WN8VqE29sL9QxVZFlwMcqyoLcNnyw38GvNvAGqSvzzbnEFP2MAQXJVe0H0hdp/
MML5G2iNVgNozAo=</pre>
</div>
   </div>
  </div>
 </div>


 <div class="refsect1 seealso" id="refsect1-function.openssl-spki-new-seealso">
  <h3 class="title">Ver también</h3>
  <p class="para">
   </p><ul class="simplelist">
    <li><span class="function"><a href="#function.openssl-spki-verify" class="function" rel="rdfs-seeAlso">openssl_spki_verify()</a> - Verifica una clave pública firmada y realiza un desafío</span></li>
    <li><span class="function"><a href="#function.openssl-spki-export-challenge" class="function" rel="rdfs-seeAlso">openssl_spki_export_challenge()</a> - Exporta el challenge asociado con la clave pública firmada</span></li>
    <li><span class="function"><a href="#function.openssl-spki-export" class="function" rel="rdfs-seeAlso">openssl_spki_export()</a> - Exporta un PEM válido formateado como una clave pública firmada</span></li>
    <li><span class="function"><a href="#function.openssl-get-md-methods" class="function" rel="rdfs-seeAlso">openssl_get_md_methods()</a> - Obtiene la lista de métodos digest disponibles</span></li>
    <li><span class="function"><a href="#function.openssl-csr-new" class="function" rel="rdfs-seeAlso">openssl_csr_new()</a> - Genera una CSR</span></li>
    <li><span class="function"><a href="#function.openssl-csr-sign" class="function" rel="rdfs-seeAlso">openssl_csr_sign()</a> - Firma un CSR con otro certificado (o consigo mismo) y genera un certificado</span></li>
   </ul>
  
 </div>


</div>
<hr>







<div id="function.openssl-spki-verify" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">openssl_spki_verify</h1>
  <p class="verinfo">(PHP 5 &gt;= 5.6.0, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">openssl_spki_verify</span> — <span class="dc-title">Verifica una clave pública firmada y realiza un desafío</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-function.openssl-spki-verify-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>openssl_spki_verify</strong></span>(<span class="methodparam"><span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$spki</code></span>): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>

  <p class="para rdfs-comment">
   Verifica una clave pública firmada y realiza un desafío.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.openssl-spki-verify-parameters">
  <h3 class="title">Parámetros</h3>
  <dl>
    
     <dt><code class="parameter">spki</code></dt>
     <dd>
      <p class="para">
       Una clave pública firmada válida
      </p>
     </dd>
    
  </dl>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.openssl-spki-verify-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Esta función retorna <strong><code><a href="#constant.true">true</a></code></strong> en caso de éxito o <strong><code><a href="#constant.false">false</a></code></strong> si ocurre un error.
  </p>
 </div>


 <div class="refsect1 errors" id="refsect1-function.openssl-spki-verify-errors">
  <h3 class="title">Errores/Excepciones</h3>
  <p class="para">
   Emite una alerta de nivel <strong><code><a href="#constant.e-warning">E_WARNING</a></code></strong> si un
   argumento inválido es pasado al parámetro <code class="parameter">spkac</code>.
  </p>
 </div>


 <div class="refsect1 examples" id="refsect1-function.openssl-spki-verify-examples">
  <h3 class="title">Ejemplos</h3>
  <div class="example" id="openssl_spki_verify.example.basic">
   <p><strong>Ejemplo #1 Ejemplo con <span class="function"><strong>openssl_spki_verify()</strong></span></strong></p>
   <div class="example-contents"><p>
    Valida una clave pública firmada existente y realiza un desafío
   </p></div>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br>$pkey </span><span style="color: #007700">= </span><span style="color: #0000BB">openssl_pkey_new</span><span style="color: #007700">(</span><span style="color: #DD0000">'secret password'</span><span style="color: #007700">);<br></span><span style="color: #0000BB">$spkac </span><span style="color: #007700">= </span><span style="color: #0000BB">openssl_spki_new</span><span style="color: #007700">(</span><span style="color: #0000BB">$pkey</span><span style="color: #007700">, </span><span style="color: #DD0000">'challenge string'</span><span style="color: #007700">);<br><br>if (</span><span style="color: #0000BB">openssl_spki_verify</span><span style="color: #007700">(</span><span style="color: #0000BB">preg_replace</span><span style="color: #007700">(</span><span style="color: #DD0000">'/SPKAC=/'</span><span style="color: #007700">, </span><span style="color: #DD0000">''</span><span style="color: #007700">, </span><span style="color: #0000BB">$spkac</span><span style="color: #007700">))) {<br>    echo </span><span style="color: #0000BB">$spkac</span><span style="color: #007700">;<br>} else {<br>    echo </span><span style="color: #DD0000">"La validación SPKAC ha fallado"</span><span style="color: #007700">;<br>}<br></span><span style="color: #0000BB">?&gt;</span></span></code></div>
   </div>

  </div>
  <div class="example" id="openssl_spki_verify.example.keygen">
   <p><strong>Ejemplo #2 Ejemplo con <span class="function"><strong>openssl_spki_verify()</strong></span> desde &lt;keygen&gt;</strong></p>
   <div class="example-contents"><p>
    Valida una clave pública firmada existente procedente de un elemento &lt;keygen&gt;
   </p></div>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br></span><span style="color: #007700">if (</span><span style="color: #0000BB">openssl_spki_verify</span><span style="color: #007700">(</span><span style="color: #0000BB">preg_replace</span><span style="color: #007700">(</span><span style="color: #DD0000">'/SPKAC=/'</span><span style="color: #007700">, </span><span style="color: #DD0000">''</span><span style="color: #007700">, </span><span style="color: #0000BB">$_POST</span><span style="color: #007700">[</span><span style="color: #DD0000">'spkac'</span><span style="color: #007700">]))) {<br>    echo </span><span style="color: #0000BB">$spkac</span><span style="color: #007700">;<br>} else {<br>    echo </span><span style="color: #DD0000">"La validación SPKAC ha fallado"</span><span style="color: #007700">;<br>}<br></span><span style="color: #0000BB">?&gt;<br></span>&lt;keygen name="spkac" challenge="challenge string" keytype="RSA"&gt;</span></code></div>
   </div>

  </div>
 </div>


 <div class="refsect1 seealso" id="refsect1-function.openssl-spki-verify-seealso">
  <h3 class="title">Ver también</h3>
  <p class="para">
   </p><ul class="simplelist">
    <li><span class="function"><a href="#function.openssl-spki-new" class="function" rel="rdfs-seeAlso">openssl_spki_new()</a> - Genera una clave pública firmada y realiza un desafío</span></li>
    <li><span class="function"><a href="#function.openssl-spki-export-challenge" class="function" rel="rdfs-seeAlso">openssl_spki_export_challenge()</a> - Exporta el challenge asociado con la clave pública firmada</span></li>
    <li><span class="function"><a href="#function.openssl-spki-export" class="function" rel="rdfs-seeAlso">openssl_spki_export()</a> - Exporta un PEM válido formateado como una clave pública firmada</span></li>
    <li><span class="function"><a href="#function.openssl-get-md-methods" class="function" rel="rdfs-seeAlso">openssl_get_md_methods()</a> - Obtiene la lista de métodos digest disponibles</span></li>
    <li><span class="function"><a href="#function.openssl-csr-new" class="function" rel="rdfs-seeAlso">openssl_csr_new()</a> - Genera una CSR</span></li>
    <li><span class="function"><a href="#function.openssl-csr-sign" class="function" rel="rdfs-seeAlso">openssl_csr_sign()</a> - Firma un CSR con otro certificado (o consigo mismo) y genera un certificado</span></li>
   </ul>
  
 </div>


</div>
<hr>







<div id="function.openssl-verify" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">openssl_verify</h1>
  <p class="verinfo">(PHP 4 &gt;= 4.0.4, PHP 5, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">openssl_verify</span> — <span class="dc-title">Verifica una firma</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-function.openssl-verify-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>openssl_verify</strong></span>(<br>    <span class="methodparam"><span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$data</code></span>,<br>    <span class="methodparam"><span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$signature</code></span>,<br>    <span class="methodparam"><span class="type"><span class="type"><a href="#class.opensslasymmetrickey" class="type OpenSSLAsymmetricKey">OpenSSLAsymmetricKey</a></span>|<span class="type"><a href="#class.opensslcertificate" class="type OpenSSLCertificate">OpenSSLCertificate</a></span>|<span class="type"><a href="#language.types.array" class="type array">array</a></span>|<span class="type"><a href="#language.types.string" class="type string">string</a></span></span> <code class="parameter">$public_key</code></span>,<br>    <span class="methodparam"><span class="type"><span class="type"><a href="#language.types.string" class="type string">string</a></span>|<span class="type"><a href="#language.types.integer" class="type int">int</a></span></span> <code class="parameter">$algorithm</code><span class="initializer"> = <strong><code><a href="#constant.openssl-algo-sha1">OPENSSL_ALGO_SHA1</a></code></strong></span></span><br>): <span class="type"><span class="type"><a href="#language.types.integer" class="type int">int</a></span>|<span class="type"><a href="#language.types.singleton" class="type false">false</a></span></span></div>

  <p class="para rdfs-comment">
   <span class="function"><strong>openssl_verify()</strong></span> verifica que la firma
   <code class="parameter">signature</code> es correcta para los datos
   <code class="parameter">data</code>, y con la clave pública
   <code class="parameter">public_key</code>. Esta clave debe ser la clave
   pública correspondiente a la clave privada utilizada durante la firma.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.openssl-verify-parameters">
  <h3 class="title">Parámetros</h3>
  <p class="para">
   </p><dl>
    
     <dt><code class="parameter">data</code></dt>
     <dd>
      <p class="para">
       La cadena de datos utilizada para generar la firma
      </p>
     </dd>
    
    
     <dt><code class="parameter">signature</code></dt>
     <dd>
      <p class="para">
       Una cadena binaria bruta, generada por la función
       <span class="function"><a href="#function.openssl-sign" class="function">openssl_sign()</a></span> o similar
      </p>
     </dd>
    
    
     <dt><code class="parameter">public_key</code></dt>
     <dd>
      <p class="para">
       <span class="classname"><a href="#class.opensslasymmetrickey" class="classname">OpenSSLAsymmetricKey</a></span> - una clave, retornada por la función
       <span class="function"><a href="#function.openssl-get-publickey" class="function">openssl_get_publickey()</a></span>
      </p>
      <p class="para">
       <span class="type"><a href="#language.types.string" class="type string">string</a></span> - una clave en formato <abbr title="Privacy-Enhanced Mail">PEM</abbr>, por ejemplo: <code class="literal">-----BEGIN PUBLIC KEY-----
MIIBCgK...</code>.
      </p>
     </dd>
    
    
     <dt><code class="parameter">algorithm</code></dt>
     <dd>
      <p class="para">
       <span class="type"><a href="#language.types.integer" class="type int">int</a></span> - una de las <a href="#openssl.signature-algos" class="link">firmas de algoritmos</a>.
      </p>
      <p class="para">
       <span class="type"><a href="#language.types.string" class="type string">string</a></span> - una cadena válida retornada por la función <span class="function"><a href="#function.openssl-get-md-methods" class="function">openssl_get_md_methods()</a></span>,
       por ejemplo: "sha1WithRSAEncryption" o "sha512". Algoritmo por omisión: "OPENSSL_ALGO_SHA1".
      </p>
     </dd>
    
   </dl>
  
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.openssl-verify-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Retorna 1 si la firma es correcta, 0 si es
   incorrecta y -1 o <strong><code><a href="#constant.false">false</a></code></strong> si ocurre un error.
  </p>
 </div>


 <div class="refsect1 changelog" id="refsect1-function.openssl-verify-changelog">
  <h3 class="title">Historial de cambios</h3>
  <table class="doctable informaltable">
   
    <thead>
     <tr>
      <th>Versión</th>
      <th>Descripción</th>
     </tr>

    </thead>

    <tbody class="tbody">
     <tr>
      <td>8.0.0</td>
      <td>
       <code class="parameter">public_key</code> acepta ahora una instancia de
       <span class="classname"><a href="#class.opensslasymmetrickey" class="classname">OpenSSLAsymmetricKey</a></span> o <span class="classname"><a href="#class.opensslcertificate" class="classname">OpenSSLCertificate</a></span>;
       anteriormente, se aceptaba un <span class="type"><a href="#language.types.resource" class="type resource">resource</a></span> de tipo <code class="literal">OpenSSL key</code> o <code class="literal">OpenSSL X.509</code>.
      </td>
     </tr>

    </tbody>
   
  </table>

 </div>


 <div class="refsect1 examples" id="refsect1-function.openssl-verify-examples">
  <h3 class="title">Ejemplos</h3>
  <p class="para">
   </p><div class="example" id="example-1058">
    <p><strong>Ejemplo #1 Ejemplo con <span class="function"><strong>openssl_verify()</strong></span></strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br></span><span style="color: #FF8000">// Se asume que $data y $signature contienen los datos a firmar y<br>// la firma.<br><br>// Lectura de la clave pública desde el certificado<br></span><span style="color: #0000BB">$pubkeyid </span><span style="color: #007700">= </span><span style="color: #0000BB">openssl_pkey_get_public</span><span style="color: #007700">(</span><span style="color: #DD0000">"file://src/openssl-0.9.6/demos/sign/cert.pem"</span><span style="color: #007700">);<br><br></span><span style="color: #FF8000">// indica si la firma es correcta<br></span><span style="color: #0000BB">$ok </span><span style="color: #007700">= </span><span style="color: #0000BB">openssl_verify</span><span style="color: #007700">(</span><span style="color: #0000BB">$data</span><span style="color: #007700">, </span><span style="color: #0000BB">$signature</span><span style="color: #007700">, </span><span style="color: #0000BB">$pubkeyid</span><span style="color: #007700">);<br>if (</span><span style="color: #0000BB">$ok </span><span style="color: #007700">== </span><span style="color: #0000BB">1</span><span style="color: #007700">) {<br>    echo </span><span style="color: #DD0000">"Firma válida"</span><span style="color: #007700">;<br>} elseif (</span><span style="color: #0000BB">$ok </span><span style="color: #007700">== </span><span style="color: #0000BB">0</span><span style="color: #007700">) {<br>    echo </span><span style="color: #DD0000">"Firma errónea"</span><span style="color: #007700">;<br>} else {<br>    echo </span><span style="color: #DD0000">"Error de verificación de la firma"</span><span style="color: #007700">;<br>}<br></span><span style="color: #FF8000">// libera las claves de la memoria<br></span><span style="color: #0000BB">openssl_free_key</span><span style="color: #007700">(</span><span style="color: #0000BB">$pubkeyid</span><span style="color: #007700">);<br></span><span style="color: #0000BB">?&gt;</span></span></code></div>
    </div>

   </div>
   <div class="example" id="example-1059">
    <p><strong>Ejemplo #2 Ejemplo con <span class="function"><strong>openssl_verify()</strong></span></strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br></span><span style="color: #FF8000">//Datos que se desean firmar<br></span><span style="color: #0000BB">$data </span><span style="color: #007700">= </span><span style="color: #DD0000">'my data'</span><span style="color: #007700">;<br><br></span><span style="color: #FF8000">//Crea una nueva clave privada y pública<br></span><span style="color: #0000BB">$private_key_res </span><span style="color: #007700">= </span><span style="color: #0000BB">openssl_pkey_new</span><span style="color: #007700">(array(<br>    </span><span style="color: #DD0000">"private_key_bits" </span><span style="color: #007700">=&gt; </span><span style="color: #0000BB">2048</span><span style="color: #007700">,<br>    </span><span style="color: #DD0000">"private_key_type" </span><span style="color: #007700">=&gt; </span><span style="color: #0000BB">OPENSSL_KEYTYPE_RSA</span><span style="color: #007700">,<br>));<br></span><span style="color: #0000BB">$details </span><span style="color: #007700">= </span><span style="color: #0000BB">openssl_pkey_get_details</span><span style="color: #007700">(</span><span style="color: #0000BB">$private_key_res</span><span style="color: #007700">);<br></span><span style="color: #0000BB">$public_key_res </span><span style="color: #007700">= </span><span style="color: #0000BB">openssl_pkey_get_public</span><span style="color: #007700">(</span><span style="color: #0000BB">$details</span><span style="color: #007700">[</span><span style="color: #DD0000">'key'</span><span style="color: #007700">]);<br><br></span><span style="color: #FF8000">//Crea una firma<br></span><span style="color: #0000BB">openssl_sign</span><span style="color: #007700">(</span><span style="color: #0000BB">$data</span><span style="color: #007700">, </span><span style="color: #0000BB">$signature</span><span style="color: #007700">, </span><span style="color: #0000BB">$private_key_res</span><span style="color: #007700">, </span><span style="color: #DD0000">"sha256WithRSAEncryption"</span><span style="color: #007700">);<br><br></span><span style="color: #FF8000">//Verifica la firma<br></span><span style="color: #0000BB">$ok </span><span style="color: #007700">= </span><span style="color: #0000BB">openssl_verify</span><span style="color: #007700">(</span><span style="color: #0000BB">$data</span><span style="color: #007700">, </span><span style="color: #0000BB">$signature</span><span style="color: #007700">, </span><span style="color: #0000BB">$public_key_res</span><span style="color: #007700">, </span><span style="color: #0000BB">OPENSSL_ALGO_SHA256</span><span style="color: #007700">);<br>if (</span><span style="color: #0000BB">$ok </span><span style="color: #007700">== </span><span style="color: #0000BB">1</span><span style="color: #007700">) {<br>    echo </span><span style="color: #DD0000">"válida"</span><span style="color: #007700">;<br>} elseif (</span><span style="color: #0000BB">$ok </span><span style="color: #007700">== </span><span style="color: #0000BB">0</span><span style="color: #007700">) {<br>    echo </span><span style="color: #DD0000">"inválida"</span><span style="color: #007700">;<br>} else {<br>    echo </span><span style="color: #DD0000">"error: "</span><span style="color: #007700">.</span><span style="color: #0000BB">openssl_error_string</span><span style="color: #007700">();<br>}<br></span><span style="color: #0000BB">?&gt;</span></span></code></div>
    </div>

   </div>
  
 </div>


 <div class="refsect1 seealso" id="refsect1-function.openssl-verify-seealso">
  <h3 class="title">Ver también</h3>
  <p class="para">
   </p><ul class="simplelist">
    <li><span class="function"><a href="#function.openssl-sign" class="function" rel="rdfs-seeAlso">openssl_sign()</a> - Firma los datos</span></li>
   </ul>
  
 </div>


</div>
<hr>







<div id="function.openssl-x509-check-private-key" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">openssl_x509_check_private_key</h1>
  <p class="verinfo">(PHP 4 &gt;= 4.2.0, PHP 5, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">openssl_x509_check_private_key</span> — <span class="dc-title">Verifica si una clave privada corresponde a un certificado</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-function.openssl-x509-check-private-key-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>openssl_x509_check_private_key</strong></span>(<span class="methodparam"><span class="type"><span class="type"><a href="#class.opensslcertificate" class="type OpenSSLCertificate">OpenSSLCertificate</a></span>|<span class="type"><a href="#language.types.string" class="type string">string</a></span></span> <code class="parameter">$certificate</code></span>, <span class="methodparam"><span class="attribute"><a href="class.sensitiveparameter.html">#[\SensitiveParameter]</a> </span><span class="type"><span class="type"><a href="#class.opensslasymmetrickey" class="type OpenSSLAsymmetricKey">OpenSSLAsymmetricKey</a></span>|<span class="type"><a href="#class.opensslcertificate" class="type OpenSSLCertificate">OpenSSLCertificate</a></span>|<span class="type"><a href="#language.types.array" class="type array">array</a></span>|<span class="type"><a href="#language.types.string" class="type string">string</a></span></span> <code class="parameter">$private_key</code></span>): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>

  <p class="para rdfs-comment">
   Verifica si el argumento <code class="parameter">private_key</code> proporcionado es la clave privada
   que corresponde a <code class="parameter">certificate</code>.
  </p>
  <div class="warning"><strong class="warning">Advertencia</strong>
    <p class="para">
     Esta función no verifica si KEY es efectivamente una clave privada o no.
     Simplemente compara el material público (por ejemplo exponent y modulo
     de una clave RSA) y/o los parámetros de clave (por ejemplo los parámetros EC de una
     clave EC) de un par de claves.
    </p>
    <p class="para">
     Esto significa, por ejemplo, que una clave pública podría ser proporcionada
     para <code class="parameter">private_key</code> y la función puede devolver <strong><code><a href="#constant.true">true</a></code></strong>.
    </p>
  </div>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.openssl-x509-check-private-key-parameters">
  <h3 class="title">Parámetros</h3>
  <p class="para">
   </p><dl>
    
     <dt><code class="parameter">certificate</code></dt>
     <dd>
      <p class="para">
       El certificado.
      </p>
     </dd>
    
    
     <dt><code class="parameter">private_key</code></dt>
     <dd>
      <p class="para">
       La clave privada.
      </p>
     </dd>
    
   </dl>
  
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.openssl-x509-check-private-key-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Devuelve <strong><code><a href="#constant.true">true</a></code></strong> si <code class="parameter">private_key</code> es la clave privada que corresponde a
   <code class="parameter">certificate</code>, o <strong><code><a href="#constant.false">false</a></code></strong> en caso contrario.
  </p>
 </div>


 <div class="refsect1 changelog" id="refsect1-function.openssl-x509-check-private-key-changelog">
  <h3 class="title">Historial de cambios</h3>
  <table class="doctable informaltable">
   
    <thead>
     <tr>
      <th>Versión</th>
      <th>Descripción</th>
     </tr>

    </thead>

    <tbody class="tbody">
     <tr>
      <td>8.0.0</td>
      <td>
       <code class="parameter">certificate</code> ahora acepta una instancia de
       <span class="classname"><a href="#class.opensslcertificate" class="classname">OpenSSLCertificate</a></span> ;
       anteriormente, se aceptaba un <span class="type"><a href="#language.types.resource" class="type resource">resource</a></span> de tipo <code class="literal">OpenSSL X.509</code>.
      </td>
     </tr>

     <tr>
      <td>8.0.0</td>
      <td>
       <code class="parameter">private_key</code> ahora acepta una instancia de
       <span class="classname"><a href="#class.opensslasymmetrickey" class="classname">OpenSSLAsymmetricKey</a></span> o <span class="classname"><a href="#class.opensslcertificate" class="classname">OpenSSLCertificate</a></span> ;
       anteriormente, se aceptaba un <span class="type"><a href="#language.types.resource" class="type resource">resource</a></span> de tipo <code class="literal">OpenSSL key</code> o <code class="literal">OpenSSL X.509</code>.
      </td>
     </tr>

    </tbody>
   
  </table>

 </div>

</div>
<hr>







<div id="function.openssl-x509-checkpurpose" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">openssl_x509_checkpurpose</h1>
  <p class="verinfo">(PHP 4 &gt;= 4.0.6, PHP 5, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">openssl_x509_checkpurpose</span> — <span class="dc-title">Verifica el uso de un certificado</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-function.openssl-x509-checkpurpose-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>openssl_x509_checkpurpose</strong></span>(<br>    <span class="methodparam"><span class="type"><span class="type"><a href="#class.opensslcertificate" class="type OpenSSLCertificate">OpenSSLCertificate</a></span>|<span class="type"><a href="#language.types.string" class="type string">string</a></span></span> <code class="parameter">$certificate</code></span>,<br>    <span class="methodparam"><span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$purpose</code></span>,<br>    <span class="methodparam"><span class="type"><a href="#language.types.array" class="type array">array</a></span> <code class="parameter">$ca_info</code><span class="initializer"> = []</span></span>,<br>    <span class="methodparam"><span class="type"><span class="type"><a href="#language.types.null" class="type null">?</a></span><span class="type"><a href="#language.types.string" class="type string">string</a></span></span> <code class="parameter">$untrusted_certificates_file</code><span class="initializer"> = <strong><code><a href="#constant.null">null</a></code></strong></span></span><br>): <span class="type"><span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span>|<span class="type"><a href="#language.types.integer" class="type int">int</a></span></span></div>

  <p class="para rdfs-comment">
   <span class="function"><strong>openssl_x509_checkpurpose()</strong></span> examina el certificado
   especificado por <code class="parameter">certificate</code>, para ver si puede ser
   utilizado para una operación particular <code class="parameter">purpose</code>.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.openssl-x509-checkpurpose-parameters">
  <h3 class="title">Parámetros</h3>
  <p class="para">
   </p><dl>
    
     <dt><code class="parameter">certificate</code></dt>
     <dd>
      <p class="para">
       El certificado examinado.
      </p>
     </dd>
    
    
     <dt><code class="parameter">purpose</code></dt>
     <dd>
      <p class="para">
       </p><table class="doctable table">
        <caption><strong>Uso de <span class="function"><strong>openssl_x509_checkpurpose()</strong></span></strong></caption>
        
         <thead>
          <tr>
           <th>Constante</th>
           <th>Descripción</th>
          </tr>

         </thead>

         <tbody class="tbody">
          <tr>
           <td>X509_PURPOSE_SSL_CLIENT</td>
           <td>
            ¿Puede el certificado ser utilizado con el cliente de una
            conexión SSL?
           </td>
          </tr>

          <tr>
           <td>X509_PURPOSE_SSL_SERVER</td>
           <td>
            ¿Puede el certificado ser utilizado con el servidor de una
            conexión SSL?
           </td>
          </tr>

          <tr>
           <td>X509_PURPOSE_NS_SSL_SERVER</td>
           <td>
            ¿Puede el certificado ser utilizado con un servidor
            Netscape de una conexión SSL?
           </td>
          </tr>

          <tr>
           <td>X509_PURPOSE_SMIME_SIGN</td>
           <td>
            ¿Puede el certificado ser utilizado para firmar correos en el
            estándar S/MIME?
           </td>
          </tr>

          <tr>
           <td>X509_PURPOSE_SMIME_ENCRYPT</td>
           <td>
            ¿Puede el certificado ser utilizado para
            cifrar un correo en formato S/MIME?
           </td>
          </tr>

          <tr>
           <td>X509_PURPOSE_CRL_SIGN</td>
           <td>
            ¿Puede el certificado ser utilizado para
            cifrar una lista de revocación de certificados?
            (CRL)?
           </td>
          </tr>

          <tr>
           <td>X509_PURPOSE_ANY</td>
           <td>
            ¿Puede el certificado ser utilizado para
            cualquiera de estos casos?
           </td>
          </tr>

         </tbody>
        
       </table>

       Estas opciones no son campos de bits: solo puede pasarse una a la vez.
      
     </dd>
    
    
     <dt><code class="parameter">ca_info</code></dt>
     <dd>
      <p class="para">
       <code class="parameter">ca_info</code> debe ser un array de directorios/ficheros
       de CA de confianza como se describe en la
       <a href="#openssl.cert.verification" class="link">Verificación de certificados</a>.
      </p>
     </dd>
    
    
     <dt><code class="parameter">untrusted_certificates_file</code></dt>
     <dd>
      <p class="para">
       Si se especifica, es el nombre de un fichero en formato <abbr title="Privacy-Enhanced Mail">PEM</abbr> que contiene los
       certificados que podrán ayudar durante la verificación del certificado,
       aunque se les deba otorgar una confianza limitada.
      </p>
     </dd>
    
   </dl>
  
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.openssl-x509-checkpurpose-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Retorna <strong><code><a href="#constant.true">true</a></code></strong> si el certificado puede ser utilizado para un propósito particular,
   <strong><code><a href="#constant.false">false</a></code></strong> si no puede serlo, o -1 si ocurre un error.
  </p>
 </div>


 <div class="refsect1 changelog" id="refsect1-function.openssl-x509-checkpurpose-changelog">
  <h3 class="title">Historial de cambios</h3>
  <table class="doctable informaltable">
   
    <thead>
     <tr>
      <th>Versión</th>
      <th>Descripción</th>
     </tr>

    </thead>

    <tbody class="tbody">
     <tr>
      <td>8.0.0</td>
      <td>
       <code class="parameter">certificate</code> ahora acepta una instancia de
       <span class="classname"><a href="#class.opensslcertificate" class="classname">OpenSSLCertificate</a></span>;
       anteriormente, se aceptaba un <span class="type"><a href="#language.types.resource" class="type resource">resource</a></span> de tipo <code class="literal">OpenSSL X.509</code>.
      </td>
     </tr>

     <tr>
      <td>8.0.0</td>
      <td>
       <code class="parameter">untrusted_certificates_file</code> ahora es nullable.
      </td>
     </tr>

    </tbody>
   
  </table>

 </div>

</div>
<hr>







<div id="function.openssl-x509-export" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">openssl_x509_export</h1>
  <p class="verinfo">(PHP 4 &gt;= 4.2.0, PHP 5, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">openssl_x509_export</span> — <span class="dc-title">Exporta un certificado a una cadena de caracteres</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-function.openssl-x509-export-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>openssl_x509_export</strong></span>(<span class="methodparam"><span class="type"><span class="type"><a href="#class.opensslcertificate" class="type OpenSSLCertificate">OpenSSLCertificate</a></span>|<span class="type"><a href="#language.types.string" class="type string">string</a></span></span> <code class="parameter">$certificate</code></span>, <span class="methodparam"><span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter reference">&amp;$output</code></span>, <span class="methodparam"><span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span> <code class="parameter">$no_text</code><span class="initializer"> = <strong><code><a href="#constant.true">true</a></code></strong></span></span>): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>

  <p class="para rdfs-comment">
   <span class="function"><strong>openssl_x509_export()</strong></span> almacena un certificado
   <code class="parameter">certificate</code> en el fichero
   <code class="parameter">output</code> en formato <abbr title="Privacy-Enhanced Mail">PEM</abbr>.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.openssl-x509-export-parameters">
  <h3 class="title">Parámetros</h3>
  <p class="para">
   </p><dl>
    
<dt><code class="parameter">x509</code></dt>
<dd>
    <p class="para">
        Ver los <a href="#openssl.certparams" class="link">parámetros clave/Certificados</a>
        para una lista de valores válidos.
    </p>
</dd>

    
     <dt><code class="parameter">output</code></dt>
     <dd>
      <p class="para">
       En caso de éxito, contendrá el <abbr title="Privacy-Enhanced Mail">PEM</abbr>.
      </p>
     </dd>
    
    
     <dt><code class="parameter">no_text</code></dt>
     <dd>
      <p class="para">
El parámetro opcional <code class="parameter">notext</code> afecta al nivel de verbosidad del display;
si vale <strong><code><a href="#constant.false">false</a></code></strong>, se añadirán información legible por humanos en el display.
Por omisión, el parámetro <code class="parameter">notext</code> vale <strong><code><a href="#constant.true">true</a></code></strong>.
</p>
     </dd>
    
   </dl>
  
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.openssl-x509-export-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Esta función retorna <strong><code><a href="#constant.true">true</a></code></strong> en caso de éxito o <strong><code><a href="#constant.false">false</a></code></strong> si ocurre un error.
  </p>
 </div>


 <div class="refsect1 changelog" id="refsect1-function.openssl-x509-export-changelog">
  <h3 class="title">Historial de cambios</h3>
  <table class="doctable informaltable">
   
    <thead>
     <tr>
      <th>Versión</th>
      <th>Descripción</th>
     </tr>

    </thead>

    <tbody class="tbody">
     <tr>
      <td>8.0.0</td>
      <td>
       <code class="parameter">certificate</code> acepta ahora una instancia de
       <span class="classname"><a href="#class.opensslcertificate" class="classname">OpenSSLCertificate</a></span>;
       anteriormente, se aceptaba un <span class="type"><a href="#language.types.resource" class="type resource">resource</a></span> de tipo <code class="literal">OpenSSL X.509</code>.
      </td>
     </tr>

    </tbody>
   
  </table>

 </div>

</div>
<hr>







<div id="function.openssl-x509-export-to-file" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">openssl_x509_export_to_file</h1>
  <p class="verinfo">(PHP 4 &gt;= 4.2.0, PHP 5, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">openssl_x509_export_to_file</span> — <span class="dc-title">Exporta un certificado a un archivo</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-function.openssl-x509-export-to-file-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>openssl_x509_export_to_file</strong></span>(<span class="methodparam"><span class="type"><span class="type"><a href="#class.opensslcertificate" class="type OpenSSLCertificate">OpenSSLCertificate</a></span>|<span class="type"><a href="#language.types.string" class="type string">string</a></span></span> <code class="parameter">$certificate</code></span>, <span class="methodparam"><span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$output_filename</code></span>, <span class="methodparam"><span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span> <code class="parameter">$no_text</code><span class="initializer"> = <strong><code><a href="#constant.true">true</a></code></strong></span></span>): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>

  <p class="para rdfs-comment">
   <span class="function"><strong>openssl_x509_export_to_file()</strong></span> almacena un certificado
   <code class="parameter">certificate</code> en el archivo
   <code class="parameter">output_filename</code> en formato <abbr title="Privacy-Enhanced Mail">PEM</abbr>.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.openssl-x509-export-to-file-parameters">
  <h3 class="title">Parámetros</h3>
  <p class="para">
   </p><dl>
    
<dt><code class="parameter">x509</code></dt>
<dd>
    <p class="para">
        Ver los <a href="#openssl.certparams" class="link">parámetros clave/Certificados</a>
        para una lista de valores válidos.
    </p>
</dd>

    
     <dt><code class="parameter">output_filename</code></dt>
     <dd>
      <p class="para">
       Ruta del archivo de salida.
      </p>
     </dd>
    
    
     <dt><code class="parameter">no_text</code></dt>
     <dd>
      <p class="para">
El parámetro opcional <code class="parameter">notext</code> afecta al nivel de verbosidad del display;
si vale <strong><code><a href="#constant.false">false</a></code></strong>, se añadirán información legible por humanos en el display.
Por omisión, el parámetro <code class="parameter">notext</code> vale <strong><code><a href="#constant.true">true</a></code></strong>.
</p>
     </dd>
    
   </dl>
  
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.openssl-x509-export-to-file-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Esta función retorna <strong><code><a href="#constant.true">true</a></code></strong> en caso de éxito o <strong><code><a href="#constant.false">false</a></code></strong> si ocurre un error.
  </p>
 </div>


 <div class="refsect1 changelog" id="refsect1-function.openssl-x509-export-to-file-changelog">
  <h3 class="title">Historial de cambios</h3>
  <table class="doctable informaltable">
   
    <thead>
     <tr>
      <th>Versión</th>
      <th>Descripción</th>
     </tr>

    </thead>

    <tbody class="tbody">
     <tr>
      <td>8.0.0</td>
      <td>
       <code class="parameter">certificate</code> acepta ahora una instancia de
       <span class="classname"><a href="#class.opensslcertificate" class="classname">OpenSSLCertificate</a></span>;
       anteriormente, se aceptaba un <span class="type"><a href="#language.types.resource" class="type resource">resource</a></span> de tipo <code class="literal">OpenSSL X.509</code>.
      </td>
     </tr>

    </tbody>
   
  </table>

 </div>

</div>
<hr>







<div id="function.openssl-x509-fingerprint" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">openssl_x509_fingerprint</h1>
  <p class="verinfo">(PHP 5 &gt;= 5.6.0, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">openssl_x509_fingerprint</span> — <span class="dc-title">Calcula la huella digital o el resumen de un certificado X.509 dado</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-function.openssl-x509-fingerprint-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>openssl_x509_fingerprint</strong></span>(<span class="methodparam"><span class="type"><span class="type"><a href="#class.opensslcertificate" class="type OpenSSLCertificate">OpenSSLCertificate</a></span>|<span class="type"><a href="#language.types.string" class="type string">string</a></span></span> <code class="parameter">$certificate</code></span>, <span class="methodparam"><span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$digest_algo</code><span class="initializer"> = "sha1"</span></span>, <span class="methodparam"><span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span> <code class="parameter">$binary</code><span class="initializer"> = <strong><code><a href="#constant.false">false</a></code></strong></span></span>): <span class="type"><span class="type"><a href="#language.types.string" class="type string">string</a></span>|<span class="type"><a href="#language.types.singleton" class="type false">false</a></span></span></div>

  <p class="para rdfs-comment">
   La función <span class="function"><strong>openssl_x509_fingerprint()</strong></span> devuelve el resumen
   de un certificado <code class="parameter">certificate</code> en forma de <span class="type"><a href="#language.types.string" class="type string">string</a></span>.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.openssl-x509-fingerprint-parameters">
  <h3 class="title">Parámetros</h3>
  <p class="para">
   </p><dl>
    
<dt><code class="parameter">x509</code></dt>
<dd>
    <p class="para">
        Ver los <a href="#openssl.certparams" class="link">parámetros clave/Certificados</a>
        para una lista de valores válidos.
    </p>
</dd>

    
     <dt><code class="parameter">digest_algo</code></dt>
     <dd>
      <p class="para">
       El método de resumen o el algoritmo de hash a utilizar, por ejemplo
       "sha256", uno de <span class="function"><a href="#function.openssl-get-md-methods" class="function">openssl_get_md_methods()</a></span>.
      </p>
     </dd>
    
    
     <dt><code class="parameter">binary</code></dt>
     <dd>
      <p class="para">
       Cuando se define como <strong><code><a href="#constant.true">true</a></code></strong>, muestra los datos binarios sin tratar.
       <strong><code><a href="#constant.false">false</a></code></strong> muestra en hexits minúsculas.
      </p>
     </dd>
    
   </dl>
  
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.openssl-x509-fingerprint-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Devuelve una <span class="type"><a href="#language.types.string" class="type string">string</a></span> que contiene la huella digital calculada del certificado en forma
   de hexits minúsculas, a menos que <code class="parameter">binary</code> esté definido como <strong><code><a href="#constant.true">true</a></code></strong>
   en cuyo caso se devuelve la representación binaria sin tratar del resumen del mensaje.
  </p>
  <p class="para">
   Devuelve <strong><code><a href="#constant.false">false</a></code></strong> en caso de error.
  </p>
 </div>


 <div class="refsect1 changelog" id="refsect1-function.openssl-x509-fingerprint-changelog">
  <h3 class="title">Historial de cambios</h3>
  <table class="doctable informaltable">
   
    <thead>
     <tr>
      <th>Versión</th>
      <th>Descripción</th>
     </tr>

    </thead>

    <tbody class="tbody">
     <tr>
      <td>8.0.0</td>
      <td>
       <code class="parameter">certificate</code> ahora acepta una instancia de
       <span class="classname"><a href="#class.opensslcertificate" class="classname">OpenSSLCertificate</a></span>;
       anteriormente, se aceptaba un <span class="type"><a href="#language.types.resource" class="type resource">resource</a></span> de tipo <code class="literal">OpenSSL X.509</code>.
      </td>
     </tr>

    </tbody>
   
  </table>

 </div>

</div>
<hr>







<div id="function.openssl-x509-free" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">openssl_x509_free</h1>
  <p class="verinfo">(PHP 4 &gt;= 4.0.6, PHP 5, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">openssl_x509_free</span> — <span class="dc-title">Libera los recursos tomados por un certificado</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-function.openssl-x509-free-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="attribute"><a href="class.deprecated.html">#[\Deprecated]</a> </span><br>
   <span class="methodname"><strong>openssl_x509_free</strong></span>(<span class="methodparam"><span class="type"><a href="#class.opensslcertificate" class="type OpenSSLCertificate">OpenSSLCertificate</a></span> <code class="parameter">$certificate</code></span>): <span class="type"><a href="language.types.void.html" class="type void">void</a></span></div>

  <blockquote class="note"><p><strong class="note">Nota</strong>: 
 </p><p class="para">
  Esta función no tiene ningún efecto. Anterior a PHP 8.0.0,
  esta función era utilizada para cerrar un recurso.
 </p>
</blockquote>

  <p class="para">
   <span class="function"><strong>openssl_x509_free()</strong></span> libera los recursos de memoria tomados
   por el certificado <code class="parameter">certificate</code>.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.openssl-x509-free-parameters">
  <h3 class="title">Parámetros</h3>
  <p class="para">
   </p><dl>
    
     <dt><code class="parameter">certificate</code></dt>
     <dd>
      <p class="para">
      </p>
     </dd>
    
   </dl>
  
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.openssl-x509-free-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   No se retorna ningún valor.
  </p>
 </div>


 <div class="refsect1 changelog" id="refsect1-function.openssl-x509-free-changelog">
  <h3 class="title">Historial de cambios</h3>
  <table class="doctable informaltable">
   
    <thead>
     <tr>
      <th>Versión</th>
      <th>Descripción</th>
     </tr>

    </thead>

    <tbody class="tbody">
     <tr>
      <td>8.0.0</td>
      <td>
       Esta función es ahora obsoleta ya que no tiene ningún efecto.
      </td>
     </tr>

     <tr>
      <td>8.0.0</td>
      <td>
       <code class="parameter">certificate</code> ahora acepta una instancia de
       <span class="classname"><a href="#class.opensslcertificate" class="classname">OpenSSLCertificate</a></span>;
       anteriormente, se aceptaba un <span class="type"><a href="#language.types.resource" class="type resource">resource</a></span> de tipo <code class="literal">OpenSSL X.509</code>.
      </td>
     </tr>

    </tbody>
   
  </table>

 </div>


</div>
<hr>








<div id="function.openssl-x509-parse" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">openssl_x509_parse</h1>
  <p class="verinfo">(PHP 4 &gt;= 4.0.6, PHP 5, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">openssl_x509_parse</span> — <span class="dc-title">Analiza un certificado X509</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-function.openssl-x509-parse-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>openssl_x509_parse</strong></span>(<span class="methodparam"><span class="type"><span class="type"><a href="#class.opensslcertificate" class="type OpenSSLCertificate">OpenSSLCertificate</a></span>|<span class="type"><a href="#language.types.string" class="type string">string</a></span></span> <code class="parameter">$certificate</code></span>, <span class="methodparam"><span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span> <code class="parameter">$short_names</code><span class="initializer"> = <strong><code><a href="#constant.true">true</a></code></strong></span></span>): <span class="type"><span class="type"><a href="#language.types.array" class="type array">array</a></span>|<span class="type"><a href="#language.types.singleton" class="type false">false</a></span></span></div>

  <p class="para rdfs-comment">
   <span class="function"><strong>openssl_x509_parse()</strong></span> analiza el certificado X509
   <code class="parameter">certificate</code>, y devuelve las informaciones contenidas
   en él, incluyendo el sujeto (<code class="literal">subject</code>), nombre (<code class="literal">name</code>),
   emisor (<code class="literal">issuer name</code>), fechas de inicio y fin
   (<code class="literal">valid from date</code> y <code class="literal">valid to date</code>),
   etc.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.openssl-x509-parse-parameters">
  <h3 class="title">Parámetros</h3>
  <p class="para">
   </p><dl>
    
     <dt><code class="parameter">certificate</code></dt>
     <dd>
      <p class="para">
       Certificado X509. Ver <a href="#openssl.certparams" class="link">parámetro de
       Clave/Certificado</a> para una lista de valores válidos.
      </p>
     </dd>
    
    
     <dt><code class="parameter">short_names</code></dt>
     <dd>
      <p class="para">
       <code class="parameter">short_names</code> controla la indexación de
       los datos en el array: si <code class="parameter">short_names</code> vale
       <strong><code><a href="#constant.true">true</a></code></strong> (valor por omisión), entonces los campos serán indexados
       con la forma corta de los nombres, de lo contrario, se utilizarán los nombres largos.
       (por ejemplo, <code class="literal">CN</code> es el nombre corto de
       <code class="literal">commonName</code>).
      </p>
     </dd>
    
   </dl>
  
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.openssl-x509-parse-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   <em>La estructura de los datos devueltos es
   (intencionalmente) no documentada, ya que
   está sujeta a cambios sin previo aviso.</em>
  </p>
 </div>


 <div class="refsect1 changelog" id="refsect1-function.openssl-x509-parse-changelog">
  <h3 class="title">Historial de cambios</h3>
  <table class="doctable informaltable">
   
    <thead>
     <tr>
      <th>Versión</th>
      <th>Descripción</th>
     </tr>

    </thead>

    <tbody class="tbody">
     <tr>
      <td>8.4.0</td>
      <td>
       El análisis de un certificado sin segundos en UTCTime ya no es permitido para ninguna versión de OpenSSL.
       Esto ya estaba prohibido para OpenSSL versión 3.3+.
      </td>
     </tr>

     <tr>
      <td>8.0.0</td>
      <td>
       <code class="parameter">certificate</code> ahora acepta una instancia de
       <span class="classname"><a href="#class.opensslcertificate" class="classname">OpenSSLCertificate</a></span>;
       anteriormente, se aceptaba un <span class="type"><a href="#language.types.resource" class="type resource">resource</a></span> de tipo <code class="literal">OpenSSL X.509</code>.
      </td>
     </tr>

    </tbody>
   
  </table>

 </div>

</div>
<hr>







<div id="function.openssl-x509-read" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">openssl_x509_read</h1>
  <p class="verinfo">(PHP 4 &gt;= 4.0.6, PHP 5, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">openssl_x509_read</span> — <span class="dc-title">Analiza un certificado X.509 y devuelve un objeto</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-function.openssl-x509-read-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>openssl_x509_read</strong></span>(<span class="methodparam"><span class="type"><span class="type"><a href="#class.opensslcertificate" class="type OpenSSLCertificate">OpenSSLCertificate</a></span>|<span class="type"><a href="#language.types.string" class="type string">string</a></span></span> <code class="parameter">$certificate</code></span>): <span class="type"><span class="type"><a href="#class.opensslcertificate" class="type OpenSSLCertificate">OpenSSLCertificate</a></span>|<span class="type"><a href="#language.types.singleton" class="type false">false</a></span></span></div>

  <p class="para rdfs-comment">
   <span class="function"><strong>openssl_x509_read()</strong></span> analiza el certificado
   <code class="parameter">certificate</code> y devuelve un objeto
   <span class="classname"><a href="#class.opensslcertificate" class="classname">OpenSSLCertificate</a></span> para este.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.openssl-x509-read-parameters">
  <h3 class="title">Parámetros</h3>
  <p class="para">
   </p><dl>
    
     <dt><code class="parameter">certificate</code></dt>
     <dd>
      <p class="para">
       Certificado X509. Ver <a href="#openssl.certparams" class="link">parámetros clave/certificados</a>
       para la lista de valores válidos.
      </p>
     </dd>
    
   </dl>
  
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.openssl-x509-read-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Devuelve un <span class="classname"><a href="#class.opensslcertificate" class="classname">OpenSSLCertificate</a></span> en caso de éxito o <strong><code><a href="#constant.false">false</a></code></strong> si ocurre un error.
  </p>
 </div>


 <div class="refsect1 changelog" id="refsect1-function.openssl-x509-read-changelog">
  <h3 class="title">Historial de cambios</h3>
  <table class="doctable informaltable">
   
    <thead>
     <tr>
      <th>Versión</th>
      <th>Descripción</th>
     </tr>

    </thead>

    <tbody class="tbody">
     <tr>
      <td>8.0.0</td>
      <td>
       En caso de éxito, esta función devuelve ahora una instancia de
       <span class="classname"><a href="#class.opensslcertificate" class="classname">OpenSSLCertificate</a></span> ;
       anteriormente, se devolvía un <span class="type"><a href="#language.types.resource" class="type resource">resource</a></span> de tipo <code class="literal">OpenSSL X.509</code>.
      </td>
     </tr>

     <tr>
      <td>8.0.0</td>
      <td>
       <code class="parameter">certificate</code> acepta ahora una instancia de
       <span class="classname"><a href="#class.opensslcertificate" class="classname">OpenSSLCertificate</a></span> ;
       anteriormente, se aceptaba un <span class="type"><a href="#language.types.resource" class="type resource">resource</a></span> de tipo <code class="literal">OpenSSL X.509</code>.
      </td>
     </tr>

    </tbody>
   
  </table>

 </div>

</div>
<hr>







<div id="function.openssl-x509-verify" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">openssl_x509_verify</h1>
  <p class="verinfo">(PHP 7 &gt;= 7.4.0, PHP 8)</p><p class="refpurpose"><span class="refname">openssl_x509_verify</span> — <span class="dc-title">Verifica la firma digital de un certificado x509 con respecto a una clave pública</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-function.openssl-x509-verify-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>openssl_x509_verify</strong></span>(<span class="methodparam"><span class="type"><span class="type"><a href="#class.opensslcertificate" class="type OpenSSLCertificate">OpenSSLCertificate</a></span>|<span class="type"><a href="#language.types.string" class="type string">string</a></span></span> <code class="parameter">$certificate</code></span>, <span class="methodparam"><span class="type"><span class="type"><a href="#class.opensslasymmetrickey" class="type OpenSSLAsymmetricKey">OpenSSLAsymmetricKey</a></span>|<span class="type"><a href="#class.opensslcertificate" class="type OpenSSLCertificate">OpenSSLCertificate</a></span>|<span class="type"><a href="#language.types.array" class="type array">array</a></span>|<span class="type"><a href="#language.types.string" class="type string">string</a></span></span> <code class="parameter">$public_key</code></span>): <span class="type"><a href="#language.types.integer" class="type int">int</a></span></div>

  <p class="para rdfs-comment">
   La función <span class="function"><strong>openssl_x509_verify()</strong></span> verifica que el certificado
   <code class="parameter">certificate</code> ha sido firmado por la clave privada correspondiente a la clave
   pública <code class="parameter">public_key</code>.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.openssl-x509-verify-parameters">
  <h3 class="title">Parámetros</h3>
  <p class="para">
   </p><dl>
    
<dt><code class="parameter">x509</code></dt>
<dd>
    <p class="para">
        Ver los <a href="#openssl.certparams" class="link">parámetros clave/Certificados</a>
        para una lista de valores válidos.
    </p>
</dd>

    
     <dt><code class="parameter">public_key</code></dt>
     <dd>
      <p class="para">
       <span class="classname"><a href="#class.opensslasymmetrickey" class="classname">OpenSSLAsymmetricKey</a></span> - una clave, devuelta por la función
       <span class="function"><a href="#function.openssl-get-publickey" class="function">openssl_get_publickey()</a></span>
      </p>
      <p class="para">
       <span class="type"><a href="#language.types.string" class="type string">string</a></span> - una clave con formato <abbr title="Privacy-Enhanced Mail">PEM</abbr>, por ejemplo, <code class="literal">-----BEGIN PUBLIC KEY-----
MIIBCgK...</code>.
      </p>
     </dd>
    
   </dl>
  
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.openssl-x509-verify-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Devuelve 1 si la firma es correcta, 0 si es incorrecta y
   -1 si ocurre un error.
  </p>
 </div>


 <div class="refsect1 changelog" id="refsect1-function.openssl-x509-verify-changelog">
  <h3 class="title">Historial de cambios</h3>
  <table class="doctable informaltable">
   
    <thead>
     <tr>
      <th>Versión</th>
      <th>Descripción</th>
     </tr>

    </thead>

    <tbody class="tbody">
     <tr>
      <td>8.0.0</td>
      <td>
       <code class="parameter">certificate</code> acepta ahora una instancia de
       <span class="classname"><a href="#class.opensslcertificate" class="classname">OpenSSLCertificate</a></span>;
       anteriormente, un <span class="type"><a href="#language.types.resource" class="type resource">resource</a></span> de tipo <code class="literal">OpenSSL X.509</code> era aceptado.
      </td>
     </tr>

     <tr>
      <td>8.0.0</td>
      <td>
       <code class="parameter">public_key</code> acepta ahora una instancia de
       <span class="classname"><a href="#class.opensslasymmetrickey" class="classname">OpenSSLAsymmetricKey</a></span> o <span class="classname"><a href="#class.opensslcertificate" class="classname">OpenSSLCertificate</a></span>;
       anteriormente, un <span class="type"><a href="#language.types.resource" class="type resource">resource</a></span> de tipo <code class="literal">OpenSSL key</code> o <code class="literal">OpenSSL X.509</code>
       era aceptado.
      </td>
     </tr>

    </tbody>
   
  </table>

 </div>


 <div class="refsect1 examples" id="refsect1-function.openssl-x509-verify-examples">
  <h3 class="title">Ejemplos</h3>
  <p class="para">
   </p><div class="example" id="example-1060">
    <p><strong>Ejemplo #1 Ejemplo con <span class="function"><strong>openssl_x509_verify()</strong></span></strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br>$hostname </span><span style="color: #007700">= </span><span style="color: #DD0000">"news.php.net"</span><span style="color: #007700">;<br></span><span style="color: #0000BB">$ssloptions </span><span style="color: #007700">= array(<br>    </span><span style="color: #DD0000">"capture_peer_cert" </span><span style="color: #007700">=&gt; </span><span style="color: #0000BB">true</span><span style="color: #007700">,<br>    </span><span style="color: #DD0000">"capture_peer_cert_chain" </span><span style="color: #007700">=&gt; </span><span style="color: #0000BB">true</span><span style="color: #007700">,<br>    </span><span style="color: #DD0000">"allow_self_signed"</span><span style="color: #007700">=&gt; </span><span style="color: #0000BB">false</span><span style="color: #007700">,<br>    </span><span style="color: #DD0000">"CN_match" </span><span style="color: #007700">=&gt; </span><span style="color: #0000BB">$hostname</span><span style="color: #007700">,<br>    </span><span style="color: #DD0000">"verify_peer" </span><span style="color: #007700">=&gt; </span><span style="color: #0000BB">true</span><span style="color: #007700">,<br>    </span><span style="color: #DD0000">"SNI_enabled" </span><span style="color: #007700">=&gt; </span><span style="color: #0000BB">true</span><span style="color: #007700">,<br>    </span><span style="color: #DD0000">"SNI_server_name" </span><span style="color: #007700">=&gt; </span><span style="color: #0000BB">$hostname</span><span style="color: #007700">,<br>);<br><br></span><span style="color: #0000BB">$ctx </span><span style="color: #007700">= </span><span style="color: #0000BB">stream_context_create</span><span style="color: #007700">( array(</span><span style="color: #DD0000">"ssl" </span><span style="color: #007700">=&gt; </span><span style="color: #0000BB">$ssloptions</span><span style="color: #007700">) );<br></span><span style="color: #0000BB">$result </span><span style="color: #007700">= </span><span style="color: #0000BB">stream_socket_client</span><span style="color: #007700">(</span><span style="color: #DD0000">"ssl://</span><span style="color: #0000BB">$hostname</span><span style="color: #DD0000">:443"</span><span style="color: #007700">, </span><span style="color: #0000BB">$errno</span><span style="color: #007700">, </span><span style="color: #0000BB">$errstr</span><span style="color: #007700">, </span><span style="color: #0000BB">30</span><span style="color: #007700">, </span><span style="color: #0000BB">STREAM_CLIENT_CONNECT</span><span style="color: #007700">, </span><span style="color: #0000BB">$ctx</span><span style="color: #007700">);<br></span><span style="color: #0000BB">$cont </span><span style="color: #007700">= </span><span style="color: #0000BB">stream_context_get_params</span><span style="color: #007700">(</span><span style="color: #0000BB">$result</span><span style="color: #007700">);<br></span><span style="color: #0000BB">$x509 </span><span style="color: #007700">= </span><span style="color: #0000BB">$cont</span><span style="color: #007700">[</span><span style="color: #DD0000">"options"</span><span style="color: #007700">][</span><span style="color: #DD0000">"ssl"</span><span style="color: #007700">][</span><span style="color: #DD0000">"peer_certificate"</span><span style="color: #007700">];<br></span><span style="color: #0000BB">$certparsed </span><span style="color: #007700">= </span><span style="color: #0000BB">openssl_x509_parse</span><span style="color: #007700">(</span><span style="color: #0000BB">$x509</span><span style="color: #007700">);<br><br>foreach(</span><span style="color: #0000BB">$cont</span><span style="color: #007700">[</span><span style="color: #DD0000">"options"</span><span style="color: #007700">][</span><span style="color: #DD0000">"ssl"</span><span style="color: #007700">][</span><span style="color: #DD0000">"peer_certificate_chain"</span><span style="color: #007700">] as </span><span style="color: #0000BB">$chaincert</span><span style="color: #007700">)<br>{<br>    </span><span style="color: #0000BB">$chainparsed </span><span style="color: #007700">= </span><span style="color: #0000BB">openssl_x509_parse</span><span style="color: #007700">(</span><span style="color: #0000BB">$chaincert</span><span style="color: #007700">);<br>    </span><span style="color: #0000BB">$chain_public_key </span><span style="color: #007700">= </span><span style="color: #0000BB">openssl_get_publickey</span><span style="color: #007700">(</span><span style="color: #0000BB">$chaincert</span><span style="color: #007700">);<br>    </span><span style="color: #0000BB">$r </span><span style="color: #007700">= </span><span style="color: #0000BB">openssl_x509_verify</span><span style="color: #007700">(</span><span style="color: #0000BB">$x509</span><span style="color: #007700">, </span><span style="color: #0000BB">$chain_public_key</span><span style="color: #007700">);<br>    if (</span><span style="color: #0000BB">$r</span><span style="color: #007700">==</span><span style="color: #0000BB">1</span><span style="color: #007700">)<br>    {<br>        echo </span><span style="color: #0000BB">$certparsed</span><span style="color: #007700">[</span><span style="color: #DD0000">'subject'</span><span style="color: #007700">][</span><span style="color: #DD0000">'CN'</span><span style="color: #007700">];<br>        echo </span><span style="color: #DD0000">" fue firmado digitalmente por "</span><span style="color: #007700">;<br>        echo </span><span style="color: #0000BB">$chainparsed</span><span style="color: #007700">[</span><span style="color: #DD0000">'subject'</span><span style="color: #007700">][</span><span style="color: #DD0000">'CN'</span><span style="color: #007700">].</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br>    }<br>}<br></span><span style="color: #0000BB">?&gt;</span></span></code></div>
    </div>

   </div>
  
 </div>


 <div class="refsect1 seealso" id="refsect1-function.openssl-x509-verify-seealso">
  <h3 class="title">Ver también</h3>
  <p class="para">
   </p><ul class="simplelist">
    <li><span class="function"><a href="#function.openssl-verify" class="function" rel="rdfs-seeAlso">openssl_verify()</a> - Verifica una firma</span></li>
    <li><span class="function"><a href="#function.openssl-get-publickey" class="function" rel="rdfs-seeAlso">openssl_get_publickey()</a> - Alias de openssl_pkey_get_public</span></li>
   </ul>
  
 </div>

</div>
<hr>




<h2>Tabla de contenidos</h2><ul class="chunklist chunklist_reference"><li><a href="#function.openssl-cipher-iv-length">openssl_cipher_iv_length</a> — Obtiene la longitud del vector de inicialización cipher</li><li><a href="#function.openssl-cipher-key-length">openssl_cipher_key_length</a> — Devuelve la longitud de la clave de cifrado</li><li><a href="#function.openssl-cms-decrypt">openssl_cms_decrypt</a> — Descifra un mensaje CMS</li><li><a href="#function.openssl-cms-encrypt">openssl_cms_encrypt</a> — Cifra un mensaje CMS</li><li><a href="#function.openssl-cms-read">openssl_cms_read</a> — Exporta el fichero CMS a un array de certificados PEM</li><li><a href="#function.openssl-cms-sign">openssl_cms_sign</a> — Firma un fichero</li><li><a href="#function.openssl-cms-verify">openssl_cms_verify</a> — Verifica una firma CMS</li><li><a href="#function.openssl-csr-export">openssl_csr_export</a> — Exporta un CSR a un fichero o una variable</li><li><a href="#function.openssl-csr-export-to-file">openssl_csr_export_to_file</a> — Exporta una CSR a un fichero</li><li><a href="#function.openssl-csr-get-public-key">openssl_csr_get_public_key</a> — Devuelve la clave pública de un CSR</li><li><a href="#function.openssl-csr-get-subject">openssl_csr_get_subject</a> — Retorna el sujeto de una CSR</li><li><a href="#function.openssl-csr-new">openssl_csr_new</a> — Genera una CSR</li><li><a href="#function.openssl-csr-sign">openssl_csr_sign</a> — Firma un CSR con otro certificado (o consigo mismo) y genera un certificado</li><li><a href="#function.openssl-decrypt">openssl_decrypt</a> — Descifrar los datos</li><li><a href="#function.openssl-dh-compute-key">openssl_dh_compute_key</a> — Calcula un secreto compartido para un valor público de la clave DH pública remota y la clave DH local</li><li><a href="#function.openssl-digest">openssl_digest</a> — Calcula un digest</li><li><a href="#function.openssl-encrypt">openssl_encrypt</a> — Cifra los datos</li><li><a href="#function.openssl-error-string">openssl_error_string</a> — Retorna el mensaje de error OpenSSL</li><li><a href="#function.openssl-free-key">openssl_free_key</a> — Libera los recursos</li><li><a href="#function.openssl-get-cert-locations">openssl_get_cert_locations</a> — Obtener las ubicaciones de certificados disponibles</li><li><a href="#function.openssl-get-cipher-methods">openssl_get_cipher_methods</a> — Obtiene la lista de métodos de cifrado disponibles</li><li><a href="#function.openssl-get-curve-names">openssl_get_curve_names</a> — Obtiene la lista de nombres de curvas disponibles para ECC</li><li><a href="#function.openssl-get-md-methods">openssl_get_md_methods</a> — Obtiene la lista de métodos digest disponibles</li><li><a href="#function.openssl-get-privatekey">openssl_get_privatekey</a> — Alias de openssl_pkey_get_private</li><li><a href="#function.openssl-get-publickey">openssl_get_publickey</a> — Alias de openssl_pkey_get_public</li><li><a href="#function.openssl-open">openssl_open</a> — Abre datos sellados</li><li><a href="#function.openssl-pbkdf2">openssl_pbkdf2</a> — Genera una cadena PKCS5 v2 PBKDF2</li><li><a href="#function.openssl-pkcs12-export">openssl_pkcs12_export</a> — Exporta un certificado compatible PKCS#12 a una variable</li><li><a href="#function.openssl-pkcs12-export-to-file">openssl_pkcs12_export_to_file</a> — Exporta un certificado compatible con PKCS#12</li><li><a href="#function.openssl-pkcs12-read">openssl_pkcs12_read</a> — Lee un certificado PKCS#12 en un array</li><li><a href="#function.openssl-pkcs7-decrypt">openssl_pkcs7_decrypt</a> — Descifra un mensaje S/MIME</li><li><a href="#function.openssl-pkcs7-encrypt">openssl_pkcs7_encrypt</a> — Cifra un mensaje S/MIME</li><li><a href="#function.openssl-pkcs7-read">openssl_pkcs7_read</a> — Exporta el fichero PKCS7 a un array de certificados PEM</li><li><a href="#function.openssl-pkcs7-sign">openssl_pkcs7_sign</a> — Firma un mensaje S/MIME</li><li><a href="#function.openssl-pkcs7-verify">openssl_pkcs7_verify</a> — Verifica la firma de un mensaje S/MIME</li><li><a href="#function.openssl-pkey-derive">openssl_pkey_derive</a> — Calcula el secreto compartido para el valor público de la clave DH o ECDH remota y local</li><li><a href="#function.openssl-pkey-export">openssl_pkey_export</a> — Almacena una representación exportable de la clave en una cadena de caracteres</li><li><a href="#function.openssl-pkey-export-to-file">openssl_pkey_export_to_file</a> — Guarda una clave en formato ASCII en un fichero</li><li><a href="#function.openssl-pkey-free">openssl_pkey_free</a> — Libera una clave privada</li><li><a href="#function.openssl-pkey-get-details">openssl_pkey_get_details</a> — Devuelve un array que contiene los detalles de la clave</li><li><a href="#function.openssl-pkey-get-private">openssl_pkey_get_private</a> — Lee una clave privada</li><li><a href="#function.openssl-pkey-get-public">openssl_pkey_get_public</a> — Extrae una clave pública de un certificado y la prepara</li><li><a href="#function.openssl-pkey-new">openssl_pkey_new</a> — Genera una nueva clave privada</li><li><a href="#function.openssl-private-decrypt">openssl_private_decrypt</a> — Descifra datos con una clave privada</li><li><a href="#function.openssl-private-encrypt">openssl_private_encrypt</a> — Cifra datos con una clave privada</li><li><a href="#function.openssl-public-decrypt">openssl_public_decrypt</a> — Descifra datos con una clave pública</li><li><a href="#function.openssl-public-encrypt">openssl_public_encrypt</a> — Cifra datos con una clave pública</li><li><a href="#function.openssl-random-pseudo-bytes">openssl_random_pseudo_bytes</a> — Genera una cadena pseudo-aleatoria de octetos</li><li><a href="#function.openssl-seal">openssl_seal</a> — Sella datos</li><li><a href="#function.openssl-sign">openssl_sign</a> — Firma los datos</li><li><a href="#function.openssl-spki-export">openssl_spki_export</a> — Exporta un PEM válido formateado como una clave pública firmada</li><li><a href="#function.openssl-spki-export-challenge">openssl_spki_export_challenge</a> — Exporta el challenge asociado con la clave pública firmada</li><li><a href="#function.openssl-spki-new">openssl_spki_new</a> — Genera una clave pública firmada y realiza un desafío</li><li><a href="#function.openssl-spki-verify">openssl_spki_verify</a> — Verifica una clave pública firmada y realiza un desafío</li><li><a href="#function.openssl-verify">openssl_verify</a> — Verifica una firma</li><li><a href="#function.openssl-x509-check-private-key">openssl_x509_check_private_key</a> — Verifica si una clave privada corresponde a un certificado</li><li><a href="#function.openssl-x509-checkpurpose">openssl_x509_checkpurpose</a> — Verifica el uso de un certificado</li><li><a href="#function.openssl-x509-export">openssl_x509_export</a> — Exporta un certificado a una cadena de caracteres</li><li><a href="#function.openssl-x509-export-to-file">openssl_x509_export_to_file</a> — Exporta un certificado a un archivo</li><li><a href="#function.openssl-x509-fingerprint">openssl_x509_fingerprint</a> — Calcula la huella digital o el resumen de un certificado X.509 dado</li><li><a href="#function.openssl-x509-free">openssl_x509_free</a> — Libera los recursos tomados por un certificado</li><li><a href="#function.openssl-x509-parse">openssl_x509_parse</a> — Analiza un certificado X509</li><li><a href="#function.openssl-x509-read">openssl_x509_read</a> — Analiza un certificado X.509 y devuelve un objeto</li><li><a href="#function.openssl-x509-verify">openssl_x509_verify</a> — Verifica la firma digital de un certificado x509 con respecto a una clave pública</li></ul>
</div>

<hr>




 


<div id="class.opensslcertificate" class="reference"><hr>
 <h1 class="title">La clase OpenSSLCertificate</h1>
 

 <div class="partintro"><p class="verinfo">(PHP 8)</p>


  <div class="section" id="opensslcertificate.intro">
   <h2 class="title">Introducción</h2>
   <p class="para">
    Una clase completamente opaca que reemplaza los recursos <code class="literal">OpenSSL X.509</code> a partir de PHP 8.0.0.
   </p>
  </div>


  <div class="section" id="opensslcertificate.synopsis">
   <h2 class="title">Sinopsis de la Clase</h2>


   <div class="classsynopsis"><div class="classsynopsisinfo">
    
     <span class="modifier">final</span>
     <span class="modifier">class</span> <strong class="classname"><strong class="classname">OpenSSLCertificate</strong></strong>
     {</div>
   }</div>


  </div>

 </div>

 

</div>

<hr>



 


<div id="class.opensslcertificatesigningrequest" class="reference"><hr>
 <h1 class="title">La clase OpenSSLCertificateSigningRequest</h1>
 

 <div class="partintro"><p class="verinfo">(PHP 8)</p>


  <div class="section" id="opensslcertificatesigningrequest.intro">
   <h2 class="title">Introducción</h2>
   <p class="para">
    Una clase completamente opaca que reemplaza los recursos <code class="literal">OpenSSL X.509 CSR</code> a partir de PHP 8.0.0.
   </p>
  </div>


  <div class="section" id="opensslcertificatesigningrequest.synopsis">
   <h2 class="title">Sinopsis de la Clase</h2>


   <div class="classsynopsis"><div class="classsynopsisinfo">
    
     <span class="modifier">final</span>
     <span class="modifier">class</span> <strong class="classname"><strong class="classname">OpenSSLCertificateSigningRequest</strong></strong>
     {</div>
   }</div>


  </div>

 </div>

 

</div>

<hr>



 


<div id="class.opensslasymmetrickey" class="reference"><hr>
 <h1 class="title">La clase OpenSSLAsymmetricKey</h1>
 

 <div class="partintro"><p class="verinfo">(PHP 8)</p>


  <div class="section" id="opensslasymmetrickey.intro">
   <h2 class="title">Introducción</h2>
   <p class="para">
    Una clase completamente opaca que reemplaza los recursos <code class="literal">OpenSSL key</code> a partir de PHP 8.0.0.
   </p>
  </div>


  <div class="section" id="opensslasymmetrickey.synopsis">
   <h2 class="title">Sinopsis de la Clase</h2>


   <div class="classsynopsis"><div class="classsynopsisinfo">
    
     <span class="modifier">final</span>
     <span class="modifier">class</span> <strong class="classname"><strong class="classname">OpenSSLAsymmetricKey</strong></strong>
     {</div>
   }</div>


  </div>

 </div>

 

</div>

<hr>




<ul class="chunklist chunklist_book"><li><a href="#intro.openssl">Introducción</a></li><li><a href="#openssl.setup">Instalación/Configuración</a><ul class="chunklist chunklist_book chunklist_children"><li><a href="#openssl.requirements">Requerimientos</a></li><li><a href="#openssl.installation">Instalación</a></li><li><a href="#openssl.configuration">Configuración en tiempo de ejecución</a></li><li><a href="#openssl.resources">Tipos de recursos</a></li></ul></li><li><a href="#openssl.constants">Constantes predefinidas</a><ul class="chunklist chunklist_book chunklist_children"><li><a href="#openssl.purpose-check">Opciones de validación general</a></li><li><a href="#openssl.padding">Opciones de relleno (Padding) para el cifrado asimétrico</a></li><li><a href="#openssl.key-types">Tipos de clave</a></li><li><a href="#openssl.pkcs7.flags">Constantes/opciones PKCS7</a></li><li><a href="#openssl.cms.flags">Bandera/Constantes CMS</a></li><li><a href="#openssl.signature-algos">Algoritmo de firma</a></li><li><a href="#openssl.ciphers">Cifrados</a></li><li><a href="#openssl.constversion">Constantes de versión</a></li><li><a href="#openssl.constsni">Constantes de identificación del nombre del servidor</a></li><li><a href="#openssl.constants.other">Otras constantes</a></li></ul></li><li><a href="#openssl.certparams">Parámetros de claves/certificados</a></li><li><a href="#openssl.cert.verification">Verificación de certificados</a></li><li><a href="#ref.openssl">Funciones de OpenSSL</a><ul class="chunklist chunklist_book chunklist_children"><li><a href="#function.openssl-cipher-iv-length">openssl_cipher_iv_length</a> — Obtiene la longitud del vector de inicialización cipher</li><li><a href="#function.openssl-cipher-key-length">openssl_cipher_key_length</a> — Devuelve la longitud de la clave de cifrado</li><li><a href="#function.openssl-cms-decrypt">openssl_cms_decrypt</a> — Descifra un mensaje CMS</li><li><a href="#function.openssl-cms-encrypt">openssl_cms_encrypt</a> — Cifra un mensaje CMS</li><li><a href="#function.openssl-cms-read">openssl_cms_read</a> — Exporta el fichero CMS a un array de certificados PEM</li><li><a href="#function.openssl-cms-sign">openssl_cms_sign</a> — Firma un fichero</li><li><a href="#function.openssl-cms-verify">openssl_cms_verify</a> — Verifica una firma CMS</li><li><a href="#function.openssl-csr-export">openssl_csr_export</a> — Exporta un CSR a un fichero o una variable</li><li><a href="#function.openssl-csr-export-to-file">openssl_csr_export_to_file</a> — Exporta una CSR a un fichero</li><li><a href="#function.openssl-csr-get-public-key">openssl_csr_get_public_key</a> — Devuelve la clave pública de un CSR</li><li><a href="#function.openssl-csr-get-subject">openssl_csr_get_subject</a> — Retorna el sujeto de una CSR</li><li><a href="#function.openssl-csr-new">openssl_csr_new</a> — Genera una CSR</li><li><a href="#function.openssl-csr-sign">openssl_csr_sign</a> — Firma un CSR con otro certificado (o consigo mismo) y genera un certificado</li><li><a href="#function.openssl-decrypt">openssl_decrypt</a> — Descifrar los datos</li><li><a href="#function.openssl-dh-compute-key">openssl_dh_compute_key</a> — Calcula un secreto compartido para un valor público de la clave DH pública remota y la clave DH local</li><li><a href="#function.openssl-digest">openssl_digest</a> — Calcula un digest</li><li><a href="#function.openssl-encrypt">openssl_encrypt</a> — Cifra los datos</li><li><a href="#function.openssl-error-string">openssl_error_string</a> — Retorna el mensaje de error OpenSSL</li><li><a href="#function.openssl-free-key">openssl_free_key</a> — Libera los recursos</li><li><a href="#function.openssl-get-cert-locations">openssl_get_cert_locations</a> — Obtener las ubicaciones de certificados disponibles</li><li><a href="#function.openssl-get-cipher-methods">openssl_get_cipher_methods</a> — Obtiene la lista de métodos de cifrado disponibles</li><li><a href="#function.openssl-get-curve-names">openssl_get_curve_names</a> — Obtiene la lista de nombres de curvas disponibles para ECC</li><li><a href="#function.openssl-get-md-methods">openssl_get_md_methods</a> — Obtiene la lista de métodos digest disponibles</li><li><a href="#function.openssl-get-privatekey">openssl_get_privatekey</a> — Alias de openssl_pkey_get_private</li><li><a href="#function.openssl-get-publickey">openssl_get_publickey</a> — Alias de openssl_pkey_get_public</li><li><a href="#function.openssl-open">openssl_open</a> — Abre datos sellados</li><li><a href="#function.openssl-pbkdf2">openssl_pbkdf2</a> — Genera una cadena PKCS5 v2 PBKDF2</li><li><a href="#function.openssl-pkcs12-export">openssl_pkcs12_export</a> — Exporta un certificado compatible PKCS#12 a una variable</li><li><a href="#function.openssl-pkcs12-export-to-file">openssl_pkcs12_export_to_file</a> — Exporta un certificado compatible con PKCS#12</li><li><a href="#function.openssl-pkcs12-read">openssl_pkcs12_read</a> — Lee un certificado PKCS#12 en un array</li><li><a href="#function.openssl-pkcs7-decrypt">openssl_pkcs7_decrypt</a> — Descifra un mensaje S/MIME</li><li><a href="#function.openssl-pkcs7-encrypt">openssl_pkcs7_encrypt</a> — Cifra un mensaje S/MIME</li><li><a href="#function.openssl-pkcs7-read">openssl_pkcs7_read</a> — Exporta el fichero PKCS7 a un array de certificados PEM</li><li><a href="#function.openssl-pkcs7-sign">openssl_pkcs7_sign</a> — Firma un mensaje S/MIME</li><li><a href="#function.openssl-pkcs7-verify">openssl_pkcs7_verify</a> — Verifica la firma de un mensaje S/MIME</li><li><a href="#function.openssl-pkey-derive">openssl_pkey_derive</a> — Calcula el secreto compartido para el valor público de la clave DH o ECDH remota y local</li><li><a href="#function.openssl-pkey-export">openssl_pkey_export</a> — Almacena una representación exportable de la clave en una cadena de caracteres</li><li><a href="#function.openssl-pkey-export-to-file">openssl_pkey_export_to_file</a> — Guarda una clave en formato ASCII en un fichero</li><li><a href="#function.openssl-pkey-free">openssl_pkey_free</a> — Libera una clave privada</li><li><a href="#function.openssl-pkey-get-details">openssl_pkey_get_details</a> — Devuelve un array que contiene los detalles de la clave</li><li><a href="#function.openssl-pkey-get-private">openssl_pkey_get_private</a> — Lee una clave privada</li><li><a href="#function.openssl-pkey-get-public">openssl_pkey_get_public</a> — Extrae una clave pública de un certificado y la prepara</li><li><a href="#function.openssl-pkey-new">openssl_pkey_new</a> — Genera una nueva clave privada</li><li><a href="#function.openssl-private-decrypt">openssl_private_decrypt</a> — Descifra datos con una clave privada</li><li><a href="#function.openssl-private-encrypt">openssl_private_encrypt</a> — Cifra datos con una clave privada</li><li><a href="#function.openssl-public-decrypt">openssl_public_decrypt</a> — Descifra datos con una clave pública</li><li><a href="#function.openssl-public-encrypt">openssl_public_encrypt</a> — Cifra datos con una clave pública</li><li><a href="#function.openssl-random-pseudo-bytes">openssl_random_pseudo_bytes</a> — Genera una cadena pseudo-aleatoria de octetos</li><li><a href="#function.openssl-seal">openssl_seal</a> — Sella datos</li><li><a href="#function.openssl-sign">openssl_sign</a> — Firma los datos</li><li><a href="#function.openssl-spki-export">openssl_spki_export</a> — Exporta un PEM válido formateado como una clave pública firmada</li><li><a href="#function.openssl-spki-export-challenge">openssl_spki_export_challenge</a> — Exporta el challenge asociado con la clave pública firmada</li><li><a href="#function.openssl-spki-new">openssl_spki_new</a> — Genera una clave pública firmada y realiza un desafío</li><li><a href="#function.openssl-spki-verify">openssl_spki_verify</a> — Verifica una clave pública firmada y realiza un desafío</li><li><a href="#function.openssl-verify">openssl_verify</a> — Verifica una firma</li><li><a href="#function.openssl-x509-check-private-key">openssl_x509_check_private_key</a> — Verifica si una clave privada corresponde a un certificado</li><li><a href="#function.openssl-x509-checkpurpose">openssl_x509_checkpurpose</a> — Verifica el uso de un certificado</li><li><a href="#function.openssl-x509-export">openssl_x509_export</a> — Exporta un certificado a una cadena de caracteres</li><li><a href="#function.openssl-x509-export-to-file">openssl_x509_export_to_file</a> — Exporta un certificado a un archivo</li><li><a href="#function.openssl-x509-fingerprint">openssl_x509_fingerprint</a> — Calcula la huella digital o el resumen de un certificado X.509 dado</li><li><a href="#function.openssl-x509-free">openssl_x509_free</a> — Libera los recursos tomados por un certificado</li><li><a href="#function.openssl-x509-parse">openssl_x509_parse</a> — Analiza un certificado X509</li><li><a href="#function.openssl-x509-read">openssl_x509_read</a> — Analiza un certificado X.509 y devuelve un objeto</li><li><a href="#function.openssl-x509-verify">openssl_x509_verify</a> — Verifica la firma digital de un certificado x509 con respecto a una clave pública</li></ul></li><li><a href="#class.opensslcertificate">OpenSSLCertificate</a> — La clase OpenSSLCertificate</li><li><a href="#class.opensslcertificatesigningrequest">OpenSSLCertificateSigningRequest</a> — La clase OpenSSLCertificateSigningRequest</li><li><a href="#class.opensslasymmetrickey">OpenSSLAsymmetricKey</a> — La clase OpenSSLAsymmetricKey</li></ul></div>
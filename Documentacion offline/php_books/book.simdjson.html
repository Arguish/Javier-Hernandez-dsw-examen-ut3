<div id="book.simdjson" class="book"><hr>
 
 <h1 class="title">Simdjson</h1>
 

 <div id="intro.simdjson" class="preface"><hr>
  <h1 class="title">Introducción</h1>
  <p class="para">
   Proporciona un decodificado JSON más rápido gracias a las ligaduras simdjson para PHP (Single Instruction, Multiple Data)
  </p>
 </div>
<hr>


 


<div id="simdjson.setup" class="chapter"><hr>
 <h1 class="title">Instalación/Configuración</h1>
<h2>Tabla de contenidos</h2><ul class="chunklist chunklist_chapter"><li><a href="#simdjson.installation">Instalación</a></li></ul>


 <div id="simdjson.installation" class="section"><hr>
  <h2 class="title">Instalación</h2>
  <p class="para">
   Esta extensión <a href="https://pecl.php.net/" class="link external">» PECL</a> no está integrada en PHP.
  </p>
  <p class="para">
   Información sobre la instalación de estas extensiones PECL
        puede ser encontrada en el capítulo del manual titulado <a href="#install.pecl" class="link">Instalación
de extensiones PECL</a>. Otra información como notas sobre nuevas
        versiones, descargas, fuentes de archivos, información sobre los mantenedores
        así como un CHANGELOG, pueden ser encontradas aquí:
   <a href="https://pecl.php.net/package/simdjson" class="link external">» https://pecl.php.net/package/simdjson</a>.
  </p>
  <p class="para">
   Los binarios Windows
        (los archivos <abbr title="Dynamic Link Library">DLL</abbr>)
        para esta extensión <abbr title="PHP Extension and Application Repository">PECL</abbr> están disponibles en el sitio web PECL.
  </p>
 </div>
<hr>

</div>

<hr>



 


<div id="simdjson.constants" class="appendix"><hr>
 <h1 class="title">Constantes predefinidas</h1>

 <p class="simpara">Estas constantes son definidas por esta
extensión, y solo están disponibles si esta extensión ha sido compilada con
PHP, o bien cargada en tiempo de ejecución.</p>
 <p class="para">
  </p><dl>
   
    <dt id="constant.simdjson-err-capacity">
     <strong><code><a href="#constant.simdjson-err-capacity">SIMDJSON_ERR_CAPACITY</a></code></strong>
     (<span class="type"><a href="#language.types.integer" class="type int">int</a></span>)
    </dt>
    <dd>
     <span class="simpara">
      Este analizador no puede manejar un documento tan voluminoso.
      Se lanza al analizar una cadena JSON de más de 4 Gio.
     </span>
    </dd>
   
   
    <dt id="constant.simdjson-err-tape-error">
     <strong><code><a href="#constant.simdjson-err-tape-error">SIMDJSON_ERR_TAPE_ERROR</a></code></strong>
     (<span class="type"><a href="#language.types.integer" class="type int">int</a></span>)
    </dt>
    <dd>
     <span class="simpara">
      El documento JSON tiene una estructura incorrecta: comas faltantes o superfluas, llaves, claves faltantes, etc.
     </span>
    </dd>
   
   
    <dt id="constant.simdjson-err-depth-error">
     <strong><code><a href="#constant.simdjson-err-depth-error">SIMDJSON_ERR_DEPTH_ERROR</a></code></strong>
     (<span class="type"><a href="#language.types.integer" class="type int">int</a></span>)
    </dt>
    <dd>
     <span class="simpara">
      El documento JSON era demasiado profundo (demasiados objetos y arrays anidados)
     </span>
    </dd>
   
   
    <dt id="constant.simdjson-err-string-error">
     <strong><code><a href="#constant.simdjson-err-string-error">SIMDJSON_ERR_STRING_ERROR</a></code></strong>
     (<span class="type"><a href="#language.types.integer" class="type int">int</a></span>)
    </dt>
    <dd>
     <span class="simpara">Problema al analizar una cadena
     </span>
    </dd>
   
   
    <dt id="constant.simdjson-err-t-atom-error">
     <strong><code><a href="#constant.simdjson-err-t-atom-error">SIMDJSON_ERR_T_ATOM_ERROR</a></code></strong>
     (<span class="type"><a href="#language.types.integer" class="type int">int</a></span>)
    </dt>
    <dd>
     <span class="simpara">Problema al analizar un átomo que comienza con la letra 't'
     </span>
    </dd>
   
   
    <dt id="constant.simdjson-err-f-atom-error">
     <strong><code><a href="#constant.simdjson-err-f-atom-error">SIMDJSON_ERR_F_ATOM_ERROR</a></code></strong>
     (<span class="type"><a href="#language.types.integer" class="type int">int</a></span>)
    </dt>
    <dd>
     <span class="simpara">
      Problema al analizar un átomo que comienza con la letra 'f'
     </span>
    </dd>
   
   
    <dt id="constant.simdjson-err-n-atom-error">
     <strong><code><a href="#constant.simdjson-err-n-atom-error">SIMDJSON_ERR_N_ATOM_ERROR</a></code></strong>
     (<span class="type"><a href="#language.types.integer" class="type int">int</a></span>)
    </dt>
    <dd>
     <span class="simpara">
      Problema al analizar un átomo que comienza con la letra 'n'
     </span>
    </dd>
   
   
    <dt id="constant.simdjson-err-number-error">
     <strong><code><a href="#constant.simdjson-err-number-error">SIMDJSON_ERR_NUMBER_ERROR</a></code></strong>
     (<span class="type"><a href="#language.types.integer" class="type int">int</a></span>)
    </dt>
    <dd>
     <span class="simpara">
      Problema al analizar un número
     </span>
    </dd>
   
   
    <dt id="constant.simdjson-err-utf8-error">
     <strong><code><a href="#constant.simdjson-err-utf8-error">SIMDJSON_ERR_UTF8_ERROR</a></code></strong>
     (<span class="type"><a href="#language.types.integer" class="type int">int</a></span>)
    </dt>
    <dd>
     <span class="simpara">
      La entrada no es un UTF-8 válido
     </span>
    </dd>
   
   
    <dt id="constant.simdjson-err-uninitialized">
     <strong><code><a href="#constant.simdjson-err-uninitialized">SIMDJSON_ERR_UNINITIALIZED</a></code></strong>
     (<span class="type"><a href="#language.types.integer" class="type int">int</a></span>)
    </dt>
    <dd>
     <span class="simpara">
      El analizador utilizado por simdjson no está inicializado. No debería ocurrir.
     </span>
    </dd>
   
   
    <dt id="constant.simdjson-err-empty">
     <strong><code><a href="#constant.simdjson-err-empty">SIMDJSON_ERR_EMPTY</a></code></strong>
     (<span class="type"><a href="#language.types.integer" class="type int">int</a></span>)
    </dt>
    <dd>
     <span class="simpara">Vacío: no se encontró JSON
     </span>
    </dd>
   
   
    <dt id="constant.simdjson-err-unescaped-chars">
     <strong><code><a href="#constant.simdjson-err-unescaped-chars">SIMDJSON_ERR_UNESCAPED_CHARS</a></code></strong>
     (<span class="type"><a href="#language.types.integer" class="type int">int</a></span>)
    </dt>
    <dd>
     <span class="simpara">Con las cadenas, algunos caracteres deben ser escapados, se encontraron caracteres no escapados
     </span>
    </dd>
   
   
    <dt id="constant.simdjson-err-unclosed-string">
     <strong><code><a href="#constant.simdjson-err-unclosed-string">SIMDJSON_ERR_UNCLOSED_STRING</a></code></strong>
     (<span class="type"><a href="#language.types.integer" class="type int">int</a></span>)
    </dt>
    <dd>
     <span class="simpara">
      Una cadena está abierta, pero nunca cerrada.
     </span>
    </dd>
   
   
    <dt id="constant.simdjson-err-unsupported-architecture">
     <strong><code><a href="#constant.simdjson-err-unsupported-architecture">SIMDJSON_ERR_UNSUPPORTED_ARCHITECTURE</a></code></strong>
     (<span class="type"><a href="#language.types.integer" class="type int">int</a></span>)
    </dt>
    <dd>
     <span class="simpara">
      simdjson no tiene una implementación compatible con esta arquitectura CPU (¿tal vez un CPU no-SIMD?).
     </span>
    </dd>
   
   
    <dt id="constant.simdjson-err-incorrect-type">
     <strong><code><a href="#constant.simdjson-err-incorrect-type">SIMDJSON_ERR_INCORRECT_TYPE</a></code></strong>
     (<span class="type"><a href="#language.types.integer" class="type int">int</a></span>)
    </dt>
    <dd>
     <span class="simpara">
      No debería ocurrir.
     </span>
    </dd>
   
   
    <dt id="constant.simdjson-err-number-out-of-range">
     <strong><code><a href="#constant.simdjson-err-number-out-of-range">SIMDJSON_ERR_NUMBER_OUT_OF_RANGE</a></code></strong>
     (<span class="type"><a href="#language.types.integer" class="type int">int</a></span>)
    </dt>
    <dd>
     <span class="simpara">
      El número JSON es demasiado grande o demasiado pequeño para caber en el tipo solicitado.
      Es importante señalar que la biblioteca C simdjson es un fork y que este error es ignorado para coincidir con la gestión de PHP
      de los números JSON que son demasiado grandes o demasiado pequeños.
     </span>
    </dd>
   
   
    <dt id="constant.simdjson-err-index-out-of-bounds">
     <strong><code><a href="#constant.simdjson-err-index-out-of-bounds">SIMDJSON_ERR_INDEX_OUT_OF_BOUNDS</a></code></strong>
     (<span class="type"><a href="#language.types.integer" class="type int">int</a></span>)
    </dt>
    <dd>
     <span class="simpara">
      No debería ocurrir.
     </span>
    </dd>
   
   
    <dt id="constant.simdjson-err-no-such-field">
     <strong><code><a href="#constant.simdjson-err-no-such-field">SIMDJSON_ERR_NO_SUCH_FIELD</a></code></strong>
     (<span class="type"><a href="#language.types.integer" class="type int">int</a></span>)
    </dt>
    <dd>
     <span class="simpara">No debería ocurrir.
     </span>
    </dd>
   
   
    <dt id="constant.simdjson-err-io-error">
     <strong><code><a href="#constant.simdjson-err-io-error">SIMDJSON_ERR_IO_ERROR</a></code></strong>
     (<span class="type"><a href="#language.types.integer" class="type int">int</a></span>)
    </dt>
    <dd>
     <span class="simpara">No debería ocurrir.
     </span>
    </dd>
   
   
    <dt id="constant.simdjson-err-invalid-json-pointer">
     <strong><code><a href="#constant.simdjson-err-invalid-json-pointer">SIMDJSON_ERR_INVALID_JSON_POINTER</a></code></strong>
     (<span class="type"><a href="#language.types.integer" class="type int">int</a></span>)
    </dt>
    <dd>
     <span class="simpara">
      Sintaxis de puntero JSON inválida en <span class="function"><a href="#function.simdjson-key-value" class="function">simdjson_key_value()</a></span>
      y otras funciones que aceptan un puntero JSON <var class="varname">$key</var>.
     </span>
    </dd>
   
   
    <dt id="constant.simdjson-err-invalid-uri-fragment">
     <strong><code><a href="#constant.simdjson-err-invalid-uri-fragment">SIMDJSON_ERR_INVALID_URI_FRAGMENT</a></code></strong>
     (<span class="type"><a href="#language.types.integer" class="type int">int</a></span>)
    </dt>
    <dd>
     <span class="simpara">Sintaxis de fragmento URI inválida.
     </span>
    </dd>
   
   
    <dt id="constant.simdjson-err-unexpected-error">
     <strong><code><a href="#constant.simdjson-err-unexpected-error">SIMDJSON_ERR_UNEXPECTED_ERROR</a></code></strong>
     (<span class="type"><a href="#language.types.integer" class="type int">int</a></span>)
    </dt>
    <dd>
     <span class="simpara">Error inesperado, considere reportar este problema ya que puede haber encontrado un bug en el PECL simdjson
     </span>
    </dd>
   
   
    <dt id="constant.simdjson-err-parser-in-use">
     <strong><code><a href="#constant.simdjson-err-parser-in-use">SIMDJSON_ERR_PARSER_IN_USE</a></code></strong>
     (<span class="type"><a href="#language.types.integer" class="type int">int</a></span>)
    </dt>
    <dd>
     <span class="simpara">No debería ocurrir.
     </span>
    </dd>
   
   
    <dt id="constant.simdjson-err-out-of-order-iteration">
     <strong><code><a href="#constant.simdjson-err-out-of-order-iteration">SIMDJSON_ERR_OUT_OF_ORDER_ITERATION</a></code></strong>
     (<span class="type"><a href="#language.types.integer" class="type int">int</a></span>)
    </dt>
    <dd>
     <span class="simpara">No debería ocurrir.
     </span>
    </dd>
   
   
    <dt id="constant.simdjson-err-insufficient-padding">
     <strong><code><a href="#constant.simdjson-err-insufficient-padding">SIMDJSON_ERR_INSUFFICIENT_PADDING</a></code></strong>
     (<span class="type"><a href="#language.types.integer" class="type int">int</a></span>)
    </dt>
    <dd>
     <span class="simpara">No debería ocurrir.
     </span>
    </dd>
   
   
    <dt id="constant.simdjson-err-incomplete-array-or-object">
     <strong><code><a href="#constant.simdjson-err-incomplete-array-or-object">SIMDJSON_ERR_INCOMPLETE_ARRAY_OR_OBJECT</a></code></strong>
     (<span class="type"><a href="#language.types.integer" class="type int">int</a></span>)
    </dt>
    <dd>
     <span class="simpara">El documento JSON terminó prematuramente en medio de un objeto o un array.
     </span>
    </dd>
   
   
    <dt id="constant.simdjson-err-scalar-document-as-value">
     <strong><code><a href="#constant.simdjson-err-scalar-document-as-value">SIMDJSON_ERR_SCALAR_DOCUMENT_AS_VALUE</a></code></strong>
     (<span class="type"><a href="#language.types.integer" class="type int">int</a></span>)
    </dt>
    <dd>
     <span class="simpara">No debería ocurrir.
     </span>
    </dd>
   
   
    <dt id="constant.simdjson-err-out-of-bounds">
     <strong><code><a href="#constant.simdjson-err-out-of-bounds">SIMDJSON_ERR_OUT_OF_BOUNDS</a></code></strong>
     (<span class="type"><a href="#language.types.integer" class="type int">int</a></span>)
    </dt>
    <dd>
     <span class="simpara">Intento de acceder a una ubicación fuera del documento.
     </span>
    </dd>
   
   
    <dt id="constant.simdjson-err-trailing-content">
     <strong><code><a href="#constant.simdjson-err-trailing-content">SIMDJSON_ERR_TRAILING_CONTENT</a></code></strong>
     (<span class="type"><a href="#language.types.integer" class="type int">int</a></span>)
    </dt>
    <dd>
     <span class="simpara">
     </span>
    </dd>
   
   
    <dt id="constant.simdjson-err-key-count-not-countable">
     <strong><code><a href="#constant.simdjson-err-key-count-not-countable">SIMDJSON_ERR_KEY_COUNT_NOT_COUNTABLE</a></code></strong>
     (<span class="type"><a href="#language.types.integer" class="type int">int</a></span>)
    </dt>
    <dd>
     <span class="simpara">
     </span>
    </dd>
   
   
    <dt id="constant.simdjson-err-invalid-property">
     <strong><code><a href="#constant.simdjson-err-invalid-property">SIMDJSON_ERR_INVALID_PROPERTY</a></code></strong>
     (<span class="type"><a href="#language.types.integer" class="type int">int</a></span>)
    </dt>
    <dd>
     <span class="simpara">Nombre de propiedad inválido para un <span class="classname"><a href="#class.stdclass" class="classname">stdClass</a></span> al decodificar un valor
     con <span class="function"><a href="#function.simdjson-decode" class="function">simdjson_decode()</a></span> o <span class="function"><a href="#function.simdjson-key-value" class="function">simdjson_key_value()</a></span>
     </span>
    </dd>
   
  </dl>
 
</div>

<hr>



 


<div id="ref.simdjson" class="reference"><hr>
 <h1 class="title">Funciones de Simdjson</h1>

 


<div id="function.simdjson-decode" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">simdjson_decode</h1>
  <p class="verinfo">(PECL simdjson &gt;= 2.0.0)</p><p class="refpurpose"><span class="refname">simdjson_decode</span> — <span class="dc-title">Decodifica una cadena JSON</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-function.simdjson-decode-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>simdjson_decode</strong></span>(<span class="methodparam"><span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$json</code></span>, <span class="methodparam"><span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span> <code class="parameter">$associative</code><span class="initializer"> = <strong><code><a href="#constant.false">false</a></code></strong></span></span>, <span class="methodparam"><span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$depth</code><span class="initializer"> = 512</span></span>): <span class="type"><a href="#language.types.mixed" class="type mixed">mixed</a></span></div>

  <p class="para rdfs-comment">
   Toma una cadena codificada en JSON y la convierte en un valor PHP.
   Esto utiliza una Instrucción Simultánea más Rápida, Datos Múltiples (Simultaneous Instruction, Multiple Data - SIMD)
   que <span class="function"><a href="#function.json-decode" class="function">json_decode()</a></span> cuando es soportada por la arquitectura del ordenador.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.simdjson-decode-parameters">
  <h3 class="title">Parámetros</h3>
  <dl>
   
    <dt><code class="parameter">json</code></dt>
    <dd>
     <p class="para">
      El <span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">json</code> a decodificar.
     </p>
     <p class="para">
      Esta función solo funciona con cadenas codificadas en UTF-8.
     </p>
     <p class="para">
      Esta función analiza las entradas válidas que
      <span class="function"><a href="#function.json-decode" class="function">json_decode()</a></span> puede decodificar,
      siempre que sean inferiores a 4 Go de longitud.
     </p>
    </dd>
   
   
    <dt><code class="parameter">associative</code></dt>
    <dd>
     <p class="para">
      Cuando <strong><code><a href="#constant.true">true</a></code></strong>, los objetos JSON serán devueltos como
      <span class="type"><a href="#language.types.array" class="type array">array</a></span> asociativos; cuando sean <strong><code><a href="#constant.false">false</a></code></strong>, los objetos JSON serán devueltos como <span class="type"><a href="#language.types.object" class="type object">object</a></span>s.
     </p>
    </dd>
   
   
    <dt><code class="parameter">depth</code></dt>
    <dd>
     <p class="para">
      La profundidad máxima de la estructura a decodificar.
      El valor debe ser superior a <code class="literal">0</code>,
      e inferior o igual a <code class="literal">2147483647</code>.

      Aquellos que llamen a esta función deberían utilizar valores razonablemente pequeños,
      ya que profundidades mayores requieren más espacio de búfer y aumentarán
      la profundidad de recursión, a diferencia de la implementación actual de <span class="function"><a href="#function.json-decode" class="function">json_decode()</a></span>.
     </p>
    </dd>
   
  </dl>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.simdjson-decode-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Devuelve el valor codificado en <code class="parameter">json</code> en el
   tipo PHP apropiado. Los valores <code class="literal">true</code>, <code class="literal">false</code> y
   <code class="literal">null</code> son devueltos respectivamente como <strong><code><a href="#constant.true">true</a></code></strong>, <strong><code><a href="#constant.false">false</a></code></strong> y <strong><code><a href="#constant.null">null</a></code></strong>.
  </p>
 </div>


 <div class="refsect1 errors" id="refsect1-function.simdjson-decode-errors">
  <h3 class="title">Errores/Excepciones</h3>
  <p class="para">
   Si <code class="parameter">json</code> es inválido, una <span class="classname"><a href="#class.simdjsonexception" class="classname">SimdJsonException</a></span> es lanzada a partir de PECL simdjson 2.1.0,
   mientras que anteriormente, una <span class="classname"><a href="#class.runtimeexception" class="classname">RuntimeException</a></span> era lanzada.
  </p>
  <p class="para">
   Si <code class="parameter">depth</code> está fuera del rango permitido,
   una <span class="classname"><a href="#class.simdjsonvalueerror" class="classname">SimdJsonValueError</a></span> es lanzada a partir de PECL simdjson 3.0.0,
   mientras que anteriormente, un error de nivel <strong><code><a href="#constant.e-warning">E_WARNING</a></code></strong> era lanzado.
  </p>
 </div>


 <div class="refsect1 examples" id="refsect1-function.simdjson-decode-examples">
  <h3 class="title">Ejemplos</h3>
  <p class="para">
   </p><div class="example" id="example-3727">
    <p><strong>Ejemplo #1 Ejemplos de <span class="function"><strong>simdjson_decode()</strong></span></strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br>$json </span><span style="color: #007700">= </span><span style="color: #DD0000">'{"a":1,"b":2,"c":3}'</span><span style="color: #007700">;<br><br></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">simdjson_decode</span><span style="color: #007700">(</span><span style="color: #0000BB">$json</span><span style="color: #007700">));<br></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">simdjson_decode</span><span style="color: #007700">(</span><span style="color: #0000BB">$json</span><span style="color: #007700">, </span><span style="color: #0000BB">true</span><span style="color: #007700">));<br><br></span><span style="color: #0000BB">?&gt;</span></span></code></div>
    </div>

    <div class="example-contents"><p>El ejemplo anterior mostrará:</p></div>
    <div class="example-contents screen">
<div class="examplescode"><pre class="examplescode">object(stdClass)#1 (3) {
  ["a"]=&gt;
  int(1)
  ["b"]=&gt;
  int(2)
  ["c"]=&gt;
  int(3)
}
array(3) {
  ["a"]=&gt;
  int(1)
  ["b"]=&gt;
  int(2)
  ["c"]=&gt;
  int(3)
}</pre>
</div>
    </div>
   </div>
   <div class="example" id="example-3728">
    <p><strong>Ejemplo #2 Acceder a propiedades de objeto no válidas</strong></p>
    <div class="example-contents"><p>
     Acceder a elementos en un objeto que contienen caracteres no
     permitidos por la convención de nomenclatura de PHP (por ejemplo, el guion) puede ser
     logrado encapsulando el nombre del elemento entre llaves y comillas.
    </p></div>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br><br>$json </span><span style="color: #007700">= </span><span style="color: #DD0000">'{"foo-bar": 12345}'</span><span style="color: #007700">;<br><br></span><span style="color: #0000BB">$obj </span><span style="color: #007700">= </span><span style="color: #0000BB">simdjson_decode</span><span style="color: #007700">(</span><span style="color: #0000BB">$json</span><span style="color: #007700">);<br>print </span><span style="color: #0000BB">$obj</span><span style="color: #007700">-&gt;{</span><span style="color: #DD0000">'foo-bar'</span><span style="color: #007700">}; </span><span style="color: #FF8000">// 12345<br><br></span><span style="color: #0000BB">?&gt;</span></span></code></div>
    </div>

   </div>
   <div class="example" id="example-3729">
    <p><strong>Ejemplo #3 Errores comunes al usar <span class="function"><strong>simdjson_decode()</strong></span></strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br><br></span><span style="color: #FF8000">// las siguientes cadenas son válidas en JavaScript pero no en JSON<br><br>// el nombre y el valor deben estar encerrados entre comillas dobles<br>// las comillas simples no son válidas<br></span><span style="color: #0000BB">$bad_json </span><span style="color: #007700">= </span><span style="color: #DD0000">"{ 'bar': 'baz' }"</span><span style="color: #007700">;<br></span><span style="color: #0000BB">simdjson_decode</span><span style="color: #007700">(</span><span style="color: #0000BB">$bad_json</span><span style="color: #007700">); </span><span style="color: #FF8000">// Lanza SimdJsonException<br><br>// el nombre debe estar encerrado entre comillas dobles<br></span><span style="color: #0000BB">$bad_json </span><span style="color: #007700">= </span><span style="color: #DD0000">'{ bar: "baz" }'</span><span style="color: #007700">;<br></span><span style="color: #0000BB">simdjson_decode</span><span style="color: #007700">(</span><span style="color: #0000BB">$bad_json</span><span style="color: #007700">); </span><span style="color: #FF8000">// Lanza SimdJsonException<br><br>// las comas finales no están permitidas<br></span><span style="color: #0000BB">$bad_json </span><span style="color: #007700">= </span><span style="color: #DD0000">'{ bar: "baz", }'</span><span style="color: #007700">;<br></span><span style="color: #0000BB">simdjson_decode</span><span style="color: #007700">(</span><span style="color: #0000BB">$bad_json</span><span style="color: #007700">); </span><span style="color: #FF8000">// Lanza SimdJsonException<br><br></span><span style="color: #0000BB">?&gt;</span></span></code></div>
    </div>

   </div>
   <div class="example" id="example-3730">
    <p><strong>Ejemplo #4 Errores de <code class="parameter">depth</code></strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br></span><span style="color: #FF8000">// Codificar datos con una profundidad máxima de 4<br>// (array -&gt; array -&gt; array -&gt; string)<br></span><span style="color: #0000BB">$json </span><span style="color: #007700">= </span><span style="color: #0000BB">json_encode</span><span style="color: #007700">(<br>    [<br>        </span><span style="color: #0000BB">1 </span><span style="color: #007700">=&gt; [<br>            </span><span style="color: #DD0000">'English' </span><span style="color: #007700">=&gt; [<br>                </span><span style="color: #DD0000">'One'</span><span style="color: #007700">,<br>                </span><span style="color: #DD0000">'January'<br>            </span><span style="color: #007700">],<br>            </span><span style="color: #DD0000">'French' </span><span style="color: #007700">=&gt; [<br>                </span><span style="color: #DD0000">'Une'</span><span style="color: #007700">,<br>                </span><span style="color: #DD0000">'Janvier'<br>            </span><span style="color: #007700">]<br>        ]<br>    ]<br>);<br><br></span><span style="color: #FF8000">// Mostrar errores para diferentes profundidades.<br></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">simdjson_decode</span><span style="color: #007700">(</span><span style="color: #0000BB">$json</span><span style="color: #007700">, </span><span style="color: #0000BB">true</span><span style="color: #007700">, </span><span style="color: #0000BB">4</span><span style="color: #007700">));<br>try {<br>    </span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">simdjson_decode</span><span style="color: #007700">(</span><span style="color: #0000BB">$json</span><span style="color: #007700">, </span><span style="color: #0000BB">true</span><span style="color: #007700">, </span><span style="color: #0000BB">3</span><span style="color: #007700">));<br>} catch (</span><span style="color: #0000BB">SimdJsonException $e</span><span style="color: #007700">) {<br>     echo </span><span style="color: #DD0000">"Capturado: "</span><span style="color: #007700">, </span><span style="color: #0000BB">$e</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getMessage</span><span style="color: #007700">(), </span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br>}<br></span><span style="color: #0000BB">?&gt;</span></span></code></div>
    </div>

    <div class="example-contents"><p>El ejemplo anterior mostrará:</p></div>
    <div class="example-contents screen">
<div class="examplescode"><pre class="examplescode">array(1) {
  [1]=&gt;
  array(2) {
    ["English"]=&gt;
    array(2) {
      [0]=&gt;
      string(3) "One"
      [1]=&gt;
      string(7) "January"
    }
    ["French"]=&gt;
    array(2) {
      [0]=&gt;
      string(3) "Une"
      [1]=&gt;
      string(7) "Janvier"
    }
  }
}
Capturado: El documento JSON era demasiado profundo (demasiados objetos y arrays anidados)</pre>
</div>
    </div>
   </div>
   <div class="example" id="example-3731">
    <p><strong>Ejemplo #5 <span class="function"><strong>simdjson_decode()</strong></span> de grandes enteros</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br>$json </span><span style="color: #007700">= </span><span style="color: #DD0000">'{"number": 12345678901234567890}'</span><span style="color: #007700">;<br><br></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">simdjson_decode</span><span style="color: #007700">(</span><span style="color: #0000BB">$json</span><span style="color: #007700">));<br><br></span><span style="color: #0000BB">?&gt;</span></span></code></div>
    </div>

    <div class="example-contents"><p>El ejemplo anterior mostrará:</p></div>
    <div class="example-contents screen">
<div class="examplescode"><pre class="examplescode">object(stdClass)#1 (1) {
  ["number"]=&gt;
  float(1.2345678901235E+19)
}</pre>
</div>
    </div>
   </div>
  
 </div>


 <div class="refsect1 notes" id="refsect1-function.simdjson-decode-notes">
  <h3 class="title">Notas</h3>
  <blockquote class="note"><p><strong class="note">Nota</strong>: 
   </p><p class="para">
    La especificación JSON no es JavaScript, sino un subconjunto de JavaScript.
   </p>
  </blockquote>
  <blockquote class="note"><p><strong class="note">Nota</strong>: 
   </p><p class="para">
    En el caso de que la decodificación falle,
    una <span class="classname"><a href="#class.simdjsonexception" class="classname">SimdJsonException</a></span> es lanzada
    y <span class="methodname"><strong>SimdJsonException::getCode()</strong></span> y
    <span class="methodname"><strong>SimdJsonException::getMessage()</strong></span> pueden ser utilizados
    para determinar la naturaleza exacta del error.
   </p>
  </blockquote>
 </div>


 <div class="refsect1 seealso" id="refsect1-function.simdjson-decode-seealso">
  <h3 class="title">Ver también</h3>
  <p class="para">
   </p><ul class="simplelist">
    <li><span class="function"><a href="#function.json-encode" class="function" rel="rdfs-seeAlso">json_encode()</a> - Retorna la representación JSON de un valor</span></li>
    <li><span class="function"><a href="#function.json-decode" class="function" rel="rdfs-seeAlso">json_decode()</a> - Decodifica una cadena JSON</span></li>
   </ul>
  
 </div>

</div>
<hr>






<div id="function.simdjson-is-valid" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">simdjson_is_valid</h1>
  <p class="verinfo">(PECL simdjson &gt;= 2.0.0)</p><p class="refpurpose"><span class="refname">simdjson_is_valid</span> — <span class="dc-title">Verifica si un string JSON es válido</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-function.simdjson-is-valid-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>simdjson_is_valid</strong></span>(<span class="methodparam"><span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$json</code></span>, <span class="methodparam"><span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$depth</code><span class="initializer"> = 512</span></span>): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>

  <p class="para rdfs-comment">
   Toma un string codificado en JSON y devuelve true si es válido.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.simdjson-is-valid-parameters">
  <h3 class="title">Parámetros</h3>
  <dl>
   
    <dt><code class="parameter">json</code></dt>
    <dd>
      <p class="para">
       El <span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">json</code> a validar.
      </p>
      <p class="para">
       Esta función solo funciona con strings codificados en UTF-8.
      </p>
      <p class="para">
       Esta función valida las entradas que
       <span class="function"><a href="#function.json-decode" class="function">json_decode()</a></span> puede decodificar,
       siempre que sean inferiores a 4 Go de longitud.
      </p>
    </dd>
   
   
    <dt><code class="parameter">depth</code></dt>
    <dd>
     <p class="para">
      La profundidad máxima de la estructura a decodificar.
      El valor debe ser superior a <code class="literal">0</code>,
      e inferior o igual a <code class="literal">2147483647</code>.

      Quienes llamen a esta función deberían utilizar valores razonablemente pequeños,
      ya que profundidades mayores requieren más espacio de búfer y aumentarán
      la profundidad de recursión, a diferencia de la implementación actual de <span class="function"><a href="#function.json-decode" class="function">json_decode()</a></span>.
     </p>
    </dd>
   
  </dl>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.simdjson-is-valid-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Devuelve <strong><code><a href="#constant.true">true</a></code></strong> si <code class="parameter">json</code> es un string JSON
   válido, de lo contrario <strong><code><a href="#constant.false">false</a></code></strong>.
  </p>
 </div>


 <div class="refsect1 errors" id="refsect1-function.simdjson-is-valid-errors">
  <h3 class="title">Errores/Excepciones</h3>
  <p class="para">
   Si <code class="parameter">json</code> es inválido, se lanza una <span class="classname"><a href="#class.simdjsonexception" class="classname">SimdJsonException</a></span> a partir de PECL simdjson 2.1.0,
   mientras que anteriormente se lanzaba una <span class="classname"><a href="#class.runtimeexception" class="classname">RuntimeException</a></span>.
  </p>
  <p class="para">
   Si <code class="parameter">depth</code> está fuera del rango permitido,
   se lanza una <span class="classname"><a href="#class.simdjsonvalueerror" class="classname">SimdJsonValueError</a></span> a partir de PECL simdjson 3.0.0,
   mientras que anteriormente se lanzaba un error de nivel <strong><code><a href="#constant.e-warning">E_WARNING</a></code></strong>.
  </p>
 </div>


 <div class="refsect1 examples" id="refsect1-function.simdjson-is-valid-examples">
  <h3 class="title">Ejemplos</h3>
  <p class="para">
   </p><div class="example" id="example-3732">
    <p><strong>Ejemplo #1 Ejemplos de <span class="function"><a href="#function.simdjson-decode" class="function">simdjson_decode()</a></span></strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br>$json </span><span style="color: #007700">= </span><span style="color: #DD0000">'{"a":1,"b":2,"c":3}'</span><span style="color: #007700">;<br></span><span style="color: #0000BB">$invalidJson </span><span style="color: #007700">= </span><span style="color: #DD0000">'{"a":1,"b":2,"c":'</span><span style="color: #007700">;<br><br></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">simdjson_is_valid</span><span style="color: #007700">(</span><span style="color: #0000BB">$json</span><span style="color: #007700">));<br></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">simdjson_is_valid</span><span style="color: #007700">(</span><span style="color: #0000BB">$invalidJson</span><span style="color: #007700">));<br><br></span><span style="color: #0000BB">?&gt;</span></span></code></div>
    </div>

    <div class="example-contents"><p>El ejemplo anterior mostrará:</p></div>
    <div class="example-contents screen">
<div class="examplescode"><pre class="examplescode">bool(true)
bool(false)</pre>
</div>
    </div>
   </div>
   <div class="example" id="example-3733">
    <p><strong>Ejemplo #2 Errores de <code class="parameter">depth</code></strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br></span><span style="color: #FF8000">// Codificar datos con una profundidad máxima de 4<br>// (array -&gt; array -&gt; array -&gt; string)<br></span><span style="color: #0000BB">$json </span><span style="color: #007700">= </span><span style="color: #0000BB">json_encode</span><span style="color: #007700">(<br>    [<br>        </span><span style="color: #0000BB">1 </span><span style="color: #007700">=&gt; [<br>            </span><span style="color: #DD0000">'English' </span><span style="color: #007700">=&gt; [<br>                </span><span style="color: #DD0000">'One'</span><span style="color: #007700">,<br>                </span><span style="color: #DD0000">'January'<br>            </span><span style="color: #007700">],<br>            </span><span style="color: #DD0000">'French' </span><span style="color: #007700">=&gt; [<br>                </span><span style="color: #DD0000">'Une'</span><span style="color: #007700">,<br>                </span><span style="color: #DD0000">'Janvier'<br>            </span><span style="color: #007700">]<br>        ]<br>    ]<br>);<br><br></span><span style="color: #FF8000">// Mostrar errores para diferentes profundidades.<br></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">simdjson_is_valid</span><span style="color: #007700">(</span><span style="color: #0000BB">$json</span><span style="color: #007700">, </span><span style="color: #0000BB">4</span><span style="color: #007700">));<br></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">simdjson_is_valid</span><span style="color: #007700">(</span><span style="color: #0000BB">$json</span><span style="color: #007700">, </span><span style="color: #0000BB">3</span><span style="color: #007700">));<br></span><span style="color: #0000BB">?&gt;</span></span></code></div>
    </div>

    <div class="example-contents"><p>El ejemplo anterior mostrará:</p></div>
    <div class="example-contents screen">
<div class="examplescode"><pre class="examplescode">bool(true)
bool(false)</pre>
</div>
    </div>
   </div>
  
 </div>


 <div class="refsect1 notes" id="refsect1-function.simdjson-is-valid-notes">
  <h3 class="title">Notas</h3>
  <blockquote class="note"><p><strong class="note">Nota</strong>: 
   </p><p class="para">
    La especificación JSON no es JavaScript, sino un subconjunto de JavaScript.
   </p>
  </blockquote>
  <blockquote class="note"><p><strong class="note">Nota</strong>: 
   </p><p class="para">
    En caso de que la decodificación falle,
    se lanza una <span class="classname"><a href="#class.simdjsonexception" class="classname">SimdJsonException</a></span>
    y <span class="methodname"><strong>SimdJsonException::getCode()</strong></span> y
    <span class="methodname"><strong>SimdJsonException::getMessage()</strong></span> pueden ser utilizados
    para determinar la naturaleza exacta del error.
   </p>
  </blockquote>
 </div>


 <div class="refsect1 seealso" id="refsect1-function.simdjson-is-valid-seealso">
  <h3 class="title">Ver también</h3>
  <p class="para">
   </p><ul class="simplelist">
    <li><span class="function"><a href="#function.json-encode" class="function" rel="rdfs-seeAlso">json_encode()</a> - Retorna la representación JSON de un valor</span></li>
    <li><span class="function"><a href="#function.json-decode" class="function" rel="rdfs-seeAlso">json_decode()</a> - Decodifica una cadena JSON</span></li>
   </ul>
  
 </div>

</div>
<hr>






<div id="function.simdjson-key-count" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">simdjson_key_count</h1>
  <p class="verinfo">(PECL simdjson &gt;= 2.0.0)</p><p class="refpurpose"><span class="refname">simdjson_key_count</span> — <span class="dc-title">Devuelve el valor a un puntero JSON.</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-function.simdjson-key-count-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>simdjson_key_count</strong></span>(<br>    <span class="methodparam"><span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$json</code></span>,<br>    <span class="methodparam"><span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$key</code></span>,<br>    <span class="methodparam"><span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$depth</code><span class="initializer"> = 512</span></span>,<br>    <span class="methodparam"><span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span> <code class="parameter">$throw_if_uncountable</code><span class="initializer"> = <strong><code><a href="#constant.false">false</a></code></strong></span></span><br>): <span class="type"><a href="#language.types.integer" class="type int">int</a></span></div>

  <p class="para rdfs-comment">
   Cuenta el número de elementos del objeto/array encontrado en el puntero JSON solicitado.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.simdjson-key-count-parameters">
  <h3 class="title">Parámetros</h3>
  <dl>
   
    <dt><code class="parameter">json</code></dt>
    <dd>
     <p class="para">
      El <span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">json</code> a consultar.
     </p>
    </dd>
   
   
    <dt><code class="parameter">key</code></dt>
    <dd>
     <p class="para">
      El <span class="type"><a href="#language.types.string" class="type string">string</a></span> del puntero JSON.
     </p>
    </dd>
   
   
    <dt><code class="parameter">depth</code></dt>
    <dd>
     <p class="para">
      La profundidad máxima de la estructura a decodificar.
      El valor debe ser superior a <code class="literal">0</code>,
      e inferior o igual a <code class="literal">2147483647</code>.

      Aquellos que llamen a esta función deberían utilizar valores razonablemente pequeños,
      ya que profundidades mayores requieren más espacio de búfer y aumentarán
      la profundidad de recursión, a diferencia de la implementación actual de <span class="function"><a href="#function.json-decode" class="function">json_decode()</a></span>.
     </p>
    </dd>
   
   
    <dt><code class="parameter">throw_if_uncountable</code></dt>
    <dd>
     <p class="para">
      Cuando es verdadero, se lanzará una <span class="classname"><a href="#class.simdjsonexception" class="classname">SimdJsonException</a></span>
      en lugar de devolver 0 cuando el valor apuntado por el JSON no es ni
      un objeto ni un array.
     </p>
    </dd>
   
  </dl>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.simdjson-key-count-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Devuelve un <span class="type"><a href="#language.types.integer" class="type int">int</a></span> con el número de elementos del valor en el puntero JSON dado.
  </p>
 </div>


</div>
<hr>






<div id="function.simdjson-key-exists" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">simdjson_key_exists</h1>
  <p class="verinfo">(PECL simdjson &gt;= 2.0.0)</p><p class="refpurpose"><span class="refname">simdjson_key_exists</span> — <span class="dc-title">Verifica si el JSON contiene el valor referenciado por un puntero JSON.</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-function.simdjson-key-exists-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description"><span class="methodname"><strong>simdjson_key_exists</strong></span>(<span class="methodparam"><span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$json</code></span>, <span class="methodparam"><span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$key</code></span>, <span class="methodparam"><span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$depth</code><span class="initializer"> = ?</span></span>): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>

  <p class="para rdfs-comment">
   Cuenta el número de elementos del objeto/array encontrado en el puntero JSON solicitado.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.simdjson-key-exists-parameters">
  <h3 class="title">Parámetros</h3>
  <dl>
   
    <dt><code class="parameter">json</code></dt>
    <dd>
     <p class="para">
      El <span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">json</code> a consultar.
     </p>
    </dd>
   
   
    <dt><code class="parameter">key</code></dt>
    <dd>
     <p class="para">
      El <span class="type"><a href="#language.types.string" class="type string">string</a></span> del puntero JSON.
     </p>
    </dd>
   
   
    <dt><code class="parameter">depth</code></dt>
    <dd>
     <p class="para">
      La profundidad máxima de la estructura a decodificar.
      El valor debe ser superior a <code class="literal">0</code>,
      e inferior o igual a <code class="literal">2147483647</code>.

      Los que llamen a esta función deberían utilizar valores razonablemente pequeños,
      ya que profundidades mayores requieren más espacio de búfer y aumentarán
      la profundidad de recursión, a diferencia de la implementación actual de <span class="function"><a href="#function.json-decode" class="function">json_decode()</a></span>.
     </p>
    </dd>
   
   
    <dt><code class="parameter">throw_if_uncountable</code></dt>
    <dd>
     <p class="para">
      Cuando es verdadero, se lanzará una <span class="classname"><a href="#class.simdjsonexception" class="classname">SimdJsonException</a></span>
      en lugar de devolver 0 cuando el valor apuntado por el JSON no es ni
      un objeto ni un array.
     </p>
    </dd>
   
  </dl>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.simdjson-key-exists-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Devuelve <strong><code><a href="#constant.true">true</a></code></strong> si el puntero JSON es válido y referencia un valor encontrado en una cadena JSON válida.
   Devuelve <strong><code><a href="#constant.false">false</a></code></strong> si el JSON es válido pero no contiene el puntero JSON.
  </p>
 </div>


</div>
<hr>






<div id="function.simdjson-key-value" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">simdjson_key_value</h1>
  <p class="verinfo">(PECL simdjson &gt;= 2.0.0)</p><p class="refpurpose"><span class="refname">simdjson_key_value</span> — <span class="dc-title">Decodifica el valor de una cadena JSON situada en el indicador JSON solicitado.</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-function.simdjson-key-value-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>simdjson_key_value</strong></span>(<br>    <span class="methodparam"><span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$json</code></span>,<br>    <span class="methodparam"><span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$key</code></span>,<br>    <span class="methodparam"><span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span> <code class="parameter">$associative</code><span class="initializer"> = <strong><code><a href="#constant.false">false</a></code></strong></span></span>,<br>    <span class="methodparam"><span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$depth</code><span class="initializer"> = 512</span></span><br>): <span class="type"><a href="#language.types.mixed" class="type mixed">mixed</a></span></div>

  <p class="para rdfs-comment">
   Decodifica y devuelve el valor encontrado en el indicador JSON solicitado.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.simdjson-key-value-parameters">
  <h3 class="title">Parámetros</h3>
  <dl>
   
    <dt><code class="parameter">json</code></dt>
    <dd>
     <p class="para">
      El <code class="parameter">json</code> <span class="type"><a href="#language.types.string" class="type string">string</a></span> a interrogar y decodificar.
     </p>
      <p class="para">
       Esta función solo funciona con cadenas codificadas en UTF-8.
      </p>
      <p class="para">
       Esta función analiza las entradas válidas que
       <span class="function"><a href="#function.json-decode" class="function">json_decode()</a></span> puede decodificar,
       siempre que sean inferiores a 4 Go de longitud.
      </p>
    </dd>
   
   
    <dt><code class="parameter">key</code></dt>
    <dd>
     <p class="para">
      El <span class="type"><a href="#language.types.string" class="type string">string</a></span> del puntero JSON.
     </p>
    </dd>
   
   
    <dt><code class="parameter">associative</code></dt>
    <dd>
     <p class="para">
      Cuando <strong><code><a href="#constant.true">true</a></code></strong> los objetos JSON serán devueltos en forma
      de <span class="type"><a href="#language.types.array" class="type array">array</a></span> asociativos; cuando son <strong><code><a href="#constant.false">false</a></code></strong>, los objetos JSON serán devueltos en forma de <span class="type"><a href="#language.types.object" class="type object">object</a></span>s.
     </p>
    </dd>
   
   
    <dt><code class="parameter">depth</code></dt>
    <dd>
     <p class="para">
      La profundidad máxima de la estructura a decodificar.
      El valor debe ser superior a <code class="literal">0</code>,
      e inferior o igual a <code class="literal">2147483647</code>.

      Quienes llamen a esta función deberían utilizar valores razonablemente pequeños,
      ya que profundidades mayores requieren más espacio de búfer y aumentarán
      la profundidad de recursión, a diferencia de la implementación actual de <span class="function"><a href="#function.json-decode" class="function">json_decode()</a></span>.
     </p>
    </dd>
   
  </dl>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.simdjson-key-value-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Devuelve la parte del valor codificado en <code class="parameter">json</code>
   que <code class="parameter">key</code> referencia en el tipo PHP apropiado.
   Los valores <code class="literal">true</code>, <code class="literal">false</code> y
   <code class="literal">null</code> son devueltos respectivamente como <strong><code><a href="#constant.true">true</a></code></strong>, <strong><code><a href="#constant.false">false</a></code></strong> y <strong><code><a href="#constant.null">null</a></code></strong>.
  </p>
 </div>

 <div class="refsect1 errors" id="refsect1-function.simdjson-key-value-errors">
  <h3 class="title">Errores/Excepciones</h3>
  <p class="para">
   Si <code class="parameter">json</code> es inválido, una <span class="classname"><a href="#class.simdjsonexception" class="classname">SimdJsonException</a></span> es lanzada a partir de PECL simdjson 2.1.0,
   mientras que anteriormente, una <span class="classname"><a href="#class.runtimeexception" class="classname">RuntimeException</a></span> era lanzada.
  </p>
  <p class="para">
   Si <code class="parameter">depth</code> está fuera del rango permitido,
   una <span class="classname"><a href="#class.simdjsonvalueerror" class="classname">SimdJsonValueError</a></span> es lanzada a partir de PECL simdjson 3.0.0,
   mientras que anteriormente, un error de nivel <strong><code><a href="#constant.e-warning">E_WARNING</a></code></strong> era lanzado.
  </p>
 </div>

 <div class="refsect1 seealso" id="refsect1-function.simdjson-key-value-seealso">
  <h3 class="title">Ver también</h3>
  <p class="para">
   </p><ul class="simplelist">
    <li><span class="function"><a href="#function.json-encode" class="function" rel="rdfs-seeAlso">json_encode()</a> - Retorna la representación JSON de un valor</span></li>
    <li><span class="function"><a href="#function.simdjson-decode" class="function" rel="rdfs-seeAlso">simdjson_decode()</a> - Decodifica una cadena JSON</span></li>
   </ul>
  
 </div>

</div>
<hr>




<h2>Tabla de contenidos</h2><ul class="chunklist chunklist_reference"><li><a href="#function.simdjson-decode">simdjson_decode</a> — Decodifica una cadena JSON</li><li><a href="#function.simdjson-is-valid">simdjson_is_valid</a> — Verifica si un string JSON es válido</li><li><a href="#function.simdjson-key-count">simdjson_key_count</a> — Devuelve el valor a un puntero JSON.</li><li><a href="#function.simdjson-key-exists">simdjson_key_exists</a> — Verifica si el JSON contiene el valor referenciado por un puntero JSON.</li><li><a href="#function.simdjson-key-value">simdjson_key_value</a> — Decodifica el valor de una cadena JSON situada en el indicador JSON solicitado.</li></ul>
</div>

<hr>




 


<div id="class.simdjsonexception" class="reference"><hr>
 <h1 class="title">La clase SimdJsonException</h1>
 

 <div class="partintro"><p class="verinfo">(PECL simdjson &gt;= 2.1.0)</p>


  <div class="section" id="simdjsonexception.intro">
   <h2 class="title">Introducción</h2>
   <p class="para">
    Excepción lanzada si <span class="function"><a href="#function.simdjson-decode" class="function">simdjson_decode()</a></span>,
    <span class="function"><a href="#function.simdjson-key-count" class="function">simdjson_key_count()</a></span>,
    <span class="function"><a href="#function.simdjson-key-exists" class="function">simdjson_key_exists()</a></span>,
    o <span class="function"><a href="#function.simdjson-key-value" class="function">simdjson_key_value()</a></span>.

    Para obtener los valores posibles, ver las <a href="#simdjson.constants" class="link">constantes de error simdjson</a>.
   </p>
  </div>


  <div class="section" id="simdjsonexception.synopsis">
   <h2 class="title">Sinopsis de la Clase</h2>


   <div class="classsynopsis">
    <span class="ooclass"><strong class="classname"></strong></span>


    <div class="classsynopsisinfo">
     <span class="ooclass">
      <span class="modifier">class</span> <strong class="classname">SimdJsonException</strong>
     </span>

     <span class="ooclass">
      <span class="modifier">extends</span>
       <a href="#class.runtimeexception" class="classname">RuntimeException</a>
     </span>

     {</div>

    <div class="classsynopsisinfo classsynopsisinfo_comment">/* Propiedades heredadas */</div>
    <div class="fieldsynopsis">
     <span class="modifier">protected</span>
     <span class="type"><a href="#language.types.string" class="type string">string</a></span>
      <var class="varname"><a href="#exception.props.message">$<var class="varname">message</var></a></var><span class="initializer"> = ""</span>;</div>
<div class="fieldsynopsis"><span class="modifier">private</span>
     <span class="type"><a href="#language.types.string" class="type string">string</a></span>
      <var class="varname"><a href="#exception.props.string">$<var class="varname">string</var></a></var><span class="initializer"> = ""</span>;</div>
<div class="fieldsynopsis"><span class="modifier">protected</span>
     <span class="type"><a href="#language.types.integer" class="type int">int</a></span>
      <var class="varname"><a href="#exception.props.code">$<var class="varname">code</var></a></var>;</div>
<div class="fieldsynopsis"><span class="modifier">protected</span>
     <span class="type"><a href="#language.types.string" class="type string">string</a></span>
      <var class="varname"><a href="#exception.props.file">$<var class="varname">file</var></a></var><span class="initializer"> = ""</span>;</div>
<div class="fieldsynopsis"><span class="modifier">protected</span>
     <span class="type"><a href="#language.types.integer" class="type int">int</a></span>
      <var class="varname"><a href="#exception.props.line">$<var class="varname">line</var></a></var>;</div>
<div class="fieldsynopsis"><span class="modifier">private</span>
     <span class="type"><a href="#language.types.array" class="type array">array</a></span>
      <var class="varname"><a href="#exception.props.trace">$<var class="varname">trace</var></a></var><span class="initializer"> = []</span>;</div>
<div class="fieldsynopsis"><span class="modifier">private</span>
     <span class="type">?</span><span class="type"><span class="type"><a href="#class.throwable" class="type Throwable">Throwable</a></span><span class="type"></span></span>
      <var class="varname"><a href="#exception.props.previous">$<var class="varname">previous</var></a></var><span class="initializer"> = null</span>;</div>


   }</div>


  </div>

 </div>
</div>

<hr>



 


<div id="class.simdjsonvalueerror" class="reference"><hr>
 <h1 class="title">La clase SimdJsonValueError</h1>
 

 <div class="partintro"><p class="verinfo">(PECL simdjson &gt;= 3.0.0)</p>


  <div class="section" id="simdjsonvalueerror.intro">
   <h2 class="title">Introducción</h2>
   <p class="para">
    Una excepción <span class="classname"><strong class="classname">SimdJsonValueError</strong></span> es lanzada cuando el
    tipo de un argumento de una función de simdjson es correcto pero el valor
    de éste es incorrecto.
    Por ejemplo, cuando la decodificación JSON <var class="varname">$depth</var> no es positiva o cuando <var class="varname">$depth</var> es demasiado grande.
   </p>
  </div>


  <div class="section" id="simdjsonvalueerror.synopsis">
   <h2 class="title">Sinopsis de la Clase</h2>


   <div class="classsynopsis">
    <span class="ooclass"><strong class="classname"></strong></span>


    <div class="classsynopsisinfo">
     <span class="ooclass">
      <span class="modifier">class</span> <strong class="classname">SimdJsonValueError</strong>
     </span>

     <span class="ooclass">
      <span class="modifier">extends</span>
       <a href="#class.valueerror" class="classname">ValueError</a>
     </span>
     {</div>

    <div class="classsynopsisinfo classsynopsisinfo_comment">/* Propiedades heredadas */</div>
    <div class="fieldsynopsis">
     <span class="modifier">protected</span>
     <span class="type"><a href="#language.types.string" class="type string">string</a></span>
      <var class="varname"><a href="#error.props.message">$<var class="varname">message</var></a></var><span class="initializer"> = ""</span>;</div>
<div class="fieldsynopsis"><span class="modifier">private</span>
     <span class="type"><a href="#language.types.string" class="type string">string</a></span>
      <var class="varname"><a href="#error.props.string">$<var class="varname">string</var></a></var><span class="initializer"> = ""</span>;</div>
<div class="fieldsynopsis"><span class="modifier">protected</span>
     <span class="type"><a href="#language.types.integer" class="type int">int</a></span>
      <var class="varname"><a href="#error.props.code">$<var class="varname">code</var></a></var>;</div>
<div class="fieldsynopsis"><span class="modifier">protected</span>
     <span class="type"><a href="#language.types.string" class="type string">string</a></span>
      <var class="varname"><a href="#error.props.file">$<var class="varname">file</var></a></var><span class="initializer"> = ""</span>;</div>
<div class="fieldsynopsis"><span class="modifier">protected</span>
     <span class="type"><a href="#language.types.integer" class="type int">int</a></span>
      <var class="varname"><a href="#error.props.line">$<var class="varname">line</var></a></var>;</div>
<div class="fieldsynopsis"><span class="modifier">private</span>
     <span class="type"><a href="#language.types.array" class="type array">array</a></span>
      <var class="varname"><a href="#error.props.trace">$<var class="varname">trace</var></a></var><span class="initializer"> = []</span>;</div>
<div class="fieldsynopsis"><span class="modifier">private</span>
     <span class="type">?</span><span class="type"><span class="type"><a href="#class.throwable" class="type Throwable">Throwable</a></span><span class="type"></span></span>
      <var class="varname"><a href="#error.props.previous">$<var class="varname">previous</var></a></var><span class="initializer"> = null</span>;</div>


    <div class="classsynopsisinfo classsynopsisinfo_comment">/* Métodos heredados */</div>
    <div class="methodsynopsis dc-description">
   <span class="modifier">final</span> <span class="modifier">public</span> <span class="methodname"><a href="#error.getmessage" class="methodname">Error::getMessage</a></span>(): <span class="type"><a href="#language.types.string" class="type string">string</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">final</span> <span class="modifier">public</span> <span class="methodname"><a href="#error.getprevious" class="methodname">Error::getPrevious</a></span>(): <span class="type"><span class="type"><a href="#language.types.null" class="type null">?</a></span><span class="type"><a href="#class.throwable" class="type Throwable">Throwable</a></span></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">final</span> <span class="modifier">public</span> <span class="methodname"><a href="#error.getcode" class="methodname">Error::getCode</a></span>(): <span class="type"><a href="#language.types.integer" class="type int">int</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">final</span> <span class="modifier">public</span> <span class="methodname"><a href="#error.getfile" class="methodname">Error::getFile</a></span>(): <span class="type"><a href="#language.types.string" class="type string">string</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">final</span> <span class="modifier">public</span> <span class="methodname"><a href="#error.getline" class="methodname">Error::getLine</a></span>(): <span class="type"><a href="#language.types.integer" class="type int">int</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">final</span> <span class="modifier">public</span> <span class="methodname"><a href="#error.gettrace" class="methodname">Error::getTrace</a></span>(): <span class="type"><a href="#language.types.array" class="type array">array</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">final</span> <span class="modifier">public</span> <span class="methodname"><a href="#error.gettraceasstring" class="methodname">Error::getTraceAsString</a></span>(): <span class="type"><a href="#language.types.string" class="type string">string</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname"><a href="#error.tostring" class="methodname">Error::__toString</a></span>(): <span class="type"><a href="#language.types.string" class="type string">string</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">private</span> <span class="methodname"><a href="#error.clone" class="methodname">Error::__clone</a></span>(): <span class="type"><a href="language.types.void.html" class="type void">void</a></span></div>


   }</div>


  </div>

  <div class="section">
   <h2 class="title">Historial de cambios</h2>
   <table class="doctable informaltable">
    
     <thead>
      <tr>
       <th>Versión</th>
       <th>Descripción</th>
      </tr>

     </thead>

     <tbody class="tbody">
      <tr>
       <td>PHP 8.0.0</td>
       <td>
        <span class="classname"><strong class="classname">SimdJsonValueError</strong></span> extiende ahora <span class="classname"><a href="#class.valueerror" class="classname">ValueError</a></span>
        en lugar de <span class="classname"><a href="#class.error" class="classname">Error</a></span>.
       </td>
      </tr>

     </tbody>
    
   </table>

  </div>
 </div>

</div>

<hr>



<ul class="chunklist chunklist_book"><li><a href="#intro.simdjson">Introducción</a></li><li><a href="#simdjson.setup">Instalación/Configuración</a><ul class="chunklist chunklist_book chunklist_children"><li><a href="#simdjson.installation">Instalación</a></li></ul></li><li><a href="#simdjson.constants">Constantes predefinidas</a></li><li><a href="#ref.simdjson">Funciones de Simdjson</a><ul class="chunklist chunklist_book chunklist_children"><li><a href="#function.simdjson-decode">simdjson_decode</a> — Decodifica una cadena JSON</li><li><a href="#function.simdjson-is-valid">simdjson_is_valid</a> — Verifica si un string JSON es válido</li><li><a href="#function.simdjson-key-count">simdjson_key_count</a> — Devuelve el valor a un puntero JSON.</li><li><a href="#function.simdjson-key-exists">simdjson_key_exists</a> — Verifica si el JSON contiene el valor referenciado por un puntero JSON.</li><li><a href="#function.simdjson-key-value">simdjson_key_value</a> — Decodifica el valor de una cadena JSON situada en el indicador JSON solicitado.</li></ul></li><li><a href="#class.simdjsonexception">SimdJsonException</a> — La clase SimdJsonException</li><li><a href="#class.simdjsonvalueerror">SimdJsonValueError</a> — La clase SimdJsonValueError</li></ul></div>
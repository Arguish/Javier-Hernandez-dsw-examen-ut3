<div id="book.event" class="book"><hr>
 
 <h1 class="title">Event</h1>
 
 <div id="intro.event" class="preface"><hr>
  <h1 class="title">Introducción</h1>
  <p class="para">
   Esta es una extensión para planificar eficientemente las I/O, los tiempos
   y los señales basados en eventos utilizando el mejor mecanismo I/O disponible
   en una plataforma específica. Se trata de un portaje de libevent para la
   infraestructura PHP.
  </p>
  <blockquote class="note"><p><strong class="note">Nota</strong>: 
   </p><p class="para">
    Se observa que el soporte para Windows fue introducido en
    <code class="literal">event-1.9.0</code>.
   </p>
  </blockquote>
  <p class="para">
   La versión <em>1.0.0</em> introduce una nueva API
   orientada a objetos (rompiendo así la compatibilidad ascendente), así como
   el soporte para libevent 2+, incluyendo las escuchas HTTP, DNS, OpenSSL
   y eventos.
  </p>
  <blockquote class="note"><p><strong class="note">Nota</strong>: 
   </p><p class="para">
    Se observa que <code class="literal">event-1.0.0</code> y versiones superiores
    no son compatibles con versiones anteriores.
   </p>
  </blockquote>
 </div>
<hr>

 



<div id="event.setup" class="chapter"><hr>
 <h1 class="title">Instalación/Configuración</h1>
<h2>Tabla de contenidos</h2><ul class="chunklist chunklist_chapter"><li><a href="#event.requirements">Requerimientos</a></li><li><a href="#event.installation">Instalación</a></li></ul>


 <div id="event.requirements" class="section"><hr>
  <h2 class="title">Requerimientos</h2>
  <p class="para">
   Esta extensión requiere la biblioteca
   <a href="http://libevent.org/" class="link external">» libevent</a>.
   La mayoría de las distribuciones modernas proporcionan paquetes
   para libevent.
  </p>
  <p class="para">
   Las funcionalidades OpenSSL requieren la biblioteca
   <a href="http://www.openssl.org/" class="link external">» OpenSSL</a>.
  </p>
 </div>
<hr>

 <div id="event.installation" class="section"><hr>
  <h2 class="title">Instalación</h2>
  <p class="para">
   Esta extensión <a href="https://pecl.php.net/" class="link external">» PECL</a> no está integrada en PHP.
  </p>
  <p class="para">
   Información sobre la instalación de estas extensiones PECL
        puede ser encontrada en el capítulo del manual titulado <a href="#install.pecl" class="link">Instalación
de extensiones PECL</a>. Otra información como notas sobre nuevas
        versiones, descargas, fuentes de archivos, información sobre los mantenedores
        así como un CHANGELOG, pueden ser encontradas aquí:
   <a href="https://pecl.php.net/package/event" class="link external">» https://pecl.php.net/package/event</a>.
  </p>
 </div>
<hr>

</div>

<hr>



 




<div id="event.examples" class="chapter"><hr>
 <h1 class="title">Ejemplos</h1>

 <div class="example" id="example-4521">
  <p><strong>Ejemplo #1 Cliente HTTP simple</strong></p>
  <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br></span><span style="color: #FF8000">// Lectura de la función de retrollamada<br></span><span style="color: #007700">function </span><span style="color: #0000BB">readcb</span><span style="color: #007700">(</span><span style="color: #0000BB">$bev</span><span style="color: #007700">, </span><span style="color: #0000BB">$base</span><span style="color: #007700">) {<br>    </span><span style="color: #FF8000">//$input = $bev-&gt;input; //$bev-&gt;getInput();<br><br>    //$pos = $input-&gt;search("TTP");<br>    </span><span style="color: #0000BB">$pos </span><span style="color: #007700">= </span><span style="color: #0000BB">$bev</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">input</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">search</span><span style="color: #007700">(</span><span style="color: #DD0000">"TTP"</span><span style="color: #007700">);<br><br>    while ((</span><span style="color: #0000BB">$n </span><span style="color: #007700">= </span><span style="color: #0000BB">$bev</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">input</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">remove</span><span style="color: #007700">(</span><span style="color: #0000BB">$buf</span><span style="color: #007700">, </span><span style="color: #0000BB">1024</span><span style="color: #007700">)) &gt; </span><span style="color: #0000BB">0</span><span style="color: #007700">) {<br>        echo </span><span style="color: #0000BB">$buf</span><span style="color: #007700">;<br>    }<br>}<br><br></span><span style="color: #FF8000">// Función de retrollamada del evento<br></span><span style="color: #007700">function </span><span style="color: #0000BB">eventcb</span><span style="color: #007700">(</span><span style="color: #0000BB">$bev</span><span style="color: #007700">, </span><span style="color: #0000BB">$events</span><span style="color: #007700">, </span><span style="color: #0000BB">$base</span><span style="color: #007700">) {<br>    if (</span><span style="color: #0000BB">$events </span><span style="color: #007700">&amp; </span><span style="color: #0000BB">EventBufferEvent</span><span style="color: #007700">::</span><span style="color: #0000BB">CONNECTED</span><span style="color: #007700">) {<br>        echo </span><span style="color: #DD0000">"Conectado.\n"</span><span style="color: #007700">;<br>    } elseif (</span><span style="color: #0000BB">$events </span><span style="color: #007700">&amp; (</span><span style="color: #0000BB">EventBufferEvent</span><span style="color: #007700">::</span><span style="color: #0000BB">ERROR </span><span style="color: #007700">| </span><span style="color: #0000BB">EventBufferEvent</span><span style="color: #007700">::</span><span style="color: #0000BB">EOF</span><span style="color: #007700">)) {<br>        if (</span><span style="color: #0000BB">$events </span><span style="color: #007700">&amp; </span><span style="color: #0000BB">EventBufferEvent</span><span style="color: #007700">::</span><span style="color: #0000BB">ERROR</span><span style="color: #007700">) {<br>            echo </span><span style="color: #DD0000">"error DNS : "</span><span style="color: #007700">, </span><span style="color: #0000BB">$bev</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getDnsErrorString</span><span style="color: #007700">(), </span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br>        }<br><br>        echo </span><span style="color: #DD0000">"Cierre\n"</span><span style="color: #007700">;<br>        </span><span style="color: #0000BB">$base</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">exit</span><span style="color: #007700">();<br>        exit(</span><span style="color: #DD0000">"¡Hecho!\n"</span><span style="color: #007700">);<br>    }<br>}<br><br>if (</span><span style="color: #0000BB">$argc </span><span style="color: #007700">!= </span><span style="color: #0000BB">3</span><span style="color: #007700">) {<br>    echo &lt;&lt;&lt;EOS<br></span><span style="color: #DD0000">Trivial HTTP 0.x client<br>Syntax: php </span><span style="color: #007700">{</span><span style="color: #0000BB">$argv</span><span style="color: #007700">[</span><span style="color: #0000BB">0</span><span style="color: #007700">]}</span><span style="color: #DD0000"> [hostname] [resource]<br>Example: php </span><span style="color: #007700">{</span><span style="color: #0000BB">$argv</span><span style="color: #007700">[</span><span style="color: #0000BB">0</span><span style="color: #007700">]}</span><span style="color: #DD0000"> www.google.com /<br><br></span><span style="color: #007700">EOS;<br>    exit();<br>}<br><br></span><span style="color: #0000BB">$base </span><span style="color: #007700">= new </span><span style="color: #0000BB">EventBase</span><span style="color: #007700">();<br><br></span><span style="color: #0000BB">$dns_base </span><span style="color: #007700">= new </span><span style="color: #0000BB">EventDnsBase</span><span style="color: #007700">(</span><span style="color: #0000BB">$base</span><span style="color: #007700">, </span><span style="color: #0000BB">TRUE</span><span style="color: #007700">); </span><span style="color: #FF8000">// Se utiliza una resolución DNS asíncrona<br></span><span style="color: #007700">if (!</span><span style="color: #0000BB">$dns_base</span><span style="color: #007700">) {<br>    exit(</span><span style="color: #DD0000">"Fallo en la inicialización de la base DNS\n"</span><span style="color: #007700">);<br>}<br><br></span><span style="color: #0000BB">$bev </span><span style="color: #007700">= new </span><span style="color: #0000BB">EventBufferEvent</span><span style="color: #007700">(</span><span style="color: #0000BB">$base</span><span style="color: #007700">, </span><span style="color: #FF8000">/* use internal socket */ </span><span style="color: #0000BB">NULL</span><span style="color: #007700">,<br>    </span><span style="color: #0000BB">EventBufferEvent</span><span style="color: #007700">::</span><span style="color: #0000BB">OPT_CLOSE_ON_FREE </span><span style="color: #007700">| </span><span style="color: #0000BB">EventBufferEvent</span><span style="color: #007700">::</span><span style="color: #0000BB">OPT_DEFER_CALLBACKS</span><span style="color: #007700">,<br>    </span><span style="color: #DD0000">"readcb"</span><span style="color: #007700">, </span><span style="color: #FF8000">/* writecb */ </span><span style="color: #0000BB">NULL</span><span style="color: #007700">, </span><span style="color: #DD0000">"eventcb"<br></span><span style="color: #007700">);<br>if (!</span><span style="color: #0000BB">$bev</span><span style="color: #007700">) {<br>    exit(</span><span style="color: #DD0000">"Fallo en la creación del socket bufferevent\n"</span><span style="color: #007700">);<br>}<br><br></span><span style="color: #FF8000">//$bev-&gt;setCallbacks("readcb", /* writecb */ NULL, "eventcb", $base);<br></span><span style="color: #0000BB">$bev</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">enable</span><span style="color: #007700">(</span><span style="color: #0000BB">Event</span><span style="color: #007700">::</span><span style="color: #0000BB">READ </span><span style="color: #007700">| </span><span style="color: #0000BB">Event</span><span style="color: #007700">::</span><span style="color: #0000BB">WRITE</span><span style="color: #007700">);<br><br></span><span style="color: #0000BB">$output </span><span style="color: #007700">= </span><span style="color: #0000BB">$bev</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">output</span><span style="color: #007700">; </span><span style="color: #FF8000">//$bev-&gt;getOutput();<br></span><span style="color: #007700">if (!</span><span style="color: #0000BB">$output</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">add</span><span style="color: #007700">(<br>    </span><span style="color: #DD0000">"GET </span><span style="color: #007700">{</span><span style="color: #0000BB">$argv</span><span style="color: #007700">[</span><span style="color: #0000BB">2</span><span style="color: #007700">]}</span><span style="color: #DD0000"> HTTP/1.0\r\n"</span><span style="color: #007700">.<br>    </span><span style="color: #DD0000">"Host: </span><span style="color: #007700">{</span><span style="color: #0000BB">$argv</span><span style="color: #007700">[</span><span style="color: #0000BB">1</span><span style="color: #007700">]}</span><span style="color: #DD0000">\r\n"</span><span style="color: #007700">.<br>    </span><span style="color: #DD0000">"Connection: Close\r\n\r\n"<br></span><span style="color: #007700">)) {<br>    exit(</span><span style="color: #DD0000">"Fallo en la adición de la petición en el buffer de salida\n"</span><span style="color: #007700">);<br>}<br><br>if (!</span><span style="color: #0000BB">$bev</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">connectHost</span><span style="color: #007700">(</span><span style="color: #0000BB">$dns_base</span><span style="color: #007700">, </span><span style="color: #0000BB">$argv</span><span style="color: #007700">[</span><span style="color: #0000BB">1</span><span style="color: #007700">], </span><span style="color: #0000BB">80</span><span style="color: #007700">, </span><span style="color: #0000BB">EventUtil</span><span style="color: #007700">::</span><span style="color: #0000BB">AF_UNSPEC</span><span style="color: #007700">)) {<br>    exit(</span><span style="color: #DD0000">"Conexión imposible al host </span><span style="color: #007700">{</span><span style="color: #0000BB">$argv</span><span style="color: #007700">[</span><span style="color: #0000BB">1</span><span style="color: #007700">]}</span><span style="color: #DD0000">\n"</span><span style="color: #007700">);<br>}<br><br></span><span style="color: #0000BB">$base</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">dispatch</span><span style="color: #007700">();<br></span><span style="color: #0000BB">?&gt;</span></span></code></div>
  </div>

  <div class="example-contents"><p>Resultado del ejemplo anterior es similar a:</p></div>
  <div class="example-contents screen">
<div class="cdata"><pre>
Connected.
HTTP/1.1 301 Moved Permanently
Date: Fri, 01 Mar 2013 18:47:48 GMT
Location: http://www.google.co.uk/
Content-Type: text/html; charset=UTF-8
Cache-Control: public, max-age=2592000
Server: gws
Content-Length: 221
X-XSS-Protection: 1; mode=block
X-Frame-Options: SAMEORIGIN
Age: 133438
Expires: Sat, 30 Mar 2013 05:39:28 GMT
Connection: close

&lt;HTML&gt;&lt;HEAD&gt;&lt;meta http-equiv="content-type" content="text/html;charset=utf-8"&gt;
&lt;TITLE&gt;301 Moved&lt;/TITLE&gt;&lt;/HEAD&gt;&lt;BODY&gt;
&lt;H1&gt;301 Moved&lt;/H1&gt;
The document has moved
&lt;A HREF="http://www.google.co.uk/"&gt;here&lt;/A&gt;.
&lt;/BODY&gt;&lt;/HTML&gt;
Closing
Done
</pre></div>
  </div>
 </div>
 <div class="example" id="example-4522">
  <p><strong>Ejemplo #2 Cliente HTTP utilizando una resolución DNS asíncrona</strong></p>
  <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br></span><span style="color: #FF8000">/*<br> * 1. Conexión a 127.0.0.1 en el puerto 80<br> * utilizando EventBufferEvent::connect().<br> *<br> * 2. Petición /index.cphp vía HTTP/1.0<br> * utilizando el buffer de salida.<br> *<br> * 3. Lectura asíncrona de la respuesta y la muestra en stdout.<br> */<br><br>// Lectura de la función de retrollamada<br></span><span style="color: #007700">function </span><span style="color: #0000BB">readcb</span><span style="color: #007700">(</span><span style="color: #0000BB">$bev</span><span style="color: #007700">, </span><span style="color: #0000BB">$base</span><span style="color: #007700">) {<br>    </span><span style="color: #0000BB">$input </span><span style="color: #007700">= </span><span style="color: #0000BB">$bev</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getInput</span><span style="color: #007700">();<br><br>    while ((</span><span style="color: #0000BB">$n </span><span style="color: #007700">= </span><span style="color: #0000BB">$input</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">remove</span><span style="color: #007700">(</span><span style="color: #0000BB">$buf</span><span style="color: #007700">, </span><span style="color: #0000BB">1024</span><span style="color: #007700">)) &gt; </span><span style="color: #0000BB">0</span><span style="color: #007700">) {<br>        echo </span><span style="color: #0000BB">$buf</span><span style="color: #007700">;<br>    }<br>}<br><br></span><span style="color: #FF8000">// Función de retrollamada del evento<br></span><span style="color: #007700">function </span><span style="color: #0000BB">eventcb</span><span style="color: #007700">(</span><span style="color: #0000BB">$bev</span><span style="color: #007700">, </span><span style="color: #0000BB">$events</span><span style="color: #007700">, </span><span style="color: #0000BB">$base</span><span style="color: #007700">) {<br>    if (</span><span style="color: #0000BB">$events </span><span style="color: #007700">&amp; </span><span style="color: #0000BB">EventBufferEvent</span><span style="color: #007700">::</span><span style="color: #0000BB">CONNECTED</span><span style="color: #007700">) {<br>        echo </span><span style="color: #DD0000">"Conectado.\n"</span><span style="color: #007700">;<br>    } elseif (</span><span style="color: #0000BB">$events </span><span style="color: #007700">&amp; (</span><span style="color: #0000BB">EventBufferEvent</span><span style="color: #007700">::</span><span style="color: #0000BB">ERROR </span><span style="color: #007700">| </span><span style="color: #0000BB">EventBufferEvent</span><span style="color: #007700">::</span><span style="color: #0000BB">EOF</span><span style="color: #007700">)) {<br>        if (</span><span style="color: #0000BB">$events </span><span style="color: #007700">&amp; </span><span style="color: #0000BB">EventBufferEvent</span><span style="color: #007700">::</span><span style="color: #0000BB">ERROR</span><span style="color: #007700">) {<br>            echo </span><span style="color: #DD0000">"Error DNS : "</span><span style="color: #007700">, </span><span style="color: #0000BB">$bev</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getDnsErrorString</span><span style="color: #007700">(), </span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br>        }<br><br>        echo </span><span style="color: #DD0000">"Cierre\n"</span><span style="color: #007700">;<br>        </span><span style="color: #0000BB">$base</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">exit</span><span style="color: #007700">();<br>        exit(</span><span style="color: #DD0000">"¡Hecho!\n"</span><span style="color: #007700">);<br>    }<br>}<br><br></span><span style="color: #0000BB">$base </span><span style="color: #007700">= new </span><span style="color: #0000BB">EventBase</span><span style="color: #007700">();<br><br>echo </span><span style="color: #DD0000">"paso n°1\n"</span><span style="color: #007700">;<br></span><span style="color: #0000BB">$bev </span><span style="color: #007700">= new </span><span style="color: #0000BB">EventBufferEvent</span><span style="color: #007700">(</span><span style="color: #0000BB">$base</span><span style="color: #007700">, </span><span style="color: #FF8000">/* use internal socket */ </span><span style="color: #0000BB">NULL</span><span style="color: #007700">,<br>    </span><span style="color: #0000BB">EventBufferEvent</span><span style="color: #007700">::</span><span style="color: #0000BB">OPT_CLOSE_ON_FREE </span><span style="color: #007700">| </span><span style="color: #0000BB">EventBufferEvent</span><span style="color: #007700">::</span><span style="color: #0000BB">OPT_DEFER_CALLBACKS</span><span style="color: #007700">);<br>if (!</span><span style="color: #0000BB">$bev</span><span style="color: #007700">) {<br>    exit(</span><span style="color: #DD0000">"Fallo en la creación del socket bufferevent\n"</span><span style="color: #007700">);<br>}<br><br>echo </span><span style="color: #DD0000">"paso n°2\n"</span><span style="color: #007700">;<br></span><span style="color: #0000BB">$bev</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setCallbacks</span><span style="color: #007700">(</span><span style="color: #DD0000">"readcb"</span><span style="color: #007700">, </span><span style="color: #FF8000">/* writecb */ </span><span style="color: #0000BB">NULL</span><span style="color: #007700">, </span><span style="color: #DD0000">"eventcb"</span><span style="color: #007700">, </span><span style="color: #0000BB">$base</span><span style="color: #007700">);<br></span><span style="color: #0000BB">$bev</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">enable</span><span style="color: #007700">(</span><span style="color: #0000BB">Event</span><span style="color: #007700">::</span><span style="color: #0000BB">READ </span><span style="color: #007700">| </span><span style="color: #0000BB">Event</span><span style="color: #007700">::</span><span style="color: #0000BB">WRITE</span><span style="color: #007700">);<br><br>echo </span><span style="color: #DD0000">"paso n°3\n"</span><span style="color: #007700">;<br></span><span style="color: #FF8000">// Envío de la petición<br></span><span style="color: #0000BB">$output </span><span style="color: #007700">= </span><span style="color: #0000BB">$bev</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getOutput</span><span style="color: #007700">();<br>if (!</span><span style="color: #0000BB">$output</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">add</span><span style="color: #007700">(<br>    </span><span style="color: #DD0000">"GET /index.cphp HTTP/1.0\r\n"</span><span style="color: #007700">.<br>    </span><span style="color: #DD0000">"Connection: Close\r\n\r\n"<br></span><span style="color: #007700">)) {<br>    exit(</span><span style="color: #DD0000">"Fallo en la adición de la petición en el buffer de salida\n"</span><span style="color: #007700">);<br>}<br><br></span><span style="color: #FF8000">/* Conexión al host de forma síncrona.<br>Conocemos la IP, por lo que no se necesita resolución DNS. */<br></span><span style="color: #007700">if (!</span><span style="color: #0000BB">$bev</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">connect</span><span style="color: #007700">(</span><span style="color: #DD0000">"127.0.0.1:80"</span><span style="color: #007700">)) {<br>    exit(</span><span style="color: #DD0000">"Imposible conectar al host\n"</span><span style="color: #007700">);<br>}<br><br></span><span style="color: #FF8000">// Difunde los eventos pendientes<br></span><span style="color: #0000BB">$base</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">dispatch</span><span style="color: #007700">();<br></span><span style="color: #0000BB">?&gt;</span></span></code></div>
  </div>

 </div>
 <div class="example" id="example-4523">

   <p><strong>Ejemplo #3 Servidor de visualización</strong></p>
  <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br></span><span style="color: #FF8000">/*<br> * Servidor de visualización simple basado en las escuchas de conexión libevent.<br> *<br> * Uso:<br> * 1) En un terminal, ejecute:<br> *<br> * $ php listener.php 9881<br> *<br> * 2) En otro terminal, abra una conexión, i.e. :<br> *<br> * $ nc 127.0.0.1 9881<br> *<br> * 3) Comience a escribir. El servidor debería repetir las entradas.<br> */<br><br></span><span style="color: #007700">class </span><span style="color: #0000BB">MyListenerConnection </span><span style="color: #007700">{<br>    private </span><span style="color: #0000BB">$bev</span><span style="color: #007700">, </span><span style="color: #0000BB">$base</span><span style="color: #007700">;<br><br>    public function </span><span style="color: #0000BB">__destruct</span><span style="color: #007700">() {<br>        </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">bev</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">free</span><span style="color: #007700">();<br>    }<br><br>    public function </span><span style="color: #0000BB">__construct</span><span style="color: #007700">(</span><span style="color: #0000BB">$base</span><span style="color: #007700">, </span><span style="color: #0000BB">$fd</span><span style="color: #007700">) {<br>        </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">base </span><span style="color: #007700">= </span><span style="color: #0000BB">$base</span><span style="color: #007700">;<br><br>        </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">bev </span><span style="color: #007700">= new </span><span style="color: #0000BB">EventBufferEvent</span><span style="color: #007700">(</span><span style="color: #0000BB">$base</span><span style="color: #007700">, </span><span style="color: #0000BB">$fd</span><span style="color: #007700">, </span><span style="color: #0000BB">EventBufferEvent</span><span style="color: #007700">::</span><span style="color: #0000BB">OPT_CLOSE_ON_FREE</span><span style="color: #007700">);<br><br>        </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">bev</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setCallbacks</span><span style="color: #007700">(array(</span><span style="color: #0000BB">$this</span><span style="color: #007700">, </span><span style="color: #DD0000">"echoReadCallback"</span><span style="color: #007700">), </span><span style="color: #0000BB">NULL</span><span style="color: #007700">,<br>            array(</span><span style="color: #0000BB">$this</span><span style="color: #007700">, </span><span style="color: #DD0000">"echoEventCallback"</span><span style="color: #007700">), </span><span style="color: #0000BB">NULL</span><span style="color: #007700">);<br><br>        if (!</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">bev</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">enable</span><span style="color: #007700">(</span><span style="color: #0000BB">Event</span><span style="color: #007700">::</span><span style="color: #0000BB">READ</span><span style="color: #007700">)) {<br>            echo </span><span style="color: #DD0000">"Fallo en la activación de READ\n"</span><span style="color: #007700">;<br>            return;<br>        }<br>    }<br><br>    public function </span><span style="color: #0000BB">echoReadCallback</span><span style="color: #007700">(</span><span style="color: #0000BB">$bev</span><span style="color: #007700">, </span><span style="color: #0000BB">$ctx</span><span style="color: #007700">) {<br>        </span><span style="color: #FF8000">// Copia todos los datos desde el buffer de entrada hacia el buffer de salida<br><br>        // Variante #1<br>        </span><span style="color: #0000BB">$bev</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">output</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">addBuffer</span><span style="color: #007700">(</span><span style="color: #0000BB">$bev</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">input</span><span style="color: #007700">);<br><br>        </span><span style="color: #FF8000">/* Variante #2 */<br>        /*<br>        $input    = $bev-&gt;getInput();<br>        $output = $bev-&gt;getOutput();<br>        $output-&gt;addBuffer($input);<br>        */<br>    </span><span style="color: #007700">}<br><br>    public function </span><span style="color: #0000BB">echoEventCallback</span><span style="color: #007700">(</span><span style="color: #0000BB">$bev</span><span style="color: #007700">, </span><span style="color: #0000BB">$events</span><span style="color: #007700">, </span><span style="color: #0000BB">$ctx</span><span style="color: #007700">) {<br>        if (</span><span style="color: #0000BB">$events </span><span style="color: #007700">&amp; </span><span style="color: #0000BB">EventBufferEvent</span><span style="color: #007700">::</span><span style="color: #0000BB">ERROR</span><span style="color: #007700">) {<br>            echo </span><span style="color: #DD0000">"Error desde bufferevent\n"</span><span style="color: #007700">;<br>        }<br><br>        if (</span><span style="color: #0000BB">$events </span><span style="color: #007700">&amp; (</span><span style="color: #0000BB">EventBufferEvent</span><span style="color: #007700">::</span><span style="color: #0000BB">EOF </span><span style="color: #007700">| </span><span style="color: #0000BB">EventBufferEvent</span><span style="color: #007700">::</span><span style="color: #0000BB">ERROR</span><span style="color: #007700">)) {<br>            </span><span style="color: #FF8000">//$bev-&gt;free();<br>            </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">__destruct</span><span style="color: #007700">();<br>        }<br>    }<br>}<br><br>class </span><span style="color: #0000BB">MyListener </span><span style="color: #007700">{<br>    public </span><span style="color: #0000BB">$base</span><span style="color: #007700">,<br>        </span><span style="color: #0000BB">$listener</span><span style="color: #007700">,<br>        </span><span style="color: #0000BB">$socket</span><span style="color: #007700">;<br>    private </span><span style="color: #0000BB">$conn </span><span style="color: #007700">= array();<br><br>    public function </span><span style="color: #0000BB">__destruct</span><span style="color: #007700">() {<br>        foreach (</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">conn </span><span style="color: #007700">as &amp;</span><span style="color: #0000BB">$c</span><span style="color: #007700">) </span><span style="color: #0000BB">$c </span><span style="color: #007700">= </span><span style="color: #0000BB">NULL</span><span style="color: #007700">;<br>    }<br><br>    public function </span><span style="color: #0000BB">__construct</span><span style="color: #007700">(</span><span style="color: #0000BB">$port</span><span style="color: #007700">) {<br>        </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">base </span><span style="color: #007700">= new </span><span style="color: #0000BB">EventBase</span><span style="color: #007700">();<br>        if (!</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">base</span><span style="color: #007700">) {<br>            echo </span><span style="color: #DD0000">"Imposible abrir la base del evento"</span><span style="color: #007700">;<br>            exit(</span><span style="color: #0000BB">1</span><span style="color: #007700">);<br>        }<br><br>        </span><span style="color: #FF8000">// Variante #1<br>        /*<br>        $this-&gt;socket = socket_create(AF_INET, SOCK_STREAM, SOL_TCP);<br>        if (!socket_bind($this-&gt;socket, '0.0.0.0', $port)) {<br>            echo "Imposible enlazar el socket\n";<br>            exit(1);<br>        }<br>        $this-&gt;listener = new EventListener($this-&gt;base,<br>            array($this, "acceptConnCallback"), $this-&gt;base,<br>            EventListener::OPT_CLOSE_ON_FREE | EventListener::OPT_REUSEABLE,<br>            -1, $this-&gt;socket);<br>         */<br><br>        // Variante #2<br>         </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">listener </span><span style="color: #007700">= new </span><span style="color: #0000BB">EventListener</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">base</span><span style="color: #007700">,<br>             array(</span><span style="color: #0000BB">$this</span><span style="color: #007700">, </span><span style="color: #DD0000">"acceptConnCallback"</span><span style="color: #007700">), </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">base</span><span style="color: #007700">,<br>             </span><span style="color: #0000BB">EventListener</span><span style="color: #007700">::</span><span style="color: #0000BB">OPT_CLOSE_ON_FREE </span><span style="color: #007700">| </span><span style="color: #0000BB">EventListener</span><span style="color: #007700">::</span><span style="color: #0000BB">OPT_REUSEABLE</span><span style="color: #007700">, -</span><span style="color: #0000BB">1</span><span style="color: #007700">,<br>             </span><span style="color: #DD0000">"0.0.0.0:</span><span style="color: #0000BB">$port</span><span style="color: #DD0000">"</span><span style="color: #007700">);<br><br>        if (!</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">listener</span><span style="color: #007700">) {<br>            echo </span><span style="color: #DD0000">"Imposible crear el oyente"</span><span style="color: #007700">;<br>            exit(</span><span style="color: #0000BB">1</span><span style="color: #007700">);<br>        }<br><br>        </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">listener</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setErrorCallback</span><span style="color: #007700">(array(</span><span style="color: #0000BB">$this</span><span style="color: #007700">, </span><span style="color: #DD0000">"accept_error_cb"</span><span style="color: #007700">));<br>    }<br><br>    public function </span><span style="color: #0000BB">dispatch</span><span style="color: #007700">() {<br>        </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">base</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">dispatch</span><span style="color: #007700">();<br>    }<br><br>    </span><span style="color: #FF8000">// Esta función de retrollamada es llamada cuando hay datos para leer en $bev<br>    </span><span style="color: #007700">public function </span><span style="color: #0000BB">acceptConnCallback</span><span style="color: #007700">(</span><span style="color: #0000BB">$listener</span><span style="color: #007700">, </span><span style="color: #0000BB">$fd</span><span style="color: #007700">, </span><span style="color: #0000BB">$address</span><span style="color: #007700">, </span><span style="color: #0000BB">$ctx</span><span style="color: #007700">) {<br>        </span><span style="color: #FF8000">// ¡Tenemos una nueva conexión! Se define un bufferevent para ella. */<br>        </span><span style="color: #0000BB">$base </span><span style="color: #007700">= </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">base</span><span style="color: #007700">;<br>        </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">conn</span><span style="color: #007700">[] = new </span><span style="color: #0000BB">MyListenerConnection</span><span style="color: #007700">(</span><span style="color: #0000BB">$base</span><span style="color: #007700">, </span><span style="color: #0000BB">$fd</span><span style="color: #007700">);<br>    }<br><br>    public function </span><span style="color: #0000BB">accept_error_cb</span><span style="color: #007700">(</span><span style="color: #0000BB">$listener</span><span style="color: #007700">, </span><span style="color: #0000BB">$ctx</span><span style="color: #007700">) {<br>        </span><span style="color: #0000BB">$base </span><span style="color: #007700">= </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">base</span><span style="color: #007700">;<br><br>        </span><span style="color: #0000BB">fprintf</span><span style="color: #007700">(</span><span style="color: #0000BB">STDERR</span><span style="color: #007700">, </span><span style="color: #DD0000">"Se recibe un error %d (%s) en el oyente. "<br>            </span><span style="color: #007700">.</span><span style="color: #DD0000">"Cerrando.\n"</span><span style="color: #007700">,<br>            </span><span style="color: #0000BB">EventUtil</span><span style="color: #007700">::</span><span style="color: #0000BB">getLastSocketErrno</span><span style="color: #007700">(),<br>            </span><span style="color: #0000BB">EventUtil</span><span style="color: #007700">::</span><span style="color: #0000BB">getLastSocketError</span><span style="color: #007700">());<br><br>        </span><span style="color: #0000BB">$base</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">exit</span><span style="color: #007700">(</span><span style="color: #0000BB">NULL</span><span style="color: #007700">);<br>    }<br>}<br><br></span><span style="color: #0000BB">$port </span><span style="color: #007700">= </span><span style="color: #0000BB">9808</span><span style="color: #007700">;<br><br>if (</span><span style="color: #0000BB">$argc </span><span style="color: #007700">&gt; </span><span style="color: #0000BB">1</span><span style="color: #007700">) {<br>    </span><span style="color: #0000BB">$port </span><span style="color: #007700">= (int) </span><span style="color: #0000BB">$argv</span><span style="color: #007700">[</span><span style="color: #0000BB">1</span><span style="color: #007700">];<br>}<br>if (</span><span style="color: #0000BB">$port </span><span style="color: #007700">&lt;= </span><span style="color: #0000BB">0 </span><span style="color: #007700">|| </span><span style="color: #0000BB">$port </span><span style="color: #007700">&gt; </span><span style="color: #0000BB">65535</span><span style="color: #007700">) {<br>    exit(</span><span style="color: #DD0000">"Puerto inválido"</span><span style="color: #007700">);<br>}<br><br></span><span style="color: #0000BB">$l </span><span style="color: #007700">= new </span><span style="color: #0000BB">MyListener</span><span style="color: #007700">(</span><span style="color: #0000BB">$port</span><span style="color: #007700">);<br></span><span style="color: #0000BB">$l</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">dispatch</span><span style="color: #007700">();<br></span><span style="color: #0000BB">?&gt;</span></span></code></div>
  </div>

 </div>
 <div class="example" id="example-4524">
  <p><strong>Ejemplo #4 Servidor de visualización SSL</strong></p>
  <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br></span><span style="color: #FF8000">/*<br> * Servidor de visualización SSL<br> *<br> * Para probar:<br> * 1) Ejecute:<br> * $ php examples/ssl-echo-server/server.php 9998<br> *<br> * 2) en otro terminal, ejecute:<br> * $ socat - SSL:127.0.0.1:9998,verify=1,cafile=examples/ssl-echo-server/cert.pem<br> */<br><br></span><span style="color: #007700">class </span><span style="color: #0000BB">MySslEchoServer </span><span style="color: #007700">{<br>    public </span><span style="color: #0000BB">$port</span><span style="color: #007700">,<br>        </span><span style="color: #0000BB">$base</span><span style="color: #007700">,<br>        </span><span style="color: #0000BB">$bev</span><span style="color: #007700">,<br>        </span><span style="color: #0000BB">$listener</span><span style="color: #007700">,<br>        </span><span style="color: #0000BB">$ctx</span><span style="color: #007700">;<br><br>    function </span><span style="color: #0000BB">__construct </span><span style="color: #007700">(</span><span style="color: #0000BB">$port</span><span style="color: #007700">, </span><span style="color: #0000BB">$host </span><span style="color: #007700">= </span><span style="color: #DD0000">"127.0.0.1"</span><span style="color: #007700">) {<br>        </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">port </span><span style="color: #007700">= </span><span style="color: #0000BB">$port</span><span style="color: #007700">;<br>        </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">ctx </span><span style="color: #007700">= </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">init_ssl</span><span style="color: #007700">();<br>        if (!</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">ctx</span><span style="color: #007700">) {<br>            exit(</span><span style="color: #DD0000">"Fallo en la creación del contexto SSL\n"</span><span style="color: #007700">);<br>        }<br><br>        </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">base </span><span style="color: #007700">= new </span><span style="color: #0000BB">EventBase</span><span style="color: #007700">();<br>        if (!</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">base</span><span style="color: #007700">) {<br>            exit(</span><span style="color: #DD0000">"Imposible abrir la base del evento\n"</span><span style="color: #007700">);<br>        }<br><br>        </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">listener </span><span style="color: #007700">= new </span><span style="color: #0000BB">EventListener</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">base</span><span style="color: #007700">,<br>            array(</span><span style="color: #0000BB">$this</span><span style="color: #007700">, </span><span style="color: #DD0000">"ssl_accept_cb"</span><span style="color: #007700">), </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">ctx</span><span style="color: #007700">,<br>            </span><span style="color: #0000BB">EventListener</span><span style="color: #007700">::</span><span style="color: #0000BB">OPT_CLOSE_ON_FREE </span><span style="color: #007700">| </span><span style="color: #0000BB">EventListener</span><span style="color: #007700">::</span><span style="color: #0000BB">OPT_REUSEABLE</span><span style="color: #007700">,<br>            -</span><span style="color: #0000BB">1</span><span style="color: #007700">, </span><span style="color: #DD0000">"</span><span style="color: #0000BB">$host</span><span style="color: #DD0000">:</span><span style="color: #0000BB">$port</span><span style="color: #DD0000">"</span><span style="color: #007700">);<br>        if (!</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">listener</span><span style="color: #007700">) {<br>            exit(</span><span style="color: #DD0000">"Imposible crear el oyente\n"</span><span style="color: #007700">);<br>        }<br><br>        </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">listener</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setErrorCallback</span><span style="color: #007700">(array(</span><span style="color: #0000BB">$this</span><span style="color: #007700">, </span><span style="color: #DD0000">"accept_error_cb"</span><span style="color: #007700">));<br>    }<br>    function </span><span style="color: #0000BB">dispatch</span><span style="color: #007700">() {<br>        </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">base</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">dispatch</span><span style="color: #007700">();<br>    }<br><br>    </span><span style="color: #FF8000">// Esta función de retrollamada es llamada cuando hay datos para leer en $bev.<br>    </span><span style="color: #007700">function </span><span style="color: #0000BB">ssl_read_cb</span><span style="color: #007700">(</span><span style="color: #0000BB">$bev</span><span style="color: #007700">, </span><span style="color: #0000BB">$ctx</span><span style="color: #007700">) {<br>        </span><span style="color: #0000BB">$in </span><span style="color: #007700">= </span><span style="color: #0000BB">$bev</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">input</span><span style="color: #007700">; </span><span style="color: #FF8000">//$bev-&gt;getInput();<br><br>        </span><span style="color: #0000BB">printf</span><span style="color: #007700">(</span><span style="color: #DD0000">"Recepción de %zu bytes\n"</span><span style="color: #007700">, </span><span style="color: #0000BB">$in</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">length</span><span style="color: #007700">);<br>        </span><span style="color: #0000BB">printf</span><span style="color: #007700">(</span><span style="color: #DD0000">"----- datos ----\n"</span><span style="color: #007700">);<br>        </span><span style="color: #0000BB">printf</span><span style="color: #007700">(</span><span style="color: #DD0000">"%ld:\t%s\n"</span><span style="color: #007700">, (int) </span><span style="color: #0000BB">$in</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">length</span><span style="color: #007700">, </span><span style="color: #0000BB">$in</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">pullup</span><span style="color: #007700">(-</span><span style="color: #0000BB">1</span><span style="color: #007700">));<br><br>        </span><span style="color: #0000BB">$bev</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">writeBuffer</span><span style="color: #007700">(</span><span style="color: #0000BB">$in</span><span style="color: #007700">);<br>    }<br><br>    </span><span style="color: #FF8000">// Esta función de retrollamada es llamada cuando ocurren errores en el oyente de eventos,<br>    // i.e. la conexión se cierra, o ocurre un error<br>    </span><span style="color: #007700">function </span><span style="color: #0000BB">ssl_event_cb</span><span style="color: #007700">(</span><span style="color: #0000BB">$bev</span><span style="color: #007700">, </span><span style="color: #0000BB">$events</span><span style="color: #007700">, </span><span style="color: #0000BB">$ctx</span><span style="color: #007700">) {<br>        if (</span><span style="color: #0000BB">$events </span><span style="color: #007700">&amp; </span><span style="color: #0000BB">EventBufferEvent</span><span style="color: #007700">::</span><span style="color: #0000BB">ERROR</span><span style="color: #007700">) {<br>            </span><span style="color: #FF8000">// Recupera los errores desde la pila de errores SSL<br>            </span><span style="color: #007700">while (</span><span style="color: #0000BB">$err </span><span style="color: #007700">= </span><span style="color: #0000BB">$bev</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">sslError</span><span style="color: #007700">()) {<br>                </span><span style="color: #0000BB">fprintf</span><span style="color: #007700">(</span><span style="color: #0000BB">STDERR</span><span style="color: #007700">, </span><span style="color: #DD0000">"Error Bufferevent %s.\n"</span><span style="color: #007700">, </span><span style="color: #0000BB">$err</span><span style="color: #007700">);<br>            }<br>        }<br><br>        if (</span><span style="color: #0000BB">$events </span><span style="color: #007700">&amp; (</span><span style="color: #0000BB">EventBufferEvent</span><span style="color: #007700">::</span><span style="color: #0000BB">EOF </span><span style="color: #007700">| </span><span style="color: #0000BB">EventBufferEvent</span><span style="color: #007700">::</span><span style="color: #0000BB">ERROR</span><span style="color: #007700">)) {<br>            </span><span style="color: #0000BB">$bev</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">free</span><span style="color: #007700">();<br>        }<br>    }<br><br>    </span><span style="color: #FF8000">// Esta función de retrollamada es llamada cuando un cliente acepta una nueva conexión<br>    </span><span style="color: #007700">function </span><span style="color: #0000BB">ssl_accept_cb</span><span style="color: #007700">(</span><span style="color: #0000BB">$listener</span><span style="color: #007700">, </span><span style="color: #0000BB">$fd</span><span style="color: #007700">, </span><span style="color: #0000BB">$address</span><span style="color: #007700">, </span><span style="color: #0000BB">$ctx</span><span style="color: #007700">) {<br>        </span><span style="color: #FF8000">// ¡Tenemos una nueva conexión! Se define un bufferevent para ella.<br>        </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">bev </span><span style="color: #007700">= </span><span style="color: #0000BB">EventBufferEvent</span><span style="color: #007700">::</span><span style="color: #0000BB">sslSocket</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">base</span><span style="color: #007700">, </span><span style="color: #0000BB">$fd</span><span style="color: #007700">, </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">ctx</span><span style="color: #007700">,<br>            </span><span style="color: #0000BB">EventBufferEvent</span><span style="color: #007700">::</span><span style="color: #0000BB">SSL_ACCEPTING</span><span style="color: #007700">, </span><span style="color: #0000BB">EventBufferEvent</span><span style="color: #007700">::</span><span style="color: #0000BB">OPT_CLOSE_ON_FREE</span><span style="color: #007700">);<br><br>        if (!</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">bev</span><span style="color: #007700">) {<br>            echo </span><span style="color: #DD0000">"Fallo en la creación del buffer SSL\n"</span><span style="color: #007700">;<br>            </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">base</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">exit</span><span style="color: #007700">(</span><span style="color: #0000BB">NULL</span><span style="color: #007700">);<br>            exit(</span><span style="color: #0000BB">1</span><span style="color: #007700">);<br>        }<br><br>        </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">bev</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">enable</span><span style="color: #007700">(</span><span style="color: #0000BB">Event</span><span style="color: #007700">::</span><span style="color: #0000BB">READ</span><span style="color: #007700">);<br>        </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">bev</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setCallbacks</span><span style="color: #007700">(array(</span><span style="color: #0000BB">$this</span><span style="color: #007700">, </span><span style="color: #DD0000">"ssl_read_cb"</span><span style="color: #007700">), </span><span style="color: #0000BB">NULL</span><span style="color: #007700">,<br>            array(</span><span style="color: #0000BB">$this</span><span style="color: #007700">, </span><span style="color: #DD0000">"ssl_event_cb"</span><span style="color: #007700">), </span><span style="color: #0000BB">NULL</span><span style="color: #007700">);<br>    }<br><br>    </span><span style="color: #FF8000">// Esta función de retrollamada es llamada cuando se falla en definir una nueva conexión para un cliente<br>    </span><span style="color: #007700">function </span><span style="color: #0000BB">accept_error_cb</span><span style="color: #007700">(</span><span style="color: #0000BB">$listener</span><span style="color: #007700">, </span><span style="color: #0000BB">$ctx</span><span style="color: #007700">) {<br>        </span><span style="color: #0000BB">fprintf</span><span style="color: #007700">(</span><span style="color: #0000BB">STDERR</span><span style="color: #007700">, </span><span style="color: #DD0000">"Se recibe un error %d (%s) en el oyente. "<br>            </span><span style="color: #007700">.</span><span style="color: #DD0000">"Cerrando.\n"</span><span style="color: #007700">,<br>            </span><span style="color: #0000BB">EventUtil</span><span style="color: #007700">::</span><span style="color: #0000BB">getLastSocketErrno</span><span style="color: #007700">(),<br>            </span><span style="color: #0000BB">EventUtil</span><span style="color: #007700">::</span><span style="color: #0000BB">getLastSocketError</span><span style="color: #007700">());<br><br>        </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">base</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">exit</span><span style="color: #007700">(</span><span style="color: #0000BB">NULL</span><span style="color: #007700">);<br>    }<br><br>    </span><span style="color: #FF8000">// Inicializa las estructuras SSL; crea un EventSslContext<br>    // Opcionalmente, crea certificados autofirmados<br>    </span><span style="color: #007700">function </span><span style="color: #0000BB">init_ssl</span><span style="color: #007700">() {<br>        </span><span style="color: #FF8000">// Necesitamos la entropía. De lo contrario, no tiene sentido cifrar.<br>        </span><span style="color: #007700">if (!</span><span style="color: #0000BB">EventUtil</span><span style="color: #007700">::</span><span style="color: #0000BB">sslRandPoll</span><span style="color: #007700">()) {<br>            exit(</span><span style="color: #DD0000">"Fallo de EventUtil::sslRandPoll\n"</span><span style="color: #007700">);<br>        }<br><br>        </span><span style="color: #0000BB">$local_cert </span><span style="color: #007700">= </span><span style="color: #0000BB">__DIR__</span><span style="color: #007700">.</span><span style="color: #DD0000">"/cert.pem"</span><span style="color: #007700">;<br>        </span><span style="color: #0000BB">$local_pk   </span><span style="color: #007700">= </span><span style="color: #0000BB">__DIR__</span><span style="color: #007700">.</span><span style="color: #DD0000">"/privkey.pem"</span><span style="color: #007700">;<br><br>        if (!</span><span style="color: #0000BB">file_exists</span><span style="color: #007700">(</span><span style="color: #0000BB">$local_cert</span><span style="color: #007700">) || !</span><span style="color: #0000BB">file_exists</span><span style="color: #007700">(</span><span style="color: #0000BB">$local_pk</span><span style="color: #007700">)) {<br>            echo </span><span style="color: #DD0000">"Imposible leer </span><span style="color: #0000BB">$local_cert</span><span style="color: #DD0000"> ni </span><span style="color: #0000BB">$local_pk</span><span style="color: #DD0000"> archivo. Para generar una clave\n"</span><span style="color: #007700">,<br>                </span><span style="color: #DD0000">"y un certificado autofirmado, ejecute :\n"</span><span style="color: #007700">,<br>                </span><span style="color: #DD0000">"  openssl genrsa -out </span><span style="color: #0000BB">$local_pk</span><span style="color: #DD0000"> 2048\n"</span><span style="color: #007700">,<br>                </span><span style="color: #DD0000">"  openssl req -new -key </span><span style="color: #0000BB">$local_pk</span><span style="color: #DD0000"> -out cert.req\n"</span><span style="color: #007700">,<br>                </span><span style="color: #DD0000">"  openssl x509 -req -days 365 -in cert.req -signkey </span><span style="color: #0000BB">$local_pk</span><span style="color: #DD0000"> -out </span><span style="color: #0000BB">$local_cert</span><span style="color: #DD0000">\n"</span><span style="color: #007700">;<br><br>            return </span><span style="color: #0000BB">FALSE</span><span style="color: #007700">;<br>        }<br><br>        </span><span style="color: #0000BB">$ctx </span><span style="color: #007700">= new </span><span style="color: #0000BB">EventSslContext</span><span style="color: #007700">(</span><span style="color: #0000BB">EventSslContext</span><span style="color: #007700">::</span><span style="color: #0000BB">SSLv3_SERVER_METHOD</span><span style="color: #007700">, array (<br>             </span><span style="color: #0000BB">EventSslContext</span><span style="color: #007700">::</span><span style="color: #0000BB">OPT_LOCAL_CERT  </span><span style="color: #007700">=&gt; </span><span style="color: #0000BB">$local_cert</span><span style="color: #007700">,<br>             </span><span style="color: #0000BB">EventSslContext</span><span style="color: #007700">::</span><span style="color: #0000BB">OPT_LOCAL_PK    </span><span style="color: #007700">=&gt; </span><span style="color: #0000BB">$local_pk</span><span style="color: #007700">,<br>             </span><span style="color: #FF8000">//EventSslContext::OPT_PASSPHRASE  =&gt; "echo server",<br>             </span><span style="color: #0000BB">EventSslContext</span><span style="color: #007700">::</span><span style="color: #0000BB">OPT_VERIFY_PEER </span><span style="color: #007700">=&gt; </span><span style="color: #0000BB">true</span><span style="color: #007700">,<br>             </span><span style="color: #0000BB">EventSslContext</span><span style="color: #007700">::</span><span style="color: #0000BB">OPT_ALLOW_SELF_SIGNED </span><span style="color: #007700">=&gt; </span><span style="color: #0000BB">false</span><span style="color: #007700">,<br>        ));<br><br>        return </span><span style="color: #0000BB">$ctx</span><span style="color: #007700">;<br>    }<br>}<br><br></span><span style="color: #FF8000">// Permite el sobrescrito del puerto<br></span><span style="color: #0000BB">$port </span><span style="color: #007700">= </span><span style="color: #0000BB">9999</span><span style="color: #007700">;<br>if (</span><span style="color: #0000BB">$argc </span><span style="color: #007700">&gt; </span><span style="color: #0000BB">1</span><span style="color: #007700">) {<br>    </span><span style="color: #0000BB">$port </span><span style="color: #007700">= (int) </span><span style="color: #0000BB">$argv</span><span style="color: #007700">[</span><span style="color: #0000BB">1</span><span style="color: #007700">];<br>}<br>if (</span><span style="color: #0000BB">$port </span><span style="color: #007700">&lt;= </span><span style="color: #0000BB">0 </span><span style="color: #007700">|| </span><span style="color: #0000BB">$port </span><span style="color: #007700">&gt; </span><span style="color: #0000BB">65535</span><span style="color: #007700">) {<br>    exit(</span><span style="color: #DD0000">"Puerto inválido\n"</span><span style="color: #007700">);<br>}<br><br></span><span style="color: #0000BB">$l </span><span style="color: #007700">= new </span><span style="color: #0000BB">MySslEchoServer</span><span style="color: #007700">(</span><span style="color: #0000BB">$port</span><span style="color: #007700">);<br></span><span style="color: #0000BB">$l</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">dispatch</span><span style="color: #007700">();<br></span><span style="color: #0000BB">?&gt;</span></span></code></div>
  </div>

 </div>
 <div class="example" id="example-4525">
  <p><strong>Ejemplo #5 Manejador de señal</strong></p>
  <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br></span><span style="color: #FF8000">/*<br>En un terminal, ejecute:<br><br>$ php examples/signal.php<br><br>En otro terminal, encuentre el pid y envíe la señal SIGTERM, i.e. :<br><br>$ ps aux | grep examp<br>ruslan    3976  0.2  0.0 139896 11256 pts/1    S+   10:25   0:00 php examples/signal.php<br>ruslan    3978  0.0  0.0   9572   864 pts/2    S+   10:26   0:00 grep --color=auto examp<br>$ kill -TERM 3976<br><br>En el primer terminal, debería capturar lo siguiente:<br><br>Se captura la señal 15<br>*/<br></span><span style="color: #007700">class </span><span style="color: #0000BB">MyEventSignal </span><span style="color: #007700">{<br>    private </span><span style="color: #0000BB">$base</span><span style="color: #007700">;<br><br>    function </span><span style="color: #0000BB">__construct</span><span style="color: #007700">(</span><span style="color: #0000BB">$base</span><span style="color: #007700">) {<br>        </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">base </span><span style="color: #007700">= </span><span style="color: #0000BB">$base</span><span style="color: #007700">;<br>    }<br><br>    function </span><span style="color: #0000BB">eventSighandler</span><span style="color: #007700">(</span><span style="color: #0000BB">$no</span><span style="color: #007700">, </span><span style="color: #0000BB">$c</span><span style="color: #007700">) {<br>        echo </span><span style="color: #DD0000">"Se captura la señal </span><span style="color: #0000BB">$no</span><span style="color: #DD0000">\n"</span><span style="color: #007700">;<br>        </span><span style="color: #0000BB">event_base_loopexit</span><span style="color: #007700">(</span><span style="color: #0000BB">$c</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">base</span><span style="color: #007700">);<br>    }<br>}<br><br></span><span style="color: #0000BB">$base </span><span style="color: #007700">= </span><span style="color: #0000BB">event_base_new</span><span style="color: #007700">();<br></span><span style="color: #0000BB">$c    </span><span style="color: #007700">= new </span><span style="color: #0000BB">MyEventSignal</span><span style="color: #007700">(</span><span style="color: #0000BB">$base</span><span style="color: #007700">);<br></span><span style="color: #0000BB">$no   </span><span style="color: #007700">= </span><span style="color: #0000BB">SIGTERM</span><span style="color: #007700">;<br></span><span style="color: #0000BB">$ev   </span><span style="color: #007700">= </span><span style="color: #0000BB">evsignal_new</span><span style="color: #007700">(</span><span style="color: #0000BB">$base</span><span style="color: #007700">, </span><span style="color: #0000BB">$no</span><span style="color: #007700">, array(</span><span style="color: #0000BB">$c</span><span style="color: #007700">,</span><span style="color: #DD0000">'eventSighandler'</span><span style="color: #007700">), </span><span style="color: #0000BB">$c</span><span style="color: #007700">);<br><br></span><span style="color: #0000BB">evsignal_add</span><span style="color: #007700">(</span><span style="color: #0000BB">$ev</span><span style="color: #007700">);<br><br></span><span style="color: #0000BB">event_base_loop</span><span style="color: #007700">(</span><span style="color: #0000BB">$base</span><span style="color: #007700">);<br></span><span style="color: #0000BB">?&gt;</span></span></code></div>
  </div>

 </div>
 <div class="example" id="example-4526">
  <p><strong>Ejemplo #6 Uso de un bucle libevent para realizar las peticiones de la extensión `eio'</strong></p>
  <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br></span><span style="color: #FF8000">// Función de retrollamada para eio_nop()<br></span><span style="color: #007700">function </span><span style="color: #0000BB">my_nop_cb</span><span style="color: #007700">(</span><span style="color: #0000BB">$d</span><span style="color: #007700">, </span><span style="color: #0000BB">$r</span><span style="color: #007700">) {<br>    echo </span><span style="color: #DD0000">"paso 6\n"</span><span style="color: #007700">;<br>}<br><br></span><span style="color: #0000BB">$dir </span><span style="color: #007700">= </span><span style="color: #DD0000">"/tmp/abc-eio-temp"</span><span style="color: #007700">;<br>if (</span><span style="color: #0000BB">file_exists</span><span style="color: #007700">(</span><span style="color: #0000BB">$dir</span><span style="color: #007700">)) {<br>    </span><span style="color: #0000BB">rmdir</span><span style="color: #007700">(</span><span style="color: #0000BB">$dir</span><span style="color: #007700">);<br>}<br><br>echo </span><span style="color: #DD0000">"paso 1\n"</span><span style="color: #007700">;<br><br></span><span style="color: #0000BB">$base </span><span style="color: #007700">= new </span><span style="color: #0000BB">EventBase</span><span style="color: #007700">();<br><br>echo </span><span style="color: #DD0000">"paso 2\n"</span><span style="color: #007700">;<br><br></span><span style="color: #0000BB">eio_init</span><span style="color: #007700">();<br><br></span><span style="color: #0000BB">eio_mkdir</span><span style="color: #007700">(</span><span style="color: #0000BB">$dir</span><span style="color: #007700">, </span><span style="color: #0000BB">0750</span><span style="color: #007700">, </span><span style="color: #0000BB">EIO_PRI_DEFAULT</span><span style="color: #007700">, </span><span style="color: #DD0000">"my_nop_cb"</span><span style="color: #007700">);<br><br></span><span style="color: #0000BB">$event </span><span style="color: #007700">= new </span><span style="color: #0000BB">Event</span><span style="color: #007700">(</span><span style="color: #0000BB">$base</span><span style="color: #007700">, </span><span style="color: #0000BB">eio_get_event_stream</span><span style="color: #007700">(),<br>    </span><span style="color: #0000BB">Event</span><span style="color: #007700">::</span><span style="color: #0000BB">READ </span><span style="color: #007700">| </span><span style="color: #0000BB">Event</span><span style="color: #007700">::</span><span style="color: #0000BB">PERSIST</span><span style="color: #007700">, function (</span><span style="color: #0000BB">$fd</span><span style="color: #007700">, </span><span style="color: #0000BB">$events</span><span style="color: #007700">, </span><span style="color: #0000BB">$base</span><span style="color: #007700">) {<br>    echo </span><span style="color: #DD0000">"paso 5\n"</span><span style="color: #007700">;<br><br>    while (</span><span style="color: #0000BB">eio_nreqs</span><span style="color: #007700">()) {<br>        </span><span style="color: #0000BB">eio_poll</span><span style="color: #007700">();<br>    }<br><br>    </span><span style="color: #0000BB">$base</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">stop</span><span style="color: #007700">();<br>}, </span><span style="color: #0000BB">$base</span><span style="color: #007700">);<br><br>echo </span><span style="color: #DD0000">"paso 3\n"</span><span style="color: #007700">;<br><br></span><span style="color: #0000BB">$event</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">add</span><span style="color: #007700">();<br><br>echo </span><span style="color: #DD0000">"paso 4\n"</span><span style="color: #007700">;<br><br></span><span style="color: #0000BB">$base</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">dispatch</span><span style="color: #007700">();<br><br>echo </span><span style="color: #DD0000">"¡Hecho!\n"</span><span style="color: #007700">;<br></span><span style="color: #0000BB">?&gt;</span></span></code></div>
  </div>

 </div>
 <div class="example" id="example-4527">
  <p><strong>Ejemplo #7 Diversos</strong></p>
  <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br></span><span style="color: #FF8000">/* {{{ Configuración y métodos soportados */<br></span><span style="color: #007700">echo </span><span style="color: #DD0000">"Métodos soportados :\n"</span><span style="color: #007700">;<br>foreach (</span><span style="color: #0000BB">Event</span><span style="color: #007700">::</span><span style="color: #0000BB">getSupportedMethods</span><span style="color: #007700">() as </span><span style="color: #0000BB">$m</span><span style="color: #007700">) {<br>    echo </span><span style="color: #0000BB">$m</span><span style="color: #007700">, </span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br>}<br><br></span><span style="color: #FF8000">// Se desactiva el método "select"<br></span><span style="color: #0000BB">$cfg </span><span style="color: #007700">= new </span><span style="color: #0000BB">EventConfig</span><span style="color: #007700">();<br>if (</span><span style="color: #0000BB">$cfg</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">avoidMethod</span><span style="color: #007700">(</span><span style="color: #DD0000">"select"</span><span style="color: #007700">)) {<br>    echo </span><span style="color: #DD0000">"El método 'select' ha sido desactivado\n"</span><span style="color: #007700">;<br>}<br><br></span><span style="color: #FF8000">// Crea un event_base asociado a la configuración<br></span><span style="color: #0000BB">$base </span><span style="color: #007700">= new </span><span style="color: #0000BB">EventBase</span><span style="color: #007700">(</span><span style="color: #0000BB">$cfg</span><span style="color: #007700">);<br>echo </span><span style="color: #DD0000">"Método de evento utilizado : "</span><span style="color: #007700">, </span><span style="color: #0000BB">$base</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getMethod</span><span style="color: #007700">(), </span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br><br>echo </span><span style="color: #DD0000">"Características :\n"</span><span style="color: #007700">;<br></span><span style="color: #0000BB">$features </span><span style="color: #007700">= </span><span style="color: #0000BB">$base</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getFeatures</span><span style="color: #007700">();<br>(</span><span style="color: #0000BB">$features </span><span style="color: #007700">&amp; </span><span style="color: #0000BB">EventConfig</span><span style="color: #007700">::</span><span style="color: #0000BB">FEATURE_ET</span><span style="color: #007700">) and print </span><span style="color: #DD0000">"ET - edge-triggered IO\n"</span><span style="color: #007700">;<br>(</span><span style="color: #0000BB">$features </span><span style="color: #007700">&amp; </span><span style="color: #0000BB">EventConfig</span><span style="color: #007700">::</span><span style="color: #0000BB">FEATURE_O1</span><span style="color: #007700">) and print </span><span style="color: #DD0000">"O1 - O(1) operation for adding/deleting events\n"</span><span style="color: #007700">;<br>(</span><span style="color: #0000BB">$features </span><span style="color: #007700">&amp; </span><span style="color: #0000BB">EventConfig</span><span style="color: #007700">::</span><span style="color: #0000BB">FEATURE_FDS</span><span style="color: #007700">) and print </span><span style="color: #DD0000">"FDS - arbitrary file descriptor types, and not just sockets\n"</span><span style="color: #007700">;<br><br></span><span style="color: #FF8000">// Requiere la característica FDS<br></span><span style="color: #007700">if (</span><span style="color: #0000BB">$cfg</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">requireFeatures</span><span style="color: #007700">(</span><span style="color: #0000BB">EventConfig</span><span style="color: #007700">::</span><span style="color: #0000BB">FEATURE_FDS</span><span style="color: #007700">)) {<br>    echo </span><span style="color: #DD0000">"La característica FDS es ahora requerida\n"</span><span style="color: #007700">;<br><br>    </span><span style="color: #0000BB">$base </span><span style="color: #007700">= new </span><span style="color: #0000BB">EventBase</span><span style="color: #007700">(</span><span style="color: #0000BB">$cfg</span><span style="color: #007700">);<br>    (</span><span style="color: #0000BB">$base</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getFeatures</span><span style="color: #007700">() &amp; </span><span style="color: #0000BB">EventConfig</span><span style="color: #007700">::</span><span style="color: #0000BB">FEATURE_FDS</span><span style="color: #007700">)<br>        and print </span><span style="color: #DD0000">"FDS - tipo de descriptor de archivo arbitrario, y no solo los sockets\n"</span><span style="color: #007700">;<br>}<br></span><span style="color: #FF8000">/* }}} */<br><br>/* {{{ Base */<br></span><span style="color: #0000BB">$base </span><span style="color: #007700">= new </span><span style="color: #0000BB">EventBase</span><span style="color: #007700">();<br></span><span style="color: #0000BB">$event </span><span style="color: #007700">= new </span><span style="color: #0000BB">Event</span><span style="color: #007700">(</span><span style="color: #0000BB">$base</span><span style="color: #007700">, </span><span style="color: #0000BB">STDIN</span><span style="color: #007700">, </span><span style="color: #0000BB">Event</span><span style="color: #007700">::</span><span style="color: #0000BB">READ </span><span style="color: #007700">| </span><span style="color: #0000BB">Event</span><span style="color: #007700">::</span><span style="color: #0000BB">PERSIST</span><span style="color: #007700">, function (</span><span style="color: #0000BB">$fd</span><span style="color: #007700">, </span><span style="color: #0000BB">$events</span><span style="color: #007700">, </span><span style="color: #0000BB">$arg</span><span style="color: #007700">) {<br>    static </span><span style="color: #0000BB">$max_iterations </span><span style="color: #007700">= </span><span style="color: #0000BB">0</span><span style="color: #007700">;<br><br>    if (++</span><span style="color: #0000BB">$max_iterations </span><span style="color: #007700">&gt;= </span><span style="color: #0000BB">5</span><span style="color: #007700">) {<br>        </span><span style="color: #FF8000">/* se sale después de 5 iteraciones con un tiempo máximo de espera de 2.33 segundos */<br>        </span><span style="color: #007700">echo </span><span style="color: #DD0000">"Detención...\n"</span><span style="color: #007700">;<br>        </span><span style="color: #0000BB">$arg</span><span style="color: #007700">[</span><span style="color: #0000BB">0</span><span style="color: #007700">]-&gt;</span><span style="color: #0000BB">exit</span><span style="color: #007700">(</span><span style="color: #0000BB">2.33</span><span style="color: #007700">);<br>    }<br><br>    echo </span><span style="color: #0000BB">fgets</span><span style="color: #007700">(</span><span style="color: #0000BB">$fd</span><span style="color: #007700">);<br>}, array (&amp;</span><span style="color: #0000BB">$base</span><span style="color: #007700">));<br><br></span><span style="color: #0000BB">$event</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">add</span><span style="color: #007700">();<br></span><span style="color: #0000BB">$base</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">loop</span><span style="color: #007700">();<br></span><span style="color: #FF8000">/* Base }}} */<br></span><span style="color: #0000BB">?&gt;</span></span></code></div>
  </div>

 </div>
 <div class="example" id="example-4528">
  <p><strong>Ejemplo #8 Servidor HTTP simple</strong></p>
  <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br></span><span style="color: #FF8000">/*<br> * Servidor HTTP simple.<br> *<br> * Para probarlo:<br> * 1) Ejecútelo en el puerto de su elección, i.e. :<br> * $ php examples/http.php 8010<br> * 2) En otro terminal, conéctese a una dirección de este puerto<br> * y realice peticiones GET o POST (los otros tipos están desactivados en este ejemplo), i.e. :<br> * $ nc -t 127.0.0.1 8010<br> * POST /about HTTP/1.0<br> * Content-Type: text/plain<br> * Content-Length: 4<br> * Connection: close<br> * (presione Enter)<br> *<br> * Debería mostrar:<br> * a=12<br> * HTTP/1.0 200 OK<br> * Content-Type: text/html; charset=ISO-8859-1<br> * Connection: close<br> *<br> * $ nc -t 127.0.0.1 8010<br> * GET /dump HTTP/1.0<br> * Content-Type: text/plain<br> * Content-Encoding: UTF-8<br> * Connection: close<br> * (presione Enter)<br> *<br> * Debería mostrar:<br> * HTTP/1.0 200 OK<br> * Content-Type: text/html; charset=ISO-8859-1<br> * Connection: close<br> *<br> * $ nc -t 127.0.0.1 8010<br> * GET /unknown HTTP/1.0<br> * Connection: close<br> *<br> * Debería mostrar:<br> * HTTP/1.0 200 OK<br> * Content-Type: text/html; charset=ISO-8859-1<br> * Connection: close<br> *<br> * 3) Ver lo que el servidor muestra en el terminal anterior.<br> */<br><br></span><span style="color: #007700">function </span><span style="color: #0000BB">_http_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$req</span><span style="color: #007700">, </span><span style="color: #0000BB">$data</span><span style="color: #007700">) {<br>    static </span><span style="color: #0000BB">$counter      </span><span style="color: #007700">= </span><span style="color: #0000BB">0</span><span style="color: #007700">;<br>    static </span><span style="color: #0000BB">$max_requests </span><span style="color: #007700">= </span><span style="color: #0000BB">2</span><span style="color: #007700">;<br><br>    if (++</span><span style="color: #0000BB">$counter </span><span style="color: #007700">&gt;= </span><span style="color: #0000BB">$max_requests</span><span style="color: #007700">)  {<br>        echo </span><span style="color: #DD0000">"El contador ha alcanzado el número máximo de peticiones (</span><span style="color: #0000BB">$max_requests</span><span style="color: #DD0000">). ¡Salida!\n"</span><span style="color: #007700">;<br>        exit();<br>    }<br><br>    echo </span><span style="color: #0000BB">__METHOD__</span><span style="color: #007700">, </span><span style="color: #DD0000">" llamada\n"</span><span style="color: #007700">;<br>    echo </span><span style="color: #DD0000">"Petición :"</span><span style="color: #007700">; </span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$req</span><span style="color: #007700">);<br>    echo </span><span style="color: #DD0000">"Datos :"</span><span style="color: #007700">; </span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$data</span><span style="color: #007700">);<br><br>    echo </span><span style="color: #DD0000">"\n===== DUMP =====\n"</span><span style="color: #007700">;<br>    echo </span><span style="color: #DD0000">"Comando :"</span><span style="color: #007700">, </span><span style="color: #0000BB">$req</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getCommand</span><span style="color: #007700">(), </span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br>    echo </span><span style="color: #DD0000">"URI :"</span><span style="color: #007700">, </span><span style="color: #0000BB">$req</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getUri</span><span style="color: #007700">(), </span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br>    echo </span><span style="color: #DD0000">"Encabezados de entrada :"</span><span style="color: #007700">; </span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$req</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getInputHeaders</span><span style="color: #007700">());<br>    echo </span><span style="color: #DD0000">"Encabezados de salida :"</span><span style="color: #007700">; </span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$req</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getOutputHeaders</span><span style="color: #007700">());<br><br>    echo </span><span style="color: #DD0000">"\n &gt;&gt; Enviando la respuesta ..."</span><span style="color: #007700">;<br>    </span><span style="color: #0000BB">$req</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">sendReply</span><span style="color: #007700">(</span><span style="color: #0000BB">200</span><span style="color: #007700">, </span><span style="color: #DD0000">"OK"</span><span style="color: #007700">);<br>    echo </span><span style="color: #DD0000">"OK\n"</span><span style="color: #007700">;<br><br>    echo </span><span style="color: #DD0000">"\n &gt;&gt; Lectura del buffer de entrada ...\n"</span><span style="color: #007700">;<br>    </span><span style="color: #0000BB">$buf </span><span style="color: #007700">= </span><span style="color: #0000BB">$req</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getInputBuffer</span><span style="color: #007700">();<br>    while (</span><span style="color: #0000BB">$s </span><span style="color: #007700">= </span><span style="color: #0000BB">$buf</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">readLine</span><span style="color: #007700">(</span><span style="color: #0000BB">EventBuffer</span><span style="color: #007700">::</span><span style="color: #0000BB">EOL_ANY</span><span style="color: #007700">)) {<br>        echo </span><span style="color: #0000BB">$s</span><span style="color: #007700">, </span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br>    }<br>    echo </span><span style="color: #DD0000">"No hay más datos en el buffer\n"</span><span style="color: #007700">;<br>}<br><br>function </span><span style="color: #0000BB">_http_about</span><span style="color: #007700">(</span><span style="color: #0000BB">$req</span><span style="color: #007700">) {<br>    echo </span><span style="color: #0000BB">__METHOD__</span><span style="color: #007700">, </span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br>    echo </span><span style="color: #DD0000">"URI : "</span><span style="color: #007700">, </span><span style="color: #0000BB">$req</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getUri</span><span style="color: #007700">(), </span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br>    echo </span><span style="color: #DD0000">"\n &gt;&gt; Enviando la respuesta ..."</span><span style="color: #007700">;<br>    </span><span style="color: #0000BB">$req</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">sendReply</span><span style="color: #007700">(</span><span style="color: #0000BB">200</span><span style="color: #007700">, </span><span style="color: #DD0000">"OK"</span><span style="color: #007700">);<br>    echo </span><span style="color: #DD0000">"OK\n"</span><span style="color: #007700">;<br>}<br><br>function </span><span style="color: #0000BB">_http_default</span><span style="color: #007700">(</span><span style="color: #0000BB">$req</span><span style="color: #007700">, </span><span style="color: #0000BB">$data</span><span style="color: #007700">) {<br>    echo </span><span style="color: #0000BB">__METHOD__</span><span style="color: #007700">, </span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br>    echo </span><span style="color: #DD0000">"URI: "</span><span style="color: #007700">, </span><span style="color: #0000BB">$req</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getUri</span><span style="color: #007700">(), </span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br>    echo </span><span style="color: #DD0000">"\n &gt;&gt; Enviando la respuesta ..."</span><span style="color: #007700">;<br>    </span><span style="color: #0000BB">$req</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">sendReply</span><span style="color: #007700">(</span><span style="color: #0000BB">200</span><span style="color: #007700">, </span><span style="color: #DD0000">"OK"</span><span style="color: #007700">);<br>    echo </span><span style="color: #DD0000">"OK\n"</span><span style="color: #007700">;<br>}<br><br></span><span style="color: #0000BB">$port </span><span style="color: #007700">= </span><span style="color: #0000BB">8010</span><span style="color: #007700">;<br>if (</span><span style="color: #0000BB">$argc </span><span style="color: #007700">&gt; </span><span style="color: #0000BB">1</span><span style="color: #007700">) {<br>    </span><span style="color: #0000BB">$port </span><span style="color: #007700">= (int) </span><span style="color: #0000BB">$argv</span><span style="color: #007700">[</span><span style="color: #0000BB">1</span><span style="color: #007700">];<br>}<br>if (</span><span style="color: #0000BB">$port </span><span style="color: #007700">&lt;= </span><span style="color: #0000BB">0 </span><span style="color: #007700">|| </span><span style="color: #0000BB">$port </span><span style="color: #007700">&gt; </span><span style="color: #0000BB">65535</span><span style="color: #007700">) {<br>    exit(</span><span style="color: #DD0000">"Puerto inválido"</span><span style="color: #007700">);<br>}<br><br></span><span style="color: #0000BB">$base </span><span style="color: #007700">= new </span><span style="color: #0000BB">EventBase</span><span style="color: #007700">();<br></span><span style="color: #0000BB">$http </span><span style="color: #007700">= new </span><span style="color: #0000BB">EventHttp</span><span style="color: #007700">(</span><span style="color: #0000BB">$base</span><span style="color: #007700">);<br></span><span style="color: #0000BB">$http</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setAllowedMethods</span><span style="color: #007700">(</span><span style="color: #0000BB">EventHttpRequest</span><span style="color: #007700">::</span><span style="color: #0000BB">CMD_GET </span><span style="color: #007700">| </span><span style="color: #0000BB">EventHttpRequest</span><span style="color: #007700">::</span><span style="color: #0000BB">CMD_POST</span><span style="color: #007700">);<br><br></span><span style="color: #0000BB">$http</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setCallback</span><span style="color: #007700">(</span><span style="color: #DD0000">"/dump"</span><span style="color: #007700">, </span><span style="color: #DD0000">"_http_dump"</span><span style="color: #007700">, array(</span><span style="color: #0000BB">4</span><span style="color: #007700">, </span><span style="color: #0000BB">8</span><span style="color: #007700">));<br></span><span style="color: #0000BB">$http</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setCallback</span><span style="color: #007700">(</span><span style="color: #DD0000">"/about"</span><span style="color: #007700">, </span><span style="color: #DD0000">"_http_about"</span><span style="color: #007700">);<br></span><span style="color: #0000BB">$http</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setDefaultCallback</span><span style="color: #007700">(</span><span style="color: #DD0000">"_http_default"</span><span style="color: #007700">, </span><span style="color: #DD0000">"valor de datos personalizados"</span><span style="color: #007700">);<br><br></span><span style="color: #0000BB">$http</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">bind</span><span style="color: #007700">(</span><span style="color: #DD0000">"0.0.0.0"</span><span style="color: #007700">, </span><span style="color: #0000BB">8010</span><span style="color: #007700">);<br></span><span style="color: #0000BB">$base</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">loop</span><span style="color: #007700">();<br></span><span style="color: #0000BB">?&gt;</span></span></code></div>
  </div>

   <div class="example-contents"><p>Resultado del ejemplo anterior es similar a:</p></div>
   <div class="example-contents screen">
<div class="cdata"><pre>
a=12
HTTP/1.0 200 OK
Content-Type: text/html; charset=ISO-8859-1
Connection: close

HTTP/1.0 200 OK
Content-Type: text/html; charset=ISO-8859-1
Connection: close
(presione Enter)

HTTP/1.0 200 OK
Content-Type: text/html; charset=ISO-8859-1
Connection: close
</pre></div>
  </div>
 </div>
 <div class="example" id="example-4529">
  <p><strong>Ejemplo #9 Servidor HTTPS simple</strong></p>
  <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br></span><span style="color: #FF8000">/*<br> * Servidor HTTPS simple.<br> *<br> * 1) Ejecute el servidor: `php examples/https.php 9999`<br> * 2) Pruébelo: `php examples/ssl-connection.php 9999`<br> */<br><br></span><span style="color: #007700">function </span><span style="color: #0000BB">_http_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$req</span><span style="color: #007700">, </span><span style="color: #0000BB">$data</span><span style="color: #007700">) {<br>    static </span><span style="color: #0000BB">$counter      </span><span style="color: #007700">= </span><span style="color: #0000BB">0</span><span style="color: #007700">;<br>    static </span><span style="color: #0000BB">$max_requests </span><span style="color: #007700">= </span><span style="color: #0000BB">200</span><span style="color: #007700">;<br><br>    if (++</span><span style="color: #0000BB">$counter </span><span style="color: #007700">&gt;= </span><span style="color: #0000BB">$max_requests</span><span style="color: #007700">)  {<br>        echo </span><span style="color: #DD0000">"El contador ha alcanzado el número máximo de peticiones (</span><span style="color: #0000BB">$max_requests</span><span style="color: #DD0000">). Salida\n"</span><span style="color: #007700">;<br>        exit();<br>    }<br><br>    echo </span><span style="color: #0000BB">__METHOD__</span><span style="color: #007700">, </span><span style="color: #DD0000">" llamada\n"</span><span style="color: #007700">;<br>    echo </span><span style="color: #DD0000">"Petición :"</span><span style="color: #007700">; </span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$req</span><span style="color: #007700">);<br>    echo </span><span style="color: #DD0000">"Datos :"</span><span style="color: #007700">; </span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$data</span><span style="color: #007700">);<br><br>    echo </span><span style="color: #DD0000">"\n===== DUMP =====\n"</span><span style="color: #007700">;<br>    echo </span><span style="color: #DD0000">"Comando :"</span><span style="color: #007700">, </span><span style="color: #0000BB">$req</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getCommand</span><span style="color: #007700">(), </span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br>    echo </span><span style="color: #DD0000">"URI :"</span><span style="color: #007700">, </span><span style="color: #0000BB">$req</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getUri</span><span style="color: #007700">(), </span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br>    echo </span><span style="color: #DD0000">"Encabezados de entrada :"</span><span style="color: #007700">; </span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$req</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getInputHeaders</span><span style="color: #007700">());<br>    echo </span><span style="color: #DD0000">"Encabezados de salida :"</span><span style="color: #007700">; </span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$req</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getOutputHeaders</span><span style="color: #007700">());<br><br>    echo </span><span style="color: #DD0000">"\n &gt;&gt; Enviando la respuesta ..."</span><span style="color: #007700">;<br>    </span><span style="color: #0000BB">$req</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">sendReply</span><span style="color: #007700">(</span><span style="color: #0000BB">200</span><span style="color: #007700">, </span><span style="color: #DD0000">"OK"</span><span style="color: #007700">);<br>    echo </span><span style="color: #DD0000">"OK\n"</span><span style="color: #007700">;<br><br>    </span><span style="color: #0000BB">$buf </span><span style="color: #007700">= </span><span style="color: #0000BB">$req</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getInputBuffer</span><span style="color: #007700">();<br>    echo </span><span style="color: #DD0000">"\n &gt;&gt; Lectura del buffer de entrada ("</span><span style="color: #007700">, </span><span style="color: #0000BB">$buf</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">length</span><span style="color: #007700">, </span><span style="color: #DD0000">") ...\n"</span><span style="color: #007700">;<br>    while (</span><span style="color: #0000BB">$s </span><span style="color: #007700">= </span><span style="color: #0000BB">$buf</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">read</span><span style="color: #007700">(</span><span style="color: #0000BB">1024</span><span style="color: #007700">)) {<br>        echo </span><span style="color: #0000BB">$s</span><span style="color: #007700">;<br>    }<br>    echo </span><span style="color: #DD0000">"\nNo hay más datos en el buffer\n"</span><span style="color: #007700">;<br>}<br><br>function </span><span style="color: #0000BB">_http_about</span><span style="color: #007700">(</span><span style="color: #0000BB">$req</span><span style="color: #007700">) {<br>    echo </span><span style="color: #0000BB">__METHOD__</span><span style="color: #007700">, </span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br>    echo </span><span style="color: #DD0000">"URI : "</span><span style="color: #007700">, </span><span style="color: #0000BB">$req</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getUri</span><span style="color: #007700">(), </span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br>    echo </span><span style="color: #DD0000">"\n &gt;&gt; Enviando la respuesta ..."</span><span style="color: #007700">;<br>    </span><span style="color: #0000BB">$req</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">sendReply</span><span style="color: #007700">(</span><span style="color: #0000BB">200</span><span style="color: #007700">, </span><span style="color: #DD0000">"OK"</span><span style="color: #007700">);<br>    echo </span><span style="color: #DD0000">"OK\n"</span><span style="color: #007700">;<br>}<br><br>function </span><span style="color: #0000BB">_http_default</span><span style="color: #007700">(</span><span style="color: #0000BB">$req</span><span style="color: #007700">, </span><span style="color: #0000BB">$data</span><span style="color: #007700">) {<br>    echo </span><span style="color: #0000BB">__METHOD__</span><span style="color: #007700">, </span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br>    echo </span><span style="color: #DD0000">"URI: "</span><span style="color: #007700">, </span><span style="color: #0000BB">$req</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getUri</span><span style="color: #007700">(), </span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br>    echo </span><span style="color: #DD0000">"\n &gt;&gt; Enviando la respuesta ..."</span><span style="color: #007700">;<br>    </span><span style="color: #0000BB">$req</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">sendReply</span><span style="color: #007700">(</span><span style="color: #0000BB">200</span><span style="color: #007700">, </span><span style="color: #DD0000">"OK"</span><span style="color: #007700">);<br>    echo </span><span style="color: #DD0000">"OK\n"</span><span style="color: #007700">;<br>}<br><br>function </span><span style="color: #0000BB">_http_400</span><span style="color: #007700">(</span><span style="color: #0000BB">$req</span><span style="color: #007700">) {<br>    </span><span style="color: #0000BB">$req</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">sendError</span><span style="color: #007700">(</span><span style="color: #0000BB">400</span><span style="color: #007700">);<br>}<br><br>function </span><span style="color: #0000BB">_init_ssl</span><span style="color: #007700">() {<br>    </span><span style="color: #0000BB">$local_cert </span><span style="color: #007700">= </span><span style="color: #0000BB">__DIR__</span><span style="color: #007700">.</span><span style="color: #DD0000">"/ssl-echo-server/cert.pem"</span><span style="color: #007700">;<br>    </span><span style="color: #0000BB">$local_pk   </span><span style="color: #007700">= </span><span style="color: #0000BB">__DIR__</span><span style="color: #007700">.</span><span style="color: #DD0000">"/ssl-echo-server/privkey.pem"</span><span style="color: #007700">;<br><br>    </span><span style="color: #0000BB">$ctx </span><span style="color: #007700">= new </span><span style="color: #0000BB">EventSslContext</span><span style="color: #007700">(</span><span style="color: #0000BB">EventSslContext</span><span style="color: #007700">::</span><span style="color: #0000BB">SSLv3_SERVER_METHOD</span><span style="color: #007700">, array (<br>        </span><span style="color: #0000BB">EventSslContext</span><span style="color: #007700">::</span><span style="color: #0000BB">OPT_LOCAL_CERT  </span><span style="color: #007700">=&gt; </span><span style="color: #0000BB">$local_cert</span><span style="color: #007700">,<br>        </span><span style="color: #0000BB">EventSslContext</span><span style="color: #007700">::</span><span style="color: #0000BB">OPT_LOCAL_PK    </span><span style="color: #007700">=&gt; </span><span style="color: #0000BB">$local_pk</span><span style="color: #007700">,<br>        </span><span style="color: #FF8000">//EventSslContext::OPT_PASSPHRASE  =&gt; "test",<br>        </span><span style="color: #0000BB">EventSslContext</span><span style="color: #007700">::</span><span style="color: #0000BB">OPT_ALLOW_SELF_SIGNED </span><span style="color: #007700">=&gt; </span><span style="color: #0000BB">true</span><span style="color: #007700">,<br>    ));<br><br>    return </span><span style="color: #0000BB">$ctx</span><span style="color: #007700">;<br>}<br><br></span><span style="color: #0000BB">$port </span><span style="color: #007700">= </span><span style="color: #0000BB">9999</span><span style="color: #007700">;<br>if (</span><span style="color: #0000BB">$argc </span><span style="color: #007700">&gt; </span><span style="color: #0000BB">1</span><span style="color: #007700">) {<br>    </span><span style="color: #0000BB">$port </span><span style="color: #007700">= (int) </span><span style="color: #0000BB">$argv</span><span style="color: #007700">[</span><span style="color: #0000BB">1</span><span style="color: #007700">];<br>}<br>if (</span><span style="color: #0000BB">$port </span><span style="color: #007700">&lt;= </span><span style="color: #0000BB">0 </span><span style="color: #007700">|| </span><span style="color: #0000BB">$port </span><span style="color: #007700">&gt; </span><span style="color: #0000BB">65535</span><span style="color: #007700">) {<br>    exit(</span><span style="color: #DD0000">"Puerto inválido"</span><span style="color: #007700">);<br>}<br></span><span style="color: #0000BB">$ip </span><span style="color: #007700">= </span><span style="color: #DD0000">'0.0.0.0'</span><span style="color: #007700">;<br><br></span><span style="color: #0000BB">$base </span><span style="color: #007700">= new </span><span style="color: #0000BB">EventBase</span><span style="color: #007700">();<br></span><span style="color: #0000BB">$ctx  </span><span style="color: #007700">= </span><span style="color: #0000BB">_init_ssl</span><span style="color: #007700">();<br></span><span style="color: #0000BB">$http </span><span style="color: #007700">= new </span><span style="color: #0000BB">EventHttp</span><span style="color: #007700">(</span><span style="color: #0000BB">$base</span><span style="color: #007700">, </span><span style="color: #0000BB">$ctx</span><span style="color: #007700">);<br></span><span style="color: #0000BB">$http</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setAllowedMethods</span><span style="color: #007700">(</span><span style="color: #0000BB">EventHttpRequest</span><span style="color: #007700">::</span><span style="color: #0000BB">CMD_GET </span><span style="color: #007700">| </span><span style="color: #0000BB">EventHttpRequest</span><span style="color: #007700">::</span><span style="color: #0000BB">CMD_POST</span><span style="color: #007700">);<br><br></span><span style="color: #0000BB">$http</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setCallback</span><span style="color: #007700">(</span><span style="color: #DD0000">"/dump"</span><span style="color: #007700">, </span><span style="color: #DD0000">"_http_dump"</span><span style="color: #007700">, array(</span><span style="color: #0000BB">4</span><span style="color: #007700">, </span><span style="color: #0000BB">8</span><span style="color: #007700">));<br></span><span style="color: #0000BB">$http</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setCallback</span><span style="color: #007700">(</span><span style="color: #DD0000">"/about"</span><span style="color: #007700">, </span><span style="color: #DD0000">"_http_about"</span><span style="color: #007700">);<br></span><span style="color: #0000BB">$http</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setCallback</span><span style="color: #007700">(</span><span style="color: #DD0000">"/err400"</span><span style="color: #007700">, </span><span style="color: #DD0000">"_http_400"</span><span style="color: #007700">);<br></span><span style="color: #0000BB">$http</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setDefaultCallback</span><span style="color: #007700">(</span><span style="color: #DD0000">"_http_default"</span><span style="color: #007700">, </span><span style="color: #DD0000">"Valor de los datos personalizados"</span><span style="color: #007700">);<br><br></span><span style="color: #0000BB">$http</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">bind</span><span style="color: #007700">(</span><span style="color: #0000BB">$ip</span><span style="color: #007700">, </span><span style="color: #0000BB">$port</span><span style="color: #007700">);<br></span><span style="color: #0000BB">$base</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">dispatch</span><span style="color: #007700">();</span></span></code></div>
  </div>

 </div>
 <div class="example" id="example-4530">
  <p><strong>Ejemplo #10 Conexión OpenSSL</strong></p>
  <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br></span><span style="color: #FF8000">/*<br> * Ejemplo de Cliente OpenSSL.<br> *<br> * Uso:<br> * 1) Ejecute un servidor, i.e. :<br> * $ php examples/https.php 9999<br> *<br> * 2) Lance el cliente en otro terminal:<br> * $ php examples/ssl-connection.php 9999<br> */<br><br></span><span style="color: #007700">function </span><span style="color: #0000BB">_request_handler</span><span style="color: #007700">(</span><span style="color: #0000BB">$req</span><span style="color: #007700">, </span><span style="color: #0000BB">$base</span><span style="color: #007700">) {<br>    echo </span><span style="color: #0000BB">__FUNCTION__</span><span style="color: #007700">, </span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br><br>    if (</span><span style="color: #0000BB">is_null</span><span style="color: #007700">(</span><span style="color: #0000BB">$req</span><span style="color: #007700">)) {<br>        echo </span><span style="color: #DD0000">"Tiempo máximo de espera alcanzado\n"</span><span style="color: #007700">;<br>    } else {<br>        </span><span style="color: #0000BB">$response_code </span><span style="color: #007700">= </span><span style="color: #0000BB">$req</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getResponseCode</span><span style="color: #007700">();<br><br>        if (</span><span style="color: #0000BB">$response_code </span><span style="color: #007700">== </span><span style="color: #0000BB">0</span><span style="color: #007700">) {<br>            echo </span><span style="color: #DD0000">"Conexión rechazada\n"</span><span style="color: #007700">;<br>        } elseif (</span><span style="color: #0000BB">$response_code </span><span style="color: #007700">!= </span><span style="color: #0000BB">200</span><span style="color: #007700">) {<br>            echo </span><span style="color: #DD0000">"Respuesta inesperada : </span><span style="color: #0000BB">$response_code</span><span style="color: #DD0000">\n"</span><span style="color: #007700">;<br>        } else {<br>            echo </span><span style="color: #DD0000">"Éxito : </span><span style="color: #0000BB">$response_code</span><span style="color: #DD0000">\n"</span><span style="color: #007700">;<br>            </span><span style="color: #0000BB">$buf </span><span style="color: #007700">= </span><span style="color: #0000BB">$req</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getInputBuffer</span><span style="color: #007700">();<br>            echo </span><span style="color: #DD0000">"Cuerpo :\n"</span><span style="color: #007700">;<br>            while (</span><span style="color: #0000BB">$s </span><span style="color: #007700">= </span><span style="color: #0000BB">$buf</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">readLine</span><span style="color: #007700">(</span><span style="color: #0000BB">EventBuffer</span><span style="color: #007700">::</span><span style="color: #0000BB">EOL_ANY</span><span style="color: #007700">)) {<br>                echo </span><span style="color: #0000BB">$s</span><span style="color: #007700">, </span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br>            }<br>        }<br>    }<br><br>    </span><span style="color: #0000BB">$base</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">exit</span><span style="color: #007700">(</span><span style="color: #0000BB">NULL</span><span style="color: #007700">);<br>}<br><br>function </span><span style="color: #0000BB">_init_ssl</span><span style="color: #007700">() {<br>    </span><span style="color: #0000BB">$ctx </span><span style="color: #007700">= new </span><span style="color: #0000BB">EventSslContext</span><span style="color: #007700">(</span><span style="color: #0000BB">EventSslContext</span><span style="color: #007700">::</span><span style="color: #0000BB">SSLv3_CLIENT_METHOD</span><span style="color: #007700">, array ());<br><br>    return </span><span style="color: #0000BB">$ctx</span><span style="color: #007700">;<br>}<br><br></span><span style="color: #FF8000">// Permite el sobrescrito del puerto<br></span><span style="color: #0000BB">$port </span><span style="color: #007700">= </span><span style="color: #0000BB">9999</span><span style="color: #007700">;<br>if (</span><span style="color: #0000BB">$argc </span><span style="color: #007700">&gt; </span><span style="color: #0000BB">1</span><span style="color: #007700">) {<br>    </span><span style="color: #0000BB">$port </span><span style="color: #007700">= (int) </span><span style="color: #0000BB">$argv</span><span style="color: #007700">[</span><span style="color: #0000BB">1</span><span style="color: #007700">];<br>}<br>if (</span><span style="color: #0000BB">$port </span><span style="color: #007700">&lt;= </span><span style="color: #0000BB">0 </span><span style="color: #007700">|| </span><span style="color: #0000BB">$port </span><span style="color: #007700">&gt; </span><span style="color: #0000BB">65535</span><span style="color: #007700">) {<br>    exit(</span><span style="color: #DD0000">"Puerto inválido\n"</span><span style="color: #007700">);<br>}<br></span><span style="color: #0000BB">$host </span><span style="color: #007700">= </span><span style="color: #DD0000">'127.0.0.1'</span><span style="color: #007700">;<br><br></span><span style="color: #0000BB">$ctx </span><span style="color: #007700">= </span><span style="color: #0000BB">_init_ssl</span><span style="color: #007700">();<br>if (!</span><span style="color: #0000BB">$ctx</span><span style="color: #007700">) {<br>    </span><span style="color: #0000BB">trigger_error</span><span style="color: #007700">(</span><span style="color: #DD0000">"Fallo en la creación del contexto SSL"</span><span style="color: #007700">, </span><span style="color: #0000BB">E_USER_ERROR</span><span style="color: #007700">);<br>}<br><br></span><span style="color: #0000BB">$base </span><span style="color: #007700">= new </span><span style="color: #0000BB">EventBase</span><span style="color: #007700">();<br>if (!</span><span style="color: #0000BB">$base</span><span style="color: #007700">) {<br>    </span><span style="color: #0000BB">trigger_error</span><span style="color: #007700">(</span><span style="color: #DD0000">"Fallo en la inicialización de la base de evento"</span><span style="color: #007700">, </span><span style="color: #0000BB">E_USER_ERROR</span><span style="color: #007700">);<br>}<br><br></span><span style="color: #0000BB">$conn </span><span style="color: #007700">= new </span><span style="color: #0000BB">EventHttpConnection</span><span style="color: #007700">(</span><span style="color: #0000BB">$base</span><span style="color: #007700">, </span><span style="color: #0000BB">NULL</span><span style="color: #007700">, </span><span style="color: #0000BB">$host</span><span style="color: #007700">, </span><span style="color: #0000BB">$port</span><span style="color: #007700">, </span><span style="color: #0000BB">$ctx</span><span style="color: #007700">);<br></span><span style="color: #0000BB">$conn</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setTimeout</span><span style="color: #007700">(</span><span style="color: #0000BB">50</span><span style="color: #007700">);<br><br></span><span style="color: #0000BB">$req </span><span style="color: #007700">= new </span><span style="color: #0000BB">EventHttpRequest</span><span style="color: #007700">(</span><span style="color: #DD0000">"_request_handler"</span><span style="color: #007700">, </span><span style="color: #0000BB">$base</span><span style="color: #007700">);<br></span><span style="color: #0000BB">$req</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">addHeader</span><span style="color: #007700">(</span><span style="color: #DD0000">"Host"</span><span style="color: #007700">, </span><span style="color: #0000BB">$host</span><span style="color: #007700">, </span><span style="color: #0000BB">EventHttpRequest</span><span style="color: #007700">::</span><span style="color: #0000BB">OUTPUT_HEADER</span><span style="color: #007700">);<br></span><span style="color: #0000BB">$buf </span><span style="color: #007700">= </span><span style="color: #0000BB">$req</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getOutputBuffer</span><span style="color: #007700">();<br></span><span style="color: #0000BB">$buf</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">add</span><span style="color: #007700">(</span><span style="color: #DD0000">"&lt;html&gt;HTML TEST&lt;/html&gt;"</span><span style="color: #007700">);<br></span><span style="color: #FF8000">//$req-&gt;addHeader("Content-Length", $buf-&gt;length, EventHttpRequest::OUTPUT_HEADER);<br>//$req-&gt;addHeader("Connection", "close", EventHttpRequest::OUTPUT_HEADER);<br></span><span style="color: #0000BB">$conn</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">makeRequest</span><span style="color: #007700">(</span><span style="color: #0000BB">$req</span><span style="color: #007700">, </span><span style="color: #0000BB">EventHttpRequest</span><span style="color: #007700">::</span><span style="color: #0000BB">CMD_POST</span><span style="color: #007700">, </span><span style="color: #DD0000">"/dump"</span><span style="color: #007700">);<br><br></span><span style="color: #0000BB">$base</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">dispatch</span><span style="color: #007700">();<br>echo </span><span style="color: #DD0000">"FIN\n"</span><span style="color: #007700">;<br></span><span style="color: #0000BB">?&gt;</span></span></code></div>
  </div>

 </div>
 <div class="example" id="example-4531">
  <p><strong>Ejemplo #11 
   Ejemplo con <span class="function"><a href="#eventhttpconnection.makerequest" class="function">EventHttpConnection::makeRequest()</a></span></strong></p>
  <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br></span><span style="color: #007700">function </span><span style="color: #0000BB">_request_handler</span><span style="color: #007700">(</span><span style="color: #0000BB">$req</span><span style="color: #007700">, </span><span style="color: #0000BB">$base</span><span style="color: #007700">) {<br>    echo </span><span style="color: #0000BB">__FUNCTION__</span><span style="color: #007700">, </span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br><br>    if (</span><span style="color: #0000BB">is_null</span><span style="color: #007700">(</span><span style="color: #0000BB">$req</span><span style="color: #007700">)) {<br>        echo </span><span style="color: #DD0000">"Tiempo máximo de espera alcanzado\n"</span><span style="color: #007700">;<br>    } else {<br>        </span><span style="color: #0000BB">$response_code </span><span style="color: #007700">= </span><span style="color: #0000BB">$req</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getResponseCode</span><span style="color: #007700">();<br><br>        if (</span><span style="color: #0000BB">$response_code </span><span style="color: #007700">== </span><span style="color: #0000BB">0</span><span style="color: #007700">) {<br>            echo </span><span style="color: #DD0000">"Conexión rechazada\n"</span><span style="color: #007700">;<br>        } elseif (</span><span style="color: #0000BB">$response_code </span><span style="color: #007700">!= </span><span style="color: #0000BB">200</span><span style="color: #007700">) {<br>            echo </span><span style="color: #DD0000">"Respuesta inesperada : </span><span style="color: #0000BB">$response_code</span><span style="color: #DD0000">\n"</span><span style="color: #007700">;<br>        } else {<br>            echo </span><span style="color: #DD0000">"Éxito : </span><span style="color: #0000BB">$response_code</span><span style="color: #DD0000">\n"</span><span style="color: #007700">;<br>            </span><span style="color: #0000BB">$buf </span><span style="color: #007700">= </span><span style="color: #0000BB">$req</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getInputBuffer</span><span style="color: #007700">();<br>            echo </span><span style="color: #DD0000">"Cuerpo :\n"</span><span style="color: #007700">;<br>            while (</span><span style="color: #0000BB">$s </span><span style="color: #007700">= </span><span style="color: #0000BB">$buf</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">readLine</span><span style="color: #007700">(</span><span style="color: #0000BB">EventBuffer</span><span style="color: #007700">::</span><span style="color: #0000BB">EOL_ANY</span><span style="color: #007700">)) {<br>                echo </span><span style="color: #0000BB">$s</span><span style="color: #007700">, </span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br>            }<br>        }<br>    }<br><br>    </span><span style="color: #0000BB">$base</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">exit</span><span style="color: #007700">(</span><span style="color: #0000BB">NULL</span><span style="color: #007700">);<br>}<br><br></span><span style="color: #0000BB">$address </span><span style="color: #007700">= </span><span style="color: #DD0000">"127.0.0.1"</span><span style="color: #007700">;<br></span><span style="color: #0000BB">$port </span><span style="color: #007700">= </span><span style="color: #0000BB">80</span><span style="color: #007700">;<br><br></span><span style="color: #0000BB">$base </span><span style="color: #007700">= new </span><span style="color: #0000BB">EventBase</span><span style="color: #007700">();<br></span><span style="color: #0000BB">$conn </span><span style="color: #007700">= new </span><span style="color: #0000BB">EventHttpConnection</span><span style="color: #007700">(</span><span style="color: #0000BB">$base</span><span style="color: #007700">, </span><span style="color: #0000BB">NULL</span><span style="color: #007700">, </span><span style="color: #0000BB">$address</span><span style="color: #007700">, </span><span style="color: #0000BB">$port</span><span style="color: #007700">);<br></span><span style="color: #0000BB">$conn</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setTimeout</span><span style="color: #007700">(</span><span style="color: #0000BB">5</span><span style="color: #007700">);<br></span><span style="color: #0000BB">$req </span><span style="color: #007700">= new </span><span style="color: #0000BB">EventHttpRequest</span><span style="color: #007700">(</span><span style="color: #DD0000">"_request_handler"</span><span style="color: #007700">, </span><span style="color: #0000BB">$base</span><span style="color: #007700">);<br><br></span><span style="color: #0000BB">$req</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">addHeader</span><span style="color: #007700">(</span><span style="color: #DD0000">"Host"</span><span style="color: #007700">, </span><span style="color: #0000BB">$address</span><span style="color: #007700">, </span><span style="color: #0000BB">EventHttpRequest</span><span style="color: #007700">::</span><span style="color: #0000BB">OUTPUT_HEADER</span><span style="color: #007700">);<br></span><span style="color: #0000BB">$req</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">addHeader</span><span style="color: #007700">(</span><span style="color: #DD0000">"Content-Length"</span><span style="color: #007700">, </span><span style="color: #DD0000">"0"</span><span style="color: #007700">, </span><span style="color: #0000BB">EventHttpRequest</span><span style="color: #007700">::</span><span style="color: #0000BB">OUTPUT_HEADER</span><span style="color: #007700">);<br></span><span style="color: #0000BB">$conn</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">makeRequest</span><span style="color: #007700">(</span><span style="color: #0000BB">$req</span><span style="color: #007700">, </span><span style="color: #0000BB">EventHttpRequest</span><span style="color: #007700">::</span><span style="color: #0000BB">CMD_GET</span><span style="color: #007700">, </span><span style="color: #DD0000">"/index.cphp"</span><span style="color: #007700">);<br><br></span><span style="color: #0000BB">$base</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">loop</span><span style="color: #007700">();<br></span><span style="color: #0000BB">?&gt;</span></span></code></div>
  </div>

   <div class="example-contents"><p>Resultado del ejemplo anterior es similar a:</p></div>
   <div class="example-contents screen">
<div class="cdata"><pre>
_request_handler
Éxito : 200
Cuerpo :
PHP, date:
2013-03-13T20:27:52+05:00
</pre></div>
  </div>
 </div>
 <div class="example" id="example-4532">
  <p><strong>Ejemplo #12 Escucha de una conexión basada en un socket de dominio Unix</strong></p>
  <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br></span><span style="color: #FF8000">/*<br> * Servidor de escucha basado en un oyente de conexión libevent.<br> *<br> * Uso:<br> * 1) En un terminal, ejecute:<br> *<br> * $ php unix-domain-listener.php [ruta-al-socket]<br> *<br> * 2) En otro terminal, abra la conexión<br> * hacia el socket, i.e. :<br> *<br> * $ socat - GOPEN:/tmp/1.sock<br> *<br> * 3) Comience a escribir. El servidor debería repetir las entradas.<br> */<br><br></span><span style="color: #007700">class </span><span style="color: #0000BB">MyListenerConnection </span><span style="color: #007700">{<br>    private </span><span style="color: #0000BB">$bev</span><span style="color: #007700">, </span><span style="color: #0000BB">$base</span><span style="color: #007700">;<br><br>    public function </span><span style="color: #0000BB">__destruct</span><span style="color: #007700">() {<br>        if (</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">bev</span><span style="color: #007700">) {<br>            </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">bev</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">free</span><span style="color: #007700">();<br>        }<br>    }<br><br>    public function </span><span style="color: #0000BB">__construct</span><span style="color: #007700">(</span><span style="color: #0000BB">$base</span><span style="color: #007700">, </span><span style="color: #0000BB">$fd</span><span style="color: #007700">) {<br>        </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">base </span><span style="color: #007700">= </span><span style="color: #0000BB">$base</span><span style="color: #007700">;<br><br>        </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">bev </span><span style="color: #007700">= new </span><span style="color: #0000BB">EventBufferEvent</span><span style="color: #007700">(</span><span style="color: #0000BB">$base</span><span style="color: #007700">, </span><span style="color: #0000BB">$fd</span><span style="color: #007700">, </span><span style="color: #0000BB">EventBufferEvent</span><span style="color: #007700">::</span><span style="color: #0000BB">OPT_CLOSE_ON_FREE</span><span style="color: #007700">);<br><br>        </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">bev</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setCallbacks</span><span style="color: #007700">(array(</span><span style="color: #0000BB">$this</span><span style="color: #007700">, </span><span style="color: #DD0000">"echoReadCallback"</span><span style="color: #007700">), </span><span style="color: #0000BB">NULL</span><span style="color: #007700">,<br>            array(</span><span style="color: #0000BB">$this</span><span style="color: #007700">, </span><span style="color: #DD0000">"echoEventCallback"</span><span style="color: #007700">), </span><span style="color: #0000BB">NULL</span><span style="color: #007700">);<br><br>        if (!</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">bev</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">enable</span><span style="color: #007700">(</span><span style="color: #0000BB">Event</span><span style="color: #007700">::</span><span style="color: #0000BB">READ</span><span style="color: #007700">)) {<br>            echo </span><span style="color: #DD0000">"Fallo en la activación de READ\n"</span><span style="color: #007700">;<br>            return;<br>        }<br>    }<br><br>    public function </span><span style="color: #0000BB">echoReadCallback</span><span style="color: #007700">(</span><span style="color: #0000BB">$bev</span><span style="color: #007700">, </span><span style="color: #0000BB">$ctx</span><span style="color: #007700">) {<br>        </span><span style="color: #FF8000">// Copia todos los datos desde el buffer de entrada hacia el buffer de salida<br>        </span><span style="color: #0000BB">$bev</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">output</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">addBuffer</span><span style="color: #007700">(</span><span style="color: #0000BB">$bev</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">input</span><span style="color: #007700">);<br>    }<br><br>    public function </span><span style="color: #0000BB">echoEventCallback</span><span style="color: #007700">(</span><span style="color: #0000BB">$bev</span><span style="color: #007700">, </span><span style="color: #0000BB">$events</span><span style="color: #007700">, </span><span style="color: #0000BB">$ctx</span><span style="color: #007700">) {<br>        if (</span><span style="color: #0000BB">$events </span><span style="color: #007700">&amp; </span><span style="color: #0000BB">EventBufferEvent</span><span style="color: #007700">::</span><span style="color: #0000BB">ERROR</span><span style="color: #007700">) {<br>            echo </span><span style="color: #DD0000">"Error desde bufferevent\n"</span><span style="color: #007700">;<br>        }<br><br>        if (</span><span style="color: #0000BB">$events </span><span style="color: #007700">&amp; (</span><span style="color: #0000BB">EventBufferEvent</span><span style="color: #007700">::</span><span style="color: #0000BB">EOF </span><span style="color: #007700">| </span><span style="color: #0000BB">EventBufferEvent</span><span style="color: #007700">::</span><span style="color: #0000BB">ERROR</span><span style="color: #007700">)) {<br>            </span><span style="color: #0000BB">$bev</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">free</span><span style="color: #007700">();<br>            </span><span style="color: #0000BB">$bev </span><span style="color: #007700">= </span><span style="color: #0000BB">NULL</span><span style="color: #007700">;<br>        }<br>    }<br>}<br><br>class </span><span style="color: #0000BB">MyListener </span><span style="color: #007700">{<br>    public </span><span style="color: #0000BB">$base</span><span style="color: #007700">,<br>        </span><span style="color: #0000BB">$listener</span><span style="color: #007700">,<br>        </span><span style="color: #0000BB">$socket</span><span style="color: #007700">;<br>    private </span><span style="color: #0000BB">$conn </span><span style="color: #007700">= array();<br><br>    public function </span><span style="color: #0000BB">__destruct</span><span style="color: #007700">() {<br>        foreach (</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">conn </span><span style="color: #007700">as &amp;</span><span style="color: #0000BB">$c</span><span style="color: #007700">) </span><span style="color: #0000BB">$c </span><span style="color: #007700">= </span><span style="color: #0000BB">NULL</span><span style="color: #007700">;<br>    }<br><br>    public function </span><span style="color: #0000BB">__construct</span><span style="color: #007700">(</span><span style="color: #0000BB">$sock_path</span><span style="color: #007700">) {<br>        </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">base </span><span style="color: #007700">= new </span><span style="color: #0000BB">EventBase</span><span style="color: #007700">();<br>        if (!</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">base</span><span style="color: #007700">) {<br>            echo </span><span style="color: #DD0000">"No se pudo abrir la base de eventos"</span><span style="color: #007700">;<br>            exit(</span><span style="color: #0000BB">1</span><span style="color: #007700">);<br>        }<br><br>        if (</span><span style="color: #0000BB">file_exists</span><span style="color: #007700">(</span><span style="color: #0000BB">$sock_path</span><span style="color: #007700">)) {<br>            </span><span style="color: #0000BB">unlink</span><span style="color: #007700">(</span><span style="color: #0000BB">$sock_path</span><span style="color: #007700">);<br>        }<br><br>         </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">listener </span><span style="color: #007700">= new </span><span style="color: #0000BB">EventListener</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">base</span><span style="color: #007700">,<br>             array(</span><span style="color: #0000BB">$this</span><span style="color: #007700">, </span><span style="color: #DD0000">"acceptConnCallback"</span><span style="color: #007700">), </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">base</span><span style="color: #007700">,<br>             </span><span style="color: #0000BB">EventListener</span><span style="color: #007700">::</span><span style="color: #0000BB">OPT_CLOSE_ON_FREE </span><span style="color: #007700">| </span><span style="color: #0000BB">EventListener</span><span style="color: #007700">::</span><span style="color: #0000BB">OPT_REUSEABLE</span><span style="color: #007700">, -</span><span style="color: #0000BB">1</span><span style="color: #007700">,<br>             </span><span style="color: #DD0000">"unix:</span><span style="color: #0000BB">$sock_path</span><span style="color: #DD0000">"</span><span style="color: #007700">);<br><br>        if (!</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">listener</span><span style="color: #007700">) {<br>            </span><span style="color: #0000BB">trigger_error</span><span style="color: #007700">(</span><span style="color: #DD0000">"Imposible crear el oyente"</span><span style="color: #007700">, </span><span style="color: #0000BB">E_USER_ERROR</span><span style="color: #007700">);<br>        }<br><br>        </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">listener</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setErrorCallback</span><span style="color: #007700">(array(</span><span style="color: #0000BB">$this</span><span style="color: #007700">, </span><span style="color: #DD0000">"accept_error_cb"</span><span style="color: #007700">));<br>    }<br><br>    public function </span><span style="color: #0000BB">dispatch</span><span style="color: #007700">() {<br>        </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">base</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">dispatch</span><span style="color: #007700">();<br>    }<br><br>    </span><span style="color: #FF8000">// Esta función de retrollamada será llamada cuando haya datos para leer en $bev<br>    </span><span style="color: #007700">public function </span><span style="color: #0000BB">acceptConnCallback</span><span style="color: #007700">(</span><span style="color: #0000BB">$listener</span><span style="color: #007700">, </span><span style="color: #0000BB">$fd</span><span style="color: #007700">, </span><span style="color: #0000BB">$address</span><span style="color: #007700">, </span><span style="color: #0000BB">$ctx</span><span style="color: #007700">) {<br>        </span><span style="color: #FF8000">// ¡Tenemos una nueva conexión! Se define un bufferevent para ella. */<br>        </span><span style="color: #0000BB">$base </span><span style="color: #007700">= </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">base</span><span style="color: #007700">;<br>        </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">conn</span><span style="color: #007700">[] = new </span><span style="color: #0000BB">MyListenerConnection</span><span style="color: #007700">(</span><span style="color: #0000BB">$base</span><span style="color: #007700">, </span><span style="color: #0000BB">$fd</span><span style="color: #007700">);<br>    }<br><br>    public function </span><span style="color: #0000BB">accept_error_cb</span><span style="color: #007700">(</span><span style="color: #0000BB">$listener</span><span style="color: #007700">, </span><span style="color: #0000BB">$ctx</span><span style="color: #007700">) {<br>        </span><span style="color: #0000BB">$base </span><span style="color: #007700">= </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">base</span><span style="color: #007700">;<br><br>        </span><span style="color: #0000BB">fprintf</span><span style="color: #007700">(</span><span style="color: #0000BB">STDERR</span><span style="color: #007700">, </span><span style="color: #DD0000">"Se recibe un error %d (%s) en el oyente. "<br>            </span><span style="color: #007700">.</span><span style="color: #DD0000">"Cerrando.\n"</span><span style="color: #007700">,<br>            </span><span style="color: #0000BB">EventUtil</span><span style="color: #007700">::</span><span style="color: #0000BB">getLastSocketErrno</span><span style="color: #007700">(),<br>            </span><span style="color: #0000BB">EventUtil</span><span style="color: #007700">::</span><span style="color: #0000BB">getLastSocketError</span><span style="color: #007700">());<br><br>        </span><span style="color: #0000BB">$base</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">exit</span><span style="color: #007700">(</span><span style="color: #0000BB">NULL</span><span style="color: #007700">);<br>    }<br>}<br><br>if (</span><span style="color: #0000BB">$argc </span><span style="color: #007700">&lt;= </span><span style="color: #0000BB">1</span><span style="color: #007700">) {<br>    exit(</span><span style="color: #DD0000">"La ruta hacia el socket no está proporcionada\n"</span><span style="color: #007700">);<br>}<br></span><span style="color: #0000BB">$sock_path </span><span style="color: #007700">= </span><span style="color: #0000BB">$argv</span><span style="color: #007700">[</span><span style="color: #0000BB">1</span><span style="color: #007700">];<br><br></span><span style="color: #0000BB">$l </span><span style="color: #007700">= new </span><span style="color: #0000BB">MyListener</span><span style="color: #007700">(</span><span style="color: #0000BB">$sock_path</span><span style="color: #007700">);<br></span><span style="color: #0000BB">$l</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">dispatch</span><span style="color: #007700">();<br></span><span style="color: #0000BB">?&gt;</span></span></code></div>
  </div>

 </div>
 <div class="example" id="event.example.smtp">
  <p><strong>Ejemplo #13 Ejemplo de servidor SMTP</strong></p>
  <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br> </span><span style="color: #FF8000">/*<br> * Autor: Andrew Rose &lt;hello at andrewrose dot co dot uk&gt;<br> *<br> * Uso:<br> * 1) Prepare el certificado cert.pem y la clave privada privkey.pem.<br> * 2) Inicie el script del servidor<br> * 3) Abra la conexión TLS, i.e. :<br> *      $ openssl s_client -connect localhost:25 -starttls smtp -crlf<br> * 4) Comience a probar los comandos listados en el método `cmd` a continuación.<br> */<br><br></span><span style="color: #007700">class </span><span style="color: #0000BB">Handler </span><span style="color: #007700">{<br>    public </span><span style="color: #0000BB">$domainName </span><span style="color: #007700">= </span><span style="color: #0000BB">FALSE</span><span style="color: #007700">;<br>    public </span><span style="color: #0000BB">$connections </span><span style="color: #007700">= [];<br>    public </span><span style="color: #0000BB">$buffers </span><span style="color: #007700">= [];<br>    public </span><span style="color: #0000BB">$maxRead </span><span style="color: #007700">= </span><span style="color: #0000BB">256000</span><span style="color: #007700">;<br><br>    public function </span><span style="color: #0000BB">__construct</span><span style="color: #007700">() {<br>        </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">ctx </span><span style="color: #007700">= new </span><span style="color: #0000BB">EventSslContext</span><span style="color: #007700">(</span><span style="color: #0000BB">EventSslContext</span><span style="color: #007700">::</span><span style="color: #0000BB">SSLv3_SERVER_METHOD</span><span style="color: #007700">, [<br>            </span><span style="color: #0000BB">EventSslContext</span><span style="color: #007700">::</span><span style="color: #0000BB">OPT_LOCAL_CERT  </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">'cert.pem'</span><span style="color: #007700">,<br>            </span><span style="color: #0000BB">EventSslContext</span><span style="color: #007700">::</span><span style="color: #0000BB">OPT_LOCAL_PK    </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">'privkey.pem'</span><span style="color: #007700">,<br>            </span><span style="color: #FF8000">//EventSslContext::OPT_PASSPHRASE  =&gt; '',<br>            </span><span style="color: #0000BB">EventSslContext</span><span style="color: #007700">::</span><span style="color: #0000BB">OPT_VERIFY_PEER </span><span style="color: #007700">=&gt; </span><span style="color: #0000BB">false</span><span style="color: #007700">, </span><span style="color: #FF8000">// cambiar a TRUE con certificados auténticos<br>            </span><span style="color: #0000BB">EventSslContext</span><span style="color: #007700">::</span><span style="color: #0000BB">OPT_ALLOW_SELF_SIGNED </span><span style="color: #007700">=&gt; </span><span style="color: #0000BB">true </span><span style="color: #FF8000">// cambiar a FALSE con certificados auténticos<br>        </span><span style="color: #007700">]);<br><br>        </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">base </span><span style="color: #007700">= new </span><span style="color: #0000BB">EventBase</span><span style="color: #007700">();<br>        if (!</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">base</span><span style="color: #007700">) {<br>            exit(</span><span style="color: #DD0000">"Imposible abrir la base del evento\n"</span><span style="color: #007700">);<br>        }<br><br>        if (!</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">listener </span><span style="color: #007700">= new </span><span style="color: #0000BB">EventListener</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">base</span><span style="color: #007700">,<br>            [</span><span style="color: #0000BB">$this</span><span style="color: #007700">, </span><span style="color: #DD0000">'ev_accept'</span><span style="color: #007700">],<br>            </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">ctx</span><span style="color: #007700">,<br>            </span><span style="color: #0000BB">EventListener</span><span style="color: #007700">::</span><span style="color: #0000BB">OPT_CLOSE_ON_FREE </span><span style="color: #007700">| </span><span style="color: #0000BB">EventListener</span><span style="color: #007700">::</span><span style="color: #0000BB">OPT_REUSEABLE</span><span style="color: #007700">,<br>            -</span><span style="color: #0000BB">1</span><span style="color: #007700">,<br>            </span><span style="color: #DD0000">'0.0.0.0:25'</span><span style="color: #007700">))<br>        {<br>            exit(</span><span style="color: #DD0000">"Imposible crear el oyente\n"</span><span style="color: #007700">);<br>        }<br><br>        </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">listener</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setErrorCallback</span><span style="color: #007700">([</span><span style="color: #0000BB">$this</span><span style="color: #007700">, </span><span style="color: #DD0000">'ev_error'</span><span style="color: #007700">]);<br>        </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">base</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">dispatch</span><span style="color: #007700">();<br>    }<br><br>    public function </span><span style="color: #0000BB">ev_accept</span><span style="color: #007700">(</span><span style="color: #0000BB">$listener</span><span style="color: #007700">, </span><span style="color: #0000BB">$fd</span><span style="color: #007700">, </span><span style="color: #0000BB">$address</span><span style="color: #007700">, </span><span style="color: #0000BB">$ctx</span><span style="color: #007700">) {<br>        static </span><span style="color: #0000BB">$id </span><span style="color: #007700">= </span><span style="color: #0000BB">0</span><span style="color: #007700">;<br>        </span><span style="color: #0000BB">$id </span><span style="color: #007700">+= </span><span style="color: #0000BB">1</span><span style="color: #007700">;<br><br>        </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">connections</span><span style="color: #007700">[</span><span style="color: #0000BB">$id</span><span style="color: #007700">][</span><span style="color: #DD0000">'clientData'</span><span style="color: #007700">] = </span><span style="color: #DD0000">''</span><span style="color: #007700">;<br>        </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">connections</span><span style="color: #007700">[</span><span style="color: #0000BB">$id</span><span style="color: #007700">][</span><span style="color: #DD0000">'cnx'</span><span style="color: #007700">] = new </span><span style="color: #0000BB">EventBufferEvent</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">base</span><span style="color: #007700">, </span><span style="color: #0000BB">$fd</span><span style="color: #007700">,<br>            </span><span style="color: #0000BB">EventBufferEvent</span><span style="color: #007700">::</span><span style="color: #0000BB">OPT_CLOSE_ON_FREE</span><span style="color: #007700">);<br><br>        if (!</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">connections</span><span style="color: #007700">[</span><span style="color: #0000BB">$id</span><span style="color: #007700">][</span><span style="color: #DD0000">'cnx'</span><span style="color: #007700">]) {<br>            echo </span><span style="color: #DD0000">"Fallo en la creación del buffer\n"</span><span style="color: #007700">;<br>            </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">base</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">exit</span><span style="color: #007700">(</span><span style="color: #0000BB">NULL</span><span style="color: #007700">);<br>            exit(</span><span style="color: #0000BB">1</span><span style="color: #007700">);<br>        }<br><br>        </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">connections</span><span style="color: #007700">[</span><span style="color: #0000BB">$id</span><span style="color: #007700">][</span><span style="color: #DD0000">'cnx'</span><span style="color: #007700">]-&gt;</span><span style="color: #0000BB">setCallbacks</span><span style="color: #007700">([</span><span style="color: #0000BB">$this</span><span style="color: #007700">, </span><span style="color: #DD0000">"ev_read"</span><span style="color: #007700">], </span><span style="color: #0000BB">NULL</span><span style="color: #007700">,<br>            [</span><span style="color: #0000BB">$this</span><span style="color: #007700">, </span><span style="color: #DD0000">'ev_error'</span><span style="color: #007700">], </span><span style="color: #0000BB">$id</span><span style="color: #007700">);<br>        </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">connections</span><span style="color: #007700">[</span><span style="color: #0000BB">$id</span><span style="color: #007700">][</span><span style="color: #DD0000">'cnx'</span><span style="color: #007700">]-&gt;</span><span style="color: #0000BB">enable</span><span style="color: #007700">(</span><span style="color: #0000BB">Event</span><span style="color: #007700">::</span><span style="color: #0000BB">READ </span><span style="color: #007700">| </span><span style="color: #0000BB">Event</span><span style="color: #007700">::</span><span style="color: #0000BB">WRITE</span><span style="color: #007700">);<br><br>        </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">ev_write</span><span style="color: #007700">(</span><span style="color: #0000BB">$id</span><span style="color: #007700">, </span><span style="color: #DD0000">'220 '</span><span style="color: #007700">.</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">domainName</span><span style="color: #007700">.</span><span style="color: #DD0000">" wazzzap?\r\n"</span><span style="color: #007700">);<br>    }<br><br>    function </span><span style="color: #0000BB">ev_error</span><span style="color: #007700">(</span><span style="color: #0000BB">$listener</span><span style="color: #007700">, </span><span style="color: #0000BB">$ctx</span><span style="color: #007700">) {<br>        </span><span style="color: #0000BB">$errno </span><span style="color: #007700">= </span><span style="color: #0000BB">EventUtil</span><span style="color: #007700">::</span><span style="color: #0000BB">getLastSocketErrno</span><span style="color: #007700">();<br><br>        </span><span style="color: #0000BB">fprintf</span><span style="color: #007700">(</span><span style="color: #0000BB">STDERR</span><span style="color: #007700">, </span><span style="color: #DD0000">"Se recibe el error %d (%s) en el oyente. Detención.\n"</span><span style="color: #007700">,<br>            </span><span style="color: #0000BB">$errno</span><span style="color: #007700">, </span><span style="color: #0000BB">EventUtil</span><span style="color: #007700">::</span><span style="color: #0000BB">getLastSocketError</span><span style="color: #007700">());<br><br>        if (</span><span style="color: #0000BB">$errno </span><span style="color: #007700">!= </span><span style="color: #0000BB">0</span><span style="color: #007700">) {<br>            </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">base</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">exit</span><span style="color: #007700">(</span><span style="color: #0000BB">NULL</span><span style="color: #007700">);<br>            exit();<br>        }<br>    }<br><br>    public function </span><span style="color: #0000BB">ev_close</span><span style="color: #007700">(</span><span style="color: #0000BB">$id</span><span style="color: #007700">) {<br>        </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">connections</span><span style="color: #007700">[</span><span style="color: #0000BB">$id</span><span style="color: #007700">][</span><span style="color: #DD0000">'cnx'</span><span style="color: #007700">]-&gt;</span><span style="color: #0000BB">disable</span><span style="color: #007700">(</span><span style="color: #0000BB">Event</span><span style="color: #007700">::</span><span style="color: #0000BB">READ </span><span style="color: #007700">| </span><span style="color: #0000BB">Event</span><span style="color: #007700">::</span><span style="color: #0000BB">WRITE</span><span style="color: #007700">);<br>        unset(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">connections</span><span style="color: #007700">[</span><span style="color: #0000BB">$id</span><span style="color: #007700">]);<br>    }<br><br>    protected function </span><span style="color: #0000BB">ev_write</span><span style="color: #007700">(</span><span style="color: #0000BB">$id</span><span style="color: #007700">, </span><span style="color: #0000BB">$string</span><span style="color: #007700">) {<br>        echo </span><span style="color: #DD0000">'S('</span><span style="color: #007700">.</span><span style="color: #0000BB">$id</span><span style="color: #007700">.</span><span style="color: #DD0000">'): '</span><span style="color: #007700">.</span><span style="color: #0000BB">$string</span><span style="color: #007700">;<br>        </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">connections</span><span style="color: #007700">[</span><span style="color: #0000BB">$id</span><span style="color: #007700">][</span><span style="color: #DD0000">'cnx'</span><span style="color: #007700">]-&gt;</span><span style="color: #0000BB">write</span><span style="color: #007700">(</span><span style="color: #0000BB">$string</span><span style="color: #007700">);<br>    }<br><br>    public function </span><span style="color: #0000BB">ev_read</span><span style="color: #007700">(</span><span style="color: #0000BB">$buffer</span><span style="color: #007700">, </span><span style="color: #0000BB">$id</span><span style="color: #007700">) {<br>        while(</span><span style="color: #0000BB">$buffer</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">input</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">length </span><span style="color: #007700">&gt; </span><span style="color: #0000BB">0</span><span style="color: #007700">) {<br>            </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">connections</span><span style="color: #007700">[</span><span style="color: #0000BB">$id</span><span style="color: #007700">][</span><span style="color: #DD0000">'clientData'</span><span style="color: #007700">] .= </span><span style="color: #0000BB">$buffer</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">input</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">read</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">maxRead</span><span style="color: #007700">);<br>            </span><span style="color: #0000BB">$clientDataLen </span><span style="color: #007700">= </span><span style="color: #0000BB">strlen</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">connections</span><span style="color: #007700">[</span><span style="color: #0000BB">$id</span><span style="color: #007700">][</span><span style="color: #DD0000">'clientData'</span><span style="color: #007700">]);<br><br>            if(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">connections</span><span style="color: #007700">[</span><span style="color: #0000BB">$id</span><span style="color: #007700">][</span><span style="color: #DD0000">'clientData'</span><span style="color: #007700">][</span><span style="color: #0000BB">$clientDataLen</span><span style="color: #007700">-</span><span style="color: #0000BB">1</span><span style="color: #007700">] == </span><span style="color: #DD0000">"\n"<br>                </span><span style="color: #007700">&amp;&amp; </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">connections</span><span style="color: #007700">[</span><span style="color: #0000BB">$id</span><span style="color: #007700">][</span><span style="color: #DD0000">'clientData'</span><span style="color: #007700">][</span><span style="color: #0000BB">$clientDataLen</span><span style="color: #007700">-</span><span style="color: #0000BB">2</span><span style="color: #007700">] == </span><span style="color: #DD0000">"\r"</span><span style="color: #007700">)<br>            {<br>                </span><span style="color: #FF8000">// Elimina los caracteres \r\n al final<br>                </span><span style="color: #0000BB">$line </span><span style="color: #007700">= </span><span style="color: #0000BB">substr</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">connections</span><span style="color: #007700">[</span><span style="color: #0000BB">$id</span><span style="color: #007700">][</span><span style="color: #DD0000">'clientData'</span><span style="color: #007700">], </span><span style="color: #0000BB">0</span><span style="color: #007700">,<br>                    </span><span style="color: #0000BB">strlen</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">connections</span><span style="color: #007700">[</span><span style="color: #0000BB">$id</span><span style="color: #007700">][</span><span style="color: #DD0000">'clientData'</span><span style="color: #007700">]) - </span><span style="color: #0000BB">2</span><span style="color: #007700">);<br><br>                </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">connections</span><span style="color: #007700">[</span><span style="color: #0000BB">$id</span><span style="color: #007700">][</span><span style="color: #DD0000">'clientData'</span><span style="color: #007700">] = </span><span style="color: #DD0000">''</span><span style="color: #007700">;<br>                </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">cmd</span><span style="color: #007700">(</span><span style="color: #0000BB">$buffer</span><span style="color: #007700">, </span><span style="color: #0000BB">$id</span><span style="color: #007700">, </span><span style="color: #0000BB">$line</span><span style="color: #007700">);<br>            }<br>        }<br>    }<br><br>    protected function </span><span style="color: #0000BB">cmd</span><span style="color: #007700">(</span><span style="color: #0000BB">$buffer</span><span style="color: #007700">, </span><span style="color: #0000BB">$id</span><span style="color: #007700">, </span><span style="color: #0000BB">$line</span><span style="color: #007700">) {<br>        switch (</span><span style="color: #0000BB">$line</span><span style="color: #007700">) {<br>            case </span><span style="color: #0000BB">strncmp</span><span style="color: #007700">(</span><span style="color: #DD0000">'EHLO '</span><span style="color: #007700">, </span><span style="color: #0000BB">$line</span><span style="color: #007700">, </span><span style="color: #0000BB">4</span><span style="color: #007700">):<br>                </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">ev_write</span><span style="color: #007700">(</span><span style="color: #0000BB">$id</span><span style="color: #007700">, </span><span style="color: #DD0000">"250-STARTTLS\r\n"</span><span style="color: #007700">);<br>                </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">ev_write</span><span style="color: #007700">(</span><span style="color: #0000BB">$id</span><span style="color: #007700">, </span><span style="color: #DD0000">"250 OK ehlo\r\n"</span><span style="color: #007700">);<br>                break;<br><br>            case </span><span style="color: #0000BB">strncmp</span><span style="color: #007700">(</span><span style="color: #DD0000">'HELO '</span><span style="color: #007700">, </span><span style="color: #0000BB">$line</span><span style="color: #007700">, </span><span style="color: #0000BB">4</span><span style="color: #007700">):<br>                </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">ev_write</span><span style="color: #007700">(</span><span style="color: #0000BB">$id</span><span style="color: #007700">, </span><span style="color: #DD0000">"250-STARTTLS\r\n"</span><span style="color: #007700">);<br>                </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">ev_write</span><span style="color: #007700">(</span><span style="color: #0000BB">$id</span><span style="color: #007700">, </span><span style="color: #DD0000">"250 OK helo\r\n"</span><span style="color: #007700">);<br>                break;<br><br>            case </span><span style="color: #0000BB">strncmp</span><span style="color: #007700">(</span><span style="color: #DD0000">'QUIT'</span><span style="color: #007700">, </span><span style="color: #0000BB">$line</span><span style="color: #007700">, </span><span style="color: #0000BB">3</span><span style="color: #007700">):<br>                </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">ev_write</span><span style="color: #007700">(</span><span style="color: #0000BB">$id</span><span style="color: #007700">, </span><span style="color: #DD0000">"250 OK quit\r\n"</span><span style="color: #007700">);<br>                </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">ev_close</span><span style="color: #007700">(</span><span style="color: #0000BB">$id</span><span style="color: #007700">);<br>                break;<br><br>            case </span><span style="color: #0000BB">strncmp</span><span style="color: #007700">(</span><span style="color: #DD0000">'STARTTLS'</span><span style="color: #007700">, </span><span style="color: #0000BB">$line</span><span style="color: #007700">, </span><span style="color: #0000BB">3</span><span style="color: #007700">):<br>                </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">ev_write</span><span style="color: #007700">(</span><span style="color: #0000BB">$id</span><span style="color: #007700">, </span><span style="color: #DD0000">"220 Ready to start TLS\r\n"</span><span style="color: #007700">);<br>                </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">connections</span><span style="color: #007700">[</span><span style="color: #0000BB">$id</span><span style="color: #007700">][</span><span style="color: #DD0000">'cnx'</span><span style="color: #007700">] = </span><span style="color: #0000BB">EventBufferEvent</span><span style="color: #007700">::</span><span style="color: #0000BB">sslFilter</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">base</span><span style="color: #007700">,<br>                    </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">connections</span><span style="color: #007700">[</span><span style="color: #0000BB">$id</span><span style="color: #007700">][</span><span style="color: #DD0000">'cnx'</span><span style="color: #007700">], </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">ctx</span><span style="color: #007700">,<br>                    </span><span style="color: #0000BB">EventBufferEvent</span><span style="color: #007700">::</span><span style="color: #0000BB">SSL_ACCEPTING</span><span style="color: #007700">,<br>                    </span><span style="color: #0000BB">EventBufferEvent</span><span style="color: #007700">::</span><span style="color: #0000BB">OPT_CLOSE_ON_FREE</span><span style="color: #007700">);<br>                </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">connections</span><span style="color: #007700">[</span><span style="color: #0000BB">$id</span><span style="color: #007700">][</span><span style="color: #DD0000">'cnx'</span><span style="color: #007700">]-&gt;</span><span style="color: #0000BB">setCallbacks</span><span style="color: #007700">([</span><span style="color: #0000BB">$this</span><span style="color: #007700">, </span><span style="color: #DD0000">"ev_read"</span><span style="color: #007700">], </span><span style="color: #0000BB">NULL</span><span style="color: #007700">, [</span><span style="color: #0000BB">$this</span><span style="color: #007700">, </span><span style="color: #DD0000">'ev_error'</span><span style="color: #007700">], </span><span style="color: #0000BB">$id</span><span style="color: #007700">);<br>                </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">connections</span><span style="color: #007700">[</span><span style="color: #0000BB">$id</span><span style="color: #007700">][</span><span style="color: #DD0000">'cnx'</span><span style="color: #007700">]-&gt;</span><span style="color: #0000BB">enable</span><span style="color: #007700">(</span><span style="color: #0000BB">Event</span><span style="color: #007700">::</span><span style="color: #0000BB">READ </span><span style="color: #007700">| </span><span style="color: #0000BB">Event</span><span style="color: #007700">::</span><span style="color: #0000BB">WRITE</span><span style="color: #007700">);<br>                break;<br><br>            default:<br>                echo </span><span style="color: #DD0000">'Comando desconocido : '</span><span style="color: #007700">.</span><span style="color: #0000BB">$line</span><span style="color: #007700">.</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br>                break;<br>        }<br>    }<br>}<br><br>new </span><span style="color: #0000BB">Handler</span><span style="color: #007700">();</span></span></code></div>
  </div>

 </div>
</div>

<hr>



 



<div id="event.flags" class="chapter"><hr>
 <h1 class="title">Los flags de eventos</h1>

 <p class="para">
  <strong><code><a href="#event.constants.read">Event::READ</a></code></strong>
  Este flag indica que el evento se activa cuando el descriptor de fichero proporcionado (generalmente un recurso de flujo o un socket) está listo para ser leído.
 </p>
 <p class="para">
  <strong><code><a href="#event.constants.write">Event::WRITE</a></code></strong>
  Este flag indica que el evento se activa cuando el descriptor de fichero proporcionado (generalmente un recurso de flujo o un socket) está listo para ser leído.
 </p>
 <p class="para">
  <strong><code><a href="#event.constants.signal">Event::SIGNAL</a></code></strong>
  Este flag se utiliza para implementar la detección de señales. Ver la creación de un evento de tipo señal a continuación.
 </p>
 <p class="para">
  <strong><code><a href="#event.constants.timeout">Event::TIMEOUT</a></code></strong>
  Este flag indica que el evento se activa después de la expiración de un tiempo límite. El flag <strong><code><a href="#event.constants.timeout">Event::TIMEOUT</a></code></strong> se ignora durante la construcción de un evento: un tiempo límite puede ser definido al <em>añadir</em> el evento, o no. Se define en el argumento <code class="literal">$what</code> de la función de retrollamada cuando se alcanza el tiempo límite.
 </p>
 <p class="para">
  Ver también
  <a href="http://www.wangafu.net/~nickm/libevent-book/Ref4_event.html#_the_event_flags" class="link external">» 
  la programación de red fácil, portable y no bloqueante con Libevent; los trabajos con los eventos y sus flags</a>
 </p>
</div>

<hr>




 



<div id="event.persistence" class="chapter"><hr>
 <h1 class="title">Acerca de la persistencia de eventos</h1>

 <p class="para">
  Por omisión, tan pronto como un evento pendiente se vuelve activo (porque su descriptor de fichero está listo para ser leído o escrito, o porque su tiempo de espera máximo ha sido alcanzado), ya no está pendiente una vez que su función de retrollamada es ejecutada. Asimismo, para volver a poner el evento en estado pendiente, una manera es llamar al método <span class="methodname"><a href="#event.add" class="methodname">Event::add()</a></span> en la función de retrollamada.
 </p>
 <p class="para">
  Si el flag <strong><code><a href="#event.constants.persist">Event::PERSIST</a></code></strong> está definido en el evento, entonces es <em>persistente</em>. Esto significa que el evento permanece en estado pendiente incluso cuando su función de retrollamada es activada. El método <span class="methodname"><a href="#event.del" class="methodname">Event::del()</a></span> puede ser llamado para pasarlo a estado no pendiente.
 </p>
 <p class="para">
  El tiempo de espera máximo en un evento persistente es reinicializado tan pronto como su función de retrollamada es ejecutada. Así, si un evento tiene los flags <strong><code><a href="#event.constants.read">Event::READ</a></code></strong> <code class="literal">|</code> <strong><code><a href="#event.constants.persist">Event::PERSIST</a></code></strong> y un tiempo de espera fijado a 5 segundos, el evento se vuelve activo:
 </p>
 <ol type="1">
  <li class="listitem">
   <p class="para">
    Cuando el socket o el descriptor de fichero está listo para la lectura.
   </p>
  </li>
  <li class="listitem">
   <p class="para">
    Cuando han pasado 5 segundos desde la última activación del evento.
   </p>
  </li>
 </ol>
 <p class="para">
  Ver también
  <a href="http://www.wangafu.net/~nickm/libevent-book/Ref4_event.html#_about_event_persistence" class="link external">» 
  la programación de red rápida, portable y no bloqueante con Libevent; Acerca de los eventos persistentes</a>
 </p>
</div>

<hr>



 



<div id="event.callbacks" class="chapter"><hr>
 <h1 class="title">Funciones de retrollamada de eventos</h1>

 <p class="para">
  Si una función de retrollamada está registrada para un evento, será llamada cuando el evento se active. Para asociar una función de retrollamada con un evento, se debe pasar con un tipo <span class="type"><a href="#language.types.callable" class="type callable">callable</a></span> al método <span class="methodname"><a href="#event.construct" class="methodname">Event::__construct()</a></span>, <span class="methodname"><a href="#event.set" class="methodname">Event::set()</a></span>, o cualquier otro método factorial como <span class="methodname"><a href="#event.timer" class="methodname">Event::timer()</a></span>.
 </p>
 <p class="para">
  Una función de retrollamada de evento debe corresponder al siguiente prototipo:
 </p>
 <div class="methodsynopsis dc-description"><span class="methodname"><strong>callback</strong></span>(<span class="methodparam">
   
   <span class="type"><a href="#language.types.mixed" class="type mixed">mixed</a></span> <code class="parameter">$fd</code>
   <span class="initializer"> = <strong><code><a href="#constant.null">null</a></code></strong></span>
  </span>, <span class="methodparam">
   
   <span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$what</code>
  <span class="initializer"> = ?</span></span>, <span class="methodparam">
   
   <span class="type"><a href="#language.types.mixed" class="type mixed">mixed</a></span> <code class="parameter">$arg</code>
   <span class="initializer"> = <strong><code><a href="#constant.null">null</a></code></strong></span>
  </span>): <span class="type"><a href="language.types.void.html" class="type void">void</a></span></div>

 <p class="para">
  </p><dl>
   
    <dt>
     <code class="parameter">fd</code>
    </dt>
    <dd>
     <p class="para">
      Un descriptor de fichero, un recurso de flujo, o un socket asociado con el evento. Para los eventos de tipo señal, <code class="parameter">fd</code> corresponde al número de la señal.
     </p>
    </dd>
   
   
    <dt>
     <code class="parameter">what</code>
    </dt>
    <dd>
     <p class="para">
      Máscara de bits de <em>todos</em> los eventos lanzados.
     </p>
    </dd>
   
   
    <dt>
     <code class="parameter">arg</code>
    </dt>
    <dd>
     <p class="para">
      Datos de usuario personalizados.
     </p>
    </dd>
   
  </dl>
 
 <p class="para">
  El método <span class="methodname"><a href="#event.timer" class="methodname">Event::timer()</a></span> espera una función de retrollamada que corresponda al siguiente prototipo:
 </p>
 <div class="methodsynopsis dc-description"><span class="methodname"><strong>callback</strong></span>(<span class="methodparam">
   
   <span class="type"><a href="#language.types.mixed" class="type mixed">mixed</a></span> <code class="parameter">$arg</code>
   <span class="initializer"> = <strong><code><a href="#constant.null">null</a></code></strong></span>
  </span>): <span class="type"><a href="language.types.void.html" class="type void">void</a></span></div>

 <p class="para">
  </p><dl>
   
    <dt>
     <code class="parameter">arg</code>
    </dt>
    <dd>
     <p class="para">
      Datos de usuario personalizados.
     </p>
    </dd>
   
  </dl>
 
 <p class="para">
  El método <span class="methodname"><a href="#event.signal" class="methodname">Event::signal()</a></span> espera una función de retrollamada que corresponda al siguiente prototipo:
 </p>
 <div class="methodsynopsis dc-description"><span class="methodname"><strong>callback</strong></span>(<span class="methodparam">
   
   <span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$signum</code>
  <span class="initializer"> = ?</span></span>, <span class="methodparam">
   
   <span class="type"><a href="#language.types.mixed" class="type mixed">mixed</a></span> <code class="parameter">$arg</code>
   <span class="initializer"> = <strong><code><a href="#constant.null">null</a></code></strong></span>
  </span>): <span class="type"><a href="language.types.void.html" class="type void">void</a></span></div>

 <p class="para">
  </p><dl>
   
    <dt>
     <code class="parameter">signum</code>
    </dt>
    <dd>
     <p class="para">
      El número de la señal lanzada (i.e. <strong><code><a href="#constant.sigterm">SIGTERM</a></code></strong>).
     </p>
    </dd>
   
   
    <dt>
     <code class="parameter">arg</code>
    </dt>
    <dd>
     <p class="para">
      Datos de usuario personalizados.
     </p>
    </dd>
   
  </dl>
 
</div>

<hr>




 



<div id="event.constructing.signal.events" class="chapter"><hr>
 <h1 class="title">Construcción de un evento de tipo señal</h1>

 <p class="para">
  Un evento puede también supervisar las señales de estilo POSIX.
  Para construir un gestor para una señal, utilice el método
  <span class="methodname"><a href="#event.construct" class="methodname">Event::__construct()</a></span> con el flag
  <strong><code><a href="#event.constants.signal">Event::SIGNAL</a></code></strong> o el método factorial
  <span class="methodname"><a href="#event.signal" class="methodname">Event::signal()</a></span>.
 </p>
 <div class="example" id="example-4534">
  <p><strong>Ejemplo #1 Gestión de una señal <code class="literal">SIGTERM</code></strong></p>
  <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br></span><span style="color: #FF8000">/*<br>Ejecute este ejemplo en un terminal:<br><br>$ php examples/signal.php<br><br>En otro terminal, encuentre el pid y envíe la señal SIGTERM, es decir:<br><br>$ ps aux | grep examp<br>ruslan    3976  0.2  0.0 139896 11256 pts/1    S+   10:25   0:00 php examples/signal.php<br>ruslan    3978  0.0  0.0   9572   864 pts/2    S+   10:26   0:00 grep --color=auto examp<br>$ kill -TERM 3976<br><br>En el primer terminal, debería capturar lo siguiente:<br><br>Caught signal 15<br>*/<br></span><span style="color: #007700">class </span><span style="color: #0000BB">MyEventSignal </span><span style="color: #007700">{<br>    private </span><span style="color: #0000BB">$base</span><span style="color: #007700">, </span><span style="color: #0000BB">$ev</span><span style="color: #007700">;<br><br>    public function </span><span style="color: #0000BB">__construct</span><span style="color: #007700">(</span><span style="color: #0000BB">$base</span><span style="color: #007700">) {<br>        </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">base </span><span style="color: #007700">= </span><span style="color: #0000BB">$base</span><span style="color: #007700">;<br>        </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">ev </span><span style="color: #007700">= </span><span style="color: #0000BB">Event</span><span style="color: #007700">::</span><span style="color: #0000BB">signal</span><span style="color: #007700">(</span><span style="color: #0000BB">$base</span><span style="color: #007700">, </span><span style="color: #0000BB">SIGTERM</span><span style="color: #007700">, array(</span><span style="color: #0000BB">$this</span><span style="color: #007700">, </span><span style="color: #DD0000">'eventSighandler'</span><span style="color: #007700">));<br>        </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">ev</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">add</span><span style="color: #007700">();<br>    }<br><br>    public function </span><span style="color: #0000BB">eventSighandler</span><span style="color: #007700">(</span><span style="color: #0000BB">$no</span><span style="color: #007700">, </span><span style="color: #0000BB">$c</span><span style="color: #007700">) {<br>        echo </span><span style="color: #DD0000">"Caught signal </span><span style="color: #0000BB">$no</span><span style="color: #DD0000">\n"</span><span style="color: #007700">;<br>        </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">base</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">exit</span><span style="color: #007700">();<br>    }<br>}<br><br></span><span style="color: #0000BB">$base </span><span style="color: #007700">= new </span><span style="color: #0000BB">EventBase</span><span style="color: #007700">();<br></span><span style="color: #0000BB">$c    </span><span style="color: #007700">= new </span><span style="color: #0000BB">MyEventSignal</span><span style="color: #007700">(</span><span style="color: #0000BB">$base</span><span style="color: #007700">);<br><br></span><span style="color: #0000BB">$base</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">loop</span><span style="color: #007700">();<br></span><span style="color: #0000BB">?&gt;</span></span></code></div>
  </div>

 </div>
 <p class="para">
  Tenga en cuenta que las funciones de retrollamada de una señal se ejecutan en el bucle de eventos después de que la señal haya ocurrido, por lo tanto, es más seguro para la señal llamar a funciones desde el bucle que no se supone que se llamen desde un gestor de señales POSIX clásico.
 </p>
 <p class="para"></p>
 <p class="para">
  Véase también la
  <a href="http://www.wangafu.net/~nickm/libevent-book/Ref4_event.html#_constructing_signal_events" class="link external">» 
  programación de red fácil, portable y no bloqueante con Libevent; Construcción de un evento de tipo señal</a>.
 </p>
</div>

<hr>




 



<div id="class.event" class="reference"><hr>
 <h1 class="title">La clase Event</h1>
 
 <div class="partintro"><p class="verinfo">(PECL event &gt;= 1.2.6-beta)</p>

  <div class="section" id="event.intro">
   <h2 class="title">Introducción</h2>
   <p class="para">
    La clase <span class="classname"><strong class="classname">Event</strong></span> representa y lanza un evento
    sobre un descriptor de fichero que se ha vuelto listo para una lectura o una escritura;
    un descriptor de fichero se vuelve listo para una lectura o una escritura
    (I/O únicamente); un tiempo de espera expirado; una señal ocurriendo;
    un evento lanzado por el usuario.
   </p>
   <p class="para">
    Cada evento está asociado con un <span class="classname"><a href="#class.eventbase" class="classname">EventBase</a></span>.
    Sin embargo, el evento nunca será lanzado hasta que no haya sido
    <em>añadido</em> (a través del método <span class="methodname"><a href="#event.add" class="methodname">Event::add()</a></span>).
    Un evento añadido permanece en un estado de <em>espera</em>
    hasta que el evento registrado ocurra, pasándolo así a un estado <em>activo</em>. Para gestionar los eventos, el usuario
    debe registrar una función de retrollamada que será llamada cuando el evento
    se vuelva activo. Si el evento está configurado como <em>persistente</em>,
    permanecerá en espera. Si no es persistente, ya no estará en espera
    cuando su función de retrollamada sea ejecutada. El método <span class="methodname"><a href="#event.del" class="methodname">Event::del()</a></span>
    <em>elimina</em> el evento, y ya no estará en espera.
    Al llamar al método <span class="methodname"><a href="#event.add" class="methodname">Event::add()</a></span>, será añadido
    de nuevo.
   </p>
  </div>

  <div class="section" id="event.synopsis">
   <h2 class="title">Sinopsis de la Clase</h2>


   <div class="classsynopsis">
    <span class="ooclass">
     <strong class="classname"></strong>
    </span>

    <div class="classsynopsisinfo">
     <span class="ooclass">
      <span class="modifier">final</span>
      <span class="modifier">class</span> <strong class="classname">Event</strong>
     </span>
     {</div>

    <div class="classsynopsisinfo classsynopsisinfo_comment">/* Constantes */</div>
    <div class="fieldsynopsis">
     <span class="modifier">const</span>
     <span class="type"><a href="#language.types.integer" class="type int">int</a></span>
      <var class="fieldsynopsis_varname"><a href="#event.constants.et"><var class="varname">ET</var></a></var><span class="initializer"> = 32</span>;</div>

    <div class="fieldsynopsis"><span class="modifier">const</span>
     <span class="type"><a href="#language.types.integer" class="type int">int</a></span>
      <var class="fieldsynopsis_varname"><a href="#event.constants.persist"><var class="varname">PERSIST</var></a></var><span class="initializer"> = 16</span>;</div>

    <div class="fieldsynopsis"><span class="modifier">const</span>
     <span class="type"><a href="#language.types.integer" class="type int">int</a></span>
      <var class="fieldsynopsis_varname"><a href="#event.constants.read"><var class="varname">READ</var></a></var><span class="initializer"> = 2</span>;</div>

    <div class="fieldsynopsis"><span class="modifier">const</span>
     <span class="type"><a href="#language.types.integer" class="type int">int</a></span>
      <var class="fieldsynopsis_varname"><a href="#event.constants.write"><var class="varname">WRITE</var></a></var><span class="initializer"> = 4</span>;</div>

    <div class="fieldsynopsis"><span class="modifier">const</span>
     <span class="type"><a href="#language.types.integer" class="type int">int</a></span>
      <var class="fieldsynopsis_varname"><a href="#event.constants.signal"><var class="varname">SIGNAL</var></a></var><span class="initializer"> = 8</span>;</div>

    <div class="fieldsynopsis"><span class="modifier">const</span>
     <span class="type"><a href="#language.types.integer" class="type int">int</a></span>
      <var class="fieldsynopsis_varname"><a href="#event.constants.timeout"><var class="varname">TIMEOUT</var></a></var><span class="initializer"> = 1</span>;</div>

    <div class="classsynopsisinfo classsynopsisinfo_comment">/* Propiedades */</div>
    <div class="fieldsynopsis"><span class="modifier">public</span>
     <span class="modifier">readonly</span>
     <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span>
      <var class="varname"><a href="#event.props.pending">$<var class="varname">pending</var></a></var>;</div>

    <div class="classsynopsisinfo classsynopsisinfo_comment">/* Métodos */</div>
    <div class="methodsynopsis dc-description">
   <span class="modifier">public</span>
   <span class="methodname"><a href="#event.add" class="methodname">add</a></span>(<span class="methodparam">
    
    <span class="type"><a href="#language.types.float" class="type float">float</a></span> <code class="parameter">$timeout</code>
   <span class="initializer"> = ?</span></span>): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span>
   <span class="methodname"><a href="#event.construct" class="methodname">__construct</a></span>(<br>    <span class="methodparam">
    
    <span class="type"><a href="#class.eventbase" class="type EventBase">EventBase</a></span> <code class="parameter">$base</code>
   </span>,<br>    <span class="methodparam">
    
    <span class="type"><a href="#language.types.mixed" class="type mixed">mixed</a></span> <code class="parameter">$fd</code>
   </span>,<br>    <span class="methodparam">
    
    <span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$what</code>
   </span>,<br>    <span class="methodparam">
    
    <span class="type"><a href="#language.types.callable" class="type callable">callable</a></span> <code class="parameter">$cb</code>
   </span>,<br>    <span class="methodparam">
    
    <span class="type"><a href="#language.types.mixed" class="type mixed">mixed</a></span> <code class="parameter">$arg</code>
    <span class="initializer"> = NULL</span>
   </span><br>)</div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span>
   <span class="methodname"><a href="#event.del" class="methodname">del</a></span>(): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span>
   <span class="methodname"><a href="#event.free" class="methodname">free</a></span>(): <span class="type"><a href="language.types.void.html" class="type void">void</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span>
   <span class="modifier">static</span>
   <span class="methodname"><a href="#event.getsupportedmethods" class="methodname">getSupportedMethods</a></span>(): <span class="type"><a href="#language.types.array" class="type array">array</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span>
   <span class="methodname"><a href="#event.pending" class="methodname">pending</a></span>(<span class="methodparam">
    
    <span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$flags</code>
   </span>): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span>
   <span class="methodname"><a href="#event.set" class="methodname">set</a></span>(<br>    <span class="methodparam">
    
    <span class="type"><a href="#class.eventbase" class="type EventBase">EventBase</a></span> <code class="parameter">$base</code>
   </span>,<br>    <span class="methodparam">
    
    <span class="type"><a href="#language.types.mixed" class="type mixed">mixed</a></span> <code class="parameter">$fd</code>
   </span>,<br>    <span class="methodparam">
    
    <span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$what</code>
   <span class="initializer"> = ?</span></span>,<br>    <span class="methodparam">
    
    <span class="type"><a href="#language.types.callable" class="type callable">callable</a></span> <code class="parameter">$cb</code>
   <span class="initializer"> = ?</span></span>,<br>    <span class="methodparam">
    
    <span class="type"><a href="#language.types.mixed" class="type mixed">mixed</a></span> <code class="parameter">$arg</code>
   <span class="initializer"> = ?</span></span><br>): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span>
   <span class="methodname"><a href="#event.setpriority" class="methodname">setPriority</a></span>(<span class="methodparam">
    
    <span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$priority</code>
   </span>): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span>
   <span class="methodname"><a href="#event.settimer" class="methodname">setTimer</a></span>(<span class="methodparam">
    
    <span class="type"><a href="#class.eventbase" class="type EventBase">EventBase</a></span> <code class="parameter">$base</code>
   </span>, <span class="methodparam">
    
    <span class="type"><a href="#language.types.callable" class="type callable">callable</a></span> <code class="parameter">$cb</code>
   </span>, <span class="methodparam">
    
    <span class="type"><a href="#language.types.mixed" class="type mixed">mixed</a></span> <code class="parameter">$arg</code>
   <span class="initializer"> = ?</span></span>): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span>
   <span class="modifier">static</span>
   <span class="methodname"><a href="#event.signal" class="methodname">signal</a></span>(<br>    <span class="methodparam">
    
    <span class="type"><a href="#class.eventbase" class="type EventBase">EventBase</a></span> <code class="parameter">$base</code>
   </span>,<br>    <span class="methodparam">
    
    <span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$signum</code>
   </span>,<br>    <span class="methodparam">
    
    <span class="type"><a href="#language.types.callable" class="type callable">callable</a></span> <code class="parameter">$cb</code>
   </span>,<br>    <span class="methodparam">
    
    <span class="type"><a href="#language.types.mixed" class="type mixed">mixed</a></span> <code class="parameter">$arg</code>
   <span class="initializer"> = ?</span></span><br>): <span class="type"><a href="#class.event" class="type Event">Event</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span>
   <span class="modifier">static</span>
   <span class="methodname"><a href="#event.timer" class="methodname">timer</a></span>(<span class="methodparam">
    
    <span class="type"><a href="#class.eventbase" class="type EventBase">EventBase</a></span> <code class="parameter">$base</code>
   </span>, <span class="methodparam">
    
    <span class="type"><a href="#language.types.callable" class="type callable">callable</a></span> <code class="parameter">$cb</code>
   </span>, <span class="methodparam">
    
    <span class="type"><a href="#language.types.mixed" class="type mixed">mixed</a></span> <code class="parameter">$arg</code>
   <span class="initializer"> = ?</span></span>): <span class="type"><a href="#class.event" class="type Event">Event</a></span></div>

   }</div>

  </div>

  <div class="section" id="event.props">
   <h2 class="title">Propiedades</h2>
   <dl>
    
     <dt id="event.props.pending">
      <var class="varname">pending</var>
     </dt>
     <dd>
      <p class="para">
       Si el evento está en espera. Ver la sección :
       <a href="#event.persistence" class="link">Acerca de la persistencia de los eventos</a>.
      </p>
     </dd>
    
   </dl>
  </div>


  <div class="section" id="event.constants">
   <h2 class="title">Constantes predefinidas</h2>
   <dl>
    
     <dt id="event.constants.et">
      <strong><code><a href="#event.constants.et">Event::ET</a></code></strong>
     </dt>
     <dd>
      <p class="para">
       Indica que el evento debe ser lanzado, si la base de evento
       subyacente soporta este tipo de evento. Esto afecta la semántica
       de <strong><code><a href="#event.constants.read">Event::READ</a></code></strong> y de <strong><code><a href="#event.constants.write">Event::WRITE</a></code></strong>.
      </p>
     </dd>
    
    
     <dt id="event.constants.persist">
      <strong><code><a href="#event.constants.persist">Event::PERSIST</a></code></strong>
     </dt>
     <dd>
      <p class="para">
       Indica que el evento es persistente. Ver la sección :
       <a href="#event.persistence" class="link">Acerca de la persistencia de los eventos</a>.
      </p>
     </dd>
    
    
     <dt id="event.constants.read">
      <strong><code><a href="#event.constants.read">Event::READ</a></code></strong>
     </dt>
     <dd>
      <p class="para">
       Este flag indica que un evento se vuelve activo cuando el descriptor
       de fichero proporcionado (normalmente, un recurso de flujo o un socket)
       está listo para una lectura.
      </p>
     </dd>
    
    
     <dt id="event.constants.write">
      <strong><code><a href="#event.constants.write">Event::WRITE</a></code></strong>
     </dt>
     <dd>
      <p class="para">
       Este flag indica que un evento se vuelve activo cuando el descriptor
       de fichero proporcionado (normalmente, un recurso de flujo o un socket)
       está listo para una escritura.
      </p>
     </dd>
    
    
     <dt id="event.constants.signal">
      <strong><code><a href="#event.constants.signal">Event::SIGNAL</a></code></strong>
     </dt>
     <dd>
      <p class="para">
       Utilizado para implementar una detección de señal. Ver la sección a continuación
       sobre la construcción de un evento de tipo señal.
      </p>
     </dd>
    
    
     <dt id="event.constants.timeout">
      <strong><code><a href="#event.constants.timeout">Event::TIMEOUT</a></code></strong>
     </dt>
     <dd>
      <p class="para">
       Este flag indica que un evento se vuelve activo después de la expiración
       de este tiempo de espera máximo.
      </p>
      <p class="para">
       El flag <strong><code><a href="#event.constants.timeout">Event::TIMEOUT</a></code></strong> es ignorado durante la
       construcción de un evento: puede ser indicado o no durante la
       <em>adición</em> del evento. Debe ser definido en el argumento <code class="literal">$what</code> de la función de retrollamada
       cuando un tiempo de espera máximo haya ocurrido.
      </p>
     </dd>
    
   </dl>
  </div>

 </div>

 



<div id="event.add" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">Event::add</h1>
  <p class="verinfo">(PECL event &gt;= 1.2.6-beta)</p><p class="refpurpose"><span class="refname">Event::add</span> — <span class="dc-title">Pone un evento en espera</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-event.add-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span>
   <span class="methodname"><strong>Event::add</strong></span>(<span class="methodparam">
    
    <span class="type"><a href="#language.types.float" class="type float">float</a></span> <code class="parameter">$timeout</code>
   <span class="initializer"> = ?</span></span>): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>

  <p class="para rdfs-comment">
   Pone un evento en espera. Un evento que no tiene el estado en espera nunca se lanzará, y la retrollamada del evento nunca se llamará. Utilizando <span class="methodname"><a href="#event.del" class="methodname">Event::del()</a></span> un evento puede ser reprogramado por el usuario cuando lo desee.
  </p>
  <p class="para">
   Si <span class="methodname"><strong>Event::add()</strong></span> es llamado en un evento ya en espera, libevent lo dejará en espera y lo reprogramará con el nuevo timeout (si se da). En el caso de que el timeout no esté especificado, <span class="methodname"><strong>Event::add()</strong></span> no tiene ningún efecto.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-event.add-parameters">
  <h3 class="title">Parámetros</h3>
  <dl>
   
    <dt>
     <code class="parameter">timeout</code>
    </dt>
    <dd>
     <p class="para">
      Timeout en segundos.
     </p>
    </dd>
   
  </dl>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-event.add-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Esta función retorna <strong><code><a href="#constant.true">true</a></code></strong> en caso de éxito o <strong><code><a href="#constant.false">false</a></code></strong> si ocurre un error.
  </p>
 </div>


 <div class="refsect1 examples" id="refsect1-event.add-examples">
  <h3 class="title">Ejemplos</h3>
  <div class="example" id="example-4535">
   <p><strong>Ejemplo #1 Adición de una señal personalizada</strong></p>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br></span><span style="color: #FF8000">/*<br>Ejecute en una ventana de terminal:<br><br>$ php examples/signal.php<br><br>En otra ventana de terminal, encuentre el pid y envíe SIGTERM, por ejemplo:<br><br>$ ps aux | grep examp<br>ruslan    3976  0.2  0.0 139896 11256 pts/1    S+   10:25   0:00 php examples/signal.php<br>ruslan    3978  0.0  0.0   9572   864 pts/2    S+   10:26   0:00 grep --color=auto examp<br><br>$ kill -TERM 3976<br><br>En la primera ventana del terminal, debería ver lo siguiente:<br><br>Señal atrapada 15<br>*/<br><br></span><span style="color: #007700">class </span><span style="color: #0000BB">MyEventSignal </span><span style="color: #007700">{<br>    private </span><span style="color: #0000BB">$base</span><span style="color: #007700">, </span><span style="color: #0000BB">$ev</span><span style="color: #007700">;<br>    public function </span><span style="color: #0000BB">__construct</span><span style="color: #007700">(</span><span style="color: #0000BB">$base</span><span style="color: #007700">) {<br>        </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">base </span><span style="color: #007700">= </span><span style="color: #0000BB">$base</span><span style="color: #007700">;<br>        </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">ev </span><span style="color: #007700">= </span><span style="color: #0000BB">Event</span><span style="color: #007700">::</span><span style="color: #0000BB">signal</span><span style="color: #007700">(</span><span style="color: #0000BB">$base</span><span style="color: #007700">, </span><span style="color: #0000BB">SIGTERM</span><span style="color: #007700">, array(</span><span style="color: #0000BB">$this</span><span style="color: #007700">, </span><span style="color: #DD0000">'eventSighandler'</span><span style="color: #007700">));<br>        </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">ev</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">add</span><span style="color: #007700">();<br>    }<br>    public function </span><span style="color: #0000BB">eventSighandler</span><span style="color: #007700">(</span><span style="color: #0000BB">$no</span><span style="color: #007700">, </span><span style="color: #0000BB">$c</span><span style="color: #007700">) {<br>        echo </span><span style="color: #DD0000">"Señal atrapada </span><span style="color: #0000BB">$no</span><span style="color: #DD0000">\n"</span><span style="color: #007700">;<br>        </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">base</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">exit</span><span style="color: #007700">();<br>    }<br>}<br><br></span><span style="color: #0000BB">$base </span><span style="color: #007700">= new </span><span style="color: #0000BB">EventBase</span><span style="color: #007700">();<br></span><span style="color: #0000BB">$c </span><span style="color: #007700">= new </span><span style="color: #0000BB">MyEventSignal</span><span style="color: #007700">(</span><span style="color: #0000BB">$base</span><span style="color: #007700">);<br><br></span><span style="color: #0000BB">$base</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">loop</span><span style="color: #007700">();<br></span><span style="color: #0000BB">?&gt;</span></span></code></div>
   </div>

   <div class="example-contents"><p>Resultado del ejemplo anterior es similar a:</p></div>
   <div class="example-contents screen">
<div class="examplescode"><pre class="examplescode">Señal atrapada 15</pre>
</div>
   </div>
  </div>

  <div class="example" id="example-4536">
   <p><strong>Ejemplo #2 Adición de un temporizador</strong></p>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br><br>$base </span><span style="color: #007700">= new </span><span style="color: #0000BB">EventBase</span><span style="color: #007700">();<br></span><span style="color: #0000BB">$n </span><span style="color: #007700">= </span><span style="color: #0000BB">2</span><span style="color: #007700">;<br></span><span style="color: #0000BB">$e </span><span style="color: #007700">= </span><span style="color: #0000BB">Event</span><span style="color: #007700">::</span><span style="color: #0000BB">timer</span><span style="color: #007700">(</span><span style="color: #0000BB">$base</span><span style="color: #007700">, function(</span><span style="color: #0000BB">$n</span><span style="color: #007700">) use (&amp;</span><span style="color: #0000BB">$e</span><span style="color: #007700">) {<br>    echo </span><span style="color: #DD0000">"</span><span style="color: #0000BB">$n</span><span style="color: #DD0000"> segundos transcurridos\n"</span><span style="color: #007700">;<br>    </span><span style="color: #0000BB">$e</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">delTimer</span><span style="color: #007700">();<br>}, </span><span style="color: #0000BB">$n</span><span style="color: #007700">);<br></span><span style="color: #0000BB">$e</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">add</span><span style="color: #007700">(</span><span style="color: #0000BB">$n</span><span style="color: #007700">);<br></span><span style="color: #0000BB">$base</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">loop</span><span style="color: #007700">();<br></span><span style="color: #0000BB">?&gt;</span></span></code></div>
   </div>

   <div class="example-contents"><p>Resultado del ejemplo anterior es similar a:</p></div>
   <div class="example-contents screen">
<div class="examplescode"><pre class="examplescode">2 segundos transcurridos</pre>
</div>
   </div>
  </div>
 </div>


 <div class="refsect1 seealso" id="refsect1-event.add-seealso">
  <h3 class="title">Ver también</h3>
  <ul class="simplelist">
   <li><span class="methodname"><strong>Event::add()</strong></span></li>
   <li><span class="methodname"><a href="#event.del" class="methodname" rel="rdfs-seeAlso">Event::del()</a> - Elimina un evento de la lista de eventos monitoreados</span></li>
   <li><span class="methodname"><a href="#event.signal" class="methodname" rel="rdfs-seeAlso">Event::signal()</a> - Construye un objeto de evento de señal</span></li>
   <li><span class="methodname"><a href="#event.timer" class="methodname" rel="rdfs-seeAlso">Event::timer()</a> - Construye un objeto de evento timer</span></li>
  </ul>
 </div>

</div>
<hr>







<div id="event.addsignal" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">Event::addSignal</h1>
  <p class="verinfo">(PECL event &gt;= 1.2.6-beta)</p><p class="refpurpose"><span class="refname">Event::addSignal</span> — <span class="dc-title">Alias de <span class="methodname"><a href="#event.add" class="methodname">Event::add()</a></span></span></p>

 </div>
 <div class="refsect1 description" id="refsect1-event.addsignal-description">
  <h3 class="title">Descripción</h3>
  <p class="para">
   Este método es un alias de:  <span class="methodname"><a href="#event.add" class="methodname">Event::add()</a></span>
  </p>
 </div>

</div>
<hr>







<div id="event.addtimer" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">Event::addTimer</h1>
  <p class="verinfo">(PECL event &gt;= 1.2.6-beta)</p><p class="refpurpose"><span class="refname">Event::addTimer</span> — <span class="dc-title">Alias de <span class="methodname"><a href="#event.add" class="methodname">Event::add()</a></span></span></p>

 </div>
 <div class="refsect1 description" id="refsect1-event.addtimer-description">
  <h3 class="title">Descripción</h3>
  <p class="para">
   Este método es un alias de:  <span class="methodname"><a href="#event.add" class="methodname">Event::add()</a></span>
  </p>
 </div>

</div>
<hr>







<div id="event.construct" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">Event::__construct</h1>
  <p class="verinfo">(PECL event &gt;= 1.2.6-beta)</p><p class="refpurpose"><span class="refname">Event::__construct</span> — <span class="dc-title">Construye un objeto Event</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-event.construct-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description"><span class="modifier">public</span>
   <span class="methodname"><strong>Event::__construct</strong></span>(<br>    <span class="methodparam">
    
    <span class="type"><a href="#class.eventbase" class="type EventBase">EventBase</a></span> <code class="parameter">$base</code>
   </span>,<br>    <span class="methodparam">
    
    <span class="type"><a href="#language.types.mixed" class="type mixed">mixed</a></span> <code class="parameter">$fd</code>
   </span>,<br>    <span class="methodparam">
    
    <span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$what</code>
   </span>,<br>    <span class="methodparam">
    
    <span class="type"><a href="#language.types.callable" class="type callable">callable</a></span> <code class="parameter">$cb</code>
   </span>,<br>    <span class="methodparam">
    
    <span class="type"><a href="#language.types.mixed" class="type mixed">mixed</a></span> <code class="parameter">$arg</code>
    <span class="initializer"> = NULL</span>
   </span><br>)</div>

  <p class="para rdfs-comment">
   Construye un objeto Event.
  </p>
 </div>

 <div class="refsect1 parameters" id="refsect1-event.construct-parameters">
  <h3 class="title">Parámetros</h3>
  <dl>
   
    <dt>
     <code class="parameter">base</code>
    </dt>
    <dd>
     <p class="para">
      La base de evento a asociar.
     </p>
    </dd>
   
   
    <dt>
     <code class="parameter">fd</code>
    </dt>
    <dd>
     <p class="para">
      Recurso de flujo, recurso de socket, o descriptor numérico de fichero. Para los eventos timer, pase como valor <strong><code><a href="#constant.-1">-1</a></code></strong>. Para los eventos de tipo señal, pase el número de la señal, i.e. <strong><code><a href="#constant.sighup">SIGHUP</a></code></strong>.
     </p>
    </dd>
   
   
    <dt>
     <code class="parameter">what</code>
    </dt>
    <dd>
     <p class="para">
      Flags de eventos. Ver los <a href="#event.flags" class="link">flags de eventos</a> para más detalles.
     </p>
    </dd>
   
   
    <dt>
     <code class="parameter">cb</code>
    </dt>
    <dd>
     <p class="para">
      La función de retrollamada del evento. Ver las <a href="#event.callbacks" class="link">funciones de retrollamada de eventos</a> para más detalles.
     </p>
    </dd>
   
   
    <dt>
     <code class="parameter">arg</code>
    </dt>
    <dd>
     <p class="para">
      Datos personalizados. Si se especifican, serán pasados a la función de retrollamada cuando el evento haya lanzado los triggers.
     </p>
    </dd>
   
  </dl>
 </div>

 <div class="refsect1 seealso" id="refsect1-event.construct-seealso">
  <h3 class="title">Ver también</h3>
  <ul class="simplelist">
   <li>
    <span class="methodname"><a href="#event.signal" class="methodname" rel="rdfs-seeAlso">Event::signal()</a> - Construye un objeto de evento de señal</span>
   </li>
   <li>
    <span class="methodname"><a href="#event.timer" class="methodname" rel="rdfs-seeAlso">Event::timer()</a> - Construye un objeto de evento timer</span>
   </li>
  </ul>
 </div>

</div>
<hr>








<div id="event.del" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">Event::del</h1>
  <p class="verinfo">(PECL event &gt;= 1.2.6-beta)</p><p class="refpurpose"><span class="refname">Event::del</span> — <span class="dc-title">Elimina un evento de la lista de eventos monitoreados</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-event.del-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span>
   <span class="methodname"><strong>Event::del</strong></span>(): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>

  <p class="para rdfs-comment">
   Elimina un evento del conjunto de eventos monitoreados.
  </p>
 </div>

 <div class="refsect1 parameters" id="refsect1-event.del-parameters">
  <h3 class="title">Parámetros</h3>
  <p class="para">Esta función no contiene ningún parámetro.</p>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-event.del-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Esta función retorna <strong><code><a href="#constant.true">true</a></code></strong> en caso de éxito o <strong><code><a href="#constant.false">false</a></code></strong> si ocurre un error.
  </p>
 </div>

 <div class="refsect1 seealso" id="refsect1-event.del-seealso">
  <h3 class="title">Ver también</h3>
  <ul class="simplelist">
   <li>
    <span class="methodname"><a href="#event.add" class="methodname" rel="rdfs-seeAlso">Event::add()</a> - Pone un evento en espera</span>
   </li>
  </ul>
 </div>

</div>
<hr>







<div id="event.delsignal" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">Event::delSignal</h1>
  <p class="verinfo">(PECL event &gt;= 1.2.6-beta)</p><p class="refpurpose"><span class="refname">Event::delSignal</span> — <span class="dc-title">Alias de <span class="methodname"><a href="#event.del" class="methodname">Event::del()</a></span></span></p>

 </div>
 <div class="refsect1 description" id="refsect1-event.delsignal-description">
  <h3 class="title">Descripción</h3>
  <p class="para">
   Este método es un alias de:  <span class="methodname"><a href="#event.del" class="methodname">Event::del()</a></span>
  </p>
 </div>

</div>
<hr>







<div id="event.deltimer" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">Event::delTimer</h1>
  <p class="verinfo">(PECL event &gt;= 1.2.6-beta)</p><p class="refpurpose"><span class="refname">Event::delTimer</span> — <span class="dc-title">Alias de <span class="methodname"><a href="#event.del" class="methodname">Event::del()</a></span></span></p>

 </div>
 <div class="refsect1 description" id="refsect1-event.deltimer-description">
  <h3 class="title">Descripción</h3>
  <p class="para">
   Este método es un alias de:  <span class="methodname"><a href="#event.del" class="methodname">Event::del()</a></span>
  </p>
 </div>

</div>
<hr>







<div id="event.free" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">Event::free</h1>
  <p class="verinfo">(PECL event &gt;= 1.2.6-beta)</p><p class="refpurpose"><span class="refname">Event::free</span> — <span class="dc-title">Elimina un evento de la lista de eventos vigilados y libera los recursos asociados</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-event.free-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description"><span class="modifier">public</span>
   <span class="methodname"><strong>Event::free</strong></span>(): <span class="type"><a href="language.types.void.html" class="type void">void</a></span></div>

  <p class="para rdfs-comment">
   Elimina un evento de la lista de eventos vigilados por libevent y libera los recursos asignados a ese evento.
  </p>
  <div class="warning"><strong class="warning">Advertencia</strong>
   <p class="para">
    El método <span class="methodname"><strong>Event::free()</strong></span>
    no destruye actualmente el objeto en sí. Para destruir el objeto completamente, llame a la función <span class="function"><a href="#function.unset" class="function">unset()</a></span>
    o asigne el valor <strong><code><a href="#constant.null">null</a></code></strong>.
   </p>
  </div>
 </div>

 <div class="refsect1 parameters" id="refsect1-event.free-parameters">
  <h3 class="title">Parámetros</h3>
  <p class="para">Esta función no contiene ningún parámetro.</p>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-event.free-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   No se retorna ningún valor.
  </p>
 </div>

 <div class="refsect1 seealso" id="refsect1-event.free-seealso">
  <h3 class="title">Ver también</h3>
  <ul class="simplelist">
   <li>
    <span class="methodname"><a href="#event.construct" class="methodname" rel="rdfs-seeAlso">Event::__construct()</a> - Construye un objeto Event</span>
   </li>
  </ul>
 </div>

</div>
<hr>








<div id="event.getsupportedmethods" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">Event::getSupportedMethods</h1>
  <p class="verinfo">(PECL event &gt;= 1.2.6-beta)</p><p class="refpurpose"><span class="refname">Event::getSupportedMethods</span> — <span class="dc-title">Devuelve un array que contiene los nombres de los métodos soportados
   por esta versión de Libevent</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-event.getsupportedmethods-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span>
   <span class="modifier">static</span>
   <span class="methodname"><strong>Event::getSupportedMethods</strong></span>(): <span class="type"><a href="#language.types.array" class="type array">array</a></span></div>

  <p class="para rdfs-comment">
   Devuelve un array que contiene los nombres de los métodos soportados
   por esta versión de Libevent.
  </p>
 </div>

 <div class="refsect1 parameters" id="refsect1-event.getsupportedmethods-parameters">
  <h3 class="title">Parámetros</h3>
  <p class="para">Esta función no contiene ningún parámetro.</p>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-event.getsupportedmethods-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Devuelve un array.
  </p>
 </div>

 <div class="refsect1 seealso" id="refsect1-event.getsupportedmethods-seealso">
  <h3 class="title">Ver también</h3>
  <ul class="simplelist">
   <li>
    <span class="classname"><a href="#class.eventconfig" class="classname">EventConfig</a></span>
   </li>
  </ul>
 </div>

</div>
<hr>







<div id="event.pending" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">Event::pending</h1>
  <p class="verinfo">(PECL event &gt;= 1.2.6-beta)</p><p class="refpurpose"><span class="refname">Event::pending</span> — <span class="dc-title">Detecta si el evento está pendiente o programado</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-event.pending-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span>
   <span class="methodname"><strong>Event::pending</strong></span>(<span class="methodparam">
    
    <span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$flags</code>
   </span>): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>

  <p class="para rdfs-comment">
   Detecta si el evento está pendiente o programado.
  </p>
 </div>

 <div class="refsect1 parameters" id="refsect1-event.pending-parameters">
  <h3 class="title">Parámetros</h3>
  <dl>
   
    <dt>
     <code class="parameter">flags</code>
    </dt>
    <dd>
     <p class="para">
      Una o más de las siguientes constantes:
      <strong><code><a href="#event.constants.read">Event::READ</a></code></strong>,
      <strong><code><a href="#event.constants.write">Event::WRITE</a></code></strong>,
      <strong><code><a href="#event.constants.timeout">Event::TIMEOUT</a></code></strong>,
      <strong><code><a href="#event.constants.signal">Event::SIGNAL</a></code></strong>.
     </p>
    </dd>
   
  </dl>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-event.pending-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Devuelve <strong><code><a href="#constant.true">true</a></code></strong> si el evento está pendiente o programado,
   <strong><code><a href="#constant.false">false</a></code></strong> en caso contrario.
  </p>
 </div>

</div>
<hr>







<div id="event.set" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">Event::set</h1>
  <p class="verinfo">(PECL event &gt;= 1.2.6-beta)</p><p class="refpurpose"><span class="refname">Event::set</span> — <span class="dc-title">Reconfigurar el evento</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-event.set-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span>
   <span class="methodname"><strong>Event::set</strong></span>(<br>    <span class="methodparam">
    
    <span class="type"><a href="#class.eventbase" class="type EventBase">EventBase</a></span> <code class="parameter">$base</code>
   </span>,<br>    <span class="methodparam">
    
    <span class="type"><a href="#language.types.mixed" class="type mixed">mixed</a></span> <code class="parameter">$fd</code>
   </span>,<br>    <span class="methodparam">
    
    <span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$what</code>
   <span class="initializer"> = ?</span></span>,<br>    <span class="methodparam">
    
    <span class="type"><a href="#language.types.callable" class="type callable">callable</a></span> <code class="parameter">$cb</code>
   <span class="initializer"> = ?</span></span>,<br>    <span class="methodparam">
    
    <span class="type"><a href="#language.types.mixed" class="type mixed">mixed</a></span> <code class="parameter">$arg</code>
   <span class="initializer"> = ?</span></span><br>): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>

  <p class="para rdfs-comment">
   Reconfigurar el evento. Téngase en cuenta que esta función no llama a la función obsoleta event_set de libevent. En su lugar, llama a la función event_assign.
  </p>
 </div>

 <div class="refsect1 parameters" id="refsect1-event.set-parameters">
  <h3 class="title">Parámetros</h3>
  <dl>
   
    <dt>
     <code class="parameter">base</code>
    </dt>
    <dd>
     <p class="para">
      La base de evento a asociar.
     </p>
    </dd>
   
   
    <dt>
     <code class="parameter">fd</code>
    </dt>
    <dd>
     <p class="para">
      Un recurso de flujo, un recurso de socket, o un descriptor numérico de fichero. Para los eventos de tipo temporizador pase <strong><code><a href="#constant.-1">-1</a></code></strong>.
      Para los eventos de tipo señal pase el número de la señal, por ejemplo <strong><code><a href="#constant.sighup">SIGHUP</a></code></strong>.
     </p>
    </dd>
   
   
    <dt>
     <code class="parameter">what</code>
    </dt>
    <dd>
     <p class="para">
      Ver los
      <a href="#event.flags" class="link">flags de eventos</a>.
     </p>
    </dd>
   
   
    <dt>
     <code class="parameter">cb</code>
    </dt>
    <dd>
     <p class="para">
      La función de retrollamada del evento. Ver las
      <a href="#event.callbacks" class="link">funciones de retrollamada de eventos</a>.
     </p>
    </dd>
   
   
    <dt>
     <code class="parameter">arg</code>
    </dt>
    <dd>
     <p class="para">
      Datos personalizados a asociar con el evento. Serán pasados a la función de retrollamada cuando el evento se active.
     </p>
    </dd>
   
  </dl>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-event.set-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Esta función retorna <strong><code><a href="#constant.true">true</a></code></strong> en caso de éxito o <strong><code><a href="#constant.false">false</a></code></strong> si ocurre un error.
  </p>
 </div>

</div>
<hr>








<div id="event.setpriority" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">Event::setPriority</h1>
  <p class="verinfo">(PECL event &gt;= 1.2.6-beta)</p><p class="refpurpose"><span class="refname">Event::setPriority</span> — <span class="dc-title">Define la prioridad del evento</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-event.setpriority-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span>
   <span class="methodname"><strong>Event::setPriority</strong></span>(<span class="methodparam">
    
    <span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$priority</code>
   </span>): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>

  <p class="para rdfs-comment">
   Define la prioridad del evento.
  </p>
 </div>

 <div class="refsect1 parameters" id="refsect1-event.setpriority-parameters">
  <h3 class="title">Parámetros</h3>
  <dl>
   
    <dt>
     <code class="parameter">priority</code>
    </dt>
    <dd>
     <p class="para">
      La prioridad del evento.
     </p>
    </dd>
   
  </dl>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-event.setpriority-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Esta función retorna <strong><code><a href="#constant.true">true</a></code></strong> en caso de éxito o <strong><code><a href="#constant.false">false</a></code></strong> si ocurre un error.
  </p>
 </div>

</div>
<hr>







<div id="event.settimer" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">Event::setTimer</h1>
  <p class="verinfo">(PECL event &gt;= 1.2.6-beta)</p><p class="refpurpose"><span class="refname">Event::setTimer</span> — <span class="dc-title">Reconfigurar un evento timer</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-event.settimer-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span>
   <span class="methodname"><strong>Event::setTimer</strong></span>(<span class="methodparam">
    
    <span class="type"><a href="#class.eventbase" class="type EventBase">EventBase</a></span> <code class="parameter">$base</code>
   </span>, <span class="methodparam">
    
    <span class="type"><a href="#language.types.callable" class="type callable">callable</a></span> <code class="parameter">$cb</code>
   </span>, <span class="methodparam">
    
    <span class="type"><a href="#language.types.mixed" class="type mixed">mixed</a></span> <code class="parameter">$arg</code>
   <span class="initializer"> = ?</span></span>): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>

  <p class="para rdfs-comment">
   Reconfigurar un evento timer. Téngase en cuenta que este método
   no llama a la función obsoleta <code class="literal">event_set</code>
   de libevent. En su lugar, llama a la función
   <code class="literal">event_assign</code>.
  </p>
 </div>

 <div class="refsect1 parameters" id="refsect1-event.settimer-parameters">
  <h3 class="title">Parámetros</h3>
  <dl>
   
    <dt>
     <code class="parameter">base</code>
    </dt>
    <dd>
     <p class="para">
      La base de evento a asociar.
     </p>
    </dd>
   
   
    <dt>
     <code class="parameter">cb</code>
    </dt>
    <dd>
     <p class="para">
      La función de retrollamada del evento timer. Ver las
      <a href="#event.callbacks" class="link">funciones de retrollamada de eventos</a>.
     </p>
    </dd>
   
   
    <dt>
     <code class="parameter">arg</code>
    </dt>
    <dd>
     <p class="para">
      Datos personalizados. Si se especifican, serán pasados a la función
      de retrollamada cuando el evento dispare los triggers.
     </p>
    </dd>
   
  </dl>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-event.settimer-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Esta función retorna <strong><code><a href="#constant.true">true</a></code></strong> en caso de éxito o <strong><code><a href="#constant.false">false</a></code></strong> si ocurre un error.
  </p>
 </div>

 <div class="refsect1 seealso" id="refsect1-event.settimer-seealso">
  <h3 class="title">Ver también</h3>
  <ul class="simplelist">
   <li>
    <span class="methodname"><a href="#event.construct" class="methodname" rel="rdfs-seeAlso">Event::__construct()</a> - Construye un objeto Event</span>
   </li>
   <li>
    <span class="methodname"><a href="#event.timer" class="methodname" rel="rdfs-seeAlso">Event::timer()</a> - Construye un objeto de evento timer</span>
   </li>
  </ul>
 </div>

</div>
<hr>







<div id="event.signal" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">Event::signal</h1>
  <p class="verinfo">(PECL event &gt;= 1.2.6-beta)</p><p class="refpurpose"><span class="refname">Event::signal</span> — <span class="dc-title">Construye un objeto de evento de señal</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-event.signal-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span>
   <span class="modifier">static</span>
   <span class="methodname"><strong>Event::signal</strong></span>(<br>    <span class="methodparam">
    
    <span class="type"><a href="#class.eventbase" class="type EventBase">EventBase</a></span> <code class="parameter">$base</code>
   </span>,<br>    <span class="methodparam">
    
    <span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$signum</code>
   </span>,<br>    <span class="methodparam">
    
    <span class="type"><a href="#language.types.callable" class="type callable">callable</a></span> <code class="parameter">$cb</code>
   </span>,<br>    <span class="methodparam">
    
    <span class="type"><a href="#language.types.mixed" class="type mixed">mixed</a></span> <code class="parameter">$arg</code>
   <span class="initializer"> = ?</span></span><br>): <span class="type"><a href="#class.event" class="type Event">Event</a></span></div>

  <p class="para rdfs-comment">
   Construye un objeto de evento de señal. Es un método simple para
   crear un evento de señal. Tenga en cuenta que el método genérico
   <span class="methodname"><a href="#event.construct" class="methodname">Event::__construct()</a></span> también puede construir un
   objeto de evento de señal.
  </p>
 </div>

 <div class="refsect1 parameters" id="refsect1-event.signal-parameters">
  <h3 class="title">Parámetros</h3>
  <dl>
   
    <dt>
     <code class="parameter">base</code>
    </dt>
    <dd>
     <p class="para">
      El objeto de base de evento asociado.
     </p>
    </dd>
   
   
    <dt>
     <code class="parameter">signum</code>
    </dt>
    <dd>
     <p class="para">
      El número de la señal.
     </p>
    </dd>
   
   
    <dt>
     <code class="parameter">cb</code>
    </dt>
    <dd>
     <p class="para">
      La función de retrollamada del evento de señal. Ver las
      <a href="#event.callbacks" class="link">funciones de retrollamada de eventos</a>.
     </p>
    </dd>
   
   
    <dt>
     <code class="parameter">arg</code>
    </dt>
    <dd>
     <p class="para">
      Datos personalizados. Si se especifican, serán pasados a la función
      de retrollamada cuando el evento lance los triggers.
     </p>
    </dd>
   
  </dl>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-event.signal-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Devuelve un objeto de evento en caso de éxito, <strong><code><a href="#constant.false">false</a></code></strong> de lo contrario.
  </p>
 </div>

 <div class="refsect1 seealso" id="refsect1-event.signal-seealso">
  <h3 class="title">Ver también</h3>
  <ul class="simplelist">
   <li>
    <a href="#event.constructing.signal.events" class="link">La construcción de eventos de señal</a>
   </li>
  </ul>
 </div>

</div>
<hr>







<div id="event.timer" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">Event::timer</h1>
  <p class="verinfo">(PECL event &gt;= 1.2.6-beta)</p><p class="refpurpose"><span class="refname">Event::timer</span> — <span class="dc-title">Construye un objeto de evento timer</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-event.timer-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span>
   <span class="modifier">static</span>
   <span class="methodname"><strong>Event::timer</strong></span>(<span class="methodparam">
    
    <span class="type"><a href="#class.eventbase" class="type EventBase">EventBase</a></span> <code class="parameter">$base</code>
   </span>, <span class="methodparam">
    
    <span class="type"><a href="#language.types.callable" class="type callable">callable</a></span> <code class="parameter">$cb</code>
   </span>, <span class="methodparam">
    
    <span class="type"><a href="#language.types.mixed" class="type mixed">mixed</a></span> <code class="parameter">$arg</code>
   <span class="initializer"> = ?</span></span>): <span class="type"><a href="#class.event" class="type Event">Event</a></span></div>

  <p class="para rdfs-comment">
   Construye un objeto de evento timer. Se trata de un método simple para
   crear un evento timer. Téngase en cuenta que el método genérico
   <span class="methodname"><a href="#event.construct" class="methodname">Event::__construct()</a></span> también puede construir objetos
   de eventos signal.
  </p>
 </div>

 <div class="refsect1 parameters" id="refsect1-event.timer-parameters">
  <h3 class="title">Parámetros</h3>
  <dl>
   
    <dt>
     <code class="parameter">base</code>
    </dt>
    <dd>
     <p class="para">
      El objeto de base de evento asociado.
     </p>
    </dd>
   
   
    <dt>
     <code class="parameter">cb</code>
    </dt>
    <dd>
     <p class="para">
      La función de retrollamada de evento signal. Ver las
      <a href="#event.callbacks" class="link">funciones de retrollamada de eventos</a>.
     </p>
    </dd>
   
   
    <dt>
     <code class="parameter">arg</code>
    </dt>
    <dd>
     <p class="para">
      Datos personalizados. Si se especifican, serán pasados a la función
      de retrollamada cuando el evento lance los triggers.
     </p>
    </dd>
   
  </dl>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-event.timer-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Devuelve un objeto de evento en caso de éxito, <strong><code><a href="#constant.false">false</a></code></strong> en caso contrario.
  </p>
 </div>

</div>
<hr>




<h2>Tabla de contenidos</h2><ul class="chunklist chunklist_reference"><li><a href="#event.add">Event::add</a> — Pone un evento en espera</li><li><a href="#event.addsignal">Event::addSignal</a> — Alias de Event::add</li><li><a href="#event.addtimer">Event::addTimer</a> — Alias de Event::add</li><li><a href="#event.construct">Event::__construct</a> — Construye un objeto Event</li><li><a href="#event.del">Event::del</a> — Elimina un evento de la lista de eventos monitoreados</li><li><a href="#event.delsignal">Event::delSignal</a> — Alias de Event::del</li><li><a href="#event.deltimer">Event::delTimer</a> — Alias de Event::del</li><li><a href="#event.free">Event::free</a> — Elimina un evento de la lista de eventos vigilados y libera los recursos asociados</li><li><a href="#event.getsupportedmethods">Event::getSupportedMethods</a> — Devuelve un array que contiene los nombres de los métodos soportados
   por esta versión de Libevent</li><li><a href="#event.pending">Event::pending</a> — Detecta si el evento está pendiente o programado</li><li><a href="#event.set">Event::set</a> — Reconfigurar el evento</li><li><a href="#event.setpriority">Event::setPriority</a> — Define la prioridad del evento</li><li><a href="#event.settimer">Event::setTimer</a> — Reconfigurar un evento timer</li><li><a href="#event.signal">Event::signal</a> — Construye un objeto de evento de señal</li><li><a href="#event.timer">Event::timer</a> — Construye un objeto de evento timer</li></ul>
</div>

<hr>



 



<div id="class.eventbase" class="reference"><hr>
 <h1 class="title">La clase EventBase</h1>
 
 <div class="partintro"><p class="verinfo">(PECL event &gt;= 1.2.6-beta)</p>

  <div class="section" id="eventbase.intro">
   <h2 class="title">Introducción</h2>
   <p class="para">
    La clase <span class="classname"><strong class="classname">EventBase</strong></span> representa la estructura
    base de un evento libevent. Contiene un conjunto de eventos
    y puede verificar cuáles son los eventos activos.
   </p>
   <p class="para">
    Cada evento base tiene un <em>método</em> o un
    <em>backend</em> utilizado para determinar cuáles
    son los eventos listos. Estos métodos son :
    <code class="literal">select</code>, <code class="literal">poll</code>, <code class="literal">epoll</code>,
    <code class="literal">kqueue</code>, <code class="literal">devpoll</code>, <code class="literal">evport</code>
    y <code class="literal">win32</code>.
   </p>
   <p class="para">
    Para configurar un evento base a utilizar, o evitar un backend específico,
    la clase <span class="classname"><a href="#class.eventconfig" class="classname">EventConfig</a></span> puede ser utilizada.
   </p>
   <div class="warning"><strong class="warning">Advertencia</strong>
    <p class="para">
     No <em>destruya</em> el objeto <span class="classname"><strong class="classname">EventBase</strong></span>
     hasta que los recursos asociados a los objetos <code class="literal">Event</code>
     no sean liberados. De lo contrario, esto llevará a resultados totalmente indefinidos.
    </p>
   </div>
  </div>

  <div class="section" id="eventbase.synopsis">
   <h2 class="title">Sinopsis de la Clase</h2>


   <div class="classsynopsis">
    <span class="ooclass">
     <strong class="classname"></strong>
    </span>

    <div class="classsynopsisinfo">
     <span class="ooclass">
      <span class="modifier">final</span>
      <span class="modifier">class</span> <strong class="classname">EventBase</strong>
     </span>
     {</div>

    <div class="classsynopsisinfo classsynopsisinfo_comment">/* Constantes */</div>
    <div class="fieldsynopsis">
     <span class="modifier">const</span>
     <span class="type"><a href="#language.types.integer" class="type int">int</a></span>
      <var class="fieldsynopsis_varname"><a href="#eventbase.constants.loop-once"><var class="varname">LOOP_ONCE</var></a></var><span class="initializer"> = 1</span>;</div>

    <div class="fieldsynopsis"><span class="modifier">const</span>
     <span class="type"><a href="#language.types.integer" class="type int">int</a></span>
      <var class="fieldsynopsis_varname"><a href="#eventbase.constants.loop-nonblock"><var class="varname">LOOP_NONBLOCK</var></a></var><span class="initializer"> = 2</span>;</div>

    <div class="fieldsynopsis"><span class="modifier">const</span>
     <span class="type"><a href="#language.types.integer" class="type int">int</a></span>
      <var class="fieldsynopsis_varname"><a href="#eventbase.constants.nolock"><var class="varname">NOLOCK</var></a></var><span class="initializer"> = 1</span>;</div>

    <div class="fieldsynopsis"><span class="modifier">const</span>
     <span class="type"><a href="#language.types.integer" class="type int">int</a></span>
      <var class="fieldsynopsis_varname"><a href="#eventbase.constants.startup-iocp"><var class="varname">STARTUP_IOCP</var></a></var><span class="initializer"> = 4</span>;</div>

    <div class="fieldsynopsis"><span class="modifier">const</span>
     <span class="type"><a href="#language.types.integer" class="type int">int</a></span>
      <var class="fieldsynopsis_varname"><a href="#eventbase.constants.no-cache-time"><var class="varname">NO_CACHE_TIME</var></a></var><span class="initializer"> = 8</span>;</div>

    <div class="fieldsynopsis"><span class="modifier">const</span>
     <span class="type"><a href="#language.types.integer" class="type int">int</a></span>
      <var class="fieldsynopsis_varname"><a href="#eventbase.constants.epoll-use-changelist"><var class="varname">EPOLL_USE_CHANGELIST</var></a></var><span class="initializer"> = 16</span>;</div>

    <div class="classsynopsisinfo classsynopsisinfo_comment">/* Métodos */</div>
    <div class="methodsynopsis dc-description">
   <span class="modifier">public</span>
   <span class="methodname"><a href="#eventbase.construct" class="methodname">__construct</a></span>(<span class="methodparam">
    
    <span class="type"><a href="#class.eventconfig" class="type EventConfig">EventConfig</a></span> <code class="parameter">$cfg</code>
   <span class="initializer"> = ?</span></span>)</div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span>
   <span class="methodname"><a href="#eventbase.dispatch" class="methodname">dispatch</a></span>(): <span class="type"><a href="language.types.void.html" class="type void">void</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span>
   <span class="methodname"><a href="#eventbase.exit" class="methodname">exit</a></span>(<span class="methodparam">
    
    <span class="type"><a href="#language.types.float" class="type float">float</a></span> <code class="parameter">$timeout</code>
   <span class="initializer"> = ?</span></span>): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span>
   <span class="methodname"><a href="#eventbase.free" class="methodname">free</a></span>(): <span class="type"><a href="language.types.void.html" class="type void">void</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span>
   <span class="methodname"><a href="#eventbase.getfeatures" class="methodname">getFeatures</a></span>(): <span class="type"><a href="#language.types.integer" class="type int">int</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span>
   <span class="methodname"><a href="#eventbase.getmethod" class="methodname">getMethod</a></span>(): <span class="type"><a href="#language.types.string" class="type string">string</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span>
   <span class="methodname"><a href="#eventbase.gettimeofdaycached" class="methodname">getTimeOfDayCached</a></span>(): <span class="type"><a href="#language.types.float" class="type float">float</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span>
   <span class="methodname"><a href="#eventbase.gotexit" class="methodname">gotExit</a></span>(): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span>
   <span class="methodname"><a href="#eventbase.gotstop" class="methodname">gotStop</a></span>(): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span>
   <span class="methodname"><a href="#eventbase.loop" class="methodname">loop</a></span>(<span class="methodparam">
    
    <span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$flags</code>
   <span class="initializer"> = ?</span></span>): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span>
   <span class="methodname"><a href="#eventbase.priorityinit" class="methodname">priorityInit</a></span>(<span class="methodparam">
    
    <span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$n_priorities</code>
   </span>): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span>
   <span class="methodname"><a href="#eventbase.reinit" class="methodname">reInit</a></span>(): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span>
   <span class="methodname"><a href="#eventbase.stop" class="methodname">stop</a></span>(): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>

   }</div>

  </div>

  <div class="section" id="eventbase.constants">
   <h2 class="title">Constantes predefinidas</h2>
   <dl>
    
     <dt id="eventbase.constants.loop-once">
      <strong><code><a href="#eventbase.constants.loop-once">EventBase::LOOP_ONCE</a></code></strong>
     </dt>
     <dd>
      <p class="para">
       Flag utilizado con el método <span class="methodname"><a href="#eventbase.loop" class="methodname">EventBase::loop()</a></span>
       que significa: "bloqueo mientras libevent tiene un evento activo, luego,
       salida una vez que todos los eventos activos han ejecutado sus
       funciones de retrollamada".
      </p>
     </dd>
    
    
     <dt id="eventbase.constants.loop-nonblock">
      <strong><code><a href="#eventbase.constants.loop-nonblock">EventBase::LOOP_NONBLOCK</a></code></strong>
     </dt>
     <dd>
      <p class="para">
       Flag utilizado con el método <span class="methodname"><a href="#eventbase.loop" class="methodname">EventBase::loop()</a></span>
       que significa: "no bloquear: ver qué eventos están listos actualmente,
       ejecutar sus funciones de retrollamada con una prioridad alta, luego, salir".
      </p>
     </dd>
    
    
     <dt id="eventbase.constants.nolock">
      <strong><code><a href="#eventbase.constants.nolock">EventBase::NOLOCK</a></code></strong>
     </dt>
     <dd>
      <p class="para">
       Flag de configuración. No bloquear la base del evento, incluso si
       un bloqueo había sido puesto en su lugar.
      </p>
     </dd>
    
    
     <dt id="eventbase.constants.startup-iocp">
      <strong><code><a href="#eventbase.constants.startup-iocp">EventBase::STARTUP_IOCP</a></code></strong>
     </dt>
     <dd>
      <p class="para">
       Flag de configuración específico de Windows. Activa el repartidor IOCP
       al inicio.
      </p>
     </dd>
    
    
     <dt id="eventbase.constants.no-cache-time">
      <strong><code><a href="#eventbase.constants.no-cache-time">EventBase::NO_CACHE_TIME</a></code></strong>
     </dt>
     <dd>
      <p class="para">
       Flag de configuración. En lugar de verificar el tiempo actual cada vez
       que el bucle de eventos está listo para ejecutar la función de retrollamada,
       el tiempo será verificado cada vez que el tiempo máximo de espera para la
       función de retrollamada sea alcanzado.
      </p>
     </dd>
    
    
     <dt id="eventbase.constants.epoll-use-changelist">
      <strong><code><a href="#eventbase.constants.epoll-use-changelist">EventBase::EPOLL_USE_CHANGELIST</a></code></strong>
     </dt>
     <dd>
      <p class="para">
       Si se utiliza el backend <code class="literal">epoll</code>, este flag
       significa que es seguro utilizar el código interno de modificación de lista
       interna a Libevent para agrupar los añadidos y las supresiones con el fin
       de intentar minimizar el número de llamadas al sistema.
      </p>
      <p class="para">
       El hecho de definir este flag hace que el código sea más rápido, pero puede
       enfrentarse a un bug de Linux: no es seguro utilizar este flag
       en presencia de fds clonados por dup() o una de sus variantes.
       Esto produciría un comportamiento extraño y muy difícil de diagnosticar.
      </p>
      <p class="para">
       Este flag también puede ser activado definiendo la variable de entorno
       <code class="literal">EVENT_EPOLL_USE_CHANGELIST</code>.
      </p>
      <p class="para">
       Este flag no tiene ningún efecto si se utiliza con un backend diferente a
       <code class="literal">epoll</code>.
      </p>
     </dd>
    
   </dl>
  </div>

 </div>

 




<div id="eventbase.construct" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">EventBase::__construct</h1>
  <p class="verinfo">(PECL event &gt;= 1.2.6-beta)</p><p class="refpurpose"><span class="refname">EventBase::__construct</span> — <span class="dc-title">Construye un objeto EventBase</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-eventbase.construct-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span>
   <span class="methodname"><strong>EventBase::__construct</strong></span>(<span class="methodparam">
    
    <span class="type"><a href="#class.eventconfig" class="type EventConfig">EventConfig</a></span> <code class="parameter">$cfg</code>
   <span class="initializer"> = ?</span></span>)</div>

  <p class="para rdfs-comment">
   Construye un objeto EventBase.
  </p>
 </div>

 <div class="refsect1 parameters" id="refsect1-eventbase.construct-parameters">
  <h3 class="title">Parámetros</h3>
  <dl>
   
    <dt>
     <code class="parameter">cfg</code>
    </dt>
    <dd>
     <p class="para">
      Opcional - Un objeto <span class="classname"><a href="#class.eventconfig" class="classname">EventConfig</a></span>.
     </p>
    </dd>
   
  </dl>
 </div>

 <div class="refsect1 errors" id="refsect1-eventbase.construct-errors">
  <h3 class="title">Errores/Excepciones</h3>
  <p class="para">
   Si <span class="classname"><a href="#class.eventbase" class="classname">EventBase</a></span> no puede ser construido con la configuración proporcionada,
   se lanzará una excepción de tipo <span class="classname"><a href="#class.eventexception" class="classname">EventException</a></span>.
  </p>
 </div>

 <div class="refsect1 seealso" id="refsect1-eventbase.construct-seealso">
  <h3 class="title">Ver también</h3>
  <ul class="simplelist">
   <li>
    <span class="classname"><a href="#class.eventconfig" class="classname">EventConfig</a></span>
   </li>
  </ul>
 </div>

</div>
<hr>








<div id="eventbase.dispatch" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">EventBase::dispatch</h1>
  <p class="verinfo">(PECL event &gt;= 1.2.6-beta)</p><p class="refpurpose"><span class="refname">EventBase::dispatch</span> — <span class="dc-title">Despacha eventos pendientes</span></p>

  </div>
  <div class="refsect1 description" id="refsect1-eventbase.dispatch-description">
   <h3 class="title">Descripción</h3>
   <div class="methodsynopsis dc-description">
   <span class="modifier">public</span>
   <span class="methodname"><strong>EventBase::dispatch</strong></span>(): <span class="type"><a href="language.types.void.html" class="type void">void</a></span></div>

   <p class="para rdfs-comment">
    Espara a que los eventos estén activos y ejecuta sus llamadas de retorno. Hace lo mismo que
    <span class="methodname"><a href="#eventbase.loop" class="methodname">EventBase::loop()</a></span>
    pero sin flags definidas.
   </p>
   <p class="para">
    </p><div class="warning"><strong class="warning">Advertencia</strong>
     <p class="para">
     No <em>destruya</em> el objeto <span class="classname"><a href="#class.eventbase" class="classname">EventBase</a></span>
     hasta que los recursos asociados a los objetos <code class="literal">Event</code>
     no sean liberados. De lo contrario, esto llevará a resultados totalmente indefinidos.
    </p>
    </div>
   
  </div>

  <div class="refsect1 parameters" id="refsect1-eventbase.dispatch-parameters">
   <h3 class="title">Parámetros</h3>
   <p class="para">Esta función no contiene ningún parámetro.</p>
  </div>

  <div class="refsect1 returnvalues" id="refsect1-eventbase.dispatch-returnvalues">
   <h3 class="title">Valores devueltos</h3>
   <p class="para">
    Esta función retorna <strong><code><a href="#constant.true">true</a></code></strong> en caso de éxito o <strong><code><a href="#constant.false">false</a></code></strong> si ocurre un error.
   </p>
  </div>

  <div class="refsect1 seealso" id="refsect1-eventbase.dispatch-seealso">
   <h3 class="title">Ver también</h3>
   <ul class="simplelist">
    <li>
     <span class="methodname"><a href="#eventbase.loop" class="methodname" rel="rdfs-seeAlso">EventBase::loop()</a> - Distribuye los eventos en espera</span>
    </li>
   </ul>
  </div>

</div>
<hr>








<div id="eventbase.exit" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">EventBase::exit</h1>
  <p class="verinfo">(PECL event &gt;= 1.2.6-beta)</p><p class="refpurpose"><span class="refname">EventBase::exit</span> — <span class="dc-title">Detiene el envío de los eventos</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-eventbase.exit-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span>
   <span class="methodname"><strong>EventBase::exit</strong></span>(<span class="methodparam">
    
    <span class="type"><a href="#language.types.float" class="type float">float</a></span> <code class="parameter">$timeout</code>
   <span class="initializer"> = ?</span></span>): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>

  <p class="para rdfs-comment">
   Le indica al evento base que pare el envío de los eventos, opcionamente después de un número de segundos dado.
  </p>
 </div>

 <div class="refsect1 parameters" id="refsect1-eventbase.exit-parameters">
  <h3 class="title">Parámetros</h3>
  <dl>
   
    <dt>
     <code class="parameter">timeout</code>
    </dt>
    <dd>
     <p class="para">
      Número opcional de segundos después de los cuales el evento base deberá parar el
      envío de eventos.
     </p>
    </dd>
   
  </dl>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-eventbase.exit-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Esta función retorna <strong><code><a href="#constant.true">true</a></code></strong> en caso de éxito o <strong><code><a href="#constant.false">false</a></code></strong> si ocurre un error.
  </p>
 </div>

 <div class="refsect1 seealso" id="refsect1-eventbase.exit-seealso">
  <h3 class="title">Ver también</h3>
  <ul class="simplelist">
   <li>
    <span class="methodname"><a href="#eventbase.stop" class="methodname" rel="rdfs-seeAlso">EventBase::stop()</a> - Solicita a event_base que detenga la emisión de  eventos</span>
   </li>
  </ul>
 </div>

</div>
<hr>








<div id="eventbase.free" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">EventBase::free</h1>
  <p class="verinfo">(PECL event &gt;= 1.10.0)</p><p class="refpurpose"><span class="refname">EventBase::free</span> — <span class="dc-title">Libera los recursos asignados para el evento base</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-eventbase.free-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span>
   <span class="methodname"><strong>EventBase::free</strong></span>(): <span class="type"><a href="language.types.void.html" class="type void">void</a></span></div>

  <p class="para rdfs-comment">
   Libera los recursos asignados por libevent para el objeto
   <span class="classname"><a href="#class.eventbase" class="classname">EventBase</a></span>.
  </p>
  <div class="warning"><strong class="warning">Advertencia</strong>
   <p class="para">
    El método <span class="methodname"><strong>EventBase::free()</strong></span> no destruye
    el objeto mismo. Para destruir el objeto completamente, llame a la función
    <span class="function"><a href="#function.unset" class="function">unset()</a></span> o asignele el valor <strong><code><a href="#constant.null">null</a></code></strong>.
   </p>
   <p class="para">
    Este método no libera, ni desasocia ningún evento que esté actualmente
    asociado con el objeto <span class="classname"><a href="#class.eventbase" class="classname">EventBase</a></span>, ni cierra ninguno de sus
    sockets; tenga esto en cuenta.
   </p>
  </div>
 </div>

 <div class="refsect1 parameters" id="refsect1-eventbase.free-parameters">
  <h3 class="title">Parámetros</h3>
  <p class="para">Esta función no contiene ningún parámetro.</p>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-eventbase.free-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   No se retorna ningún valor.
  </p>
 </div>

 <div class="refsect1 seealso" id="refsect1-eventbase.free-seealso">
  <h3 class="title">Ver también</h3>
  <ul class="simplelist">
   <li>
    <span class="methodname"><a href="#eventbase.construct" class="methodname" rel="rdfs-seeAlso">EventBase::__construct()</a> - Construye un objeto EventBase</span>
   </li>
  </ul>
 </div>

</div>
<hr>








<div id="eventbase.getfeatures" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">EventBase::getFeatures</h1>
  <p class="verinfo">(PECL event &gt;= 1.2.6-beta)</p><p class="refpurpose"><span class="refname">EventBase::getFeatures</span> — <span class="dc-title">Devuelve una máscara de las funcionalidades soportadas</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-eventbase.getfeatures-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span>
   <span class="methodname"><strong>EventBase::getFeatures</strong></span>(): <span class="type"><a href="#language.types.integer" class="type int">int</a></span></div>

  <p class="para rdfs-comment">
   Devuelve una máscara de las funcionalidades soportadas.
  </p>
 </div>

 <div class="refsect1 parameters" id="refsect1-eventbase.getfeatures-parameters">
  <h3 class="title">Parámetros</h3>
  <p class="para">Esta función no contiene ningún parámetro.</p>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-eventbase.getfeatures-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Devuelve un entero que representa una máscara de las funcionalidades soportadas.
   Consulte las constantes
   <a href="#eventconfig.constants" class="link">EventConfig::FEATURE_*</a>.
  </p>
 </div>

 <div class="refsect1 examples" id="refsect1-eventbase.getfeatures-examples">
  <h3 class="title">Ejemplos</h3>
  <div class="example" id="example-4537">
   <p><strong>Ejemplo #1 Ejemplo con <span class="function"><strong>EventBase::getFeatures()</strong></span></strong></p>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br></span><span style="color: #FF8000">// Desactivación del método "select"<br></span><span style="color: #0000BB">$cfg </span><span style="color: #007700">= new </span><span style="color: #0000BB">EventConfig</span><span style="color: #007700">();<br>if (</span><span style="color: #0000BB">$cfg</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">avoidMethod</span><span style="color: #007700">(</span><span style="color: #DD0000">"select"</span><span style="color: #007700">)) {<br>    echo </span><span style="color: #DD0000">"Desactivación del método 'select'\n"</span><span style="color: #007700">;<br>}<br><br></span><span style="color: #0000BB">$base </span><span style="color: #007700">= new </span><span style="color: #0000BB">EventBase</span><span style="color: #007700">(</span><span style="color: #0000BB">$cfg</span><span style="color: #007700">);<br><br>echo </span><span style="color: #DD0000">"funcionalidades:\n"</span><span style="color: #007700">;<br></span><span style="color: #0000BB">$features </span><span style="color: #007700">= </span><span style="color: #0000BB">$base</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getFeatures</span><span style="color: #007700">();<br>(</span><span style="color: #0000BB">$features </span><span style="color: #007700">&amp; </span><span style="color: #0000BB">EventConfig</span><span style="color: #007700">::</span><span style="color: #0000BB">FEATURE_ET</span><span style="color: #007700">) and print </span><span style="color: #DD0000">"ET - edge-triggered IO\n"</span><span style="color: #007700">;<br>(</span><span style="color: #0000BB">$features </span><span style="color: #007700">&amp; </span><span style="color: #0000BB">EventConfig</span><span style="color: #007700">::</span><span style="color: #0000BB">FEATURE_O1</span><span style="color: #007700">) and print </span><span style="color: #DD0000">"O1 - O(1) operation for adding/deleting events\n"</span><span style="color: #007700">;<br>(</span><span style="color: #0000BB">$features </span><span style="color: #007700">&amp; </span><span style="color: #0000BB">EventConfig</span><span style="color: #007700">::</span><span style="color: #0000BB">FEATURE_FDS</span><span style="color: #007700">) and print </span><span style="color: #DD0000">"FDS - arbitrary file descriptor types, and not just sockets\n"</span><span style="color: #007700">;<br></span><span style="color: #0000BB">?&gt;</span></span></code></div>
   </div>

  </div>
 </div>

 <div class="refsect1 seealso" id="refsect1-eventbase.getfeatures-seealso">
  <h3 class="title">Ver también</h3>
  <ul class="simplelist">
   <li>
    <span class="methodname"><a href="#eventbase.getmethod" class="methodname" rel="rdfs-seeAlso">EventBase::getMethod()</a> - Devuelve el método de evento utilizado</span>
   </li>
   <li>
    <span class="classname"><a href="#class.eventconfig" class="classname">EventConfig</a></span>
   </li>
  </ul>
 </div>

</div>
<hr>








<div id="eventbase.getmethod" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">EventBase::getMethod</h1>
  <p class="verinfo">(PECL event &gt;= 1.2.6-beta)</p><p class="refpurpose"><span class="refname">EventBase::getMethod</span> — <span class="dc-title">Devuelve el método de evento utilizado</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-eventbase.getmethod-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span>
   <span class="methodname"><strong>EventBase::getMethod</strong></span>(): <span class="type"><a href="#language.types.string" class="type string">string</a></span></div>

  <p class="para rdfs-comment">
 </p></div>

 <div class="refsect1 parameters" id="refsect1-eventbase.getmethod-parameters">
  <h3 class="title">Parámetros</h3>
  <p class="para">Esta función no contiene ningún parámetro.</p>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-eventbase.getmethod-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   String que representa el método de evento utilizado (backend).
  </p>
 </div>

 <div class="refsect1 examples" id="refsect1-eventbase.getmethod-examples">
  <h3 class="title">Ejemplos</h3>
  <div class="example" id="example-4538">
   <p><strong>Ejemplo #1 
    Ejemplo con <span class="function"><strong>EventBase::getMethod()</strong></span></strong></p>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br>$cfg </span><span style="color: #007700">= new </span><span style="color: #0000BB">EventConfig</span><span style="color: #007700">();<br>if (</span><span style="color: #0000BB">$cfg</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">avoidMethod</span><span style="color: #007700">(</span><span style="color: #DD0000">"select"</span><span style="color: #007700">)) {<br>    echo </span><span style="color: #DD0000">"Método `select' evitado\n"</span><span style="color: #007700">;<br>}<br><br></span><span style="color: #FF8000">// Crear un evento base asociado con el config<br></span><span style="color: #0000BB">$base </span><span style="color: #007700">= new </span><span style="color: #0000BB">EventBase</span><span style="color: #007700">(</span><span style="color: #0000BB">$cfg</span><span style="color: #007700">);<br>echo </span><span style="color: #DD0000">"Método de evento utilizado: "</span><span style="color: #007700">, </span><span style="color: #0000BB">$base</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getMethod</span><span style="color: #007700">(), </span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br><br></span><span style="color: #0000BB">?&gt;</span></span></code></div>
   </div>

   <div class="example-contents"><p>Resultado del ejemplo anterior es similar a:</p></div>
   <div class="example-contents screen">
<div class="examplescode"><pre class="examplescode">método `select' evitado
Método de evento utilizado: epoll</pre>
</div>
   </div>
  </div>
 </div>

 <div class="refsect1 seealso" id="refsect1-eventbase.getmethod-seealso">
  <h3 class="title">Ver también</h3>
  <ul class="simplelist">
   <li>
    <span class="methodname"><a href="#eventbase.getfeatures" class="methodname" rel="rdfs-seeAlso">EventBase::getFeatures()</a> - Devuelve una máscara de las funcionalidades soportadas</span>
   </li>
  </ul>
 </div>

</div>
<hr>








<div id="eventbase.gettimeofdaycached" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">EventBase::getTimeOfDayCached</h1>
  <p class="verinfo">(PECL event &gt;= 1.2.6-beta)</p><p class="refpurpose"><span class="refname">EventBase::getTimeOfDayCached</span> — <span class="dc-title">Devuelve el tiempo del evento base actual</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-eventbase.gettimeofdaycached-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span>
   <span class="methodname"><strong>EventBase::getTimeOfDayCached</strong></span>(): <span class="type"><a href="#language.types.float" class="type float">float</a></span></div>

  <p class="para rdfs-comment">
   En caso de éxito devuelve el tiempo actual(como el devuelto por
   <code class="literal">gettimeofday()</code>
   ), mirando el valor en la caché dentro de
   <em>base</em>
   si es posible, y llamando a
   <code class="literal">gettimeofday()</code>
   o
   <code class="literal">clock_gettime()</code>
   si no hay tiempo disponible en la caché.
  </p>
 </div>

 <div class="refsect1 parameters" id="refsect1-eventbase.gettimeofdaycached-parameters">
  <h3 class="title">Parámetros</h3>
  <p class="para">Esta función no contiene ningún parámetro.</p>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-eventbase.gettimeofdaycached-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Devuelve el actual tiempo de
   <em>event base</em>
   . En caso de error devuelve <strong><code><a href="#constant.null">null</a></code></strong>.
  </p>
 </div>

</div>
<hr>








<div id="eventbase.gotexit" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">EventBase::gotExit</h1>
  <p class="verinfo">(PECL event &gt;= 1.2.6-beta)</p><p class="refpurpose"><span class="refname">EventBase::gotExit</span> — <span class="dc-title">Verifica si se ha solicitado que el bucle de eventos salga</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-eventbase.gotexit-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span>
   <span class="methodname"><strong>EventBase::gotExit</strong></span>(): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>

  <p class="para rdfs-comment">
   Verifica si se ha solicitado que el bucle de eventos salga mediante
   el método <span class="methodname"><a href="#eventbase.exit" class="methodname">EventBase::exit()</a></span>.
  </p>
 </div>

 <div class="refsect1 parameters" id="refsect1-eventbase.gotexit-parameters">
  <h3 class="title">Parámetros</h3>
  <p class="para">Esta función no contiene ningún parámetro.</p>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-eventbase.gotexit-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Devuelve <strong><code><a href="#constant.true">true</a></code></strong> si se ha solicitado que el bucle de eventos salga
   mediante el método <span class="methodname"><a href="#eventbase.exit" class="methodname">EventBase::exit()</a></span>.
   <strong><code><a href="#constant.false">false</a></code></strong> en caso contrario.
  </p>
 </div>

 <div class="refsect1 seealso" id="refsect1-eventbase.gotexit-seealso">
  <h3 class="title">Ver también</h3>
  <ul class="simplelist">
   <li>
    <span class="methodname"><a href="#eventbase.exit" class="methodname" rel="rdfs-seeAlso">EventBase::exit()</a> - Detiene el envío de los eventos</span>
   </li>
   <li>
    <span class="methodname"><a href="#eventbase.stop" class="methodname" rel="rdfs-seeAlso">EventBase::stop()</a> - Solicita a event_base que detenga la emisión de  eventos</span>
   </li>
   <li>
    <span class="methodname"><a href="#eventbase.gotstop" class="methodname" rel="rdfs-seeAlso">EventBase::gotStop()</a> - Verifica si se ha solicitado que la iteración de eventos se detenga</span>
   </li>
  </ul>
 </div>

</div>
<hr>








<div id="eventbase.gotstop" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">EventBase::gotStop</h1>
  <p class="verinfo">(PECL event &gt;= 1.2.6-beta)</p><p class="refpurpose"><span class="refname">EventBase::gotStop</span> — <span class="dc-title">Verifica si se ha solicitado que la iteración de eventos se detenga</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-eventbase.gotstop-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span>
   <span class="methodname"><strong>EventBase::gotStop</strong></span>(): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>

  <p class="para rdfs-comment">
   Verifica si se ha solicitado que la iteración de eventos se detenga
   mediante el método <span class="methodname"><a href="#eventbase.stop" class="methodname">EventBase::stop()</a></span>.
  </p>
 </div>

 <div class="refsect1 parameters" id="refsect1-eventbase.gotstop-parameters">
  <h3 class="title">Parámetros</h3>
  <p class="para">Esta función no contiene ningún parámetro.</p>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-eventbase.gotstop-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Devuelve <strong><code><a href="#constant.true">true</a></code></strong> si se ha solicitado que la iteración de eventos
   se detenga mediante el método <span class="methodname"><a href="#eventbase.stop" class="methodname">EventBase::stop()</a></span>.
   <strong><code><a href="#constant.false">false</a></code></strong> en caso contrario.
  </p>
 </div>

 <div class="refsect1 seealso" id="refsect1-eventbase.gotstop-seealso">
  <h3 class="title">Ver también</h3>
  <ul class="simplelist">
   <li><span class="methodname"><a href="#eventbase.exit" class="methodname" rel="rdfs-seeAlso">EventBase::exit()</a> - Detiene el envío de los eventos</span></li>
   <li><span class="methodname"><a href="#eventbase.stop" class="methodname" rel="rdfs-seeAlso">EventBase::stop()</a> - Solicita a event_base que detenga la emisión de  eventos</span></li>
   <li><span class="methodname"><a href="#eventbase.gotexit" class="methodname" rel="rdfs-seeAlso">EventBase::gotExit()</a> - Verifica si se ha solicitado que el bucle de eventos salga</span></li>
  </ul>
 </div>

</div>
<hr>








<div id="eventbase.loop" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">EventBase::loop</h1>
  <p class="verinfo">(PECL event &gt;= 1.2.6-beta)</p><p class="refpurpose"><span class="refname">EventBase::loop</span> — <span class="dc-title">Distribuye los eventos en espera</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-eventbase.loop-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span>
   <span class="methodname"><strong>EventBase::loop</strong></span>(<span class="methodparam">
    
    <span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$flags</code>
   <span class="initializer"> = ?</span></span>): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>

  <p class="para rdfs-comment">
   Espera a que los eventos se vuelvan activos, luego,
   ejecuta sus funciones de retrollamada.
  </p>
  <p class="para">
   </p><div class="warning"><strong class="warning">Advertencia</strong>
    <p class="para">
     No <em>destruya</em> el objeto <span class="classname"><a href="#class.eventbase" class="classname">EventBase</a></span>
     hasta que los recursos asociados a los objetos <code class="literal">Event</code>
     no sean liberados. De lo contrario, esto llevará a resultados totalmente indefinidos.
    </p>
   </div>
  
 </div>

 <div class="refsect1 parameters" id="refsect1-eventbase.loop-parameters">
  <h3 class="title">Parámetros</h3>
  <dl>
   
    <dt>
     <code class="parameter">flags</code>
    </dt>
    <dd>
     <p class="para">
      Banderas opcionales. Una constante <code class="literal">EventBase::LOOP_*</code>.
      Ver las <a href="#eventbase.constants" class="link">constantes EventBase</a>.
     </p>
    </dd>
   
  </dl>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-eventbase.loop-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Esta función retorna <strong><code><a href="#constant.true">true</a></code></strong> en caso de éxito o <strong><code><a href="#constant.false">false</a></code></strong> si ocurre un error.
  </p>
 </div>

 <div class="refsect1 seealso" id="refsect1-eventbase.loop-seealso">
  <h3 class="title">Ver también</h3>
  <ul class="simplelist">
   <li>
    <span class="methodname"><a href="#eventbase.dispatch" class="methodname" rel="rdfs-seeAlso">EventBase::dispatch()</a> - Despacha eventos pendientes</span>
   </li>
  </ul>
 </div>

</div>
<hr>








<div id="eventbase.priorityinit" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">EventBase::priorityInit</h1>
  <p class="verinfo">(PECL event &gt;= 1.2.6-beta)</p><p class="refpurpose"><span class="refname">EventBase::priorityInit</span> — <span class="dc-title">Define el número de prioridades por evento base</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-eventbase.priorityinit-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span>
   <span class="methodname"><strong>EventBase::priorityInit</strong></span>(<span class="methodparam">
    
    <span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$n_priorities</code>
   </span>): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>

  <p class="para rdfs-comment">
   Define el número de prioridades por evento base.
  </p>
 </div>

 <div class="refsect1 parameters" id="refsect1-eventbase.priorityinit-parameters">
  <h3 class="title">Parámetros</h3>
  <dl>
   
    <dt>
     <code class="parameter">n_priorities</code>
    </dt>
    <dd>
     <p class="para">
      El número de prioridades por evento base.
     </p>
    </dd>
   
  </dl>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-eventbase.priorityinit-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Esta función retorna <strong><code><a href="#constant.true">true</a></code></strong> en caso de éxito o <strong><code><a href="#constant.false">false</a></code></strong> si ocurre un error.
  </p>
 </div>

 <div class="refsect1 seealso" id="refsect1-eventbase.priorityinit-seealso">
  <h3 class="title">Ver también</h3>
  <ul class="simplelist">
   <li>
    <span class="methodname"><a href="#event.setpriority" class="methodname" rel="rdfs-seeAlso">Event::setPriority()</a> - Define la prioridad del evento</span>
   </li>
  </ul>
 </div>

</div>
<hr>








<div id="eventbase.reinit" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">EventBase::reInit</h1>
  <p class="verinfo">(PECL event &gt;= 1.2.6-beta)</p><p class="refpurpose"><span class="refname">EventBase::reInit</span> — <span class="dc-title">Reinicializa el evento base (después de un 'fork')</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-eventbase.reinit-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span>
   <span class="methodname"><strong>EventBase::reInit</strong></span>(): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>

  <p class="para rdfs-comment">
   Reinicializa el evento base. Debe ser llamado después de un 'fork'.
  </p>
 </div>

 <div class="refsect1 parameters" id="refsect1-eventbase.reinit-parameters">
  <h3 class="title">Parámetros</h3>
  <p class="para">Esta función no contiene ningún parámetro.</p>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-eventbase.reinit-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Esta función retorna <strong><code><a href="#constant.true">true</a></code></strong> en caso de éxito o <strong><code><a href="#constant.false">false</a></code></strong> si ocurre un error.
  </p>
 </div>

</div>
<hr>








<div id="eventbase.stop" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">EventBase::stop</h1>
  <p class="verinfo">(PECL event &gt;= 1.2.6-beta)</p><p class="refpurpose"><span class="refname">EventBase::stop</span> — <span class="dc-title">Solicita a event_base que detenga la emisión de  eventos</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-eventbase.stop-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span>
   <span class="methodname"><strong>EventBase::stop</strong></span>(): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>

  <p class="para rdfs-comment">
   Solicita a event_base que detenga la emisión de  eventos
  </p>
 </div>

 <div class="refsect1 parameters" id="refsect1-eventbase.stop-parameters">
  <h3 class="title">Parámetros</h3>
  <p class="para">Esta función no contiene ningún parámetro.</p>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-eventbase.stop-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Esta función retorna <strong><code><a href="#constant.true">true</a></code></strong> en caso de éxito o <strong><code><a href="#constant.false">false</a></code></strong> si ocurre un error.
  </p>
 </div>

 <div class="refsect1 seealso" id="refsect1-eventbase.stop-seealso">
  <h3 class="title">Ver también</h3>
  <ul class="simplelist">
   <li>
    <span class="methodname"><a href="#eventbase.exit" class="methodname" rel="rdfs-seeAlso">EventBase::exit()</a> - Detiene el envío de los eventos</span>
   </li>
   <li>
    <span class="methodname"><a href="#eventbase.gotstop" class="methodname" rel="rdfs-seeAlso">EventBase::gotStop()</a> - Verifica si se ha solicitado que la iteración de eventos se detenga</span>
   </li>
  </ul>
 </div>

</div>
<hr>




<h2>Tabla de contenidos</h2><ul class="chunklist chunklist_reference"><li><a href="#eventbase.construct">EventBase::__construct</a> — Construye un objeto EventBase</li><li><a href="#eventbase.dispatch">EventBase::dispatch</a> — Despacha eventos pendientes</li><li><a href="#eventbase.exit">EventBase::exit</a> — Detiene el envío de los eventos</li><li><a href="#eventbase.free">EventBase::free</a> — Libera los recursos asignados para el evento base</li><li><a href="#eventbase.getfeatures">EventBase::getFeatures</a> — Devuelve una máscara de las funcionalidades soportadas</li><li><a href="#eventbase.getmethod">EventBase::getMethod</a> — Devuelve el método de evento utilizado</li><li><a href="#eventbase.gettimeofdaycached">EventBase::getTimeOfDayCached</a> — Devuelve el tiempo del evento base actual</li><li><a href="#eventbase.gotexit">EventBase::gotExit</a> — Verifica si se ha solicitado que el bucle de eventos salga</li><li><a href="#eventbase.gotstop">EventBase::gotStop</a> — Verifica si se ha solicitado que la iteración de eventos se detenga</li><li><a href="#eventbase.loop">EventBase::loop</a> — Distribuye los eventos en espera</li><li><a href="#eventbase.priorityinit">EventBase::priorityInit</a> — Define el número de prioridades por evento base</li><li><a href="#eventbase.reinit">EventBase::reInit</a> — Reinicializa el evento base (después de un 'fork')</li><li><a href="#eventbase.stop">EventBase::stop</a> — Solicita a event_base que detenga la emisión de  eventos</li></ul>
</div>

<hr>



 



<div id="class.eventbuffer" class="reference"><hr>
 <h1 class="title">La clase EventBuffer</h1>
 
 <div class="partintro"><p class="verinfo">(PECL event &gt;= 1.5.0)</p>

  <div class="section" id="eventbuffer.intro">
   <h2 class="title">Introducción</h2>
   <p class="para">
    La clase <span class="classname"><strong class="classname">EventBuffer</strong></span> representa
    "evbuffer" de Libevent, una utilidad para las I/O bufferizadas.
   </p>
   <p class="para">
    Los buffers de eventos son generalmente útiles para realizar la
    parte buffer de una red I/O bufferizada.
   </p>
  </div>

  <div class="section" id="eventbuffer.synopsis">
   <h2 class="title">Sinopsis de la Clase</h2>


   <div class="classsynopsis">
    <span class="ooclass">
     <strong class="classname"></strong>
    </span>

    <div class="classsynopsisinfo">
     <span class="ooclass">
      <span class="modifier">class</span> <strong class="classname">EventBuffer</strong>
     </span>
     {</div>

    <div class="classsynopsisinfo classsynopsisinfo_comment">/* Constantes */</div>
    <div class="fieldsynopsis">
     <span class="modifier">const</span>
     <span class="type"><a href="#language.types.integer" class="type int">int</a></span>
      <var class="fieldsynopsis_varname"><a href="#eventbuffer.constants.eol-any"><var class="varname">EOL_ANY</var></a></var><span class="initializer"> = 0</span>;</div>

    <div class="fieldsynopsis"><span class="modifier">const</span>
     <span class="type"><a href="#language.types.integer" class="type int">int</a></span>
      <var class="fieldsynopsis_varname"><a href="#eventbuffer.constants.eol-crlf"><var class="varname">EOL_CRLF</var></a></var><span class="initializer"> = 1</span>;</div>

    <div class="fieldsynopsis"><span class="modifier">const</span>
     <span class="type"><a href="#language.types.integer" class="type int">int</a></span>
      <var class="fieldsynopsis_varname"><a href="#eventbuffer.constants.eol-crlf-strict"><var class="varname">EOL_CRLF_STRICT</var></a></var><span class="initializer"> = 2</span>;</div>

    <div class="fieldsynopsis"><span class="modifier">const</span>
     <span class="type"><a href="#language.types.integer" class="type int">int</a></span>
      <var class="fieldsynopsis_varname"><a href="#eventbuffer.constants.eol-lf"><var class="varname">EOL_LF</var></a></var><span class="initializer"> = 3</span>;</div>

    <div class="fieldsynopsis"><span class="modifier">const</span>
     <span class="type"><a href="#language.types.integer" class="type int">int</a></span>
      <var class="fieldsynopsis_varname"><a href="#eventbuffer.constants.ptr-set"><var class="varname">PTR_SET</var></a></var><span class="initializer"> = 0</span>;</div>

    <div class="fieldsynopsis"><span class="modifier">const</span>
     <span class="type"><a href="#language.types.integer" class="type int">int</a></span>
      <var class="fieldsynopsis_varname"><a href="#eventbuffer.constants.ptr-add"><var class="varname">PTR_ADD</var></a></var><span class="initializer"> = 1</span>;</div>

    <div class="classsynopsisinfo classsynopsisinfo_comment">/* Propiedades */</div>
    <div class="fieldsynopsis"><span class="modifier">public</span>
     <span class="modifier">readonly</span>
     <span class="type"><a href="#language.types.integer" class="type int">int</a></span>
      <var class="varname"><a href="#eventbuffer.props.length">$<var class="varname">length</var></a></var>;</div>

    <div class="fieldsynopsis"><span class="modifier">public</span>
     <span class="modifier">readonly</span>
     <span class="type"><a href="#language.types.integer" class="type int">int</a></span>
      <var class="varname"><a href="#eventbuffer.props.contiguous-space">$<var class="varname">contiguous_space</var></a></var>;</div>

    <div class="classsynopsisinfo classsynopsisinfo_comment">/* Métodos */</div>
    <div class="methodsynopsis dc-description">
   <span class="modifier">public</span>
   <span class="methodname"><a href="#eventbuffer.add" class="methodname">add</a></span>(<span class="methodparam">
    
    <span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$data</code>
   </span>): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span>
   <span class="methodname"><a href="#eventbuffer.addbuffer" class="methodname">addBuffer</a></span>(<span class="methodparam">
    
    <span class="type"><a href="#class.eventbuffer" class="type EventBuffer">EventBuffer</a></span> <code class="parameter">$buf</code>
   </span>): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span>
   <span class="methodname"><a href="#eventbuffer.appendfrom" class="methodname">appendFrom</a></span>(<span class="methodparam">
    
    <span class="type"><a href="#class.eventbuffer" class="type EventBuffer">EventBuffer</a></span> <code class="parameter">$buf</code>
   </span>, <span class="methodparam">
    
    <span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$len</code>
   </span>): <span class="type"><a href="#language.types.integer" class="type int">int</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span>
   <span class="methodname"><a href="#eventbuffer.construct" class="methodname">__construct</a></span>()</div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span>
   <span class="methodname"><a href="#eventbuffer.copyout" class="methodname">copyout</a></span>(<span class="methodparam">
    
    <span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter reference">&amp;$data</code>
   </span>, <span class="methodparam">
    
    <span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$max_bytes</code>
   </span>): <span class="type"><a href="#language.types.integer" class="type int">int</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span>
   <span class="methodname"><a href="#eventbuffer.drain" class="methodname">drain</a></span>(<span class="methodparam">
    
    <span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$len</code>
   </span>): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span>
   <span class="methodname"><a href="#eventbuffer.enablelocking" class="methodname">enableLocking</a></span>(): <span class="type"><a href="language.types.void.html" class="type void">void</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span>
   <span class="methodname"><a href="#eventbuffer.expand" class="methodname">expand</a></span>(<span class="methodparam">
    
    <span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$len</code>
   </span>): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span>
   <span class="methodname"><a href="#eventbuffer.freeze" class="methodname">freeze</a></span>(<span class="methodparam">
    
    <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span> <code class="parameter">$at_front</code>
   </span>): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span>
   <span class="methodname"><a href="#eventbuffer.lock" class="methodname">lock</a></span>(): <span class="type"><a href="language.types.void.html" class="type void">void</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span>
   <span class="methodname"><a href="#eventbuffer.prepend" class="methodname">prepend</a></span>(<span class="methodparam">
    
    <span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$data</code>
   </span>): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span>
   <span class="methodname"><a href="#eventbuffer.prependbuffer" class="methodname">prependBuffer</a></span>(<span class="methodparam">
    
    <span class="type"><a href="#class.eventbuffer" class="type EventBuffer">EventBuffer</a></span> <code class="parameter">$buf</code>
   </span>): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span>
   <span class="methodname"><a href="#eventbuffer.pullup" class="methodname">pullup</a></span>(<span class="methodparam">
    
    <span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$size</code>
   </span>): <span class="type"><a href="#language.types.string" class="type string">string</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span>
   <span class="methodname"><a href="#eventbuffer.read" class="methodname">read</a></span>(<span class="methodparam">
    
    <span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$max_bytes</code>
   </span>): <span class="type"><a href="#language.types.string" class="type string">string</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span>
   <span class="methodname"><a href="#eventbuffer.read" class="methodname">read</a></span>(<span class="methodparam">
    
    <span class="type"><a href="#language.types.mixed" class="type mixed">mixed</a></span> <code class="parameter">$fd</code>
   </span>, <span class="methodparam">
    
    <span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$howmuch</code>
   </span>): <span class="type"><a href="#language.types.integer" class="type int">int</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span>
   <span class="methodname"><a href="#eventbuffer.readline" class="methodname">readLine</a></span>(<span class="methodparam">
    
    <span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$eol_style</code>
   </span>): <span class="type"><a href="#language.types.string" class="type string">string</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span>
   <span class="methodname"><a href="#eventbuffer.search" class="methodname">search</a></span>(<span class="methodparam">
    
    <span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$what</code>
   </span>, <span class="methodparam">
    
    <span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$start</code>
    <span class="initializer"> = -1</span>
   </span>, <span class="methodparam">
    
    <span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$end</code>
    <span class="initializer"> = -1</span>
   </span>): <span class="type"><a href="#language.types.mixed" class="type mixed">mixed</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span>
   <span class="methodname"><a href="#eventbuffer.searcheol" class="methodname">searchEol</a></span>(<span class="methodparam">
    
    <span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$start</code>
    <span class="initializer"> = -1</span>
   </span>, <span class="methodparam">
    
    <span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$eol_style</code>
    <span class="initializer"> = 
     <strong><code><a href="#eventbuffer.constants.eol-any">EventBuffer::EOL_ANY</a></code></strong>
    </span>
   </span>): <span class="type"><a href="#language.types.mixed" class="type mixed">mixed</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span>
   <span class="methodname"><a href="#eventbuffer.substr" class="methodname">substr</a></span>(<span class="methodparam">
    
    <span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$start</code>
   </span>, <span class="methodparam">
    
    <span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$length</code>
   <span class="initializer"> = ?</span></span>): <span class="type"><a href="#language.types.string" class="type string">string</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span>
   <span class="methodname"><a href="#eventbuffer.unfreeze" class="methodname">unfreeze</a></span>(<span class="methodparam">
    
    <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span> <code class="parameter">$at_front</code>
   </span>): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span>
   <span class="methodname"><a href="#eventbuffer.unlock" class="methodname">unlock</a></span>(): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span>
   <span class="methodname"><a href="#eventbuffer.write" class="methodname">write</a></span>(<span class="methodparam">
    
    <span class="type"><a href="#language.types.mixed" class="type mixed">mixed</a></span> <code class="parameter">$fd</code>
   </span>, <span class="methodparam">
    
    <span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$howmuch</code>
   <span class="initializer"> = ?</span></span>): <span class="type"><a href="#language.types.integer" class="type int">int</a></span></div>

   }</div>

  </div>

  <div class="section" id="eventbuffer.props">
   <h2 class="title">Propiedades</h2>
   <dl>
    
     <dt id="eventbuffer.props.length">
      <var class="varname">length</var>
     </dt>
     <dd>
      <p class="para">
       El número de bytes almacenados en un buffer de eventos.
      </p>
     </dd>
    
    
     <dt id="eventbuffer.props.contiguous-space">
      <var class="varname">contiguous_space</var>
     </dt>
     <dd>
      <p class="para">
       El número de bytes almacenados de manera contigua al inicio del buffer.
       Los bytes en un buffer pueden estar almacenados en varias partes
       separadas de la memoria; esta propiedad devuelve el número de bytes
       actualmente almacenados en la primera parte.
      </p>
     </dd>
    
   </dl>
  </div>


  <div class="section" id="eventbuffer.constants">
   <h2 class="title">Constantes predefinidas</h2>
   <dl>
    
     <dt id="eventbuffer.constants.eol-any">
      <strong><code><a href="#eventbuffer.constants.eol-any">EventBuffer::EOL_ANY</a></code></strong>
     </dt>
     <dd>
      <p class="para">
       El fin de línea es una secuencia de números que representan un retorno de carro
       y una nueva línea. Este formato no es muy útil; existe solo por razones de compatibilidad ascendente.
      </p>
     </dd>
    
    
     <dt id="eventbuffer.constants.eol-crlf">
      <strong><code><a href="#eventbuffer.constants.eol-crlf">EventBuffer::EOL_CRLF</a></code></strong>
     </dt>
     <dd>
      <p class="para">
       El fin de línea es un retorno de carro opcional, seguido de una nueva
       línea. (En otras palabras, es <code class="literal">"\r\n"</code>
       o <code class="literal">"\n"</code>). Este formato es útil para analizar
       los protocolos de Internet basados en texto; el estándar requiere
       <code class="literal">"\r\n"</code> pero algunos clientes proporcionan solo
       <code class="literal">"\n"</code>.
      </p>
     </dd>
    
    
     <dt id="eventbuffer.constants.eol-crlf-strict">
      <strong><code><a href="#eventbuffer.constants.eol-crlf-strict">EventBuffer::EOL_CRLF_STRICT</a></code></strong>
     </dt>
     <dd>
      <p class="para">
       El fin de línea es un simple retorno de carro, seguido de una
       simple nueva línea (también conocido como <code class="literal">"\r\n"</code>.
       Los valores ASCII son <code class="literal">0x0D</code> <code class="literal">0x0A</code>).
      </p>
     </dd>
    
    
     <dt id="eventbuffer.constants.eol-lf">
      <strong><code><a href="#eventbuffer.constants.eol-lf">EventBuffer::EOL_LF</a></code></strong>
     </dt>
     <dd>
      <p class="para">
       El fin de línea es un simple carácter de nueva línea (también conocido
       como <code class="literal">"\n"</code>. El valor ASCII es <code class="literal">0x0A</code>).
      </p>
     </dd>
    
    
     <dt id="eventbuffer.constants.ptr-set">
      <strong><code><a href="#eventbuffer.constants.ptr-set">EventBuffer::PTR_SET</a></code></strong>
     </dt>
     <dd>
      <p class="para">
       Flag utilizado como argumento del método
       <span class="methodname"><strong>EventBuffer::setPosition()</strong></span>. Si este flag es especificado,
       la posición del puntero es movida a una posición absoluta del buffer.
      </p>
     </dd>
    
    
     <dt id="eventbuffer.constants.ptr-add">
      <strong><code><a href="#eventbuffer.constants.ptr-add">EventBuffer::PTR_ADD</a></code></strong>
     </dt>
     <dd>
      <p class="para">
       Idéntico a <strong><code><a href="#eventbuffer.constants.ptr-set">EventBuffer::PTR_SET</a></code></strong>,
       excepto que este flag hace que el método
       <span class="methodname"><strong>EventBuffer::setPosition()</strong></span>
       se mueva a una posición hacia atrás en relación con el número
       de bytes especificado (en lugar de definir una posición absoluta).
      </p>
     </dd>
    
   </dl>
  </div>

 </div>

 




<div id="eventbuffer.add" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">EventBuffer::add</h1>
  <p class="verinfo">(PECL event &gt;= 1.2.6-beta)</p><p class="refpurpose"><span class="refname">EventBuffer::add</span> — <span class="dc-title">Añade datos al final de un buffer de eventos</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-eventbuffer.add-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span>
   <span class="methodname"><strong>EventBuffer::add</strong></span>(<span class="methodparam">
    
    <span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$data</code>
   </span>): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>

  <p class="para rdfs-comment">
   Añade datos al final de un buffer de eventos.
  </p>
 </div>

 <div class="refsect1 parameters" id="refsect1-eventbuffer.add-parameters">
  <h3 class="title">Parámetros</h3>
  <dl>
   
    <dt>
     <code class="parameter">data</code>
    </dt>
    <dd>
     <p class="para">
      String que se añadirá al final del buffer.
     </p>
    </dd>
   
  </dl>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-eventbuffer.add-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Esta función retorna <strong><code><a href="#constant.true">true</a></code></strong> en caso de éxito o <strong><code><a href="#constant.false">false</a></code></strong> si ocurre un error.
  </p>
 </div>

 <div class="refsect1 seealso" id="refsect1-eventbuffer.add-seealso">
  <h3 class="title">Ver también</h3>
  <ul class="simplelist">
   <li>
    <span class="methodname"><a href="#eventbuffer.addbuffer" class="methodname" rel="rdfs-seeAlso">EventBuffer::addBuffer()</a> - Desplaza todos los datos del búfer proporcionado al EventBuffer actual</span>
   </li>
  </ul>
 </div>

</div>
<hr>







<div id="eventbuffer.addbuffer" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">EventBuffer::addBuffer</h1>
  <p class="verinfo">(PECL event &gt;= 1.2.6-beta)</p><p class="refpurpose"><span class="refname">EventBuffer::addBuffer</span> — <span class="dc-title">Desplaza todos los datos del búfer proporcionado al EventBuffer actual</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-eventbuffer.addbuffer-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span>
   <span class="methodname"><strong>EventBuffer::addBuffer</strong></span>(<span class="methodparam">
    
    <span class="type"><a href="#class.eventbuffer" class="type EventBuffer">EventBuffer</a></span> <code class="parameter">$buf</code>
   </span>): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>

  <p class="para rdfs-comment">
   Desplaza todos los datos del búfer proporcionado por el argumento
   <code class="parameter">buf</code> al final del <span class="classname"><a href="#class.eventbuffer" class="classname">EventBuffer</a></span>
   actual. Se trata de una adición destructiva. Los datos del primer búfer
   son desplazados al otro. Sin embargo, no se produce ninguna copia en memoria.
  </p>
 </div>

 <div class="refsect1 parameters" id="refsect1-eventbuffer.addbuffer-parameters">
  <h3 class="title">Parámetros</h3>
  <dl>
   
    <dt>
     <code class="parameter">buf</code>
    </dt>
    <dd>
     <p class="para">
      El objeto EventBuffer de origen.
     </p>
    </dd>
   
  </dl>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-eventbuffer.addbuffer-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Esta función retorna <strong><code><a href="#constant.true">true</a></code></strong> en caso de éxito o <strong><code><a href="#constant.false">false</a></code></strong> si ocurre un error.
  </p>
 </div>

 <div class="refsect1 seealso" id="refsect1-eventbuffer.addbuffer-seealso">
  <h3 class="title">Ver también</h3>
  <ul class="simplelist">
   <li>
    <span class="methodname"><a href="#eventbuffer.add" class="methodname" rel="rdfs-seeAlso">EventBuffer::add()</a> - Añade datos al final de un buffer de eventos</span>
   </li>
  </ul>
 </div>

</div>
<hr>








<div id="eventbuffer.appendfrom" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">EventBuffer::appendFrom</h1>
  <p class="verinfo">(PECL event &gt;= 1.6.0)</p><p class="refpurpose"><span class="refname">EventBuffer::appendFrom</span> — <span class="dc-title">Mueve el número de bytes especificados desde un buffer fuente, al
  final del buffer actual</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-eventbuffer.appendfrom-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span>
   <span class="methodname"><strong>EventBuffer::appendFrom</strong></span>(<span class="methodparam">
    
    <span class="type"><a href="#class.eventbuffer" class="type EventBuffer">EventBuffer</a></span> <code class="parameter">$buf</code>
   </span>, <span class="methodparam">
    
    <span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$len</code>
   </span>): <span class="type"><a href="#language.types.integer" class="type int">int</a></span></div>

  <p class="para rdfs-comment">
   Mueve el número de bytes especificados desde un buffer fuente, al final del
   buffer actual. Si hay menos bytes, mueve todos los bytes
   disponibles del buffer fuente.
  </p>
 </div>

 <div class="refsect1 parameters" id="refsect1-eventbuffer.appendfrom-parameters">
  <h3 class="title">Parámetros</h3>
  <dl>
   
    <dt>
     <code class="parameter">buf</code>
    </dt>
    <dd>
     <p class="para">
      Buffer fuente.
     </p>
    </dd>
   
   
    <dt>
     <code class="parameter">len</code>
    </dt>
    <dd>
     <p class="para"></p>
    </dd>
   
  </dl>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-eventbuffer.appendfrom-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Devuelve el número de bytes leídos.
  </p>
 </div>

 <div class="refsect1 changelog" id="refsect1-eventbuffer.appendfrom-changelog">
  <h3 class="title">Historial de cambios</h3>
  <p class="para">
   </p><table class="doctable informaltable">
    
     <thead>
      <tr>
       <th>Versión</th>
       <th>Descripción</th>
      </tr>

     </thead>

     <tbody class="tbody">
      <tr>
       <td>PECL event 1.6.0</td>
       <td>
        Renombrado de <span class="methodname"><strong>EventBuffer::appendFrom()</strong></span>(nombre
        antiguo del método) a <span class="methodname"><strong>EventBuffer::appendFrom()</strong></span>.
       </td>
      </tr>

     </tbody>
    
   </table>

  
 </div>

 <div class="refsect1 seealso" id="refsect1-eventbuffer.appendfrom-seealso">
  <h3 class="title">Ver también</h3>
  <ul class="simplelist">
   <li>
    <span class="methodname"><a href="#eventbuffer.copyout" class="methodname" rel="rdfs-seeAlso">EventBuffer::copyout()</a> - Copia el número de bytes especificado desde el inicio del búfer</span>
   </li>
   <li>
    <span class="methodname"><a href="#eventbuffer.drain" class="methodname" rel="rdfs-seeAlso">EventBuffer::drain()</a> - Elimina un número especificado de bytes desde el inicio del búfer
   sin copiar los datos</span>
   </li>
   <li>
    <span class="methodname"><a href="#eventbuffer.pullup" class="methodname" rel="rdfs-seeAlso">EventBuffer::pullup()</a> - Serializa los datos del buffer y devuelve el contenido del
   buffer en forma de string</span>
   </li>
   <li>
    <span class="methodname"><a href="#eventbuffer.readline" class="methodname" rel="rdfs-seeAlso">EventBuffer::readLine()</a> - Extrae una línea desde el inicio del búfer</span>
   </li>
   <li>
    <span class="methodname"><a href="#eventbuffer.read" class="methodname" rel="rdfs-seeAlso">EventBuffer::read()</a> - Lee los datos de un evbuffer y vacía los bytes leídos</span>
   </li>
  </ul>
 </div>

</div>
<hr>







<div id="eventbuffer.construct" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">EventBuffer::__construct</h1>
  <p class="verinfo">(PECL event &gt;= 1.2.6-beta)</p><p class="refpurpose"><span class="refname">EventBuffer::__construct</span> — <span class="dc-title">Construye el objeto EventBuffer</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-eventbuffer.construct-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span>
   <span class="methodname"><strong>EventBuffer::__construct</strong></span>()</div>

  <p class="para rdfs-comment">
   Construye el objeto EventBuffer
  </p>
 </div>

 <div class="refsect1 parameters" id="refsect1-eventbuffer.construct-parameters">
  <h3 class="title">Parámetros</h3>
  <p class="para">Esta función no contiene ningún parámetro.</p>
 </div>

</div>
<hr>







<div id="eventbuffer.copyout" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">EventBuffer::copyout</h1>
  <p class="verinfo">(PECL event &gt;= 1.2.6-beta)</p><p class="refpurpose"><span class="refname">EventBuffer::copyout</span> — <span class="dc-title">Copia el número de bytes especificado desde el inicio del búfer</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-eventbuffer.copyout-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description"><span class="modifier">public</span>
   <span class="methodname"><strong>EventBuffer::copyout</strong></span>(<span class="methodparam">
    
    <span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter reference">&amp;$data</code>
   </span>, <span class="methodparam">
    
    <span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$max_bytes</code>
   </span>): <span class="type"><a href="#language.types.integer" class="type int">int</a></span></div>

  <p class="para rdfs-comment">
   Funciona de la misma manera que el método
   <span class="methodname"><a href="#eventbuffer.read" class="methodname">EventBuffer::read()</a></span>, pero no vacía los
   datos del búfer. Es decir, el método copia los primeros
   <code class="parameter">max_bytes</code> bytes desde el inicio del búfer
   en el argumento <code class="parameter">data</code>. Si hay menos de
   <code class="parameter">max_bytes</code> bytes disponibles, el método
   copia todos los bytes presentes.
  </p>
 </div>

 <div class="refsect1 parameters" id="refsect1-eventbuffer.copyout-parameters">
  <h3 class="title">Parámetros</h3>
  <dl>
   
    <dt>
     <code class="parameter">data</code>
    </dt>
    <dd>
     <p class="para">
      String de salida.
     </p>
    </dd>
   
   
    <dt>
     <code class="parameter">max_bytes</code>
    </dt>
    <dd>
     <p class="para">
      El número de bytes a copiar.
     </p>
    </dd>
   
  </dl>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-eventbuffer.copyout-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Devuelve el número de bytes copiados, o
   <strong><code><a href="#constant.-1">-1</a></code></strong> si ocurre un error.
  </p>
 </div>

 <div class="refsect1 seealso" id="refsect1-eventbuffer.copyout-seealso">
  <h3 class="title">Ver también</h3>
  <ul class="simplelist">
   <li>
    <span class="methodname"><a href="#eventbuffer.read" class="methodname" rel="rdfs-seeAlso">EventBuffer::read()</a> - Lee los datos de un evbuffer y vacía los bytes leídos</span>
   </li>
   <li>
    <span class="methodname"><a href="#eventbuffer.appendfrom" class="methodname" rel="rdfs-seeAlso">EventBuffer::appendFrom()</a> - Mueve el número de bytes especificados desde un buffer fuente, al
  final del buffer actual</span>
   </li>
  </ul>
 </div>

</div>
<hr>







<div id="eventbuffer.drain" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">EventBuffer::drain</h1>
  <p class="verinfo">(PECL event &gt;= 1.2.6-beta)</p><p class="refpurpose"><span class="refname">EventBuffer::drain</span> — <span class="dc-title">Elimina un número especificado de bytes desde el inicio del búfer
   sin copiar los datos</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-eventbuffer.drain-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span>
   <span class="methodname"><strong>EventBuffer::drain</strong></span>(<span class="methodparam">
    
    <span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$len</code>
   </span>): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>

  <p class="para rdfs-comment">
   Funciona de la misma manera que el método
   <span class="methodname"><a href="#eventbuffer.read" class="methodname">EventBuffer::read()</a></span> excepto que
   los datos eliminados no son copiados: solo se eliminan
   del inicio del búfer.
  </p>
 </div>

 <div class="refsect1 parameters" id="refsect1-eventbuffer.drain-parameters">
  <h3 class="title">Parámetros</h3>
  <dl>
   
    <dt>
     <code class="parameter">len</code>
    </dt>
    <dd>
     <p class="para">
      El número de bytes a eliminar del búfer.
     </p>
    </dd>
   
  </dl>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-eventbuffer.drain-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Esta función retorna <strong><code><a href="#constant.true">true</a></code></strong> en caso de éxito o <strong><code><a href="#constant.false">false</a></code></strong> si ocurre un error.
  </p>
 </div>

 <div class="refsect1 seealso" id="refsect1-eventbuffer.drain-seealso">
  <h3 class="title">Ver también</h3>
  <ul class="simplelist">
   <li>
    <span class="methodname"><a href="#eventbuffer.read" class="methodname" rel="rdfs-seeAlso">EventBuffer::read()</a> - Lee los datos de un evbuffer y vacía los bytes leídos</span>
   </li>
   <li>
    <span class="methodname"><a href="#eventbuffer.appendfrom" class="methodname" rel="rdfs-seeAlso">EventBuffer::appendFrom()</a> - Mueve el número de bytes especificados desde un buffer fuente, al
  final del buffer actual</span>
   </li>
  </ul>
 </div>

</div>
<hr>







<div id="eventbuffer.enablelocking" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">EventBuffer::enableLocking</h1>
  <p class="verinfo">(PECL event &gt;= 1.2.6-beta)</p><p class="refpurpose"><span class="refname">EventBuffer::enableLocking</span> — <span class="dc-title">
 </span></p></div>
 <div class="refsect1 description" id="refsect1-eventbuffer.enablelocking-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span>
   <span class="methodname"><strong>EventBuffer::enableLocking</strong></span>(): <span class="type"><a href="language.types.void.html" class="type void">void</a></span></div>

  <p class="para rdfs-comment">
   Se activa el bloqueo del <span class="classname"><a href="#class.eventbuffer" class="classname">EventBuffer</a></span>, permitiendo
   así su uso seguro por varios hilos simultáneamente. Cuando el bloqueo está activado,
   el bloqueo se coloca cuando se llaman las funciones de retrollamada.
   Este comportamiento puede provocar bloqueos si no se tiene cuidado.
  </p>
 </div>

 <div class="refsect1 parameters" id="refsect1-eventbuffer.enablelocking-parameters">
  <h3 class="title">Parámetros</h3>
  <p class="para">Esta función no contiene ningún parámetro.</p>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-eventbuffer.enablelocking-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   No se retorna ningún valor.
  </p>
 </div>

 <div class="refsect1 seealso" id="refsect1-eventbuffer.enablelocking-seealso">
  <h3 class="title">Ver también</h3>
  <ul class="simplelist">
   <li>
    <a href="http://www.wangafu.net/~nickm/libevent-book/Ref7_evbuffer.html#_evbuffers_and_thread_safety" class="link external">» Evbuffers and Thread-safety</a>
   </li>
  </ul>
 </div>

</div>
<hr>








<div id="eventbuffer.expand" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">EventBuffer::expand</h1>
  <p class="verinfo">(PECL event &gt;= 1.2.6-beta)</p><p class="refpurpose"><span class="refname">EventBuffer::expand</span> — <span class="dc-title">Reserva espacio en el buffer</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-eventbuffer.expand-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span>
   <span class="methodname"><strong>EventBuffer::expand</strong></span>(<span class="methodparam">
    
    <span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$len</code>
   </span>): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>

  <p class="para rdfs-comment">
   Modifica el último bloque de memoria del buffer, o añade un nuevo bloque, de modo
   que el buffer es ahora suficientemente grande para contener
   <code class="parameter">len</code>
   bytes sin añadir espacios suplementarios.
  </p>
 </div>

 <div class="refsect1 parameters" id="refsect1-eventbuffer.expand-parameters">
  <h3 class="title">Parámetros</h3>
  <dl>
   
    <dt>
     <code class="parameter">len</code>
    </dt>
    <dd>
     <p class="para">
      El número de bytes a reservar del buffer
     </p>
    </dd>
   
  </dl>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-eventbuffer.expand-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Esta función retorna <strong><code><a href="#constant.true">true</a></code></strong> en caso de éxito o <strong><code><a href="#constant.false">false</a></code></strong> si ocurre un error.
  </p>
 </div>

</div>
<hr>








<div id="eventbuffer.freeze" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">EventBuffer::freeze</h1>
  <p class="verinfo">(PECL event &gt;= 1.2.6-beta)</p><p class="refpurpose"><span class="refname">EventBuffer::freeze</span> — <span class="dc-title">Evita que las llamadas puedan modificar un buffer de eventos</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-eventbuffer.freeze-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span>
   <span class="methodname"><strong>EventBuffer::freeze</strong></span>(<span class="methodparam">
    
    <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span> <code class="parameter">$at_front</code>
   </span>): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>

  <p class="para rdfs-comment">
   Evita que las llamadas puedan modificar un buffer de eventos
  </p>
 </div>

 <div class="refsect1 parameters" id="refsect1-eventbuffer.freeze-parameters">
  <h3 class="title">Parámetros</h3>
  <dl>
   
    <dt>
     <code class="parameter">at_front</code>
    </dt>
    <dd>
     <p class="para">
      Permite desactivar cambios en el principio o final del buffer.
     </p>
    </dd>
   
  </dl>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-eventbuffer.freeze-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Esta función retorna <strong><code><a href="#constant.true">true</a></code></strong> en caso de éxito o <strong><code><a href="#constant.false">false</a></code></strong> si ocurre un error.
  </p>
 </div>

 <div class="refsect1 seealso" id="refsect1-eventbuffer.freeze-seealso">
  <h3 class="title">Ver también</h3>
  <ul class="simplelist">
   <li>
    <span class="methodname"><a href="#eventbuffer.unfreeze" class="methodname" rel="rdfs-seeAlso">EventBuffer::unfreeze()</a> - Re-activa las llamadas que permiten modificar un buffer de eventos</span>
   </li>
  </ul>
 </div>

</div>
<hr>







<div id="eventbuffer.lock" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">EventBuffer::lock</h1>
  <p class="verinfo">(PECL event &gt;= 1.2.6-beta)</p><p class="refpurpose"><span class="refname">EventBuffer::lock</span> — <span class="dc-title">Bloquea un buffer</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-eventbuffer.lock-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span>
   <span class="methodname"><strong>EventBuffer::lock</strong></span>(): <span class="type"><a href="language.types.void.html" class="type void">void</a></span></div>

  <p class="para rdfs-comment">
   Bloquea un buffer. Puede ser utilizado junto con
   <span class="methodname"><a href="#eventbuffer.unlock" class="methodname">EventBuffer::unlock()</a></span>
   para que un conjunto de operaciones sean atómicas, p.e. thread-safe. Notar que no se
   necesita bloquear buffers para operaciones
   <em>individuales</em> .
   Cuando el bloqueo está activo (ver
   <span class="methodname"><a href="#eventbuffer.enablelocking" class="methodname">EventBuffer::enableLocking()</a></span>
   ), las operaciones individuales en buffers de eventos ya son atómicas.
  </p>
 </div>

 <div class="refsect1 parameters" id="refsect1-eventbuffer.lock-parameters">
  <h3 class="title">Parámetros</h3>
  <p class="para">Esta función no contiene ningún parámetro.</p>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-eventbuffer.lock-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   No se retorna ningún valor.
  </p>
 </div>

 <div class="refsect1 seealso" id="refsect1-eventbuffer.lock-seealso">
  <h3 class="title">Ver también</h3>
  <ul class="simplelist">
   <li>
    <span class="methodname"><a href="#eventbuffer.unlock" class="methodname" rel="rdfs-seeAlso">EventBuffer::unlock()</a> - Libera un bloqueo adquirido con EventBuffer::lock</span>
   </li>
  </ul>
 </div>

</div>
<hr>








<div id="eventbuffer.prepend" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">EventBuffer::prepend</h1>
  <p class="verinfo">(PECL event &gt;= 1.2.6-beta)</p><p class="refpurpose"><span class="refname">EventBuffer::prepend</span> — <span class="dc-title">Añade datos al principio del buffer</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-eventbuffer.prepend-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span>
   <span class="methodname"><strong>EventBuffer::prepend</strong></span>(<span class="methodparam">
    
    <span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$data</code>
   </span>): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>

  <p class="para rdfs-comment">
   Añade datos al principio del buffer.
  </p>
 </div>

 <div class="refsect1 parameters" id="refsect1-eventbuffer.prepend-parameters">
  <h3 class="title">Parámetros</h3>
  <dl>
   
    <dt>
     <code class="parameter">data</code>
    </dt>
    <dd>
     <p class="para">
      String a añadir al principio del buffer.
     </p>
    </dd>
   
  </dl>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-eventbuffer.prepend-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Esta función retorna <strong><code><a href="#constant.true">true</a></code></strong> en caso de éxito o <strong><code><a href="#constant.false">false</a></code></strong> si ocurre un error.
  </p>
 </div>

 <div class="refsect1 seealso" id="refsect1-eventbuffer.prepend-seealso">
  <h3 class="title">Ver también</h3>
  <ul class="simplelist">
   <li>
    <span class="methodname"><a href="#eventbuffer.prependbuffer" class="methodname" rel="rdfs-seeAlso">EventBuffer::prependBuffer()</a> - Desplaza todos los datos desde el buffer fuente hacia el inicio
   del buffer actual</span>
   </li>
   <li>
    <span class="methodname"><a href="#eventbuffer.add" class="methodname" rel="rdfs-seeAlso">EventBuffer::add()</a> - Añade datos al final de un buffer de eventos</span>
   </li>
   <li>
    <span class="methodname"><a href="#eventbuffer.addbuffer" class="methodname" rel="rdfs-seeAlso">EventBuffer::addBuffer()</a> - Desplaza todos los datos del búfer proporcionado al EventBuffer actual</span>
   </li>
  </ul>
 </div>

</div>
<hr>







<div id="eventbuffer.prependbuffer" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">EventBuffer::prependBuffer</h1>
  <p class="verinfo">(PECL event &gt;= 1.2.6-beta)</p><p class="refpurpose"><span class="refname">EventBuffer::prependBuffer</span> — <span class="dc-title">Desplaza todos los datos desde el buffer fuente hacia el inicio
   del buffer actual</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-eventbuffer.prependbuffer-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span>
   <span class="methodname"><strong>EventBuffer::prependBuffer</strong></span>(<span class="methodparam">
    
    <span class="type"><a href="#class.eventbuffer" class="type EventBuffer">EventBuffer</a></span> <code class="parameter">$buf</code>
   </span>): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>

  <p class="para rdfs-comment">
   Funciona exactamente como el método
   <span class="methodname"><a href="#eventbuffer.addbuffer" class="methodname">EventBuffer::addBuffer()</a></span>, excepto que desplaza los datos al inicio del buffer.
  </p>
 </div>

 <div class="refsect1 parameters" id="refsect1-eventbuffer.prependbuffer-parameters">
  <h3 class="title">Parámetros</h3>
  <dl>
   
    <dt>
     <code class="parameter">buf</code>
    </dt>
    <dd>
     <p class="para">
      Buffer fuente.
     </p>
    </dd>
   
  </dl>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-eventbuffer.prependbuffer-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Esta función retorna <strong><code><a href="#constant.true">true</a></code></strong> en caso de éxito o <strong><code><a href="#constant.false">false</a></code></strong> si ocurre un error.
  </p>
 </div>

 <div class="refsect1 seealso" id="refsect1-eventbuffer.prependbuffer-seealso">
  <h3 class="title">Ver también</h3>
  <ul class="simplelist">
   <li>
    <span class="methodname"><a href="#eventbuffer.add" class="methodname" rel="rdfs-seeAlso">EventBuffer::add()</a> - Añade datos al final de un buffer de eventos</span>
   </li>
   <li>
    <span class="methodname"><a href="#eventbuffer.addbuffer" class="methodname" rel="rdfs-seeAlso">EventBuffer::addBuffer()</a> - Desplaza todos los datos del búfer proporcionado al EventBuffer actual</span>
   </li>
   <li>
    <span class="methodname"><a href="#eventbuffer.prepend" class="methodname" rel="rdfs-seeAlso">EventBuffer::prepend()</a> - Añade datos al principio del buffer</span>
   </li>
  </ul>
 </div>

</div>
<hr>








<div id="eventbuffer.pullup" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">EventBuffer::pullup</h1>
  <p class="verinfo">(PECL event &gt;= 1.2.6-beta)</p><p class="refpurpose"><span class="refname">EventBuffer::pullup</span> — <span class="dc-title">Serializa los datos del buffer y devuelve el contenido del
   buffer en forma de string</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-eventbuffer.pullup-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span>
   <span class="methodname"><strong>EventBuffer::pullup</strong></span>(<span class="methodparam">
    
    <span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$size</code>
   </span>): <span class="type"><a href="#language.types.string" class="type string">string</a></span></div>

  <p class="para rdfs-comment">
   Serializa los primeros <code class="parameter">size</code> bytes del buffer,
   los copia o los mueve según sea necesario para asegurar que sean contiguos
   y ocupen la misma parte de la memoria. Si el tamaño es negativo, la función
   lineariza la totalidad del buffer.
  </p>
  <div class="warning"><strong class="warning">Advertencia</strong>
   <p class="para">
    La llamada al método <span class="methodname"><strong>EventBuffer::pullup()</strong></span>
    con un tamaño muy grande ralentiza la ejecución, ya que puede potencialmente
    necesitar copiar el contenido entero del buffer.
   </p>
  </div>
 </div>

 <div class="refsect1 parameters" id="refsect1-eventbuffer.pullup-parameters">
  <h3 class="title">Parámetros</h3>
  <dl>
   
    <dt>
     <code class="parameter">size</code>
    </dt>
    <dd>
     <p class="para">
      El número de bytes que deben ser contiguos en el buffer.
     </p>
    </dd>
   
  </dl>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-eventbuffer.pullup-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Si <code class="parameter">size</code> es superior al número de bytes del buffer,
   la función devolverá <strong><code><a href="#constant.null">null</a></code></strong>. De lo contrario, <span class="methodname"><strong>EventBuffer::pullup()</strong></span>
   devolverá un string.
  </p>
 </div>

 <div class="refsect1 seealso" id="refsect1-eventbuffer.pullup-seealso">
  <h3 class="title">Ver también</h3>
  <ul class="simplelist">
   <li>
    <span class="methodname"><a href="#eventbuffer.copyout" class="methodname" rel="rdfs-seeAlso">EventBuffer::copyout()</a> - Copia el número de bytes especificado desde el inicio del búfer</span>
   </li>
   <li>
    <span class="methodname"><a href="#eventbuffer.drain" class="methodname" rel="rdfs-seeAlso">EventBuffer::drain()</a> - Elimina un número especificado de bytes desde el inicio del búfer
   sin copiar los datos</span>
   </li>
   <li>
    <span class="methodname"><a href="#eventbuffer.read" class="methodname" rel="rdfs-seeAlso">EventBuffer::read()</a> - Lee los datos de un evbuffer y vacía los bytes leídos</span>
   </li>
   <li>
    <span class="methodname"><a href="#eventbuffer.readline" class="methodname" rel="rdfs-seeAlso">EventBuffer::readLine()</a> - Extrae una línea desde el inicio del búfer</span>
   </li>
   <li>
    <span class="methodname"><a href="#eventbuffer.appendfrom" class="methodname" rel="rdfs-seeAlso">EventBuffer::appendFrom()</a> - Mueve el número de bytes especificados desde un buffer fuente, al
  final del buffer actual</span>
   </li>
  </ul>
 </div>

</div>
<hr>








<div id="eventbuffer.read" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">EventBuffer::read</h1>
  <p class="verinfo">(PECL event &gt;= 1.6.0)</p><p class="refpurpose"><span class="refname">EventBuffer::read</span> — <span class="dc-title">Lee los datos de un evbuffer y vacía los bytes leídos</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-eventbuffer.read-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span>
   <span class="methodname"><strong>EventBuffer::read</strong></span>(<span class="methodparam">
    
    <span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$max_bytes</code>
   </span>): <span class="type"><a href="#language.types.string" class="type string">string</a></span></div>

  <p class="para rdfs-comment">
   Lee los primeros <code class="parameter">max_bytes</code> bytes desde el búfer
   y vacía los bytes leídos. Si el argumento <code class="parameter">max_bytes</code>
   representa más bytes de los disponibles en el búfer,
   todos los bytes disponibles serán leídos.
  </p>
 </div>

 <div class="refsect1 parameters" id="refsect1-eventbuffer.read-parameters">
  <h3 class="title">Parámetros</h3>
  <dl>
   
    <dt>
     <code class="parameter">max_bytes</code>
    </dt>
    <dd>
     <p class="para">
      El número máximo de bytes a leer desde el búfer.
     </p>
    </dd>
   
  </dl>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-eventbuffer.read-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Devuelve el string leído, o <strong><code><a href="#constant.false">false</a></code></strong> si ocurre un error.
  </p>
 </div>

 <div class="refsect1 changelog" id="refsect1-eventbuffer.read-changelog">
  <h3 class="title">Historial de cambios</h3>
  <p class="para">
   </p><table class="doctable informaltable">
    
     <thead>
      <tr>
       <th>Versión</th>
       <th>Descripción</th>
      </tr>

     </thead>

     <tbody class="tbody">
      <tr>
       <td>PECL event 1.6.0</td>
       <td>
        El método <span class="methodname"><strong>EventBuffer::read()</strong></span>
        fue renombrado a <span class="methodname"><strong>EventBuffer::read()</strong></span>.
        <span class="methodname"><strong>EventBuffer::read()</strong></span>
        ahora toma solo un argumento: <code class="parameter">max_bytes</code>
        ; ahora devuelve un string en lugar de un integer.
       </td>
      </tr>

     </tbody>
    
   </table>

  
 </div>

 <div class="refsect1 seealso" id="refsect1-eventbuffer.read-seealso">
  <h3 class="title">Ver también</h3>
  <ul class="simplelist">
   <li>
    <span class="methodname"><a href="#eventbuffer.copyout" class="methodname" rel="rdfs-seeAlso">EventBuffer::copyout()</a> - Copia el número de bytes especificado desde el inicio del búfer</span>
   </li>
   <li>
    <span class="methodname"><a href="#eventbuffer.drain" class="methodname" rel="rdfs-seeAlso">EventBuffer::drain()</a> - Elimina un número especificado de bytes desde el inicio del búfer
   sin copiar los datos</span>
   </li>
   <li>
    <span class="methodname"><a href="#eventbuffer.pullup" class="methodname" rel="rdfs-seeAlso">EventBuffer::pullup()</a> - Serializa los datos del buffer y devuelve el contenido del
   buffer en forma de string</span>
   </li>
   <li>
    <span class="methodname"><a href="#eventbuffer.readline" class="methodname" rel="rdfs-seeAlso">EventBuffer::readLine()</a> - Extrae una línea desde el inicio del búfer</span>
   </li>
   <li>
    <span class="methodname"><a href="#eventbuffer.appendfrom" class="methodname" rel="rdfs-seeAlso">EventBuffer::appendFrom()</a> - Mueve el número de bytes especificados desde un buffer fuente, al
  final del buffer actual</span>
   </li>
  </ul>
 </div>

</div>
<hr>








<div id="eventbuffer.readfrom" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">EventBuffer::readFrom</h1>
  <p class="verinfo">(PECL event &gt;= 1.7.0)</p><p class="refpurpose"><span class="refname">EventBuffer::readFrom</span> — <span class="dc-title">Lee datos desde un fichero y los coloca al final del búfer</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-eventbuffer.readfrom-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span>
   <span class="methodname"><a href="#eventbuffer.read" class="methodname">EventBuffer::read</a></span>(<span class="methodparam">
    
    <span class="type"><a href="#language.types.mixed" class="type mixed">mixed</a></span> <code class="parameter">$fd</code>
   </span>, <span class="methodparam">
    
    <span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$howmuch</code>
   </span>): <span class="type"><a href="#language.types.integer" class="type int">int</a></span></div>

  <p class="para rdfs-comment">
   Lee datos desde el fichero <code class="parameter">fd</code>
   y los coloca al final del búfer.
  </p>
 </div>

 <div class="refsect1 parameters" id="refsect1-eventbuffer.readfrom-parameters">
  <h3 class="title">Parámetros</h3>
  <dl>
   
    <dt>
     <code class="parameter">fd</code>
    </dt>
    <dd>
     <p class="para">
      Un socket, un flujo, o un descriptor de fichero numérico.
     </p>
    </dd>
   
   
    <dt>
     <code class="parameter">howmuch</code>
    </dt>
    <dd>
     <p class="para">
      Número máximo de bytes a leer.
     </p>
    </dd>
   
  </dl>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-eventbuffer.readfrom-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Devuelve el número de bytes leídos, o <strong><code><a href="#constant.false">false</a></code></strong> si ocurre un error.
  </p>
 </div>

 <div class="refsect1 seealso" id="refsect1-eventbuffer.readfrom-seealso">
  <h3 class="title">Ver también</h3>
  <ul class="simplelist">
   <li>
    <span class="methodname"><a href="#eventbuffer.copyout" class="methodname" rel="rdfs-seeAlso">EventBuffer::copyout()</a> - Copia el número de bytes especificado desde el inicio del búfer</span>
   </li>
   <li>
    <span class="methodname"><a href="#eventbuffer.drain" class="methodname" rel="rdfs-seeAlso">EventBuffer::drain()</a> - Elimina un número especificado de bytes desde el inicio del búfer
   sin copiar los datos</span>
   </li>
   <li>
    <span class="methodname"><a href="#eventbuffer.pullup" class="methodname" rel="rdfs-seeAlso">EventBuffer::pullup()</a> - Serializa los datos del buffer y devuelve el contenido del
   buffer en forma de string</span>
   </li>
   <li>
    <span class="methodname"><a href="#eventbuffer.readline" class="methodname" rel="rdfs-seeAlso">EventBuffer::readLine()</a> - Extrae una línea desde el inicio del búfer</span>
   </li>
   <li>
    <span class="methodname"><a href="#eventbuffer.appendfrom" class="methodname" rel="rdfs-seeAlso">EventBuffer::appendFrom()</a> - Mueve el número de bytes especificados desde un buffer fuente, al
  final del buffer actual</span>
   </li>
  </ul>
 </div>

</div>
<hr>







<div id="eventbuffer.readline" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">EventBuffer::readLine</h1>
  <p class="verinfo">(PECL event &gt;= 1.2.6-beta)</p><p class="refpurpose"><span class="refname">EventBuffer::readLine</span> — <span class="dc-title">Extrae una línea desde el inicio del búfer</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-eventbuffer.readline-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span>
   <span class="methodname"><strong>EventBuffer::readLine</strong></span>(<span class="methodparam">
    
    <span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$eol_style</code>
   </span>): <span class="type"><a href="#language.types.string" class="type string">string</a></span></div>

  <p class="para rdfs-comment">
   Extrae una línea desde el inicio del búfer y la devuelve
   en una nueva string asignada. Si no hay una línea completa
   para leer, el método devuelve <strong><code><a href="#constant.null">null</a></code></strong>. La terminación de la línea
   no está incluida en la string copiada.
  </p>
 </div>

 <div class="refsect1 parameters" id="refsect1-eventbuffer.readline-parameters">
  <h3 class="title">Parámetros</h3>
  <dl>
   
    <dt>
     <code class="parameter">eol_style</code>
    </dt>
    <dd>
     <p class="para">
      Una constante
      <a href="#eventbuffer.constants" class="link">EventBuffer:EOL_*</a>.
     </p>
    </dd>
   
  </dl>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-eventbuffer.readline-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   En caso de éxito, devuelve la línea leída desde el búfer,
   <strong><code><a href="#constant.null">null</a></code></strong> en caso contrario.
  </p>
 </div>

 <div class="refsect1 seealso" id="refsect1-eventbuffer.readline-seealso">
  <h3 class="title">Ver también</h3>
  <ul class="simplelist">
   <li>
    <span class="methodname"><a href="#eventbuffer.copyout" class="methodname" rel="rdfs-seeAlso">EventBuffer::copyout()</a> - Copia el número de bytes especificado desde el inicio del búfer</span>
   </li>
   <li>
    <span class="methodname"><a href="#eventbuffer.drain" class="methodname" rel="rdfs-seeAlso">EventBuffer::drain()</a> - Elimina un número especificado de bytes desde el inicio del búfer
   sin copiar los datos</span>
   </li>
   <li>
    <span class="methodname"><a href="#eventbuffer.pullup" class="methodname" rel="rdfs-seeAlso">EventBuffer::pullup()</a> - Serializa los datos del buffer y devuelve el contenido del
   buffer en forma de string</span>
   </li>
   <li>
    <span class="methodname"><a href="#eventbuffer.read" class="methodname" rel="rdfs-seeAlso">EventBuffer::read()</a> - Lee los datos de un evbuffer y vacía los bytes leídos</span>
   </li>
   <li>
    <span class="methodname"><a href="#eventbuffer.appendfrom" class="methodname" rel="rdfs-seeAlso">EventBuffer::appendFrom()</a> - Mueve el número de bytes especificados desde un buffer fuente, al
  final del buffer actual</span>
   </li>
  </ul>
 </div>

</div>
<hr>







<div id="eventbuffer.search" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">EventBuffer::search</h1>
  <p class="verinfo">(PECL event &gt;= 1.2.6-beta)</p><p class="refpurpose"><span class="refname">EventBuffer::search</span> — <span class="dc-title">Busca en el búfer una ocurrencia de un string</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-eventbuffer.search-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span>
   <span class="methodname"><strong>EventBuffer::search</strong></span>(<span class="methodparam">
    
    <span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$what</code>
   </span>, <span class="methodparam">
    
    <span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$start</code>
    <span class="initializer"> = -1</span>
   </span>, <span class="methodparam">
    
    <span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$end</code>
    <span class="initializer"> = -1</span>
   </span>): <span class="type"><a href="#language.types.mixed" class="type mixed">mixed</a></span></div>

  <p class="para rdfs-comment">
   Busca en el búfer una ocurrencia del string
   <code class="parameter">what</code>. El método devuelve la posición
   numérica del string buscado, o <strong><code><a href="#constant.false">false</a></code></strong> si el string
   no ha podido ser encontrado.
  </p>
  <p class="para">
   Si el argumento <code class="parameter">start</code> es proporcionado, será la posición
   desde la cual la búsqueda debe comenzar; de lo contrario, la búsqueda
   se realizará desde el inicio del string. Si el argumento
   <code class="parameter">end</code> es proporcionado, la búsqueda se realizará
   entre las posiciones de inicio y fin del búfer.
  </p>
 </div>

 <div class="refsect1 parameters" id="refsect1-eventbuffer.search-parameters">
  <h3 class="title">Parámetros</h3>
  <dl>
   
    <dt>
     <code class="parameter">what</code>
    </dt>
    <dd>
     <p class="para">
      String a buscar.
     </p>
    </dd>
   
   
    <dt>
     <code class="parameter">start</code>
    </dt>
    <dd>
     <p class="para">
      Posición de inicio de la búsqueda.
     </p>
    </dd>
   
   
    <dt>
     <code class="parameter">end</code>
    </dt>
    <dd>
     <p class="para">
      Posición de fin de la búsqueda.
     </p>
    </dd>
   
  </dl>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-eventbuffer.search-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Devuelve la posición numérica de la primera ocurrencia del
   string en el búfer, o <strong><code><a href="#constant.false">false</a></code></strong> si el string no ha sido encontrado.
  </p>
  <div class="warning"><strong class="warning">Advertencia</strong><p class="simpara">
 Esta función puede retornar <strong><code><a href="#constant.false">false</a></code></strong>, pero también puede retornar un valor equivalente a <strong><code><a href="#constant.false">false</a></code></strong>.
 Por favor, lea la sección sobre los <a href="#language.types.boolean" class="link">booleanos</a> para más información.
 Utilice el <a href="#language.operators.comparison" class="link">operador ===</a>
 para probar el valor de retorno exacto de esta función.
</p></div>
 </div>

 <div class="refsect1 examples" id="refsect1-eventbuffer.search-examples">
  <h3 class="title">Ejemplos</h3>
  <div class="example" id="example-4539">
   <p><strong>Ejemplo #1 Ejemplo con <span class="function"><strong>EventBuffer::search()</strong></span></strong></p>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br></span><span style="color: #FF8000">// Cuenta el número de ocurrencias del string 'str' en el búfer 'buf'<br></span><span style="color: #007700">function </span><span style="color: #0000BB">count_instances</span><span style="color: #007700">(</span><span style="color: #0000BB">$buf</span><span style="color: #007700">, </span><span style="color: #0000BB">$str</span><span style="color: #007700">) {<br>    </span><span style="color: #0000BB">$total </span><span style="color: #007700">= </span><span style="color: #0000BB">0</span><span style="color: #007700">;<br>    </span><span style="color: #0000BB">$p     </span><span style="color: #007700">= </span><span style="color: #0000BB">0</span><span style="color: #007700">;<br>    </span><span style="color: #0000BB">$i     </span><span style="color: #007700">= </span><span style="color: #0000BB">0</span><span style="color: #007700">;<br><br>    while (</span><span style="color: #0000BB">1</span><span style="color: #007700">) {<br>        </span><span style="color: #0000BB">$p </span><span style="color: #007700">= </span><span style="color: #0000BB">$buf</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">search</span><span style="color: #007700">(</span><span style="color: #0000BB">$str</span><span style="color: #007700">, </span><span style="color: #0000BB">$p</span><span style="color: #007700">);<br>        if (</span><span style="color: #0000BB">$p </span><span style="color: #007700">=== </span><span style="color: #0000BB">FALSE</span><span style="color: #007700">) {<br>            break;<br>        }<br>        ++</span><span style="color: #0000BB">$total</span><span style="color: #007700">;<br>        ++</span><span style="color: #0000BB">$p</span><span style="color: #007700">;<br>    }<br><br>    return </span><span style="color: #0000BB">$total</span><span style="color: #007700">;<br>}<br><br></span><span style="color: #0000BB">$buf </span><span style="color: #007700">= new </span><span style="color: #0000BB">EventBuffer</span><span style="color: #007700">();<br></span><span style="color: #0000BB">$buf</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">add</span><span style="color: #007700">(</span><span style="color: #DD0000">"Some string within a string inside another string"</span><span style="color: #007700">);<br></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">count_instances</span><span style="color: #007700">(</span><span style="color: #0000BB">$buf</span><span style="color: #007700">, </span><span style="color: #DD0000">"str"</span><span style="color: #007700">));<br></span><span style="color: #0000BB">?&gt;</span></span></code></div>
   </div>

   <div class="example-contents"><p>Resultado del ejemplo anterior es similar a:</p></div>
   <div class="example-contents screen">
<div class="examplescode"><pre class="examplescode">int(3)</pre>
</div>
   </div>
  </div>
 </div>

 <div class="refsect1 seealso" id="refsect1-eventbuffer.search-seealso">
  <h3 class="title">Ver también</h3>
  <ul class="simplelist">
   <li>
    <span class="methodname"><a href="#eventbuffer.searcheol" class="methodname" rel="rdfs-seeAlso">EventBuffer::searchEol()</a> - Busca en el búfer una ocurrencia de fin de línea</span>
   </li>
  </ul>
 </div>

</div>
<hr>







<div id="eventbuffer.searcheol" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">EventBuffer::searchEol</h1>
  <p class="verinfo">(PECL event &gt;= 1.5.0)</p><p class="refpurpose"><span class="refname">EventBuffer::searchEol</span> — <span class="dc-title">Busca en el búfer una ocurrencia de fin de línea</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-eventbuffer.searcheol-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span>
   <span class="methodname"><strong>EventBuffer::searchEol</strong></span>(<span class="methodparam">
    
    <span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$start</code>
    <span class="initializer"> = -1</span>
   </span>, <span class="methodparam">
    
    <span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$eol_style</code>
    <span class="initializer"> = 
     <strong><code><a href="#eventbuffer.constants.eol-any">EventBuffer::EOL_ANY</a></code></strong>
    </span>
   </span>): <span class="type"><a href="#language.types.mixed" class="type mixed">mixed</a></span></div>

  <p class="para rdfs-comment">
   Busca en el búfer una ocurrencia de fin de línea especificada por
   el argumento <code class="parameter">eol_style</code>. El método devuelve
   la posición numérica del string, o <strong><code><a href="#constant.false">false</a></code></strong> si el string no ha sido
   encontrado.
  </p>
  <p class="para">
   Si el argumento <code class="parameter">start</code> es proporcionado, representa
   la posición donde la búsqueda comenzará; de lo contrario, la búsqueda
   se realizará desde el inicio del string. Si el argumento <code class="parameter">end</code>
   es proporcionado, la búsqueda se realizará entre las posiciones de inicio
   y fin del búfer.
  </p>
 </div>

 <div class="refsect1 parameters" id="refsect1-eventbuffer.searcheol-parameters">
  <h3 class="title">Parámetros</h3>
  <dl>
   
    <dt>
     <code class="parameter">start</code>
    </dt>
    <dd>
     <p class="para">
      Posición de inicio de la búsqueda.
     </p>
    </dd>
   
   
    <dt>
     <code class="parameter">eol_style</code>
    </dt>
    <dd>
     <p class="para">
      Una constante
      <a href="#eventbuffer.constants" class="link">EventBuffer:EOL_*</a>.
     </p>
    </dd>
   
  </dl>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-eventbuffer.searcheol-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Devuelve la posición numérica de la primera ocurrencia del
   símbolo de fin de línea en el búfer, o bien <strong><code><a href="#constant.false">false</a></code></strong> si
   no ha sido encontrado.
  </p>
  <div class="warning"><strong class="warning">Advertencia</strong><p class="simpara">
 Esta función puede retornar <strong><code><a href="#constant.false">false</a></code></strong>, pero también puede retornar un valor equivalente a <strong><code><a href="#constant.false">false</a></code></strong>.
 Por favor, lea la sección sobre los <a href="#language.types.boolean" class="link">booleanos</a> para más información.
 Utilice el <a href="#language.operators.comparison" class="link">operador ===</a>
 para probar el valor de retorno exacto de esta función.
</p></div>
 </div>

 <div class="refsect1 seealso" id="refsect1-eventbuffer.searcheol-seealso">
  <h3 class="title">Ver también</h3>
  <ul class="simplelist">
   <li>
    <span class="methodname"><a href="#eventbuffer.search" class="methodname" rel="rdfs-seeAlso">EventBuffer::search()</a> - Busca en el búfer una ocurrencia de un string</span>
   </li>
  </ul>
 </div>

</div>
<hr>








<div id="eventbuffer.substr" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">EventBuffer::substr</h1>
  <p class="verinfo">(PECL event &gt;= 1.6.0)</p><p class="refpurpose"><span class="refname">EventBuffer::substr</span> — <span class="dc-title">Sustrae una porción de los datos del búfer</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-eventbuffer.substr-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span>
   <span class="methodname"><strong>EventBuffer::substr</strong></span>(<span class="methodparam">
    
    <span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$start</code>
   </span>, <span class="methodparam">
    
    <span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$length</code>
   <span class="initializer"> = ?</span></span>): <span class="type"><a href="#language.types.string" class="type string">string</a></span></div>

  <p class="para rdfs-comment">
   Sustrae una cantidad de <code class="parameter">length</code> bytes
   del búfer, comenzando en la posición <code class="parameter">start</code>.
  </p>
 </div>

 <div class="refsect1 parameters" id="refsect1-eventbuffer.substr-parameters">
  <h3 class="title">Parámetros</h3>
  <dl>
   
    <dt>
     <code class="parameter">start</code>
    </dt>
    <dd>
     <p class="para">
      La posición de inicio de los datos a sustraer.
     </p>
    </dd>
   
   
    <dt>
     <code class="parameter">length</code>
    </dt>
    <dd>
     <p class="para">
      Número máximo de bytes a sustraer.
     </p>
    </dd>
   
  </dl>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-eventbuffer.substr-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Devuelve los datos sustraídos en forma de string
   en caso de éxito, o bien <strong><code><a href="#constant.false">false</a></code></strong> si ocurre un error.
  </p>
 </div>

 <div class="refsect1 seealso" id="refsect1-eventbuffer.substr-seealso">
  <h3 class="title">Ver también</h3>
  <ul class="simplelist">
   <li>
    <span class="methodname"><a href="#eventbuffer.read" class="methodname" rel="rdfs-seeAlso">EventBuffer::read()</a> - Lee los datos de un evbuffer y vacía los bytes leídos</span>
   </li>
  </ul>
 </div>

</div>
<hr>








<div id="eventbuffer.unfreeze" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">EventBuffer::unfreeze</h1>
  <p class="verinfo">(PECL event &gt;= 1.2.6-beta)</p><p class="refpurpose"><span class="refname">EventBuffer::unfreeze</span> — <span class="dc-title">Re-activa las llamadas que permiten modificar un buffer de eventos</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-eventbuffer.unfreeze-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span>
   <span class="methodname"><strong>EventBuffer::unfreeze</strong></span>(<span class="methodparam">
    
    <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span> <code class="parameter">$at_front</code>
   </span>): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>

  <p class="para rdfs-comment">
   Re-activa las llamadas que permiten modificar un buffer de eventos.
  </p>
 </div>

 <div class="refsect1 parameters" id="refsect1-eventbuffer.unfreeze-parameters">
  <h3 class="title">Parámetros</h3>
  <dl>
   
    <dt>
     <code class="parameter">at_front</code>
    </dt>
    <dd>
     <p class="para">
      Si se deben activar los eventos al principio o al final del buffer.
     </p>
    </dd>
   
  </dl>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-eventbuffer.unfreeze-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Esta función retorna <strong><code><a href="#constant.true">true</a></code></strong> en caso de éxito o <strong><code><a href="#constant.false">false</a></code></strong> si ocurre un error.
  </p>
 </div>

 <div class="refsect1 seealso" id="refsect1-eventbuffer.unfreeze-seealso">
  <h3 class="title">Ver también</h3>
  <ul class="simplelist">
   <li>
    <span class="methodname"><a href="#eventbuffer.freeze" class="methodname" rel="rdfs-seeAlso">EventBuffer::freeze()</a> - Evita que las llamadas puedan modificar un buffer de eventos</span>
   </li>
  </ul>
 </div>

</div>
<hr>







<div id="eventbuffer.unlock" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">EventBuffer::unlock</h1>
  <p class="verinfo">(PECL event &gt;= 1.2.6-beta)</p><p class="refpurpose"><span class="refname">EventBuffer::unlock</span> — <span class="dc-title">Libera un bloqueo adquirido con EventBuffer::lock</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-eventbuffer.unlock-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span>
   <span class="methodname"><strong>EventBuffer::unlock</strong></span>(): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>

  <p class="para rdfs-comment">
   Libera un bloqueo adquirido con el método
   <span class="methodname"><a href="#eventbuffer.lock" class="methodname">EventBuffer::lock()</a></span>.
  </p>
 </div>

 <div class="refsect1 parameters" id="refsect1-eventbuffer.unlock-parameters">
  <h3 class="title">Parámetros</h3>
  <p class="para">Esta función no contiene ningún parámetro.</p>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-eventbuffer.unlock-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Esta función retorna <strong><code><a href="#constant.true">true</a></code></strong> en caso de éxito o <strong><code><a href="#constant.false">false</a></code></strong> si ocurre un error.
  </p>
 </div>

 <div class="refsect1 seealso" id="refsect1-eventbuffer.unlock-seealso">
  <h3 class="title">Ver también</h3>
  <ul class="simplelist">
   <li>
    <span class="methodname"><a href="#eventbuffer.lock" class="methodname" rel="rdfs-seeAlso">EventBuffer::lock()</a> - Bloquea un buffer</span>
   </li>
  </ul>
 </div>

</div>
<hr>








<div id="eventbuffer.write" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">EventBuffer::write</h1>
  <p class="verinfo">(PECL event &gt;= 1.6.0)</p><p class="refpurpose"><span class="refname">EventBuffer::write</span> — <span class="dc-title">Escribe el contenido del buffer en un fichero o en un socket</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-eventbuffer.write-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span>
   <span class="methodname"><strong>EventBuffer::write</strong></span>(<span class="methodparam">
    
    <span class="type"><a href="#language.types.mixed" class="type mixed">mixed</a></span> <code class="parameter">$fd</code>
   </span>, <span class="methodparam">
    
    <span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$howmuch</code>
   <span class="initializer"> = ?</span></span>): <span class="type"><a href="#language.types.integer" class="type int">int</a></span></div>

  <p class="para rdfs-comment">
   Escribe el contenido del buffer en un descriptor de fichero. El buffer
   será vaciado después de la escritura exitosa de los últimos octetos.
  </p>
 </div>

 <div class="refsect1 parameters" id="refsect1-eventbuffer.write-parameters">
  <h3 class="title">Parámetros</h3>
  <dl>
   
    <dt>
     <code class="parameter">fd</code>
    </dt>
    <dd>
     <p class="para">
      Recurso de socket, flujo, o un descriptor numérico de fichero asociado con un socket.
     </p>
    </dd>
   
   
    <dt>
     <code class="parameter">howmuch</code>
    </dt>
    <dd>
     <p class="para">
      El número máximo de octetos a escribir.
     </p>
    </dd>
   
  </dl>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-eventbuffer.write-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Devuelve el número de octetos escritos, o <strong><code><a href="#constant.false">false</a></code></strong> en caso de error.
  </p>
 </div>

 <div class="refsect1 seealso" id="refsect1-eventbuffer.write-seealso">
  <h3 class="title">Ver también</h3>
  <ul class="simplelist">
   <li>
    <span class="methodname"><a href="#eventbuffer.read" class="methodname" rel="rdfs-seeAlso">EventBuffer::read()</a> - Lee los datos de un evbuffer y vacía los bytes leídos</span>
   </li>
  </ul>
 </div>

</div>
<hr>




<h2>Tabla de contenidos</h2><ul class="chunklist chunklist_reference"><li><a href="#eventbuffer.add">EventBuffer::add</a> — Añade datos al final de un buffer de eventos</li><li><a href="#eventbuffer.addbuffer">EventBuffer::addBuffer</a> — Desplaza todos los datos del búfer proporcionado al EventBuffer actual</li><li><a href="#eventbuffer.appendfrom">EventBuffer::appendFrom</a> — Mueve el número de bytes especificados desde un buffer fuente, al
  final del buffer actual</li><li><a href="#eventbuffer.construct">EventBuffer::__construct</a> — Construye el objeto EventBuffer</li><li><a href="#eventbuffer.copyout">EventBuffer::copyout</a> — Copia el número de bytes especificado desde el inicio del búfer</li><li><a href="#eventbuffer.drain">EventBuffer::drain</a> — Elimina un número especificado de bytes desde el inicio del búfer
   sin copiar los datos</li><li><a href="#eventbuffer.enablelocking">EventBuffer::enableLocking</a> — Descripción</li><li><a href="#eventbuffer.expand">EventBuffer::expand</a> — Reserva espacio en el buffer</li><li><a href="#eventbuffer.freeze">EventBuffer::freeze</a> — Evita que las llamadas puedan modificar un buffer de eventos</li><li><a href="#eventbuffer.lock">EventBuffer::lock</a> — Bloquea un buffer</li><li><a href="#eventbuffer.prepend">EventBuffer::prepend</a> — Añade datos al principio del buffer</li><li><a href="#eventbuffer.prependbuffer">EventBuffer::prependBuffer</a> — Desplaza todos los datos desde el buffer fuente hacia el inicio
   del buffer actual</li><li><a href="#eventbuffer.pullup">EventBuffer::pullup</a> — Serializa los datos del buffer y devuelve el contenido del
   buffer en forma de string</li><li><a href="#eventbuffer.read">EventBuffer::read</a> — Lee los datos de un evbuffer y vacía los bytes leídos</li><li><a href="#eventbuffer.readfrom">EventBuffer::readFrom</a> — Lee datos desde un fichero y los coloca al final del búfer</li><li><a href="#eventbuffer.readline">EventBuffer::readLine</a> — Extrae una línea desde el inicio del búfer</li><li><a href="#eventbuffer.search">EventBuffer::search</a> — Busca en el búfer una ocurrencia de un string</li><li><a href="#eventbuffer.searcheol">EventBuffer::searchEol</a> — Busca en el búfer una ocurrencia de fin de línea</li><li><a href="#eventbuffer.substr">EventBuffer::substr</a> — Sustrae una porción de los datos del búfer</li><li><a href="#eventbuffer.unfreeze">EventBuffer::unfreeze</a> — Re-activa las llamadas que permiten modificar un buffer de eventos</li><li><a href="#eventbuffer.unlock">EventBuffer::unlock</a> — Libera un bloqueo adquirido con EventBuffer::lock</li><li><a href="#eventbuffer.write">EventBuffer::write</a> — Escribe el contenido del buffer en un fichero o en un socket</li></ul>
</div>

<hr>



 



<div id="class.eventbufferevent" class="reference"><hr>
 <h1 class="title">La clase EventBufferEvent</h1>
 
 <div class="partintro"><p class="verinfo">(PECL event &gt;= 1.2.6-beta)</p>

  <div class="section" id="eventbufferevent.intro">
   <h2 class="title">Introducción</h2>
   <p class="para">
    Representa un buffer de eventos Libevent.
   </p>
   <p class="para">
    Normalmente, una aplicación desea poner en buffer datos además de simplemente responder a eventos. Cuando se desea escribir datos, por ejemplo, el mecanismo habitual se asemeja a:
   </p>
   <ol type="1">
    <li class="listitem">
     <p class="para">
      Se decide que se desea escribir datos en una conexión; coloque estos datos en un buffer.
     </p>
    </li>
    <li class="listitem">
     <p class="para">
      Se espera a que la conexión se vuelva accesible en escritura.
     </p>
    </li>
    <li class="listitem">
     <p class="para">
      Se escribe la mayor cantidad de datos posible.
     </p>
    </li>
    <li class="listitem">
     <p class="para">
      Se recuerda la cantidad escrita, y si aún hay más datos para escribir, se espera a que la conexión vuelva a ser accesible en escritura.
     </p>
    </li>
   </ol>
   <p class="para">
    Este mecanismo de bufferización de E/S es lo suficientemente común como para que Libevent proporcione un mecanismo genérico para ello. Un buffer de eventos consta de un transporte subyacente (como un socket), un buffer de lectura y un buffer de escritura. En lugar de un evento clásico, que proporciona funciones de retrollamada cuando el transporte subyacente está listo para ser leído o escrito, un buffer de eventos llama a sus funciones de retrollamada proporcionadas por el usuario cuando ha leído o escrito suficientes datos.
   </p>
  </div>

  <div class="section" id="eventbufferevent.synopsis">
   <h2 class="title">Sinopsis de la Clase</h2>


   <div class="classsynopsis">
    <span class="ooclass">
     <strong class="classname"></strong>
    </span>

    <div class="classsynopsisinfo">
     <span class="ooclass">
      <span class="modifier">final</span>
      <span class="modifier">class</span> <strong class="classname">EventBufferEvent</strong>
     </span>
     {</div>

    <div class="classsynopsisinfo classsynopsisinfo_comment">/* Constantes */</div>
    <div class="fieldsynopsis">
     <span class="modifier">const</span>
     <span class="type"><a href="#language.types.integer" class="type int">int</a></span>
      <var class="fieldsynopsis_varname"><a href="#eventbufferevent.constants.reading"><var class="varname">READING</var></a></var><span class="initializer"> = 1</span>;</div>

    <div class="fieldsynopsis"><span class="modifier">const</span>
     <span class="type"><a href="#language.types.integer" class="type int">int</a></span>
      <var class="fieldsynopsis_varname"><a href="#eventbufferevent.constants.writing"><var class="varname">WRITING</var></a></var><span class="initializer"> = 2</span>;</div>

    <div class="fieldsynopsis"><span class="modifier">const</span>
     <span class="type"><a href="#language.types.integer" class="type int">int</a></span>
      <var class="fieldsynopsis_varname"><a href="#eventbufferevent.constants.eof"><var class="varname">EOF</var></a></var><span class="initializer"> = 16</span>;</div>

    <div class="fieldsynopsis"><span class="modifier">const</span>
     <span class="type"><a href="#language.types.integer" class="type int">int</a></span>
      <var class="fieldsynopsis_varname"><a href="#eventbufferevent.constants.error"><var class="varname">ERROR</var></a></var><span class="initializer"> = 32</span>;</div>

    <div class="fieldsynopsis"><span class="modifier">const</span>
     <span class="type"><a href="#language.types.integer" class="type int">int</a></span>
      <var class="fieldsynopsis_varname"><a href="#eventbufferevent.constants.timeout"><var class="varname">TIMEOUT</var></a></var><span class="initializer"> = 64</span>;</div>

    <div class="fieldsynopsis"><span class="modifier">const</span>
     <span class="type"><a href="#language.types.integer" class="type int">int</a></span>
      <var class="fieldsynopsis_varname"><a href="#eventbufferevent.constants.connected"><var class="varname">CONNECTED</var></a></var><span class="initializer"> = 128</span>;</div>

    <div class="fieldsynopsis"><span class="modifier">const</span>
     <span class="type"><a href="#language.types.integer" class="type int">int</a></span>
      <var class="fieldsynopsis_varname"><a href="#eventbufferevent.constants.opt-close-on-free"><var class="varname">OPT_CLOSE_ON_FREE</var></a></var><span class="initializer"> = 1</span>;</div>

    <div class="fieldsynopsis"><span class="modifier">const</span>
     <span class="type"><a href="#language.types.integer" class="type int">int</a></span>
      <var class="fieldsynopsis_varname"><a href="#eventbufferevent.constants.opt-threadsafe"><var class="varname">OPT_THREADSAFE</var></a></var><span class="initializer"> = 2</span>;</div>

    <div class="fieldsynopsis"><span class="modifier">const</span>
     <span class="type"><a href="#language.types.integer" class="type int">int</a></span>
      <var class="fieldsynopsis_varname"><a href="#eventbufferevent.constants.opt-defer-callbacks"><var class="varname">OPT_DEFER_CALLBACKS</var></a></var><span class="initializer"> = 4</span>;</div>

    <div class="fieldsynopsis"><span class="modifier">const</span>
     <span class="type"><a href="#language.types.integer" class="type int">int</a></span>
      <var class="fieldsynopsis_varname"><a href="#eventbufferevent.constants.opt-unlock-callbacks"><var class="varname">OPT_UNLOCK_CALLBACKS</var></a></var><span class="initializer"> = 8</span>;</div>

    <div class="fieldsynopsis"><span class="modifier">const</span>
     <span class="type"><a href="#language.types.integer" class="type int">int</a></span>
      <var class="fieldsynopsis_varname"><a href="#eventbufferevent.constants.ssl-open"><var class="varname">SSL_OPEN</var></a></var><span class="initializer"> = 0</span>;</div>

    <div class="fieldsynopsis"><span class="modifier">const</span>
     <span class="type"><a href="#language.types.integer" class="type int">int</a></span>
      <var class="fieldsynopsis_varname"><a href="#eventbufferevent.constants.ssl-connecting"><var class="varname">SSL_CONNECTING</var></a></var><span class="initializer"> = 1</span>;</div>

    <div class="fieldsynopsis"><span class="modifier">const</span>
     <span class="type"><a href="#language.types.integer" class="type int">int</a></span>
      <var class="fieldsynopsis_varname"><a href="#eventbufferevent.constants.ssl-accepting"><var class="varname">SSL_ACCEPTING</var></a></var><span class="initializer"> = 2</span>;</div>

    <div class="classsynopsisinfo classsynopsisinfo_comment">/* Propiedades */</div>
    <div class="fieldsynopsis"><span class="modifier">public</span>
     <span class="type"><a href="#language.types.integer" class="type int">int</a></span>
      <var class="varname"><a href="#eventbufferevent.props.fd">$<var class="varname">fd</var></a></var>;</div>

    <div class="fieldsynopsis"><span class="modifier">public</span>
     <span class="type"><a href="#language.types.integer" class="type int">int</a></span>
      <var class="varname"><a href="#eventbufferevent.props.priority">$<var class="varname">priority</var></a></var>;</div>

    <div class="fieldsynopsis"><span class="modifier">public</span>
     <span class="modifier">readonly</span>
     <span class="type"><a href="#class.eventbuffer" class="type EventBuffer">EventBuffer</a></span>
      <var class="varname"><a href="#eventbufferevent.props.input">$<var class="varname">input</var></a></var>;</div>

    <div class="fieldsynopsis"><span class="modifier">public</span>
     <span class="modifier">readonly</span>
     <span class="type"><a href="#class.eventbuffer" class="type EventBuffer">EventBuffer</a></span>
      <var class="varname"><a href="#eventbufferevent.props.output">$<var class="varname">output</var></a></var>;</div>

    <div class="classsynopsisinfo classsynopsisinfo_comment">/* Métodos */</div>
    <div class="methodsynopsis dc-description">
   <span class="modifier">public</span>
   <span class="methodname"><a href="#eventbufferevent.close" class="methodname">close</a></span>(): <span class="type"><a href="language.types.void.html" class="type void">void</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span>
   <span class="methodname"><a href="#eventbufferevent.connect" class="methodname">connect</a></span>(<span class="methodparam">
    
    <span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$addr</code>
   </span>): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span>
   <span class="methodname"><a href="#eventbufferevent.connecthost" class="methodname">connectHost</a></span>(<br>    <span class="methodparam">
    
    <span class="type"><a href="#class.eventdnsbase" class="type EventDnsBase">EventDnsBase</a></span> <code class="parameter">$dns_base</code>
   </span>,<br>    <span class="methodparam">
    
    <span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$hostname</code>
   </span>,<br>    <span class="methodparam">
    
    <span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$port</code>
   </span>,<br>    <span class="methodparam">
    
    <span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$family</code>
    <span class="initializer"> = EventUtil::AF_UNSPEC</span>
   </span><br>): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span>
   <span class="methodname"><a href="#eventbufferevent.construct" class="methodname">__construct</a></span>(<br>    <span class="methodparam">
    
    <span class="type"><a href="#class.eventbase" class="type EventBase">EventBase</a></span> <code class="parameter">$base</code>
   </span>,<br>    <span class="methodparam">
    
    <span class="type"><a href="#language.types.mixed" class="type mixed">mixed</a></span> <code class="parameter">$socket</code>
    <span class="initializer"> = <strong><code><a href="#constant.null">null</a></code></strong></span>
   </span>,<br>    <span class="methodparam">
    
    <span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$options</code>
    <span class="initializer"> = 0</span>
   </span>,<br>    <span class="methodparam">
    
    <span class="type"><a href="#language.types.callable" class="type callable">callable</a></span> <code class="parameter">$readcb</code>
    <span class="initializer"> = <strong><code><a href="#constant.null">null</a></code></strong></span>
   </span>,<br>    <span class="methodparam">
    
    <span class="type"><a href="#language.types.callable" class="type callable">callable</a></span> <code class="parameter">$writecb</code>
    <span class="initializer"> = <strong><code><a href="#constant.null">null</a></code></strong></span>
   </span>,<br>    <span class="methodparam">
    
    <span class="type"><a href="#language.types.callable" class="type callable">callable</a></span> <code class="parameter">$eventcb</code>
    <span class="initializer"> = <strong><code><a href="#constant.null">null</a></code></strong></span>
   </span>,<br>    <span class="methodparam"><span class="type"><a href="#language.types.mixed" class="type mixed">mixed</a></span> <code class="parameter">$arg</code><span class="initializer"> = <strong><code><a href="#constant.null">null</a></code></strong></span></span><br>)</div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span>
   <span class="modifier">static</span>
   <span class="methodname"><a href="#eventbufferevent.createpair" class="methodname">createPair</a></span>(<span class="methodparam">
    
    <span class="type"><a href="#class.eventbase" class="type EventBase">EventBase</a></span> <code class="parameter">$base</code>
   </span>, <span class="methodparam">
    
    <span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$options</code>
    <span class="initializer"> = 0</span>
   </span>): <span class="type"><a href="#language.types.array" class="type array">array</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span>
   <span class="methodname"><a href="#eventbufferevent.disable" class="methodname">disable</a></span>(<span class="methodparam">
    
    <span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$events</code>
   </span>): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span>
   <span class="methodname"><a href="#eventbufferevent.enable" class="methodname">enable</a></span>(<span class="methodparam">
    
    <span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$events</code>
   </span>): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span>
   <span class="methodname"><a href="#eventbufferevent.free" class="methodname">free</a></span>(): <span class="type"><a href="language.types.void.html" class="type void">void</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span>
   <span class="methodname"><a href="#eventbufferevent.getdnserrorstring" class="methodname">getDnsErrorString</a></span>(): <span class="type"><a href="#language.types.string" class="type string">string</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span>
   <span class="methodname"><a href="#eventbufferevent.getenabled" class="methodname">getEnabled</a></span>(): <span class="type"><a href="#language.types.integer" class="type int">int</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span>
   <span class="methodname"><a href="#eventbufferevent.getinput" class="methodname">getInput</a></span>(): <span class="type"><a href="#class.eventbuffer" class="type EventBuffer">EventBuffer</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span>
   <span class="methodname"><a href="#eventbufferevent.getoutput" class="methodname">getOutput</a></span>(): <span class="type"><a href="#class.eventbuffer" class="type EventBuffer">EventBuffer</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span>
   <span class="methodname"><a href="#eventbufferevent.read" class="methodname">read</a></span>(<span class="methodparam">
    
    <span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$size</code>
   </span>): <span class="type"><a href="#language.types.string" class="type string">string</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span>
   <span class="methodname"><a href="#eventbufferevent.readbuffer" class="methodname">readBuffer</a></span>(<span class="methodparam">
    
    <span class="type"><a href="#class.eventbuffer" class="type EventBuffer">EventBuffer</a></span> <code class="parameter">$buf</code>
   </span>): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span>
   <span class="methodname"><a href="#eventbufferevent.setcallbacks" class="methodname">setCallbacks</a></span>(<br>    <span class="methodparam">
    
    <span class="type"><a href="#language.types.callable" class="type callable">callable</a></span> <code class="parameter">$readcb</code>
   </span>,<br>    <span class="methodparam">
    
    <span class="type"><a href="#language.types.callable" class="type callable">callable</a></span> <code class="parameter">$writecb</code>
   </span>,<br>    <span class="methodparam">
    
    <span class="type"><a href="#language.types.callable" class="type callable">callable</a></span> <code class="parameter">$eventcb</code>
   </span>,<br>    <span class="methodparam">
    
    <span class="type"><a href="#language.types.mixed" class="type mixed">mixed</a></span> <code class="parameter">$arg</code>
   <span class="initializer"> = ?</span></span><br>): <span class="type"><a href="language.types.void.html" class="type void">void</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span>
   <span class="methodname"><a href="#eventbufferevent.setpriority" class="methodname">setPriority</a></span>(<span class="methodparam">
    
    <span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$priority</code>
   </span>): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span>
   <span class="methodname"><a href="#eventbufferevent.settimeouts" class="methodname">setTimeouts</a></span>(<span class="methodparam">
    
    <span class="type"><a href="#language.types.float" class="type float">float</a></span> <code class="parameter">$timeout_read</code>
   </span>, <span class="methodparam">
    
    <span class="type"><a href="#language.types.float" class="type float">float</a></span> <code class="parameter">$timeout_write</code>
   </span>): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span>
   <span class="methodname"><a href="#eventbufferevent.setwatermark" class="methodname">setWatermark</a></span>(<span class="methodparam">
    
    <span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$events</code>
   </span>, <span class="methodparam">
    
    <span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$lowmark</code>
   </span>, <span class="methodparam">
    
    <span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$highmark</code>
   </span>): <span class="type"><a href="language.types.void.html" class="type void">void</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span>
   <span class="methodname"><a href="#eventbufferevent.sslerror" class="methodname">sslError</a></span>(): <span class="type"><a href="#language.types.string" class="type string">string</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span>
   <span class="modifier">static</span>
   <span class="methodname"><a href="#eventbufferevent.sslfilter" class="methodname">sslFilter</a></span>(<br>    <span class="methodparam">
    
    <span class="type"><a href="#class.eventbase" class="type EventBase">EventBase</a></span> <code class="parameter">$base</code>
   </span>,<br>    <span class="methodparam">
    
    <span class="type"><a href="#class.eventbufferevent" class="type EventBufferEvent">EventBufferEvent</a></span> <code class="parameter">$underlying</code>
   </span>,<br>    <span class="methodparam">
    
    <span class="type"><a href="#class.eventsslcontext" class="type EventSslContext">EventSslContext</a></span> <code class="parameter">$ctx</code>
   </span>,<br>    <span class="methodparam">
    
    <span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$state</code>
   </span>,<br>    <span class="methodparam">
    
    <span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$options</code>
    <span class="initializer"> = 0</span>
   </span><br>): <span class="type"><a href="#class.eventbufferevent" class="type EventBufferEvent">EventBufferEvent</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span>
   <span class="methodname"><a href="#eventbufferevent.sslgetcipherinfo" class="methodname">sslGetCipherInfo</a></span>(): <span class="type"><a href="#language.types.string" class="type string">string</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span>
   <span class="methodname"><a href="#eventbufferevent.sslgetciphername" class="methodname">sslGetCipherName</a></span>(): <span class="type"><a href="#language.types.string" class="type string">string</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span>
   <span class="methodname"><a href="#eventbufferevent.sslgetcipherversion" class="methodname">sslGetCipherVersion</a></span>(): <span class="type"><a href="#language.types.string" class="type string">string</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span>
   <span class="methodname"><a href="#eventbufferevent.sslgetprotocol" class="methodname">sslGetProtocol</a></span>(): <span class="type"><a href="#language.types.string" class="type string">string</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span>
   <span class="methodname"><a href="#eventbufferevent.sslrenegotiate" class="methodname">sslRenegotiate</a></span>(): <span class="type"><a href="language.types.void.html" class="type void">void</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span>
   <span class="modifier">static</span>
   <span class="methodname"><a href="#eventbufferevent.sslsocket" class="methodname">sslSocket</a></span>(<br>    <span class="methodparam">
    
    <span class="type"><a href="#class.eventbase" class="type EventBase">EventBase</a></span> <code class="parameter">$base</code>
   </span>,<br>    <span class="methodparam">
    
    <span class="type"><a href="#language.types.mixed" class="type mixed">mixed</a></span> <code class="parameter">$socket</code>
   </span>,<br>    <span class="methodparam">
    
    <span class="type"><a href="#class.eventsslcontext" class="type EventSslContext">EventSslContext</a></span> <code class="parameter">$ctx</code>
   </span>,<br>    <span class="methodparam">
    
    <span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$state</code>
   </span>,<br>    <span class="methodparam">
    
    <span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$options</code>
   <span class="initializer"> = ?</span></span><br>): <span class="type"><a href="#class.eventbufferevent" class="type EventBufferEvent">EventBufferEvent</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span>
   <span class="methodname"><a href="#eventbufferevent.write" class="methodname">write</a></span>(<span class="methodparam">
    
    <span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$data</code>
   </span>): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span>
   <span class="methodname"><a href="#eventbufferevent.writebuffer" class="methodname">writeBuffer</a></span>(<span class="methodparam">
    
    <span class="type"><a href="#class.eventbuffer" class="type EventBuffer">EventBuffer</a></span> <code class="parameter">$buf</code>
   </span>): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>

   }</div>

  </div>

  <div class="section" id="eventbufferevent.props">
   <h2 class="title">Propiedades</h2>
   <dl>
    
     <dt id="eventbufferevent.props.fd">
      <var class="varname">fd</var>
     </dt>
     <dd>
      <p class="para">
       Descriptor de fichero numérico asociado con el buffer de eventos. Normalmente, representa un socket enlazado. Vale <strong><code><a href="#constant.null">null</a></code></strong> si no hay ningún descriptor de fichero (socket) asociado con el buffer de eventos.
      </p>
     </dd>
    
    
     <dt id="eventbufferevent.props.priority">
      <var class="varname">priority</var>
     </dt>
     <dd>
      <p class="para">
       La prioridad del evento, utilizada para implementar el buffer de eventos.
      </p>
     </dd>
    
    
     <dt id="eventbufferevent.props.input">
      <var class="varname">input</var>
     </dt>
     <dd>
      <p class="para">
       Objeto de buffer de entrada subyacente (<span class="classname"><a href="#class.eventbuffer" class="classname">EventBuffer</a></span>)
      </p>
     </dd>
    
    
     <dt id="eventbufferevent.props.output">
      <var class="varname">output</var>
     </dt>
     <dd>
      <p class="para">
       Objeto de buffer de salida subyacente (<span class="classname"><a href="#class.eventbuffer" class="classname">EventBuffer</a></span>)
      </p>
     </dd>
    
   </dl>
  </div>


  <div class="section" id="eventbufferevent.constants">
   <h2 class="title">Constantes predefinidas</h2>
   <dl>
    
     <dt id="eventbufferevent.constants.reading">
      <strong><code><a href="#eventbufferevent.constants.reading">EventBufferEvent::READING</a></code></strong>
     </dt>
     <dd>
      <p class="para">
       Un evento ocurre durante la operación de lectura en el bufferevent. Ver otros flags para conocer el tipo de evento.
      </p>
     </dd>
    
    
     <dt id="eventbufferevent.constants.writing">
      <strong><code><a href="#eventbufferevent.constants.writing">EventBufferEvent::WRITING</a></code></strong>
     </dt>
     <dd>
      <p class="para">
       Un evento ocurre durante una operación de escritura en el bufferevent. Ver otros flags para conocer el tipo de evento.
      </p>
     </dd>
    
    
     <dt id="eventbufferevent.constants.eof">
      <strong><code><a href="#eventbufferevent.constants.eof">EventBufferEvent::EOF</a></code></strong>
     </dt>
     <dd>
      <p class="para">
       Se recibe una indicación de fin de fichero en el buffer de eventos.
      </p>
     </dd>
    
    
     <dt id="eventbufferevent.constants.error">
      <strong><code><a href="#eventbufferevent.constants.error">EventBufferEvent::ERROR</a></code></strong>
     </dt>
     <dd>
      <p class="para">
       Un error ocurre durante una operación bufferevent. Para más información sobre el error, llame al método <span class="methodname"><a href="#eventutil.getlastsocketerrno" class="methodname">EventUtil::getLastSocketErrno()</a></span> y/o <span class="methodname"><a href="#eventutil.getlastsocketerror" class="methodname">EventUtil::getLastSocketError()</a></span>.
      </p>
     </dd>
    
    
     <dt id="eventbufferevent.constants.timeout">
      <strong><code><a href="#eventbufferevent.constants.timeout">EventBufferEvent::TIMEOUT</a></code></strong>
     </dt>
     <dd>
      <p class="para"></p>
     </dd>
    
    
     <dt id="eventbufferevent.constants.connected">
      <strong><code><a href="#eventbufferevent.constants.connected">EventBufferEvent::CONNECTED</a></code></strong>
     </dt>
     <dd>
      <p class="para">
       Termina una conexión solicitada en el bufferevent.
      </p>
     </dd>
    
    
     <dt id="eventbufferevent.constants.opt-close-on-free">
      <strong><code><a href="#eventbufferevent.constants.opt-close-on-free">EventBufferEvent::OPT_CLOSE_ON_FREE</a></code></strong>
     </dt>
     <dd>
      <p class="para">
       Cuando el buffer de eventos es liberado, cierra el transporte subyacente. Esto cerrará el socket subyacente, liberará el buffer de eventos subyacente, etc.
      </p>
     </dd>
    
    
     <dt id="eventbufferevent.constants.opt-threadsafe">
      <strong><code><a href="#eventbufferevent.constants.opt-threadsafe">EventBufferEvent::OPT_THREADSAFE</a></code></strong>
     </dt>
     <dd>
      <p class="para">
       Asigna automáticamente bloqueos para el bufferevent, para hacer segura la utilización de múltiples threads.
      </p>
     </dd>
    
    
     <dt id="eventbufferevent.constants.opt-defer-callbacks">
      <strong><code><a href="#eventbufferevent.constants.opt-defer-callbacks">EventBufferEvent::OPT_DEFER_CALLBACKS</a></code></strong>
     </dt>
     <dd>
      <p class="para">
       Cuando este flag está definido, el bufferevent pospone todas sus funciones de retrollamada. Ver <a href="http://www.wangafu.net/~nickm/libevent-book/Ref6_bufferevent.html#_deferred_callbacks" class="link external">» la documentación sobre la programación de red rápida, portable, no bloqueante con Libevent, el posponer de las funciones de retrollamada</a>.
      </p>
     </dd>
    
    
     <dt id="eventbufferevent.constants.opt-unlock-callbacks">
      <strong><code><a href="#eventbufferevent.constants.opt-unlock-callbacks">EventBufferEvent::OPT_UNLOCK_CALLBACKS</a></code></strong>
     </dt>
     <dd>
      <p class="para">
       Por omisión, cuando el bufferevent está definido para ser seguro al nivel de los threads, el bloqueo del buffer de eventos es mantenido, incluso si una función de retrollamada de usuario es llamada. La definición de esta opción permite a Libevent liberar el bloqueo del buffer de eventos cuando la función de retrollamada es llamada.
      </p>
     </dd>
    
    
     <dt id="eventbufferevent.constants.ssl-open">
      <strong><code><a href="#eventbufferevent.constants.ssl-open">EventBufferEvent::SSL_OPEN</a></code></strong>
     </dt>
     <dd>
      <p class="para">
       La negociación SSL se realiza.
      </p>
     </dd>
    
    
     <dt id="eventbufferevent.constants.ssl-connecting">
      <strong><code><a href="#eventbufferevent.constants.ssl-connecting">EventBufferEvent::SSL_CONNECTING</a></code></strong>
     </dt>
     <dd>
      <p class="para">
       SSL realiza actualmente la negociación como cliente.
      </p>
     </dd>
    
    
     <dt id="eventbufferevent.constants.ssl-accepting">
      <strong><code><a href="#eventbufferevent.constants.ssl-accepting">EventBufferEvent::SSL_ACCEPTING</a></code></strong>
     </dt>
     <dd>
      <p class="para">
       SSL realiza actualmente la negociación como servidor.
      </p>
     </dd>
    
   </dl>
  </div>

 </div>

 




<div id="eventbufferevent.close" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">EventBufferEvent::close</h1>
  <p class="verinfo">(PECL event &gt;= 1.10.0)</p><p class="refpurpose"><span class="refname">EventBufferEvent::close</span> — <span class="dc-title">Cierra el descriptor de fichero asociado con el buffer de eventos actual</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-eventbufferevent.close-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span>
   <span class="methodname"><strong>EventBufferEvent::close</strong></span>(): <span class="type"><a href="language.types.void.html" class="type void">void</a></span></div>

  <p class="para rdfs-comment">
   Cierra el descriptor de fichero asociado con el buffer de eventos actual.
  </p>
  <p class="para">
   Este método puede ser utilizado en los casos donde la opción
   <strong><code><a href="#eventbufferevent.constants.opt-close-on-free">EventBufferEvent::OPT_CLOSE_ON_FREE</a></code></strong> no es apropiada.
  </p>
 </div>

 <div class="refsect1 parameters" id="refsect1-eventbufferevent.close-parameters">
  <h3 class="title">Parámetros</h3>
  <p class="para">Esta función no contiene ningún parámetro.</p>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-eventbufferevent.close-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   No se retorna ningún valor.
  </p>
 </div>

</div>
<hr>








<div id="eventbufferevent.connect" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">EventBufferEvent::connect</h1>
  <p class="verinfo">(PECL event &gt;= 1.2.6-beta)</p><p class="refpurpose"><span class="refname">EventBufferEvent::connect</span> — <span class="dc-title">Conecta el descriptor de fichero del búfer de eventos a la dirección proporcionada,
   o al socket UNIX</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-eventbufferevent.connect-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span>
   <span class="methodname"><strong>EventBufferEvent::connect</strong></span>(<span class="methodparam">
    
    <span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$addr</code>
   </span>): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>

  <p class="para rdfs-comment">
   Conecta el descriptor de fichero del búfer de eventos a la dirección proporcionada
   (opcionalmente, proporcionando el puerto), o al socket UNIX.
  </p>
  <p class="para">
   Si el socket no está asignado al búfer de eventos, este método
   asigna un nuevo socket y lo hace no bloqueante internamente.
  </p>
  <p class="para">
   Para resolver los nombres DNS (de forma asíncrona), utilice el método
   <span class="methodname"><a href="#eventbufferevent.connecthost" class="methodname">EventBufferEvent::connectHost()</a></span>.
  </p>
 </div>

 <div class="refsect1 parameters" id="refsect1-eventbufferevent.connect-parameters">
  <h3 class="title">Parámetros</h3>
  <dl>
   
    <dt>
     <code class="parameter">addr</code>
    </dt>
    <dd>
     <p class="para">
      Debe contener una dirección IP con, opcionalmente, el número del puerto,
      o una ruta hacia el socket UNIX. Los formatos reconocidos son :
      </p><div class="example-contents screen">
<div class="parameterscode"><pre class="parameterscode">[IPv6Address]:port
[IPv6Address]
IPv6Address
IPv4Address:port
IPv4Address
unix:path</pre>
</div>
      </div>
      Tenga en cuenta que el prefijo <code class="literal">'unix:'</code> actualmente
      no distingue entre mayúsculas y minúsculas.
     
    </dd>
   
  </dl>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-eventbufferevent.connect-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Esta función retorna <strong><code><a href="#constant.true">true</a></code></strong> en caso de éxito o <strong><code><a href="#constant.false">false</a></code></strong> si ocurre un error.
  </p>
 </div>

 <div class="refsect1 examples" id="refsect1-eventbufferevent.connect-examples">
  <h3 class="title">Ejemplos</h3>
  <div class="example" id="example-4540">
   <p><strong>Ejemplo #1 Ejemplo con <span class="function"><strong>EventBufferEvent::connect()</strong></span></strong></p>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br></span><span style="color: #FF8000">/*<br> * 1. Conexión a la dirección 127.0.0.1 en el puerto 80<br> * llamando al método EventBufferEvent::connect().<br> *<br> * 2. Solicitud /index.cphp a través de HTTP/1.0<br> * utilizando el búfer de salida.<br> *<br> * 3. Lee la respuesta de forma asíncrona y la muestra en stdout.<br> */<br><br>/* Función de retrollamada de lectura */<br></span><span style="color: #007700">function </span><span style="color: #0000BB">readcb</span><span style="color: #007700">(</span><span style="color: #0000BB">$bev</span><span style="color: #007700">, </span><span style="color: #0000BB">$base</span><span style="color: #007700">) {<br>    </span><span style="color: #0000BB">$input </span><span style="color: #007700">= </span><span style="color: #0000BB">$bev</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getInput</span><span style="color: #007700">();<br><br>    while ((</span><span style="color: #0000BB">$n </span><span style="color: #007700">= </span><span style="color: #0000BB">$input</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">remove</span><span style="color: #007700">(</span><span style="color: #0000BB">$buf</span><span style="color: #007700">, </span><span style="color: #0000BB">1024</span><span style="color: #007700">)) &gt; </span><span style="color: #0000BB">0</span><span style="color: #007700">) {<br>        echo </span><span style="color: #0000BB">$buf</span><span style="color: #007700">;<br>    }<br>}<br><br></span><span style="color: #FF8000">/* Función de retrollamada de evento */<br></span><span style="color: #007700">function </span><span style="color: #0000BB">eventcb</span><span style="color: #007700">(</span><span style="color: #0000BB">$bev</span><span style="color: #007700">, </span><span style="color: #0000BB">$events</span><span style="color: #007700">, </span><span style="color: #0000BB">$base</span><span style="color: #007700">) {<br>    if (</span><span style="color: #0000BB">$events </span><span style="color: #007700">&amp; </span><span style="color: #0000BB">EventBufferEvent</span><span style="color: #007700">::</span><span style="color: #0000BB">CONNECTED</span><span style="color: #007700">) {<br>        echo </span><span style="color: #DD0000">"Conectado.\n"</span><span style="color: #007700">;<br>    } elseif (</span><span style="color: #0000BB">$events </span><span style="color: #007700">&amp; (</span><span style="color: #0000BB">EventBufferEvent</span><span style="color: #007700">::</span><span style="color: #0000BB">ERROR </span><span style="color: #007700">| </span><span style="color: #0000BB">EventBufferEvent</span><span style="color: #007700">::</span><span style="color: #0000BB">EOF</span><span style="color: #007700">)) {<br>        if (</span><span style="color: #0000BB">$events </span><span style="color: #007700">&amp; </span><span style="color: #0000BB">EventBufferEvent</span><span style="color: #007700">::</span><span style="color: #0000BB">ERROR</span><span style="color: #007700">) {<br>            echo </span><span style="color: #DD0000">"Error DNS: "</span><span style="color: #007700">, </span><span style="color: #0000BB">$bev</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getDnsErrorString</span><span style="color: #007700">(), </span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br>        }<br><br>        echo </span><span style="color: #DD0000">"Cierre\n"</span><span style="color: #007700">;<br>        </span><span style="color: #0000BB">$base</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">exit</span><span style="color: #007700">();<br>        exit(</span><span style="color: #DD0000">"Hecho !\n"</span><span style="color: #007700">);<br>    }<br>}<br><br></span><span style="color: #0000BB">$base </span><span style="color: #007700">= new </span><span style="color: #0000BB">EventBase</span><span style="color: #007700">();<br><br>echo </span><span style="color: #DD0000">"paso 1\n"</span><span style="color: #007700">;<br></span><span style="color: #0000BB">$bev </span><span style="color: #007700">= new </span><span style="color: #0000BB">EventBufferEvent</span><span style="color: #007700">(</span><span style="color: #0000BB">$base</span><span style="color: #007700">, </span><span style="color: #FF8000">/* usar socket interno */ </span><span style="color: #0000BB">NULL</span><span style="color: #007700">,<br>    </span><span style="color: #0000BB">EventBufferEvent</span><span style="color: #007700">::</span><span style="color: #0000BB">OPT_CLOSE_ON_FREE </span><span style="color: #007700">| </span><span style="color: #0000BB">EventBufferEvent</span><span style="color: #007700">::</span><span style="color: #0000BB">OPT_DEFER_CALLBACKS</span><span style="color: #007700">);<br>if (!</span><span style="color: #0000BB">$bev</span><span style="color: #007700">) {<br>    exit(</span><span style="color: #DD0000">"Fallo al crear el socket bufferevent\n"</span><span style="color: #007700">);<br>}<br><br>echo </span><span style="color: #DD0000">"paso 2\n"</span><span style="color: #007700">;<br></span><span style="color: #0000BB">$bev</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setCallbacks</span><span style="color: #007700">(</span><span style="color: #DD0000">"readcb"</span><span style="color: #007700">, </span><span style="color: #FF8000">/* writecb */ </span><span style="color: #0000BB">NULL</span><span style="color: #007700">, </span><span style="color: #DD0000">"eventcb"</span><span style="color: #007700">, </span><span style="color: #0000BB">$base</span><span style="color: #007700">);<br></span><span style="color: #0000BB">$bev</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">enable</span><span style="color: #007700">(</span><span style="color: #0000BB">Event</span><span style="color: #007700">::</span><span style="color: #0000BB">READ </span><span style="color: #007700">| </span><span style="color: #0000BB">Event</span><span style="color: #007700">::</span><span style="color: #0000BB">WRITE</span><span style="color: #007700">);<br><br>echo </span><span style="color: #DD0000">"paso 3\n"</span><span style="color: #007700">;<br></span><span style="color: #FF8000">/* Envía la solicitud */<br></span><span style="color: #0000BB">$output </span><span style="color: #007700">= </span><span style="color: #0000BB">$bev</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getOutput</span><span style="color: #007700">();<br>if (!</span><span style="color: #0000BB">$output</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">add</span><span style="color: #007700">(<br>    </span><span style="color: #DD0000">"GET /index.cphp HTTP/1.0\r\n"</span><span style="color: #007700">.<br>    </span><span style="color: #DD0000">"Connection: Close\r\n\r\n"<br></span><span style="color: #007700">)) {<br>    exit(</span><span style="color: #DD0000">"Fallo al añadir la solicitud en el búfer de salida\n"</span><span style="color: #007700">);<br>}<br><br></span><span style="color: #FF8000">/* Conexión al host de forma asíncrona.<br> * Conocemos la IP, y por lo tanto, no necesitamos resolución DNS. */<br></span><span style="color: #007700">if (!</span><span style="color: #0000BB">$bev</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">connect</span><span style="color: #007700">(</span><span style="color: #DD0000">"127.0.0.1:80"</span><span style="color: #007700">)) {<br>    exit(</span><span style="color: #DD0000">"Imposible conectar al host\n"</span><span style="color: #007700">);<br>}<br><br></span><span style="color: #FF8000">/* Distribuye los eventos pendientes */<br></span><span style="color: #0000BB">$base</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">dispatch</span><span style="color: #007700">();</span></span></code></div>
   </div>

   <div class="example-contents"><p>Resultado del ejemplo anterior es similar a:</p></div>
   <div class="example-contents screen">
<div class="examplescode"><pre class="examplescode">paso 1
paso 2
paso 3
Conectado.
HTTP/1.1 200 OK
Server: nginx/1.2.6
Date: Sat, 09 Mar 2013 10:06:58 GMT
Content-Type: text/html; charset=utf-8
Connection: close
X-Powered-By: PHP/5.4.11--pl2-gentoo

sdfsdfsf
Cierre
Hecho !</pre>
</div>
   </div>
  </div>
  <div class="example" id="example-4541">
   <p><strong>Ejemplo #2 Conexión a un socket UNIX, lectura de la respuesta desde el
    servidor, y visualización en una consola</strong></p>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br></span><span style="color: #007700">class </span><span style="color: #0000BB">MyUnixSocketClient </span><span style="color: #007700">{<br>    private </span><span style="color: #0000BB">$base</span><span style="color: #007700">, </span><span style="color: #0000BB">$bev</span><span style="color: #007700">;<br><br>    function </span><span style="color: #0000BB">__construct</span><span style="color: #007700">(</span><span style="color: #0000BB">$base</span><span style="color: #007700">, </span><span style="color: #0000BB">$sock_path</span><span style="color: #007700">) {<br>        </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">base </span><span style="color: #007700">= </span><span style="color: #0000BB">$base</span><span style="color: #007700">;<br>        </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">bev </span><span style="color: #007700">= new </span><span style="color: #0000BB">EventBufferEvent</span><span style="color: #007700">(</span><span style="color: #0000BB">$base</span><span style="color: #007700">, </span><span style="color: #0000BB">NULL</span><span style="color: #007700">, </span><span style="color: #0000BB">EventBufferEvent</span><span style="color: #007700">::</span><span style="color: #0000BB">OPT_CLOSE_ON_FREE</span><span style="color: #007700">,<br>            array (</span><span style="color: #0000BB">$this</span><span style="color: #007700">, </span><span style="color: #DD0000">"read_cb"</span><span style="color: #007700">), </span><span style="color: #0000BB">NULL</span><span style="color: #007700">, array (</span><span style="color: #0000BB">$this</span><span style="color: #007700">, </span><span style="color: #DD0000">"event_cb"</span><span style="color: #007700">));<br><br>        if (!</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">bev</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">connect</span><span style="color: #007700">(</span><span style="color: #DD0000">"unix:</span><span style="color: #0000BB">$sock_path</span><span style="color: #DD0000">"</span><span style="color: #007700">)) {<br>            </span><span style="color: #0000BB">trigger_error</span><span style="color: #007700">(</span><span style="color: #DD0000">"Fallo al conectar al socket `</span><span style="color: #0000BB">$sock_path</span><span style="color: #DD0000">'"</span><span style="color: #007700">, </span><span style="color: #0000BB">E_USER_ERROR</span><span style="color: #007700">);<br>        }<br><br>        </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">bev</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">enable</span><span style="color: #007700">(</span><span style="color: #0000BB">Event</span><span style="color: #007700">::</span><span style="color: #0000BB">READ</span><span style="color: #007700">);<br>    }<br><br>    function </span><span style="color: #0000BB">__destruct</span><span style="color: #007700">() {<br>        if (</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">bev</span><span style="color: #007700">) {<br>            </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">bev</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">free</span><span style="color: #007700">();<br>            </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">bev </span><span style="color: #007700">= </span><span style="color: #0000BB">NULL</span><span style="color: #007700">;<br>        }<br>    }<br><br>    function </span><span style="color: #0000BB">dispatch</span><span style="color: #007700">() {<br>        </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">base</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">dispatch</span><span style="color: #007700">();<br>    }<br><br>    function </span><span style="color: #0000BB">read_cb</span><span style="color: #007700">(</span><span style="color: #0000BB">$bev</span><span style="color: #007700">, </span><span style="color: #0000BB">$unused</span><span style="color: #007700">) {<br>        </span><span style="color: #0000BB">$in </span><span style="color: #007700">= </span><span style="color: #0000BB">$bev</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">input</span><span style="color: #007700">;<br><br>        </span><span style="color: #0000BB">printf</span><span style="color: #007700">(</span><span style="color: #DD0000">"Recepción de %ld bytes\n"</span><span style="color: #007700">, </span><span style="color: #0000BB">$in</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">length</span><span style="color: #007700">);<br>        </span><span style="color: #0000BB">printf</span><span style="color: #007700">(</span><span style="color: #DD0000">"----- datos ----\n"</span><span style="color: #007700">);<br>        </span><span style="color: #0000BB">printf</span><span style="color: #007700">(</span><span style="color: #DD0000">"%ld:\t%s\n"</span><span style="color: #007700">, (int) </span><span style="color: #0000BB">$in</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">length</span><span style="color: #007700">, </span><span style="color: #0000BB">$in</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">pullup</span><span style="color: #007700">(-</span><span style="color: #0000BB">1</span><span style="color: #007700">));<br><br>        </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">bev</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">free</span><span style="color: #007700">();<br>        </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">bev </span><span style="color: #007700">= </span><span style="color: #0000BB">NULL</span><span style="color: #007700">;<br>        </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">base</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">exit</span><span style="color: #007700">(</span><span style="color: #0000BB">NULL</span><span style="color: #007700">);<br>    }<br><br>    function </span><span style="color: #0000BB">event_cb</span><span style="color: #007700">(</span><span style="color: #0000BB">$bev</span><span style="color: #007700">, </span><span style="color: #0000BB">$events</span><span style="color: #007700">, </span><span style="color: #0000BB">$unused</span><span style="color: #007700">) {<br>        if (</span><span style="color: #0000BB">$events </span><span style="color: #007700">&amp; </span><span style="color: #0000BB">EventBufferEvent</span><span style="color: #007700">::</span><span style="color: #0000BB">ERROR</span><span style="color: #007700">) {<br>            echo </span><span style="color: #DD0000">"Error desde bufferevent\n"</span><span style="color: #007700">;<br>        }<br><br>        if (</span><span style="color: #0000BB">$events </span><span style="color: #007700">&amp; (</span><span style="color: #0000BB">EventBufferEvent</span><span style="color: #007700">::</span><span style="color: #0000BB">EOF </span><span style="color: #007700">| </span><span style="color: #0000BB">EventBufferEvent</span><span style="color: #007700">::</span><span style="color: #0000BB">ERROR</span><span style="color: #007700">)) {<br>            </span><span style="color: #0000BB">$bev</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">free</span><span style="color: #007700">();<br>            </span><span style="color: #0000BB">$bev </span><span style="color: #007700">= </span><span style="color: #0000BB">NULL</span><span style="color: #007700">;<br>        } elseif (</span><span style="color: #0000BB">$events </span><span style="color: #007700">&amp; </span><span style="color: #0000BB">EventBufferEvent</span><span style="color: #007700">::</span><span style="color: #0000BB">CONNECTED</span><span style="color: #007700">) {<br>            </span><span style="color: #0000BB">$bev</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">output</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">add</span><span style="color: #007700">(</span><span style="color: #DD0000">"test\n"</span><span style="color: #007700">);<br>        }<br>    }<br>}<br><br>if (</span><span style="color: #0000BB">$argc </span><span style="color: #007700">&lt;= </span><span style="color: #0000BB">1</span><span style="color: #007700">) {<br>    exit(</span><span style="color: #DD0000">"La ruta hacia el socket no está proporcionada\n"</span><span style="color: #007700">);<br>}<br></span><span style="color: #0000BB">$sock_path </span><span style="color: #007700">= </span><span style="color: #0000BB">$argv</span><span style="color: #007700">[</span><span style="color: #0000BB">1</span><span style="color: #007700">];<br><br></span><span style="color: #0000BB">$base </span><span style="color: #007700">= new </span><span style="color: #0000BB">EventBase</span><span style="color: #007700">();<br></span><span style="color: #0000BB">$cl </span><span style="color: #007700">= new </span><span style="color: #0000BB">MyUnixSocketClient</span><span style="color: #007700">(</span><span style="color: #0000BB">$base</span><span style="color: #007700">, </span><span style="color: #0000BB">$sock_path</span><span style="color: #007700">);<br></span><span style="color: #0000BB">$cl</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">dispatch</span><span style="color: #007700">();<br></span><span style="color: #0000BB">?&gt;</span></span></code></div>
   </div>

   <div class="example-contents"><p>Resultado del ejemplo anterior es similar a:</p></div>
   <div class="example-contents screen">
<div class="examplescode"><pre class="examplescode">Recepción de 5 bytes
----- datos ----
5:  test</pre>
</div>
   </div>
  </div>
 </div>

 <div class="refsect1 seealso" id="refsect1-eventbufferevent.connect-seealso">
  <h3 class="title">Ver también</h3>
  <ul class="simplelist">
   <li>
    <span class="methodname"><a href="#eventbufferevent.connecthost" class="methodname" rel="rdfs-seeAlso">EventBufferEvent::connectHost()</a> - Conexión a un host</span>
   </li>
  </ul>
 </div>

</div>
<hr>







<div id="eventbufferevent.connecthost" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">EventBufferEvent::connectHost</h1>
  <p class="verinfo">(PECL event &gt;= 1.2.6-beta)</p><p class="refpurpose"><span class="refname">EventBufferEvent::connectHost</span> — <span class="dc-title">Conexión a un host</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-eventbufferevent.connecthost-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span>
   <span class="methodname"><strong>EventBufferEvent::connectHost</strong></span>(<br>    <span class="methodparam">
    
    <span class="type"><a href="#class.eventdnsbase" class="type EventDnsBase">EventDnsBase</a></span> <code class="parameter">$dns_base</code>
   </span>,<br>    <span class="methodparam">
    
    <span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$hostname</code>
   </span>,<br>    <span class="methodparam">
    
    <span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$port</code>
   </span>,<br>    <span class="methodparam">
    
    <span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$family</code>
    <span class="initializer"> = EventUtil::AF_UNSPEC</span>
   </span><br>): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>

  <p class="para rdfs-comment">
   Resuelve el nombre de host DNS, buscando la dirección del tipo
   <code class="parameter">family</code> (constante <code class="literal">EventUtil::AF_*</code>).
   Si la resolución del nombre falla, la función de retrollamada del evento
   será llamada con un evento de error. Si la resolución tiene éxito,
   se realizará un intento de conexión, de manera similar a como lo hace el método
   <span class="methodname"><a href="#eventbufferevent.connect" class="methodname">EventBufferEvent::connect()</a></span>.
  </p>
  <p class="para">
   El parámetro <code class="parameter">dns_base</code> es opcional.
   Puede ser <strong><code><a href="#constant.null">null</a></code></strong>, o bien un objeto creado con el método
   <span class="methodname"><a href="#eventdnsbase.construct" class="methodname">EventDnsBase::__construct()</a></span>.
   Para una resolución de nombre de host asíncrona, pase una fuente de evento de base DNS válida. De lo contrario, la resolución del nombre de host
   será bloqueante.
  </p>
  <blockquote class="note"><p><strong class="note">Nota</strong>: 
   </p><p class="para">
    <span class="classname"><a href="#class.eventdnsbase" class="classname">EventDnsBase</a></span> solo está disponible si
    <code class="literal">Event</code> está configurado con la opción
    <strong class="option configure">--with-event-extra</strong>
    (biblioteca <code class="literal">event_extra</code>,
    <em>el soporte de las funcionalidades específicas de libevent
     incluyendo HTTP, DNS y RPC</em>).
   </p>
  </blockquote>
  <blockquote class="note"><p><strong class="note">Nota</strong>: 
   </p><p class="para">
    <span class="methodname"><strong>EventBufferEvent::connectHost()</strong></span>
    requiere <code class="literal">libevent-2.0.3-alpha</code> o posteriores.
   </p>
  </blockquote>
 </div>

 <div class="refsect1 parameters" id="refsect1-eventbufferevent.connecthost-parameters">
  <h3 class="title">Parámetros</h3>
  <dl>
   
    <dt>
     <code class="parameter">dns_base</code>
    </dt>
    <dd>
     <p class="para">
      Objeto <span class="classname"><a href="#class.eventdnsbase" class="classname">EventDnsBase</a></span> en el caso
      donde el DNS debe ser resuelto de manera asíncrona. De lo contrario, <strong><code><a href="#constant.null">null</a></code></strong>.
     </p>
    </dd>
   
   
    <dt>
     <code class="parameter">hostname</code>
    </dt>
    <dd>
     <p class="para">
      El nombre de host al cual se intenta realizar la conexión.
      Los formatos reconocidos son:
      </p><div class="example-contents screen">
<div class="parameterscode"><pre class="parameterscode">www.example.com (hostname)
 1.2.3.4 (ipv4address)
 ::1 (ipv6address)
[::1] ([ipv6address])</pre>
</div>
      </div>
     
    </dd>
   
   
    <dt>
     <code class="parameter">port</code>
    </dt>
    <dd>
     <p class="para">
      El número del puerto
     </p>
    </dd>
   
   
    <dt>
     <code class="parameter">family</code>
    </dt>
    <dd>
     <p class="para">
      Familia de la dirección.
      <strong><code><a href="#eventutil.constants.af-unspec">EventUtil::AF_UNSPEC</a></code></strong>,
      <strong><code><a href="#eventutil.constants.af-inet">EventUtil::AF_INET</a></code></strong> o
      <strong><code><a href="#eventutil.constants.af-inet6">EventUtil::AF_INET6</a></code></strong>. Ver las
      <a href="#eventutil.constants" class="link">constantes EventUtil</a>.
     </p>
    </dd>
   
  </dl>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-eventbufferevent.connecthost-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Esta función retorna <strong><code><a href="#constant.true">true</a></code></strong> en caso de éxito o <strong><code><a href="#constant.false">false</a></code></strong> si ocurre un error.
  </p>
 </div>

 <div class="refsect1 examples" id="refsect1-eventbufferevent.connecthost-examples">
  <h3 class="title">Ejemplos</h3>
  <div class="example" id="example-4542">
   <p><strong>Ejemplo #1 Ejemplo con <span class="function"><strong>EventBufferEvent::connectHost()</strong></span></strong></p>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br></span><span style="color: #FF8000">/* Función de retrollamada de lectura */<br></span><span style="color: #007700">function </span><span style="color: #0000BB">readcb</span><span style="color: #007700">(</span><span style="color: #0000BB">$bev</span><span style="color: #007700">, </span><span style="color: #0000BB">$base</span><span style="color: #007700">) {<br>    </span><span style="color: #FF8000">//$input = $bev-&gt;input; //$bev-&gt;getInput();<br><br>    //$pos = $input-&gt;search("TTP");<br>    </span><span style="color: #0000BB">$pos </span><span style="color: #007700">= </span><span style="color: #0000BB">$bev</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">input</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">search</span><span style="color: #007700">(</span><span style="color: #DD0000">"TTP"</span><span style="color: #007700">);<br><br>    while ((</span><span style="color: #0000BB">$n </span><span style="color: #007700">= </span><span style="color: #0000BB">$bev</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">input</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">remove</span><span style="color: #007700">(</span><span style="color: #0000BB">$buf</span><span style="color: #007700">, </span><span style="color: #0000BB">1024</span><span style="color: #007700">)) &gt; </span><span style="color: #0000BB">0</span><span style="color: #007700">) {<br>        echo </span><span style="color: #0000BB">$buf</span><span style="color: #007700">;<br>    }<br>}<br><br></span><span style="color: #FF8000">/* Función de retrollamada del evento */<br></span><span style="color: #007700">function </span><span style="color: #0000BB">eventcb</span><span style="color: #007700">(</span><span style="color: #0000BB">$bev</span><span style="color: #007700">, </span><span style="color: #0000BB">$events</span><span style="color: #007700">, </span><span style="color: #0000BB">$base</span><span style="color: #007700">) {<br>    if (</span><span style="color: #0000BB">$events </span><span style="color: #007700">&amp; </span><span style="color: #0000BB">EventBufferEvent</span><span style="color: #007700">::</span><span style="color: #0000BB">CONNECTED</span><span style="color: #007700">) {<br>        echo </span><span style="color: #DD0000">"Conectado.\n"</span><span style="color: #007700">;<br>    } elseif (</span><span style="color: #0000BB">$events </span><span style="color: #007700">&amp; (</span><span style="color: #0000BB">EventBufferEvent</span><span style="color: #007700">::</span><span style="color: #0000BB">ERROR </span><span style="color: #007700">| </span><span style="color: #0000BB">EventBufferEvent</span><span style="color: #007700">::</span><span style="color: #0000BB">EOF</span><span style="color: #007700">)) {<br>        if (</span><span style="color: #0000BB">$events </span><span style="color: #007700">&amp; </span><span style="color: #0000BB">EventBufferEvent</span><span style="color: #007700">::</span><span style="color: #0000BB">ERROR</span><span style="color: #007700">) {<br>            echo </span><span style="color: #DD0000">"Error DNS: "</span><span style="color: #007700">, </span><span style="color: #0000BB">$bev</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getDnsErrorString</span><span style="color: #007700">(), </span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br>        }<br><br>        echo </span><span style="color: #DD0000">"Cerrando\n"</span><span style="color: #007700">;<br>        </span><span style="color: #0000BB">$base</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">exit</span><span style="color: #007700">();<br>        exit(</span><span style="color: #DD0000">"Hecho !\n"</span><span style="color: #007700">);<br>    }<br>}<br><br></span><span style="color: #0000BB">$base </span><span style="color: #007700">= new </span><span style="color: #0000BB">EventBase</span><span style="color: #007700">();<br><br></span><span style="color: #0000BB">$dns_base </span><span style="color: #007700">= new </span><span style="color: #0000BB">EventDnsBase</span><span style="color: #007700">(</span><span style="color: #0000BB">$base</span><span style="color: #007700">, </span><span style="color: #0000BB">TRUE</span><span style="color: #007700">); </span><span style="color: #FF8000">// Resolución DNS asíncrona<br></span><span style="color: #007700">if (!</span><span style="color: #0000BB">$dns_base</span><span style="color: #007700">) {<br>    exit(</span><span style="color: #DD0000">"Fallo en la inicialización de la base DNS\n"</span><span style="color: #007700">);<br>}<br><br></span><span style="color: #0000BB">$bev </span><span style="color: #007700">= new </span><span style="color: #0000BB">EventBufferEvent</span><span style="color: #007700">(</span><span style="color: #0000BB">$base</span><span style="color: #007700">, </span><span style="color: #FF8000">/* uso de un socket interno */ </span><span style="color: #0000BB">NULL</span><span style="color: #007700">,<br>    </span><span style="color: #0000BB">EventBufferEvent</span><span style="color: #007700">::</span><span style="color: #0000BB">OPT_CLOSE_ON_FREE </span><span style="color: #007700">| </span><span style="color: #0000BB">EventBufferEvent</span><span style="color: #007700">::</span><span style="color: #0000BB">OPT_DEFER_CALLBACKS</span><span style="color: #007700">,<br>    </span><span style="color: #DD0000">"readcb"</span><span style="color: #007700">, </span><span style="color: #FF8000">/* writecb */ </span><span style="color: #0000BB">NULL</span><span style="color: #007700">, </span><span style="color: #DD0000">"eventcb"</span><span style="color: #007700">, </span><span style="color: #0000BB">$base<br></span><span style="color: #007700">);<br>if (!</span><span style="color: #0000BB">$bev</span><span style="color: #007700">) {<br>    exit(</span><span style="color: #DD0000">"Fallo al crear el socket bufferevent\n"</span><span style="color: #007700">);<br>}<br><br></span><span style="color: #FF8000">//$bev-&gt;setCallbacks("readcb", /* writecb */ NULL, "eventcb", $base);<br></span><span style="color: #0000BB">$bev</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">enable</span><span style="color: #007700">(</span><span style="color: #0000BB">Event</span><span style="color: #007700">::</span><span style="color: #0000BB">READ </span><span style="color: #007700">| </span><span style="color: #0000BB">Event</span><span style="color: #007700">::</span><span style="color: #0000BB">WRITE</span><span style="color: #007700">);<br><br></span><span style="color: #0000BB">$output </span><span style="color: #007700">= </span><span style="color: #0000BB">$bev</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">output</span><span style="color: #007700">; </span><span style="color: #FF8000">//$bev-&gt;getOutput();<br></span><span style="color: #007700">if (!</span><span style="color: #0000BB">$output</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">add</span><span style="color: #007700">(<br>    </span><span style="color: #DD0000">"GET </span><span style="color: #007700">{</span><span style="color: #0000BB">$argv</span><span style="color: #007700">[</span><span style="color: #0000BB">2</span><span style="color: #007700">]}</span><span style="color: #DD0000"> HTTP/1.0\r\n"</span><span style="color: #007700">.<br>    </span><span style="color: #DD0000">"Host: </span><span style="color: #007700">{</span><span style="color: #0000BB">$argv</span><span style="color: #007700">[</span><span style="color: #0000BB">1</span><span style="color: #007700">]}</span><span style="color: #DD0000">\r\n"</span><span style="color: #007700">.<br>    </span><span style="color: #DD0000">"Connection: Close\r\n\r\n"<br></span><span style="color: #007700">)) {<br>    exit(</span><span style="color: #DD0000">"Fallo al añadir la solicitud en el búfer de salida\n"</span><span style="color: #007700">);<br>}<br><br>if (!</span><span style="color: #0000BB">$bev</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">connectHost</span><span style="color: #007700">(</span><span style="color: #0000BB">$dns_base</span><span style="color: #007700">, </span><span style="color: #0000BB">$argv</span><span style="color: #007700">[</span><span style="color: #0000BB">1</span><span style="color: #007700">], </span><span style="color: #0000BB">80</span><span style="color: #007700">, </span><span style="color: #0000BB">EventUtil</span><span style="color: #007700">::</span><span style="color: #0000BB">AF_UNSPEC</span><span style="color: #007700">)) {<br>    exit(</span><span style="color: #DD0000">"Imposible conectar al host </span><span style="color: #007700">{</span><span style="color: #0000BB">$argv</span><span style="color: #007700">[</span><span style="color: #0000BB">1</span><span style="color: #007700">]}</span><span style="color: #DD0000">\n"</span><span style="color: #007700">);<br>}<br><br></span><span style="color: #0000BB">$base</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">dispatch</span><span style="color: #007700">();<br></span><span style="color: #0000BB">?&gt;</span></span></code></div>
   </div>

   <div class="example-contents"><p>Resultado del ejemplo anterior es similar a:</p></div>
   <div class="example-contents screen">
<div class="examplescode"><pre class="examplescode">Conectado.
HTTP/1.0 301 Moved Permanently
Location: http://www.google.co.uk/
Content-Type: text/html; charset=UTF-8
Date: Sat, 09 Mar 2013 12:21:19 GMT
Expires: Mon, 08 Apr 2013 12:21:19 GMT
Cache-Control: public, max-age=2592000
Server: gws
Content-Length: 221
X-XSS-Protection: 1; mode=block
X-Frame-Options: SAMEORIGIN

&lt;HTML&gt;&lt;HEAD&gt;&lt;meta http-equiv="content-type" content="text/html;charset=utf-8"&gt;
&lt;TITLE&gt;301 Moved&lt;/TITLE&gt;&lt;/HEAD&gt;&lt;BODY&gt;
&lt;H1&gt;301 Moved&lt;/H1&gt;
The document has moved
&lt;A HREF="http://www.google.co.uk/"&gt;here&lt;/A&gt;.
&lt;/BODY&gt;&lt;/HTML&gt;
Cerrando
Hecho !</pre>
</div>
   </div>
  </div>
 </div>

 <div class="refsect1 seealso" id="refsect1-eventbufferevent.connecthost-seealso">
  <h3 class="title">Ver también</h3>
  <ul class="simplelist">
   <li>
    <span class="methodname"><a href="#eventbufferevent.connect" class="methodname" rel="rdfs-seeAlso">EventBufferEvent::connect()</a> - Conecta el descriptor de fichero del búfer de eventos a la dirección proporcionada,
   o al socket UNIX</span>
   </li>
  </ul>
 </div>

</div>
<hr>






<div id="eventbufferevent.construct" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">EventBufferEvent::__construct</h1>
  <p class="verinfo">(PECL event &gt;= 1.2.6-beta)</p><p class="refpurpose"><span class="refname">EventBufferEvent::__construct</span> — <span class="dc-title">Construye un objeto EventBufferEvent</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-eventbufferevent.construct-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span>
   <span class="methodname"><strong>EventBufferEvent::__construct</strong></span>(<br>    <span class="methodparam">
    
    <span class="type"><a href="#class.eventbase" class="type EventBase">EventBase</a></span> <code class="parameter">$base</code>
   </span>,<br>    <span class="methodparam">
    
    <span class="type"><a href="#language.types.mixed" class="type mixed">mixed</a></span> <code class="parameter">$socket</code>
    <span class="initializer"> = <strong><code><a href="#constant.null">null</a></code></strong></span>
   </span>,<br>    <span class="methodparam">
    
    <span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$options</code>
    <span class="initializer"> = 0</span>
   </span>,<br>    <span class="methodparam">
    
    <span class="type"><a href="#language.types.callable" class="type callable">callable</a></span> <code class="parameter">$readcb</code>
    <span class="initializer"> = <strong><code><a href="#constant.null">null</a></code></strong></span>
   </span>,<br>    <span class="methodparam">
    
    <span class="type"><a href="#language.types.callable" class="type callable">callable</a></span> <code class="parameter">$writecb</code>
    <span class="initializer"> = <strong><code><a href="#constant.null">null</a></code></strong></span>
   </span>,<br>    <span class="methodparam">
    
    <span class="type"><a href="#language.types.callable" class="type callable">callable</a></span> <code class="parameter">$eventcb</code>
    <span class="initializer"> = <strong><code><a href="#constant.null">null</a></code></strong></span>
   </span>,<br>    <span class="methodparam"><span class="type"><a href="#language.types.mixed" class="type mixed">mixed</a></span> <code class="parameter">$arg</code><span class="initializer"> = <strong><code><a href="#constant.null">null</a></code></strong></span></span><br>)</div>

  <p class="para rdfs-comment">
   Crea un buffer de eventos en un socket, un flujo o un descriptor de fichero. Pasar el valor <strong><code><a href="#constant.null">null</a></code></strong> al parámetro
   <code class="parameter">socket</code> significa que el socket debe ser creado posteriormente, es decir, a través del método
   <span class="methodname"><a href="#eventbufferevent.connect" class="methodname">EventBufferEvent::connect()</a></span>.
  </p>
 </div>

 <div class="refsect1 parameters" id="refsect1-eventbufferevent.construct-parameters">
  <h3 class="title">Parámetros</h3>
  <dl>
   
    <dt>
     <code class="parameter">base</code>
    </dt>
    <dd>
     <p class="para">
      Evento base que debe ser asociado con el nuevo buffer de eventos.
     </p>
    </dd>
   
   
    <dt>
     <code class="parameter">socket</code>
    </dt>
    <dd>
     <p class="para">
      Debe ser creado como flujo (no necesariamente a través de la extensión
      <code class="literal">sockets</code>)
     </p>
    </dd>
   
   
    <dt>
     <code class="parameter">options</code>
    </dt>
    <dd>
     <p class="para">
      Una constante entre las constantes
      <a href="#eventbufferevent.constants" class="link">EventBufferEvent::OPT_*</a>,
      o <code class="literal">0</code>.
     </p>
    </dd>
   
   
    <dt>
     <code class="parameter">readcb</code>
    </dt>
    <dd>
     <p class="para">
      Función de retrollamada para los eventos de lectura. Ver también las
      <a href="#eventbufferevent.about.callbacks" class="link">funciones de retrollamada del buffer de eventos</a>.
     </p>
    </dd>
   
   
    <dt>
     <code class="parameter">writecb</code>
    </dt>
    <dd>
     <p class="para">
      Función de retrollamada para los eventos de escritura. Ver también las
      <a href="#eventbufferevent.about.callbacks" class="link">funciones de retrollamada del buffer de eventos</a>.
     </p>
    </dd>
   
   
    <dt>
     <code class="parameter">eventcb</code>
    </dt>
    <dd>
     <p class="para">
      Función de retrollamada para los eventos de cambio de estado. Ver también las
      <a href="#eventbufferevent.about.callbacks" class="link">funciones de retrollamada del buffer de eventos</a>.
     </p>
    </dd>
   
   
    <dt>
     <code class="parameter">arg</code>
    </dt>
    <dd>
     <p class="para">
      Una variable que será pasada a todas las funciones de retrollamada.
     </p>
    </dd>
   
  </dl>
 </div>

 <div class="refsect1 seealso" id="refsect1-eventbufferevent.construct-seealso">
  <h3 class="title">Ver también</h3>
  <ul class="simplelist">
   <li>
    <span class="methodname"><a href="#eventbufferevent.sslfilter" class="methodname" rel="rdfs-seeAlso">EventBufferEvent::sslFilter()</a> - Crea un nuevo búfer de evento SSL, cuyos datos
   serán enviados a través de otro búfer de evento</span>
   </li>
   <li>
    <span class="methodname"><a href="#eventbufferevent.sslsocket" class="methodname" rel="rdfs-seeAlso">EventBufferEvent::sslSocket()</a> - Crea un nuevo buffer SSL cuyos datos serán enviados a través de un socket SSL</span>
   </li>
  </ul>
 </div>

</div>
<hr>







<div id="eventbufferevent.createpair" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">EventBufferEvent::createPair</h1>
  <p class="verinfo">(PECL event &gt;= 1.2.6-beta)</p><p class="refpurpose"><span class="refname">EventBufferEvent::createPair</span> — <span class="dc-title">Crea dos eventos de buffer conectados entre sí</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-eventbufferevent.createpair-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span>
   <span class="modifier">static</span>
   <span class="methodname"><strong>EventBufferEvent::createPair</strong></span>(<span class="methodparam">
    
    <span class="type"><a href="#class.eventbase" class="type EventBase">EventBase</a></span> <code class="parameter">$base</code>
   </span>, <span class="methodparam">
    
    <span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$options</code>
    <span class="initializer"> = 0</span>
   </span>): <span class="type"><a href="#language.types.array" class="type array">array</a></span></div>

  <p class="para rdfs-comment">
   Devuelve un array de dos objetos <span class="classname"><a href="#class.eventbufferevent" class="classname">EventBufferEvent</a></span>
   conectados entre sí. Todas las opciones habituales son soportadas,
   salvo <strong><code><a href="#eventbufferevent.constants.opt-close-on-free">EventBufferEvent::OPT_CLOSE_ON_FREE</a></code></strong>
   que no tiene ningún efecto, y <strong><code><a href="#eventbufferevent.constants.opt-defer-callbacks">EventBufferEvent::OPT_DEFER_CALLBACKS</a></code></strong>
   que siempre está activado.
  </p>
 </div>

 <div class="refsect1 parameters" id="refsect1-eventbufferevent.createpair-parameters">
  <h3 class="title">Parámetros</h3>
  <dl>
   
    <dt>
     <code class="parameter">base</code>
    </dt>
    <dd>
     <p class="para">
      Evento base asociado.
     </p>
    </dd>
   
   
    <dt>
     <code class="parameter">options</code>
    </dt>
    <dd>
     <p class="para">
      Constantes <a href="" class="link">EventBufferEvent::OPT_*</a>
      combinadas con el operador <code class="literal">OR</code>.
     </p>
    </dd>
   
  </dl>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-eventbufferevent.createpair-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Devuelve un array de dos objetos
   <span class="classname"><a href="#class.eventbufferevent" class="classname">EventBufferEvent</a></span>
   conectados entre sí.
  </p>
 </div>

 <div class="refsect1 changelog" id="refsect1-eventbufferevent.createpair-changelog">
  <h3 class="title">Historial de cambios</h3>
  <p class="para">
   </p><table class="doctable informaltable">
    
     <thead>
      <tr>
       <th>Versión</th>
       <th>Descripción</th>
      </tr>

     </thead>

     <tbody class="tbody">
      <tr>
       <td>PECL event 1.9.0</td>
       <td>
        El método es ahora estático.
       </td>
      </tr>

     </tbody>
    
   </table>

  
 </div>

</div>
<hr>







<div id="eventbufferevent.disable" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">EventBufferEvent::disable</h1>
  <p class="verinfo">(PECL event &gt;= 1.2.6-beta)</p><p class="refpurpose"><span class="refname">EventBufferEvent::disable</span> — <span class="dc-title">Desactiva los eventos de lectura, escritura o ambos en un evento de búfer</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-eventbufferevent.disable-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span>
   <span class="methodname"><strong>EventBufferEvent::disable</strong></span>(<span class="methodparam">
    
    <span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$events</code>
   </span>): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>

  <p class="para rdfs-comment">
   Desactiva los eventos <strong><code><a href="#event.constants.read">Event::READ</a></code></strong>,
   <strong><code><a href="#event.constants.write">Event::WRITE</a></code></strong>, o
   <strong><code><a href="#event.constants.read">Event::READ</a></code></strong><code class="literal">|</code><strong><code><a href="#event.constants.write">Event::WRITE</a></code></strong>
   en un evento de búfer.
  </p>
 </div>

 <div class="refsect1 parameters" id="refsect1-eventbufferevent.disable-parameters">
  <h3 class="title">Parámetros</h3>
  <dl>
   
    <dt>
     <code class="parameter">events</code>
    </dt>
    <dd>
     <p class="para"></p>
    </dd>
   
  </dl>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-eventbufferevent.disable-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Esta función retorna <strong><code><a href="#constant.true">true</a></code></strong> en caso de éxito o <strong><code><a href="#constant.false">false</a></code></strong> si ocurre un error.
  </p>
 </div>

 <div class="refsect1 seealso" id="refsect1-eventbufferevent.disable-seealso">
  <h3 class="title">Ver también</h3>
  <ul class="simplelist">
   <li>
    <span class="methodname"><a href="#eventbufferevent.enable" class="methodname" rel="rdfs-seeAlso">EventBufferEvent::enable()</a> - Activa los eventos de lectura, escritura, o ambos, en un evento de buffer</span>
   </li>
  </ul>
 </div>

</div>
<hr>







<div id="eventbufferevent.enable" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">EventBufferEvent::enable</h1>
  <p class="verinfo">(PECL event &gt;= 1.2.6-beta)</p><p class="refpurpose"><span class="refname">EventBufferEvent::enable</span> — <span class="dc-title">Activa los eventos de lectura, escritura, o ambos, en un evento de buffer</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-eventbufferevent.enable-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span>
   <span class="methodname"><strong>EventBufferEvent::enable</strong></span>(<span class="methodparam">
    
    <span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$events</code>
   </span>): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>

  <p class="para rdfs-comment">
   Activa los eventos <strong><code><a href="#event.constants.read">Event::READ</a></code></strong>,
   <strong><code><a href="#event.constants.write">Event::WRITE</a></code></strong>, o
   <strong><code><a href="#event.constants.read">Event::READ</a></code></strong><code class="literal">|</code><strong><code><a href="#event.constants.write">Event::WRITE</a></code></strong>
   en un evento de buffer.
  </p>
 </div>

 <div class="refsect1 parameters" id="refsect1-eventbufferevent.enable-parameters">
  <h3 class="title">Parámetros</h3>
  <dl>
   
    <dt>
     <code class="parameter">events</code>
    </dt>
    <dd>
     <p class="para">
      <strong><code><a href="#event.constants.read">Event::READ</a></code></strong>, <strong><code><a href="#event.constants.write">Event::WRITE</a></code></strong>, o
      <strong><code><a href="#event.constants.read">Event::READ</a></code></strong><code class="literal">|</code><strong><code><a href="#event.constants.write">Event::WRITE</a></code></strong>
      en un evento de buffer.
     </p>
    </dd>
   
  </dl>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-eventbufferevent.enable-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Esta función retorna <strong><code><a href="#constant.true">true</a></code></strong> en caso de éxito o <strong><code><a href="#constant.false">false</a></code></strong> si ocurre un error.
  </p>
 </div>

 <div class="refsect1 seealso" id="refsect1-eventbufferevent.enable-seealso">
  <h3 class="title">Ver también</h3>
  <ul class="simplelist">
   <li>
    <span class="methodname"><a href="#eventbufferevent.disable" class="methodname" rel="rdfs-seeAlso">EventBufferEvent::disable()</a> - Desactiva los eventos de lectura, escritura o ambos en un evento de búfer</span>
   </li>
  </ul>
 </div>

</div>
<hr>







<div id="eventbufferevent.free" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">EventBufferEvent::free</h1>
  <p class="verinfo">(PECL event &gt;= 1.2.6-beta)</p><p class="refpurpose"><span class="refname">EventBufferEvent::free</span> — <span class="dc-title">Libera un evento de búfer</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-eventbufferevent.free-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span>
   <span class="methodname"><strong>EventBufferEvent::free</strong></span>(): <span class="type"><a href="language.types.void.html" class="type void">void</a></span></div>

  <p class="para rdfs-comment">
   Libera todos los recursos asignados por un evento
   de búfer.
  </p>
  <p class="para">
   Generalmente, no es necesario llamar a este método, ya que normalmente, la liberación total de los recursos asociados se realiza
   en los destructores internos del objeto. Sin embargo, puede ocurrir
   que un script largo asigne muchas instancias, o bien que un script
   utilice una gran cantidad de memoria; en estos casos, puede ser necesario
   liberar los recursos lo más rápido posible. Asimismo, el uso del método
   <span class="methodname"><strong>EventBufferEvent::free()</strong></span> puede ser útil
   para proteger la ejecución del script de alcanzar el valor de
   <code class="literal">memory_limit</code>.
  </p>
 </div>

 <div class="refsect1 parameters" id="refsect1-eventbufferevent.free-parameters">
  <h3 class="title">Parámetros</h3>
  <p class="para">Esta función no contiene ningún parámetro.</p>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-eventbufferevent.free-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   No se retorna ningún valor.
  </p>
 </div>

</div>
<hr>







<div id="eventbufferevent.getdnserrorstring" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">EventBufferEvent::getDnsErrorString</h1>
  <p class="verinfo">(PECL event &gt;= 1.2.6-beta)</p><p class="refpurpose"><span class="refname">EventBufferEvent::getDnsErrorString</span> — <span class="dc-title">Devuelve un string que describe el último error DNS</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-eventbufferevent.getdnserrorstring-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span>
   <span class="methodname"><strong>EventBufferEvent::getDnsErrorString</strong></span>(): <span class="type"><a href="#language.types.string" class="type string">string</a></span></div>

  <p class="para rdfs-comment">
   Devuelve un string que describe el último error DNS durante
   la ejecución del método <span class="methodname"><a href="#eventbufferevent.connecthost" class="methodname">EventBufferEvent::connectHost()</a></span>
   o un string vacío si no se detecta ningún error DNS.
  </p>
 </div>

 <div class="refsect1 parameters" id="refsect1-eventbufferevent.getdnserrorstring-parameters">
  <h3 class="title">Parámetros</h3>
  <p class="para">Esta función no contiene ningún parámetro.</p>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-eventbufferevent.getdnserrorstring-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Devuelve un string que describe el error DNS, o un string vacío si no hay
   ningún error.
  </p>
 </div>

 <div class="refsect1 seealso" id="refsect1-eventbufferevent.getdnserrorstring-seealso">
  <h3 class="title">Ver también</h3>
  <ul class="simplelist">
   <li>
    <span class="methodname"><a href="#eventbufferevent.connecthost" class="methodname" rel="rdfs-seeAlso">EventBufferEvent::connectHost()</a> - Conexión a un host</span>
   </li>
  </ul>
 </div>

</div>
<hr>








<div id="eventbufferevent.getenabled" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">EventBufferEvent::getEnabled</h1>
  <p class="verinfo">(PECL event &gt;= 1.2.6-beta)</p><p class="refpurpose"><span class="refname">EventBufferEvent::getEnabled</span> — <span class="dc-title">Devuelve una máscara de eventos actualmente activos en el búfer de eventos</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-eventbufferevent.getenabled-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span>
   <span class="methodname"><strong>EventBufferEvent::getEnabled</strong></span>(): <span class="type"><a href="#language.types.integer" class="type int">int</a></span></div>

  <p class="para rdfs-comment">
   Devuelve una máscara de eventos actualmente activos en el búfer de eventos.
  </p>
 </div>

 <div class="refsect1 parameters" id="refsect1-eventbufferevent.getenabled-parameters">
  <h3 class="title">Parámetros</h3>
  <p class="para">Esta función no contiene ningún parámetro.</p>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-eventbufferevent.getenabled-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Devuelve un entero que representa una máscara de eventos actualmente
   activos en el búfer de eventos.
  </p>
 </div>

 <div class="refsect1 seealso" id="refsect1-eventbufferevent.getenabled-seealso">
  <h3 class="title">Ver también</h3>
  <ul class="simplelist">
   <li>
    <span class="methodname"><a href="#eventbufferevent.enable" class="methodname" rel="rdfs-seeAlso">EventBufferEvent::enable()</a> - Activa los eventos de lectura, escritura, o ambos, en un evento de buffer</span>
   </li>
   <li>
    <span class="methodname"><a href="#eventbufferevent.disable" class="methodname" rel="rdfs-seeAlso">EventBufferEvent::disable()</a> - Desactiva los eventos de lectura, escritura o ambos en un evento de búfer</span>
   </li>
  </ul>
 </div>

</div>
<hr>








<div id="eventbufferevent.getinput" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">EventBufferEvent::getInput</h1>
  <p class="verinfo">(PECL event &gt;= 1.2.6-beta)</p><p class="refpurpose"><span class="refname">EventBufferEvent::getInput</span> — <span class="dc-title">Devuelve el búfer de entrada asociado con el búfer de eventos actual</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-eventbufferevent.getinput-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span>
   <span class="methodname"><strong>EventBufferEvent::getInput</strong></span>(): <span class="type"><a href="#class.eventbuffer" class="type EventBuffer">EventBuffer</a></span></div>

  <p class="para rdfs-comment">
   Devuelve el búfer de entrada asociado con el búfer de eventos actual.
   Un búfer de entrada es un almacenamiento para los datos a leer.
  </p>
  <p class="para">
   Téngase en cuenta que también hay propiedades de
   <code class="literal"><a href="#eventbufferevent.props.input" class="link">entrada</a>
   </code> para la clase <span class="classname"><a href="#class.eventbufferevent" class="classname">EventBufferEvent</a></span>.
  </p>
 </div>

 <div class="refsect1 parameters" id="refsect1-eventbufferevent.getinput-parameters">
  <h3 class="title">Parámetros</h3>
  <p class="para">Esta función no contiene ningún parámetro.</p>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-eventbufferevent.getinput-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Devuelve una instancia del búfer de entrada
   <span class="classname"><a href="#class.eventbuffer" class="classname">EventBuffer</a></span> asociado con el búfer de eventos actual.
  </p>
 </div>

 <div class="refsect1 examples" id="refsect1-eventbufferevent.getinput-examples">
  <h3 class="title">Ejemplos</h3>
  <div class="example" id="example-4543">
   <p><strong>Ejemplo #1 Función de retrollamada para un evento de lectura en el búfer</strong></p>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br></span><span style="color: #007700">function </span><span style="color: #0000BB">readcb</span><span style="color: #007700">(</span><span style="color: #0000BB">$bev</span><span style="color: #007700">, </span><span style="color: #0000BB">$base</span><span style="color: #007700">) {<br>    </span><span style="color: #0000BB">$input </span><span style="color: #007700">= </span><span style="color: #0000BB">$bev</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">input</span><span style="color: #007700">; </span><span style="color: #FF8000">//$bev-&gt;getInput();<br><br>    </span><span style="color: #007700">while ((</span><span style="color: #0000BB">$n </span><span style="color: #007700">= </span><span style="color: #0000BB">$input</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">remove</span><span style="color: #007700">(</span><span style="color: #0000BB">$buf</span><span style="color: #007700">, </span><span style="color: #0000BB">1024</span><span style="color: #007700">)) &gt; </span><span style="color: #0000BB">0</span><span style="color: #007700">) {<br>        echo </span><span style="color: #0000BB">$buf</span><span style="color: #007700">;<br>    }<br>}<br></span><span style="color: #0000BB">?&gt;</span></span></code></div>
   </div>

  </div>
 </div>

 <div class="refsect1 seealso" id="refsect1-eventbufferevent.getinput-seealso">
  <h3 class="title">Ver también</h3>
  <ul class="simplelist">
   <li>
    <span class="methodname"><a href="#eventbufferevent.getoutput" class="methodname" rel="rdfs-seeAlso">EventBufferEvent::getOutput()</a> - Devuelve el búfer de salida asociado con el búfer de evento actual</span>
   </li>
  </ul>
 </div>

</div>
<hr>








<div id="eventbufferevent.getoutput" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">EventBufferEvent::getOutput</h1>
  <p class="verinfo">(PECL event &gt;= 1.2.6-beta)</p><p class="refpurpose"><span class="refname">EventBufferEvent::getOutput</span> — <span class="dc-title">Devuelve el búfer de salida asociado con el búfer de evento actual</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-eventbufferevent.getoutput-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span>
   <span class="methodname"><strong>EventBufferEvent::getOutput</strong></span>(): <span class="type"><a href="#class.eventbuffer" class="type EventBuffer">EventBuffer</a></span></div>

  <p class="para rdfs-comment">
   Devuelve el búfer de salida asociado con el búfer de evento actual. Un búfer de salida es un almacenamiento para los datos a escribir.
  </p>
  <p class="para">
   Tenga en cuenta que también hay propiedades de
   <code class="literal"><a href="#eventbufferevent.props.output" class="link">salida</a>
   </code> para la clase <span class="classname"><a href="#class.eventbufferevent" class="classname">EventBufferEvent</a></span>.
  </p>
 </div>

 <div class="refsect1 parameters" id="refsect1-eventbufferevent.getoutput-parameters">
  <h3 class="title">Parámetros</h3>
  <p class="para">Esta función no contiene ningún parámetro.</p>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-eventbufferevent.getoutput-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Devuelve una instancia del búfer de salida
   <span class="classname"><a href="#class.eventbuffer" class="classname">EventBuffer</a></span> asociado con el búfer de eventos actual.
  </p>
 </div>

 <div class="refsect1 examples" id="refsect1-eventbufferevent.getoutput-examples">
  <h3 class="title">Ejemplos</h3>
  <div class="example" id="example-4544">
   <p><strong>Ejemplo #1 Ejemplo con <span class="function"><strong>EventBufferEvent::getOutput()</strong></span></strong></p>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br>$base </span><span style="color: #007700">= new </span><span style="color: #0000BB">EventBase</span><span style="color: #007700">();<br><br></span><span style="color: #0000BB">$dns_base </span><span style="color: #007700">= new </span><span style="color: #0000BB">EventDnsBase</span><span style="color: #007700">(</span><span style="color: #0000BB">$base</span><span style="color: #007700">, </span><span style="color: #0000BB">TRUE</span><span style="color: #007700">); </span><span style="color: #FF8000">// Uso de la resolución async DNS<br></span><span style="color: #007700">if (!</span><span style="color: #0000BB">$dns_base</span><span style="color: #007700">) {<br>    exit(</span><span style="color: #DD0000">"Fallo al inicializar la base DNS\n"</span><span style="color: #007700">);<br>}<br><br></span><span style="color: #0000BB">$bev </span><span style="color: #007700">= new </span><span style="color: #0000BB">EventBufferEvent</span><span style="color: #007700">(</span><span style="color: #0000BB">$base</span><span style="color: #007700">, </span><span style="color: #FF8000">/* usar socket interno */ </span><span style="color: #0000BB">NULL</span><span style="color: #007700">,<br>    </span><span style="color: #0000BB">EventBufferEvent</span><span style="color: #007700">::</span><span style="color: #0000BB">OPT_CLOSE_ON_FREE </span><span style="color: #007700">| </span><span style="color: #0000BB">EventBufferEvent</span><span style="color: #007700">::</span><span style="color: #0000BB">OPT_DEFER_CALLBACKS</span><span style="color: #007700">,<br>    </span><span style="color: #DD0000">"readcb"</span><span style="color: #007700">, </span><span style="color: #FF8000">/* writecb */ </span><span style="color: #0000BB">NULL</span><span style="color: #007700">, </span><span style="color: #DD0000">"eventcb"</span><span style="color: #007700">, </span><span style="color: #0000BB">$base<br></span><span style="color: #007700">);<br>if (!</span><span style="color: #0000BB">$bev</span><span style="color: #007700">) {<br>    exit(</span><span style="color: #DD0000">"Fallo al crear el socket bufferevent\n"</span><span style="color: #007700">);<br>}<br><br></span><span style="color: #0000BB">$bev</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">enable</span><span style="color: #007700">(</span><span style="color: #0000BB">Event</span><span style="color: #007700">::</span><span style="color: #0000BB">READ </span><span style="color: #007700">| </span><span style="color: #0000BB">Event</span><span style="color: #007700">::</span><span style="color: #0000BB">WRITE</span><span style="color: #007700">);<br><br></span><span style="color: #0000BB">$output </span><span style="color: #007700">= </span><span style="color: #0000BB">$bev</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getOutput</span><span style="color: #007700">();<br>if (!</span><span style="color: #0000BB">$output</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">add</span><span style="color: #007700">(<br>    </span><span style="color: #DD0000">"GET </span><span style="color: #007700">{</span><span style="color: #0000BB">$argv</span><span style="color: #007700">[</span><span style="color: #0000BB">2</span><span style="color: #007700">]}</span><span style="color: #DD0000"> HTTP/1.0\r\n"</span><span style="color: #007700">.<br>    </span><span style="color: #DD0000">"Host: </span><span style="color: #007700">{</span><span style="color: #0000BB">$argv</span><span style="color: #007700">[</span><span style="color: #0000BB">1</span><span style="color: #007700">]}</span><span style="color: #DD0000">\r\n"</span><span style="color: #007700">.<br>    </span><span style="color: #DD0000">"Connection: Close\r\n\r\n"<br></span><span style="color: #007700">)) {<br>    exit(</span><span style="color: #DD0000">"Fallo al añadir la solicitud en el búfer de salida\n"</span><span style="color: #007700">);<br>}<br><br></span><span style="color: #FF8000">/* ... */<br></span><span style="color: #0000BB">?&gt;</span></span></code></div>
   </div>

  </div>
 </div>

 <div class="refsect1 seealso" id="refsect1-eventbufferevent.getoutput-seealso">
  <h3 class="title">Ver también</h3>
  <ul class="simplelist">
   <li>
    <span class="methodname"><a href="#eventbufferevent.getinput" class="methodname" rel="rdfs-seeAlso">EventBufferEvent::getInput()</a> - Devuelve el búfer de entrada asociado con el búfer de eventos actual</span>
   </li>
  </ul>
 </div>

</div>
<hr>








<div id="eventbufferevent.read" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">EventBufferEvent::read</h1>
  <p class="verinfo">(PECL event &gt;= 1.2.6-beta)</p><p class="refpurpose"><span class="refname">EventBufferEvent::read</span> — <span class="dc-title">Lee los datos del búfer</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-eventbufferevent.read-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span>
   <span class="methodname"><strong>EventBufferEvent::read</strong></span>(<span class="methodparam">
    
    <span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$size</code>
   </span>): <span class="type"><a href="#language.types.string" class="type string">string</a></span></div>

  <p class="para rdfs-comment">
   Elimina los <code class="parameter">size</code> bytes del búfer
   de entrada. Devuelve un string de datos leídos
   desde el búfer de entrada.
  </p>
 </div>

 <div class="refsect1 parameters" id="refsect1-eventbufferevent.read-parameters">
  <h3 class="title">Parámetros</h3>
  <dl>
   
    <dt>
     <code class="parameter">size</code>
    </dt>
    <dd>
     <p class="para">
      Número máximo de bytes a leer
     </p>
    </dd>
   
  </dl>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-eventbufferevent.read-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Devuelve el string de datos leídos desde el búfer de entrada.
  </p>
 </div>

 <div class="refsect1 seealso" id="refsect1-eventbufferevent.read-seealso">
  <h3 class="title">Ver también</h3>
  <ul class="simplelist">
   <li>
    <span class="methodname"><a href="#eventbufferevent.readbuffer" class="methodname" rel="rdfs-seeAlso">EventBufferEvent::readBuffer()</a> - Vacía el contenido entero del búfer de entrada y lo coloca en el búfer</span>
   </li>
  </ul>
 </div>

</div>
<hr>







<div id="eventbufferevent.readbuffer" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">EventBufferEvent::readBuffer</h1>
  <p class="verinfo">(PECL event &gt;= 1.2.6-beta)</p><p class="refpurpose"><span class="refname">EventBufferEvent::readBuffer</span> — <span class="dc-title">Vacía el contenido entero del búfer de entrada y lo coloca en el búfer</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-eventbufferevent.readbuffer-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span>
   <span class="methodname"><strong>EventBufferEvent::readBuffer</strong></span>(<span class="methodparam">
    
    <span class="type"><a href="#class.eventbuffer" class="type EventBuffer">EventBuffer</a></span> <code class="parameter">$buf</code>
   </span>): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>

  <p class="para rdfs-comment">
   Vacía el contenido entero del búfer de entrada y lo coloca en el búfer
   <code class="parameter">buf</code>.
  </p>
 </div>

 <div class="refsect1 parameters" id="refsect1-eventbufferevent.readbuffer-parameters">
  <h3 class="title">Parámetros</h3>
  <dl>
   
    <dt>
     <code class="parameter">buf</code>
    </dt>
    <dd>
     <p class="para">
      Búfer objetivo
     </p>
    </dd>
   
  </dl>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-eventbufferevent.readbuffer-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Esta función retorna <strong><code><a href="#constant.true">true</a></code></strong> en caso de éxito o <strong><code><a href="#constant.false">false</a></code></strong> si ocurre un error.
  </p>
 </div>

 <div class="refsect1 seealso" id="refsect1-eventbufferevent.readbuffer-seealso">
  <h3 class="title">Ver también</h3>
  <ul class="simplelist">
   <li>
    <span class="methodname"><a href="#eventbufferevent.read" class="methodname" rel="rdfs-seeAlso">EventBufferEvent::read()</a> - Lee los datos del búfer</span>
   </li>
  </ul>
 </div>

</div>
<hr>






<div id="eventbufferevent.setcallbacks" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">EventBufferEvent::setCallbacks</h1>
  <p class="verinfo">(PECL event &gt;= 1.2.6-beta)</p><p class="refpurpose"><span class="refname">EventBufferEvent::setCallbacks</span> — <span class="dc-title">Asigna las funciones de retrollamada para la lectura, la escritura y los estados de eventos</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-eventbufferevent.setcallbacks-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span>
   <span class="methodname"><strong>EventBufferEvent::setCallbacks</strong></span>(<br>    <span class="methodparam">
    
    <span class="type"><a href="#language.types.callable" class="type callable">callable</a></span> <code class="parameter">$readcb</code>
   </span>,<br>    <span class="methodparam">
    
    <span class="type"><a href="#language.types.callable" class="type callable">callable</a></span> <code class="parameter">$writecb</code>
   </span>,<br>    <span class="methodparam">
    
    <span class="type"><a href="#language.types.callable" class="type callable">callable</a></span> <code class="parameter">$eventcb</code>
   </span>,<br>    <span class="methodparam">
    
    <span class="type"><a href="#language.types.mixed" class="type mixed">mixed</a></span> <code class="parameter">$arg</code>
   <span class="initializer"> = ?</span></span><br>): <span class="type"><a href="language.types.void.html" class="type void">void</a></span></div>

  <p class="para rdfs-comment">
   Asigna las funciones de retrollamada para la lectura, la escritura y los estados de eventos.
  </p>
 </div>

 <div class="refsect1 parameters" id="refsect1-eventbufferevent.setcallbacks-parameters">
  <h3 class="title">Parámetros</h3>
  <dl>
   
    <dt>
     <code class="parameter">readcb</code>
    </dt>
    <dd>
     <p class="para">
      Función de retrollamada para un evento de lectura.
      Véase las
      <a href="#eventbufferevent.about.callbacks" class="link">funciones de
       retrollamada para los tampones de eventos</a>.
     </p>
    </dd>
   
   
    <dt>
     <code class="parameter">writecb</code>
    </dt>
    <dd>
     <p class="para">
      Función de retrollamada para un evento de escritura.
      Véase las
      <a href="#eventbufferevent.about.callbacks" class="link">funciones de
       retrollamada para los tampones de eventos</a>.
     </p>
    </dd>
   
   
    <dt>
     <code class="parameter">eventcb</code>
    </dt>
    <dd>
     <p class="para">
      Función de retrollamada para un evento de cambio de estado.
      Véase las
      <a href="#eventbufferevent.about.callbacks" class="link">funciones de
       retrollamada para los tampones de eventos</a>.
     </p>
    </dd>
   
   
    <dt>
     <code class="parameter">arg</code>
    </dt>
    <dd>
     <p class="para">
      Una variable que será pasada a todas las funciones de retrollamada.
     </p>
    </dd>
   
  </dl>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-eventbufferevent.setcallbacks-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   No se retorna ningún valor.
  </p>
 </div>

 <div class="refsect1 seealso" id="refsect1-eventbufferevent.setcallbacks-seealso">
  <h3 class="title">Ver también</h3>
  <ul class="simplelist">
   <li>
    <span class="methodname"><a href="#eventbufferevent.construct" class="methodname" rel="rdfs-seeAlso">EventBufferEvent::__construct()</a> - Construye un objeto EventBufferEvent</span>
   </li>
  </ul>
 </div>

</div>
<hr>








<div id="eventbufferevent.setpriority" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">EventBufferEvent::setPriority</h1>
  <p class="verinfo">(PECL event &gt;= 1.2.6-beta)</p><p class="refpurpose"><span class="refname">EventBufferEvent::setPriority</span> — <span class="dc-title">Asigna una prioridad para un búfer de eventos</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-eventbufferevent.setpriority-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span>
   <span class="methodname"><strong>EventBufferEvent::setPriority</strong></span>(<span class="methodparam">
    
    <span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$priority</code>
   </span>): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>

  <p class="para rdfs-comment">
   Asigna una prioridad para un búfer de eventos.
  </p>
  <div class="warning"><strong class="warning">Advertencia</strong>
   <p class="para">
    Solo soportado para los sockets de búfer de eventos.
   </p>
  </div>
 </div>

 <div class="refsect1 parameters" id="refsect1-eventbufferevent.setpriority-parameters">
  <h3 class="title">Parámetros</h3>
  <dl>
   
    <dt>
     <code class="parameter">priority</code>
    </dt>
    <dd>
     <p class="para">
      Valor de la prioridad.
     </p>
    </dd>
   
  </dl>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-eventbufferevent.setpriority-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Esta función retorna <strong><code><a href="#constant.true">true</a></code></strong> en caso de éxito o <strong><code><a href="#constant.false">false</a></code></strong> si ocurre un error.
  </p>
 </div>

</div>
<hr>








<div id="eventbufferevent.settimeouts" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">EventBufferEvent::setTimeouts</h1>
  <p class="verinfo">(PECL event &gt;= 1.2.6-beta)</p><p class="refpurpose"><span class="refname">EventBufferEvent::setTimeouts</span> — <span class="dc-title">Define el modo de lectura y escritura para el tiempo de espera máximo de un búfer de eventos</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-eventbufferevent.settimeouts-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span>
   <span class="methodname"><strong>EventBufferEvent::setTimeouts</strong></span>(<span class="methodparam">
    
    <span class="type"><a href="#language.types.float" class="type float">float</a></span> <code class="parameter">$timeout_read</code>
   </span>, <span class="methodparam">
    
    <span class="type"><a href="#language.types.float" class="type float">float</a></span> <code class="parameter">$timeout_write</code>
   </span>): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>

  <p class="para rdfs-comment">
   Define el modo de lectura y escritura para el tiempo de espera máximo de un búfer de eventos.
  </p>
 </div>

 <div class="refsect1 parameters" id="refsect1-eventbufferevent.settimeouts-parameters">
  <h3 class="title">Parámetros</h3>
  <dl>
   
    <dt>
     <code class="parameter">timeout_read</code>
    </dt>
    <dd>
     <p class="para">
      La lectura del tiempo de espera máximo
     </p>
    </dd>
   
   
    <dt>
     <code class="parameter">timeout_write</code>
    </dt>
    <dd>
     <p class="para">
      La escritura del tiempo de espera máximo
     </p>
    </dd>
   
  </dl>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-eventbufferevent.settimeouts-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Esta función retorna <strong><code><a href="#constant.true">true</a></code></strong> en caso de éxito o <strong><code><a href="#constant.false">false</a></code></strong> si ocurre un error.
  </p>
 </div>

</div>
<hr>







<div id="eventbufferevent.setwatermark" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">EventBufferEvent::setWatermark</h1>
  <p class="verinfo">(PECL event &gt;= 1.2.6-beta)</p><p class="refpurpose"><span class="refname">EventBufferEvent::setWatermark</span> — <span class="dc-title">Activa la lectura, y/o la escritura de las marcas de agua</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-eventbufferevent.setwatermark-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span>
   <span class="methodname"><strong>EventBufferEvent::setWatermark</strong></span>(<span class="methodparam">
    
    <span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$events</code>
   </span>, <span class="methodparam">
    
    <span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$lowmark</code>
   </span>, <span class="methodparam">
    
    <span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$highmark</code>
   </span>): <span class="type"><a href="language.types.void.html" class="type void">void</a></span></div>

  <p class="para rdfs-comment">
   Activa la lectura, la escritura o ambas para las <em>marcas de agua</em>
   de un búfer de eventos.
  </p>
  <p class="para">
   Una marca de agua de búfer de eventos es una porción, un valor que especifica
   el número de bytes a leer o escribir antes de llamar a la función de retrollamada.
   Por omisión, cada evento de lectura/escritura lanza una función de retrollamada.
   Vea también la siguiente página (en inglés):
   <a href="http://www.wangafu.net/~nickm/libevent-book/Ref6_bufferevent.html#_callbacks_and_watermarks" class="link external">» Fast
 portable non-blocking network programming with Libevent: Callbacks and watermarks</a>
  </p>
 </div>

 <div class="refsect1 parameters" id="refsect1-eventbufferevent.setwatermark-parameters">
  <h3 class="title">Parámetros</h3>
  <dl>
   
    <dt>
     <code class="parameter">events</code>
    </dt>
    <dd>
     <p class="para">
      Máscara de constantes <strong><code><a href="#event.constants.read">Event::READ</a></code></strong>,
      <strong><code><a href="#event.constants.write">Event::WRITE</a></code></strong>, o ambas.
     </p>
    </dd>
   
   
    <dt>
     <code class="parameter">lowmark</code>
    </dt>
    <dd>
     <p class="para">
      Valor mínimo de la marca de agua.
     </p>
    </dd>
   
   
    <dt>
     <code class="parameter">highmark</code>
    </dt>
    <dd>
     <p class="para">
      Valor máximo de la marca de agua. El valor <code class="literal">0</code>
      significa "sin límite".
     </p>
    </dd>
   
  </dl>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-eventbufferevent.setwatermark-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   No se retorna ningún valor.
  </p>
 </div>

</div>
<hr>








<div id="eventbufferevent.sslerror" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">EventBufferEvent::sslError</h1>
  <p class="verinfo">(PECL event &gt;= 1.2.6-beta)</p><p class="refpurpose"><span class="refname">EventBufferEvent::sslError</span> — <span class="dc-title">Devuelve el error OpenSSL más reciente reportado por el buffer de eventos</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-eventbufferevent.sslerror-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span>
   <span class="methodname"><strong>EventBufferEvent::sslError</strong></span>(): <span class="type"><a href="#language.types.string" class="type string">string</a></span></div>

  <p class="para rdfs-comment">
   Devuelve el error OpenSSL más reciente reportado por el buffer de eventos.
  </p>
  <blockquote class="note"><p><strong class="note">Nota</strong>: 
   </p><p class="para">
    Este método solo está disponible si
    <code class="literal">Event</code> ha sido compilado con soporte OpenSSL.
   </p>
  </blockquote>
 </div>

 <div class="refsect1 parameters" id="refsect1-eventbufferevent.sslerror-parameters">
  <h3 class="title">Parámetros</h3>
  <p class="para">Esta función no contiene ningún parámetro.</p>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-eventbufferevent.sslerror-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Devuelve la cadena de error OpenSSL reportada por el buffer de eventos o
   $false; si no hay más errores que devolver.
  </p>
 </div>

 <div class="refsect1 examples" id="refsect1-eventbufferevent.sslerror-examples">
  <h3 class="title">Ejemplos</h3>
  <div class="example" id="example-4545">
   <p><strong>Ejemplo #1 Ejemplo con <span class="function"><strong>EventBufferEvent::sslError()</strong></span></strong></p>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br></span><span style="color: #FF8000">// Esta función de retrollamada será llamada cuando ocurran eventos<br>// en el oyente de eventos, es decir, cierre de conexión, o cuando ocurra<br>// un error.<br></span><span style="color: #007700">function </span><span style="color: #0000BB">ssl_event_cb</span><span style="color: #007700">(</span><span style="color: #0000BB">$bev</span><span style="color: #007700">, </span><span style="color: #0000BB">$events</span><span style="color: #007700">, </span><span style="color: #0000BB">$ctx</span><span style="color: #007700">) {<br>    if (</span><span style="color: #0000BB">$events </span><span style="color: #007700">&amp; </span><span style="color: #0000BB">EventBufferEvent</span><span style="color: #007700">::</span><span style="color: #0000BB">ERROR</span><span style="color: #007700">) {<br>        </span><span style="color: #FF8000">// Recupera los errores desde la pila de errores SSL<br>        </span><span style="color: #007700">while (</span><span style="color: #0000BB">$err </span><span style="color: #007700">= </span><span style="color: #0000BB">$bev</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">sslError</span><span style="color: #007700">()) {<br>            </span><span style="color: #0000BB">fprintf</span><span style="color: #007700">(</span><span style="color: #0000BB">STDERR</span><span style="color: #007700">, </span><span style="color: #DD0000">"Bufferevent error %s.\n"</span><span style="color: #007700">, </span><span style="color: #0000BB">$err</span><span style="color: #007700">);<br>        }<br>    }<br><br>    if (</span><span style="color: #0000BB">$events </span><span style="color: #007700">&amp; (</span><span style="color: #0000BB">EventBufferEvent</span><span style="color: #007700">::</span><span style="color: #0000BB">EOF </span><span style="color: #007700">| </span><span style="color: #0000BB">EventBufferEvent</span><span style="color: #007700">::</span><span style="color: #0000BB">ERROR</span><span style="color: #007700">)) {<br>        </span><span style="color: #0000BB">$bev</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">free</span><span style="color: #007700">();<br>    }<br>}<br></span><span style="color: #0000BB">?&gt;</span></span></code></div>
   </div>

  </div>
 </div>

 <div class="refsect1 seealso" id="refsect1-eventbufferevent.sslerror-seealso">
  <h3 class="title">Ver también</h3>
  <ul class="simplelist">
   <li>
    <span class="methodname"><a href="#eventbufferevent.sslrenegotiate" class="methodname" rel="rdfs-seeAlso">EventBufferEvent::sslRenegotiate()</a> - Solicita al búfer de eventos iniciar una renegociación SSL</span>
   </li>
  </ul>
 </div>

</div>
<hr>







<div id="eventbufferevent.sslfilter" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">EventBufferEvent::sslFilter</h1>
  <p class="verinfo">(PECL event &gt;= 1.2.6-beta)</p><p class="refpurpose"><span class="refname">EventBufferEvent::sslFilter</span> — <span class="dc-title">Crea un nuevo búfer de evento SSL, cuyos datos
   serán enviados a través de otro búfer de evento</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-eventbufferevent.sslfilter-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span>
   <span class="modifier">static</span>
   <span class="methodname"><strong>EventBufferEvent::sslFilter</strong></span>(<br>    <span class="methodparam">
    
    <span class="type"><a href="#class.eventbase" class="type EventBase">EventBase</a></span> <code class="parameter">$base</code>
   </span>,<br>    <span class="methodparam">
    
    <span class="type"><a href="#class.eventbufferevent" class="type EventBufferEvent">EventBufferEvent</a></span> <code class="parameter">$underlying</code>
   </span>,<br>    <span class="methodparam">
    
    <span class="type"><a href="#class.eventsslcontext" class="type EventSslContext">EventSslContext</a></span> <code class="parameter">$ctx</code>
   </span>,<br>    <span class="methodparam">
    
    <span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$state</code>
   </span>,<br>    <span class="methodparam">
    
    <span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$options</code>
    <span class="initializer"> = 0</span>
   </span><br>): <span class="type"><a href="#class.eventbufferevent" class="type EventBufferEvent">EventBufferEvent</a></span></div>

  <p class="para rdfs-comment">
   Crea un nuevo búfer de evento SSL, cuyos datos
   serán enviados a través de otro búfer de evento.
  </p>
  <blockquote class="note"><p><strong class="note">Nota</strong>: 
   </p><p class="para">
    Este método solo está disponible si
    <code class="literal">Event</code> ha sido compilado con soporte OpenSSL.
   </p>
  </blockquote>
 </div>

 <div class="refsect1 parameters" id="refsect1-eventbufferevent.sslfilter-parameters">
  <h3 class="title">Parámetros</h3>
  <dl>
   
    <dt>
     <code class="parameter">base</code>
    </dt>
    <dd>
     <p class="para">
      Evento base asociado.
     </p>
    </dd>
   
   
    <dt>
     <code class="parameter">underlying</code>
    </dt>
    <dd>
     <p class="para">
      Un socket de búfer de evento a utilizar para este SSL.
     </p>
    </dd>
   
   
    <dt>
     <code class="parameter">ctx</code>
    </dt>
    <dd>
     <p class="para">
      Objeto de la clase <span class="classname"><a href="#class.eventsslcontext" class="classname">EventSslContext</a></span>.
     </p>
    </dd>
   
   
    <dt>
     <code class="parameter">state</code>
    </dt>
    <dd>
     <p class="para">
      El estado actual de la conexión SSL:
      <strong><code><a href="#eventbufferevent.constants.ssl-open">EventBufferEvent::SSL_OPEN</a></code></strong>,
      <strong><code><a href="#eventbufferevent.constants.ssl-accepting">EventBufferEvent::SSL_ACCEPTING</a></code></strong> o
      <strong><code><a href="#eventbufferevent.constants.ssl-connecting">EventBufferEvent::SSL_CONNECTING</a></code></strong>.
     </p>
    </dd>
   
   
    <dt>
     <code class="parameter">options</code>
    </dt>
    <dd>
     <p class="para">
      Una o más opciones de búfer de evento.
     </p>
    </dd>
   
  </dl>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-eventbufferevent.sslfilter-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Devuelve un nuevo objeto <span class="classname"><a href="#class.eventbufferevent" class="classname">EventBufferEvent</a></span> SSL.
  </p>
 </div>

 <div class="refsect1 examples" id="refsect1-eventbufferevent.sslfilter-examples">
  <h3 class="title">Ejemplos</h3>
  <p class="para">
   </p><div class="example" id="example-4546">
    <p><strong>Ejemplo #1 Ejemplo de servidor SMTP</strong></p><div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br> </span><span style="color: #FF8000">/*<br> * Autor: Andrew Rose &lt;hello at andrewrose dot co dot uk&gt;<br> *<br> * Uso:<br> * 1) Prepare el certificado cert.pem y la clave privada privkey.pem.<br> * 2) Inicie el script del servidor<br> * 3) Abra la conexión TLS, i.e. :<br> *      $ openssl s_client -connect localhost:25 -starttls smtp -crlf<br> * 4) Comience a probar los comandos listados en el método `cmd` a continuación.<br> */<br><br></span><span style="color: #007700">class </span><span style="color: #0000BB">Handler </span><span style="color: #007700">{<br>    public </span><span style="color: #0000BB">$domainName </span><span style="color: #007700">= </span><span style="color: #0000BB">FALSE</span><span style="color: #007700">;<br>    public </span><span style="color: #0000BB">$connections </span><span style="color: #007700">= [];<br>    public </span><span style="color: #0000BB">$buffers </span><span style="color: #007700">= [];<br>    public </span><span style="color: #0000BB">$maxRead </span><span style="color: #007700">= </span><span style="color: #0000BB">256000</span><span style="color: #007700">;<br><br>    public function </span><span style="color: #0000BB">__construct</span><span style="color: #007700">() {<br>        </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">ctx </span><span style="color: #007700">= new </span><span style="color: #0000BB">EventSslContext</span><span style="color: #007700">(</span><span style="color: #0000BB">EventSslContext</span><span style="color: #007700">::</span><span style="color: #0000BB">SSLv3_SERVER_METHOD</span><span style="color: #007700">, [<br>            </span><span style="color: #0000BB">EventSslContext</span><span style="color: #007700">::</span><span style="color: #0000BB">OPT_LOCAL_CERT  </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">'cert.pem'</span><span style="color: #007700">,<br>            </span><span style="color: #0000BB">EventSslContext</span><span style="color: #007700">::</span><span style="color: #0000BB">OPT_LOCAL_PK    </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">'privkey.pem'</span><span style="color: #007700">,<br>            </span><span style="color: #FF8000">//EventSslContext::OPT_PASSPHRASE  =&gt; '',<br>            </span><span style="color: #0000BB">EventSslContext</span><span style="color: #007700">::</span><span style="color: #0000BB">OPT_VERIFY_PEER </span><span style="color: #007700">=&gt; </span><span style="color: #0000BB">false</span><span style="color: #007700">, </span><span style="color: #FF8000">// cambiar a TRUE con certificados auténticos<br>            </span><span style="color: #0000BB">EventSslContext</span><span style="color: #007700">::</span><span style="color: #0000BB">OPT_ALLOW_SELF_SIGNED </span><span style="color: #007700">=&gt; </span><span style="color: #0000BB">true </span><span style="color: #FF8000">// cambiar a FALSE con certificados auténticos<br>        </span><span style="color: #007700">]);<br><br>        </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">base </span><span style="color: #007700">= new </span><span style="color: #0000BB">EventBase</span><span style="color: #007700">();<br>        if (!</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">base</span><span style="color: #007700">) {<br>            exit(</span><span style="color: #DD0000">"Imposible abrir la base del evento\n"</span><span style="color: #007700">);<br>        }<br><br>        if (!</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">listener </span><span style="color: #007700">= new </span><span style="color: #0000BB">EventListener</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">base</span><span style="color: #007700">,<br>            [</span><span style="color: #0000BB">$this</span><span style="color: #007700">, </span><span style="color: #DD0000">'ev_accept'</span><span style="color: #007700">],<br>            </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">ctx</span><span style="color: #007700">,<br>            </span><span style="color: #0000BB">EventListener</span><span style="color: #007700">::</span><span style="color: #0000BB">OPT_CLOSE_ON_FREE </span><span style="color: #007700">| </span><span style="color: #0000BB">EventListener</span><span style="color: #007700">::</span><span style="color: #0000BB">OPT_REUSEABLE</span><span style="color: #007700">,<br>            -</span><span style="color: #0000BB">1</span><span style="color: #007700">,<br>            </span><span style="color: #DD0000">'0.0.0.0:25'</span><span style="color: #007700">))<br>        {<br>            exit(</span><span style="color: #DD0000">"Imposible crear el oyente\n"</span><span style="color: #007700">);<br>        }<br><br>        </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">listener</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setErrorCallback</span><span style="color: #007700">([</span><span style="color: #0000BB">$this</span><span style="color: #007700">, </span><span style="color: #DD0000">'ev_error'</span><span style="color: #007700">]);<br>        </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">base</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">dispatch</span><span style="color: #007700">();<br>    }<br><br>    public function </span><span style="color: #0000BB">ev_accept</span><span style="color: #007700">(</span><span style="color: #0000BB">$listener</span><span style="color: #007700">, </span><span style="color: #0000BB">$fd</span><span style="color: #007700">, </span><span style="color: #0000BB">$address</span><span style="color: #007700">, </span><span style="color: #0000BB">$ctx</span><span style="color: #007700">) {<br>        static </span><span style="color: #0000BB">$id </span><span style="color: #007700">= </span><span style="color: #0000BB">0</span><span style="color: #007700">;<br>        </span><span style="color: #0000BB">$id </span><span style="color: #007700">+= </span><span style="color: #0000BB">1</span><span style="color: #007700">;<br><br>        </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">connections</span><span style="color: #007700">[</span><span style="color: #0000BB">$id</span><span style="color: #007700">][</span><span style="color: #DD0000">'clientData'</span><span style="color: #007700">] = </span><span style="color: #DD0000">''</span><span style="color: #007700">;<br>        </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">connections</span><span style="color: #007700">[</span><span style="color: #0000BB">$id</span><span style="color: #007700">][</span><span style="color: #DD0000">'cnx'</span><span style="color: #007700">] = new </span><span style="color: #0000BB">EventBufferEvent</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">base</span><span style="color: #007700">, </span><span style="color: #0000BB">$fd</span><span style="color: #007700">,<br>            </span><span style="color: #0000BB">EventBufferEvent</span><span style="color: #007700">::</span><span style="color: #0000BB">OPT_CLOSE_ON_FREE</span><span style="color: #007700">);<br><br>        if (!</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">connections</span><span style="color: #007700">[</span><span style="color: #0000BB">$id</span><span style="color: #007700">][</span><span style="color: #DD0000">'cnx'</span><span style="color: #007700">]) {<br>            echo </span><span style="color: #DD0000">"Fallo en la creación del buffer\n"</span><span style="color: #007700">;<br>            </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">base</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">exit</span><span style="color: #007700">(</span><span style="color: #0000BB">NULL</span><span style="color: #007700">);<br>            exit(</span><span style="color: #0000BB">1</span><span style="color: #007700">);<br>        }<br><br>        </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">connections</span><span style="color: #007700">[</span><span style="color: #0000BB">$id</span><span style="color: #007700">][</span><span style="color: #DD0000">'cnx'</span><span style="color: #007700">]-&gt;</span><span style="color: #0000BB">setCallbacks</span><span style="color: #007700">([</span><span style="color: #0000BB">$this</span><span style="color: #007700">, </span><span style="color: #DD0000">"ev_read"</span><span style="color: #007700">], </span><span style="color: #0000BB">NULL</span><span style="color: #007700">,<br>            [</span><span style="color: #0000BB">$this</span><span style="color: #007700">, </span><span style="color: #DD0000">'ev_error'</span><span style="color: #007700">], </span><span style="color: #0000BB">$id</span><span style="color: #007700">);<br>        </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">connections</span><span style="color: #007700">[</span><span style="color: #0000BB">$id</span><span style="color: #007700">][</span><span style="color: #DD0000">'cnx'</span><span style="color: #007700">]-&gt;</span><span style="color: #0000BB">enable</span><span style="color: #007700">(</span><span style="color: #0000BB">Event</span><span style="color: #007700">::</span><span style="color: #0000BB">READ </span><span style="color: #007700">| </span><span style="color: #0000BB">Event</span><span style="color: #007700">::</span><span style="color: #0000BB">WRITE</span><span style="color: #007700">);<br><br>        </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">ev_write</span><span style="color: #007700">(</span><span style="color: #0000BB">$id</span><span style="color: #007700">, </span><span style="color: #DD0000">'220 '</span><span style="color: #007700">.</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">domainName</span><span style="color: #007700">.</span><span style="color: #DD0000">" wazzzap?\r\n"</span><span style="color: #007700">);<br>    }<br><br>    function </span><span style="color: #0000BB">ev_error</span><span style="color: #007700">(</span><span style="color: #0000BB">$listener</span><span style="color: #007700">, </span><span style="color: #0000BB">$ctx</span><span style="color: #007700">) {<br>        </span><span style="color: #0000BB">$errno </span><span style="color: #007700">= </span><span style="color: #0000BB">EventUtil</span><span style="color: #007700">::</span><span style="color: #0000BB">getLastSocketErrno</span><span style="color: #007700">();<br><br>        </span><span style="color: #0000BB">fprintf</span><span style="color: #007700">(</span><span style="color: #0000BB">STDERR</span><span style="color: #007700">, </span><span style="color: #DD0000">"Se recibe el error %d (%s) en el oyente. Detención.\n"</span><span style="color: #007700">,<br>            </span><span style="color: #0000BB">$errno</span><span style="color: #007700">, </span><span style="color: #0000BB">EventUtil</span><span style="color: #007700">::</span><span style="color: #0000BB">getLastSocketError</span><span style="color: #007700">());<br><br>        if (</span><span style="color: #0000BB">$errno </span><span style="color: #007700">!= </span><span style="color: #0000BB">0</span><span style="color: #007700">) {<br>            </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">base</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">exit</span><span style="color: #007700">(</span><span style="color: #0000BB">NULL</span><span style="color: #007700">);<br>            exit();<br>        }<br>    }<br><br>    public function </span><span style="color: #0000BB">ev_close</span><span style="color: #007700">(</span><span style="color: #0000BB">$id</span><span style="color: #007700">) {<br>        </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">connections</span><span style="color: #007700">[</span><span style="color: #0000BB">$id</span><span style="color: #007700">][</span><span style="color: #DD0000">'cnx'</span><span style="color: #007700">]-&gt;</span><span style="color: #0000BB">disable</span><span style="color: #007700">(</span><span style="color: #0000BB">Event</span><span style="color: #007700">::</span><span style="color: #0000BB">READ </span><span style="color: #007700">| </span><span style="color: #0000BB">Event</span><span style="color: #007700">::</span><span style="color: #0000BB">WRITE</span><span style="color: #007700">);<br>        unset(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">connections</span><span style="color: #007700">[</span><span style="color: #0000BB">$id</span><span style="color: #007700">]);<br>    }<br><br>    protected function </span><span style="color: #0000BB">ev_write</span><span style="color: #007700">(</span><span style="color: #0000BB">$id</span><span style="color: #007700">, </span><span style="color: #0000BB">$string</span><span style="color: #007700">) {<br>        echo </span><span style="color: #DD0000">'S('</span><span style="color: #007700">.</span><span style="color: #0000BB">$id</span><span style="color: #007700">.</span><span style="color: #DD0000">'): '</span><span style="color: #007700">.</span><span style="color: #0000BB">$string</span><span style="color: #007700">;<br>        </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">connections</span><span style="color: #007700">[</span><span style="color: #0000BB">$id</span><span style="color: #007700">][</span><span style="color: #DD0000">'cnx'</span><span style="color: #007700">]-&gt;</span><span style="color: #0000BB">write</span><span style="color: #007700">(</span><span style="color: #0000BB">$string</span><span style="color: #007700">);<br>    }<br><br>    public function </span><span style="color: #0000BB">ev_read</span><span style="color: #007700">(</span><span style="color: #0000BB">$buffer</span><span style="color: #007700">, </span><span style="color: #0000BB">$id</span><span style="color: #007700">) {<br>        while(</span><span style="color: #0000BB">$buffer</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">input</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">length </span><span style="color: #007700">&gt; </span><span style="color: #0000BB">0</span><span style="color: #007700">) {<br>            </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">connections</span><span style="color: #007700">[</span><span style="color: #0000BB">$id</span><span style="color: #007700">][</span><span style="color: #DD0000">'clientData'</span><span style="color: #007700">] .= </span><span style="color: #0000BB">$buffer</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">input</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">read</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">maxRead</span><span style="color: #007700">);<br>            </span><span style="color: #0000BB">$clientDataLen </span><span style="color: #007700">= </span><span style="color: #0000BB">strlen</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">connections</span><span style="color: #007700">[</span><span style="color: #0000BB">$id</span><span style="color: #007700">][</span><span style="color: #DD0000">'clientData'</span><span style="color: #007700">]);<br><br>            if(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">connections</span><span style="color: #007700">[</span><span style="color: #0000BB">$id</span><span style="color: #007700">][</span><span style="color: #DD0000">'clientData'</span><span style="color: #007700">][</span><span style="color: #0000BB">$clientDataLen</span><span style="color: #007700">-</span><span style="color: #0000BB">1</span><span style="color: #007700">] == </span><span style="color: #DD0000">"\n"<br>                </span><span style="color: #007700">&amp;&amp; </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">connections</span><span style="color: #007700">[</span><span style="color: #0000BB">$id</span><span style="color: #007700">][</span><span style="color: #DD0000">'clientData'</span><span style="color: #007700">][</span><span style="color: #0000BB">$clientDataLen</span><span style="color: #007700">-</span><span style="color: #0000BB">2</span><span style="color: #007700">] == </span><span style="color: #DD0000">"\r"</span><span style="color: #007700">)<br>            {<br>                </span><span style="color: #FF8000">// Elimina los caracteres \r\n al final<br>                </span><span style="color: #0000BB">$line </span><span style="color: #007700">= </span><span style="color: #0000BB">substr</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">connections</span><span style="color: #007700">[</span><span style="color: #0000BB">$id</span><span style="color: #007700">][</span><span style="color: #DD0000">'clientData'</span><span style="color: #007700">], </span><span style="color: #0000BB">0</span><span style="color: #007700">,<br>                    </span><span style="color: #0000BB">strlen</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">connections</span><span style="color: #007700">[</span><span style="color: #0000BB">$id</span><span style="color: #007700">][</span><span style="color: #DD0000">'clientData'</span><span style="color: #007700">]) - </span><span style="color: #0000BB">2</span><span style="color: #007700">);<br><br>                </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">connections</span><span style="color: #007700">[</span><span style="color: #0000BB">$id</span><span style="color: #007700">][</span><span style="color: #DD0000">'clientData'</span><span style="color: #007700">] = </span><span style="color: #DD0000">''</span><span style="color: #007700">;<br>                </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">cmd</span><span style="color: #007700">(</span><span style="color: #0000BB">$buffer</span><span style="color: #007700">, </span><span style="color: #0000BB">$id</span><span style="color: #007700">, </span><span style="color: #0000BB">$line</span><span style="color: #007700">);<br>            }<br>        }<br>    }<br><br>    protected function </span><span style="color: #0000BB">cmd</span><span style="color: #007700">(</span><span style="color: #0000BB">$buffer</span><span style="color: #007700">, </span><span style="color: #0000BB">$id</span><span style="color: #007700">, </span><span style="color: #0000BB">$line</span><span style="color: #007700">) {<br>        switch (</span><span style="color: #0000BB">$line</span><span style="color: #007700">) {<br>            case </span><span style="color: #0000BB">strncmp</span><span style="color: #007700">(</span><span style="color: #DD0000">'EHLO '</span><span style="color: #007700">, </span><span style="color: #0000BB">$line</span><span style="color: #007700">, </span><span style="color: #0000BB">4</span><span style="color: #007700">):<br>                </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">ev_write</span><span style="color: #007700">(</span><span style="color: #0000BB">$id</span><span style="color: #007700">, </span><span style="color: #DD0000">"250-STARTTLS\r\n"</span><span style="color: #007700">);<br>                </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">ev_write</span><span style="color: #007700">(</span><span style="color: #0000BB">$id</span><span style="color: #007700">, </span><span style="color: #DD0000">"250 OK ehlo\r\n"</span><span style="color: #007700">);<br>                break;<br><br>            case </span><span style="color: #0000BB">strncmp</span><span style="color: #007700">(</span><span style="color: #DD0000">'HELO '</span><span style="color: #007700">, </span><span style="color: #0000BB">$line</span><span style="color: #007700">, </span><span style="color: #0000BB">4</span><span style="color: #007700">):<br>                </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">ev_write</span><span style="color: #007700">(</span><span style="color: #0000BB">$id</span><span style="color: #007700">, </span><span style="color: #DD0000">"250-STARTTLS\r\n"</span><span style="color: #007700">);<br>                </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">ev_write</span><span style="color: #007700">(</span><span style="color: #0000BB">$id</span><span style="color: #007700">, </span><span style="color: #DD0000">"250 OK helo\r\n"</span><span style="color: #007700">);<br>                break;<br><br>            case </span><span style="color: #0000BB">strncmp</span><span style="color: #007700">(</span><span style="color: #DD0000">'QUIT'</span><span style="color: #007700">, </span><span style="color: #0000BB">$line</span><span style="color: #007700">, </span><span style="color: #0000BB">3</span><span style="color: #007700">):<br>                </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">ev_write</span><span style="color: #007700">(</span><span style="color: #0000BB">$id</span><span style="color: #007700">, </span><span style="color: #DD0000">"250 OK quit\r\n"</span><span style="color: #007700">);<br>                </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">ev_close</span><span style="color: #007700">(</span><span style="color: #0000BB">$id</span><span style="color: #007700">);<br>                break;<br><br>            case </span><span style="color: #0000BB">strncmp</span><span style="color: #007700">(</span><span style="color: #DD0000">'STARTTLS'</span><span style="color: #007700">, </span><span style="color: #0000BB">$line</span><span style="color: #007700">, </span><span style="color: #0000BB">3</span><span style="color: #007700">):<br>                </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">ev_write</span><span style="color: #007700">(</span><span style="color: #0000BB">$id</span><span style="color: #007700">, </span><span style="color: #DD0000">"220 Ready to start TLS\r\n"</span><span style="color: #007700">);<br>                </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">connections</span><span style="color: #007700">[</span><span style="color: #0000BB">$id</span><span style="color: #007700">][</span><span style="color: #DD0000">'cnx'</span><span style="color: #007700">] = </span><span style="color: #0000BB">EventBufferEvent</span><span style="color: #007700">::</span><span style="color: #0000BB">sslFilter</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">base</span><span style="color: #007700">,<br>                    </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">connections</span><span style="color: #007700">[</span><span style="color: #0000BB">$id</span><span style="color: #007700">][</span><span style="color: #DD0000">'cnx'</span><span style="color: #007700">], </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">ctx</span><span style="color: #007700">,<br>                    </span><span style="color: #0000BB">EventBufferEvent</span><span style="color: #007700">::</span><span style="color: #0000BB">SSL_ACCEPTING</span><span style="color: #007700">,<br>                    </span><span style="color: #0000BB">EventBufferEvent</span><span style="color: #007700">::</span><span style="color: #0000BB">OPT_CLOSE_ON_FREE</span><span style="color: #007700">);<br>                </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">connections</span><span style="color: #007700">[</span><span style="color: #0000BB">$id</span><span style="color: #007700">][</span><span style="color: #DD0000">'cnx'</span><span style="color: #007700">]-&gt;</span><span style="color: #0000BB">setCallbacks</span><span style="color: #007700">([</span><span style="color: #0000BB">$this</span><span style="color: #007700">, </span><span style="color: #DD0000">"ev_read"</span><span style="color: #007700">], </span><span style="color: #0000BB">NULL</span><span style="color: #007700">, [</span><span style="color: #0000BB">$this</span><span style="color: #007700">, </span><span style="color: #DD0000">'ev_error'</span><span style="color: #007700">], </span><span style="color: #0000BB">$id</span><span style="color: #007700">);<br>                </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">connections</span><span style="color: #007700">[</span><span style="color: #0000BB">$id</span><span style="color: #007700">][</span><span style="color: #DD0000">'cnx'</span><span style="color: #007700">]-&gt;</span><span style="color: #0000BB">enable</span><span style="color: #007700">(</span><span style="color: #0000BB">Event</span><span style="color: #007700">::</span><span style="color: #0000BB">READ </span><span style="color: #007700">| </span><span style="color: #0000BB">Event</span><span style="color: #007700">::</span><span style="color: #0000BB">WRITE</span><span style="color: #007700">);<br>                break;<br><br>            default:<br>                echo </span><span style="color: #DD0000">'Comando desconocido : '</span><span style="color: #007700">.</span><span style="color: #0000BB">$line</span><span style="color: #007700">.</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br>                break;<br>        }<br>    }<br>}<br><br>new </span><span style="color: #0000BB">Handler</span><span style="color: #007700">();</span></span></code></div>
  </div>

   </div>
  
 </div>

 <div class="refsect1 seealso" id="refsect1-eventbufferevent.sslfilter-seealso">
  <h3 class="title">Ver también</h3>
  <ul class="simplelist">
   <li>
    <span class="methodname"><a href="#eventbufferevent.sslsocket" class="methodname" rel="rdfs-seeAlso">EventBufferEvent::sslSocket()</a> - Crea un nuevo buffer SSL cuyos datos serán enviados a través de un socket SSL</span>
   </li>
  </ul>
 </div>

</div>
<hr>








<div id="eventbufferevent.sslgetcipherinfo" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">EventBufferEvent::sslGetCipherInfo</h1>
  <p class="verinfo">(PECL event &gt;= 1.10.0)</p><p class="refpurpose"><span class="refname">EventBufferEvent::sslGetCipherInfo</span> — <span class="dc-title">Devuelve una descripción textual de un cipher</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-eventbufferevent.sslgetcipherinfo-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span>
   <span class="methodname"><strong>EventBufferEvent::sslGetCipherInfo</strong></span>(): <span class="type"><a href="#language.types.string" class="type string">string</a></span></div>

  <p class="para rdfs-comment">
   Recupera la descripción del cipher actual a través de la función
   <code class="literal">SSL_CIPHER_description</code> de la API SSL (ver
   la página man de <em>SSL_CIPHER_get_name(3)</em>).
  </p>
  <blockquote class="note"><p><strong class="note">Nota</strong>: 
   </p><p class="para">
    Esta función solo está disponible si
    <code class="literal">Event</code> ha sido compilado con soporte
    OpenSSL.
   </p>
  </blockquote>
 </div>

 <div class="refsect1 parameters" id="refsect1-eventbufferevent.sslgetcipherinfo-parameters">
  <h3 class="title">Parámetros</h3>
  <p class="para">Esta función no contiene ningún parámetro.</p>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-eventbufferevent.sslgetcipherinfo-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Devuelve una descripción textual del cipher en caso de éxito,
   o bien <strong><code><a href="#constant.false">false</a></code></strong> si ocurre un error.
  </p>
 </div>

</div>
<hr>








<div id="eventbufferevent.sslgetciphername" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">EventBufferEvent::sslGetCipherName</h1>
  <p class="verinfo">(PECL event &gt;= 1.10.0)</p><p class="refpurpose"><span class="refname">EventBufferEvent::sslGetCipherName</span> — <span class="dc-title">Devuelve el nombre del cipher actual para la conexión SSL</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-eventbufferevent.sslgetciphername-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span>
   <span class="methodname"><strong>EventBufferEvent::sslGetCipherName</strong></span>(): <span class="type"><a href="#language.types.string" class="type string">string</a></span></div>

  <p class="para rdfs-comment">
   Recupera el nombre del cipher actual para la conexión SSL.
  </p>
  <blockquote class="note"><p><strong class="note">Nota</strong>: 
   </p><p class="para">
    Esta función solo está disponible si
    <code class="literal">Event</code> ha sido compilado con soporte
    OpenSSL.
   </p>
  </blockquote>
 </div>

 <div class="refsect1 parameters" id="refsect1-eventbufferevent.sslgetciphername-parameters">
  <h3 class="title">Parámetros</h3>
  <p class="para">Esta función no contiene ningún parámetro.</p>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-eventbufferevent.sslgetciphername-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Devuelve el nombre del cipher actual para la conexión SSL o <strong><code><a href="#constant.false">false</a></code></strong>
   en caso de error.
  </p>
 </div>

</div>
<hr>








<div id="eventbufferevent.sslgetcipherversion" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">EventBufferEvent::sslGetCipherVersion</h1>
  <p class="verinfo">(PECL event &gt;= 1.10.0)</p><p class="refpurpose"><span class="refname">EventBufferEvent::sslGetCipherVersion</span> — <span class="dc-title">Devuelve la versión del cipher utilizado para la conexión SSL actual</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-eventbufferevent.sslgetcipherversion-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span>
   <span class="methodname"><strong>EventBufferEvent::sslGetCipherVersion</strong></span>(): <span class="type"><a href="#language.types.string" class="type string">string</a></span></div>

  <p class="para rdfs-comment">
   Recupera la versión del cipher utilizado para la conexión SSL actual.
  </p>
  <blockquote class="note"><p><strong class="note">Nota</strong>: 
   </p><p class="para">
    Esta función solo está disponible si
    <code class="literal">Event</code> ha sido compilado con soporte
    OpenSSL.
   </p>
  </blockquote>
 </div>

 <div class="refsect1 parameters" id="refsect1-eventbufferevent.sslgetcipherversion-parameters">
  <h3 class="title">Parámetros</h3>
  <p class="para">Esta función no contiene ningún parámetro.</p>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-eventbufferevent.sslgetcipherversion-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Devuelve la versión del cipher utilizado para la conexión SSL actual
   o <strong><code><a href="#constant.false">false</a></code></strong> en caso de error.
  </p>
 </div>

</div>
<hr>








<div id="eventbufferevent.sslgetprotocol" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">EventBufferEvent::sslGetProtocol</h1>
  <p class="verinfo">(PECL event &gt;= 1.10.0)</p><p class="refpurpose"><span class="refname">EventBufferEvent::sslGetProtocol</span> — <span class="dc-title">Devuelve el nombre del protocolo utilizado para la conexión SSL actual</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-eventbufferevent.sslgetprotocol-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span>
   <span class="methodname"><strong>EventBufferEvent::sslGetProtocol</strong></span>(): <span class="type"><a href="#language.types.string" class="type string">string</a></span></div>

  <p class="para rdfs-comment">
   Devuelve el nombre del protocolo utilizado para la conexión SSL actual.
  </p>
  <blockquote class="note"><p><strong class="note">Nota</strong>: 
   </p><p class="para">
    Esta función solo está disponible si
    <code class="literal">Event</code> ha sido compilado con soporte
    OpenSSL.
   </p>
  </blockquote>
 </div>

 <div class="refsect1 parameters" id="refsect1-eventbufferevent.sslgetprotocol-parameters">
  <h3 class="title">Parámetros</h3>
  <p class="para">Esta función no contiene ningún parámetro.</p>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-eventbufferevent.sslgetprotocol-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Devuelve el nombre del protocolo utilizado para la conexión SSL actual.
  </p>
 </div>

</div>
<hr>









<div id="eventbufferevent.sslrenegotiate" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">EventBufferEvent::sslRenegotiate</h1>
  <p class="verinfo">(PECL event &gt;= 1.2.6-beta)</p><p class="refpurpose"><span class="refname">EventBufferEvent::sslRenegotiate</span> — <span class="dc-title">Solicita al búfer de eventos iniciar una renegociación SSL</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-eventbufferevent.sslrenegotiate-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span>
   <span class="methodname"><strong>EventBufferEvent::sslRenegotiate</strong></span>(): <span class="type"><a href="language.types.void.html" class="type void">void</a></span></div>

  <p class="para rdfs-comment">
   Solicita al búfer de eventos iniciar una renegociación SSL.
  </p>
  <div class="warning"><strong class="warning">Advertencia</strong>
   <p class="para">
    La llamada a este método solicita a SSL una renegociación, y al búfer de eventos llamar a la función de retrollamada apropiada. Es un método muy avanzado; solo debe ser llamado si se sabe perfectamente lo que se hace, especialmente desde algunas versiones SSL donde se han actualizado fallas de seguridad durante la renegociación.
   </p>
  </div>
 </div>

 <div class="refsect1 parameters" id="refsect1-eventbufferevent.sslrenegotiate-parameters">
  <h3 class="title">Parámetros</h3>
  <p class="para">Esta función no contiene ningún parámetro.</p>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-eventbufferevent.sslrenegotiate-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   No se retorna ningún valor.
  </p>
 </div>

</div>
<hr>







<div id="eventbufferevent.sslsocket" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">EventBufferEvent::sslSocket</h1>
  <p class="verinfo">(PECL event &gt;= 1.2.6-beta)</p><p class="refpurpose"><span class="refname">EventBufferEvent::sslSocket</span> — <span class="dc-title">Crea un nuevo buffer SSL cuyos datos serán enviados a través de un socket SSL</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-eventbufferevent.sslsocket-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span>
   <span class="modifier">static</span>
   <span class="methodname"><strong>EventBufferEvent::sslSocket</strong></span>(<br>    <span class="methodparam">
    
    <span class="type"><a href="#class.eventbase" class="type EventBase">EventBase</a></span> <code class="parameter">$base</code>
   </span>,<br>    <span class="methodparam">
    
    <span class="type"><a href="#language.types.mixed" class="type mixed">mixed</a></span> <code class="parameter">$socket</code>
   </span>,<br>    <span class="methodparam">
    
    <span class="type"><a href="#class.eventsslcontext" class="type EventSslContext">EventSslContext</a></span> <code class="parameter">$ctx</code>
   </span>,<br>    <span class="methodparam">
    
    <span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$state</code>
   </span>,<br>    <span class="methodparam">
    
    <span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$options</code>
   <span class="initializer"> = ?</span></span><br>): <span class="type"><a href="#class.eventbufferevent" class="type EventBufferEvent">EventBufferEvent</a></span></div>

  <p class="para rdfs-comment">
   Crea un nuevo buffer SSL cuyos datos serán
   enviados a través de un socket SSL.
  </p>
 </div>

 <div class="refsect1 parameters" id="refsect1-eventbufferevent.sslsocket-parameters">
  <h3 class="title">Parámetros</h3>
  <dl>
   
    <dt>
     <code class="parameter">base</code>
    </dt>
    <dd>
     <p class="para">
      Evento base asociado.
     </p>
    </dd>
   
   
    <dt>
     <code class="parameter">socket</code>
    </dt>
    <dd>
     <p class="para">
      Socket a utilizar para este SSL. Puede ser un flujo, un recurso
      de socket, un descriptor numérico de fichero, o <strong><code><a href="#constant.null">null</a></code></strong>. Si el
      argumento <code class="parameter">socket</code> es <strong><code><a href="#constant.null">null</a></code></strong>, se asume
      que el descriptor de fichero para este socket será asignado posteriormente
      a través del método <span class="methodname"><a href="#eventbufferevent.connecthost" class="methodname">EventBufferEvent::connectHost()</a></span>.
     </p>
    </dd>
   
   
    <dt>
     <code class="parameter">ctx</code>
    </dt>
    <dd>
     <p class="para">
      Objeto de la clase <span class="classname"><a href="#class.eventsslcontext" class="classname">EventSslContext</a></span>.
     </p>
    </dd>
   
   
    <dt>
     <code class="parameter">state</code>
    </dt>
    <dd>
     <p class="para">
      El estado actual de la conexión SSL:
      <strong><code><a href="#eventbufferevent.constants.ssl-open">EventBufferEvent::SSL_OPEN</a></code></strong>,
      <strong><code><a href="#eventbufferevent.constants.ssl-accepting">EventBufferEvent::SSL_ACCEPTING</a></code></strong> o
      <strong><code><a href="#eventbufferevent.constants.ssl-connecting">EventBufferEvent::SSL_CONNECTING</a></code></strong>.
     </p>
    </dd>
   
   
    <dt>
     <code class="parameter">options</code>
    </dt>
    <dd>
     <p class="para">
      Las opciones del buffer de evento.
     </p>
    </dd>
   
  </dl>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-eventbufferevent.sslsocket-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Devuelve un objeto <span class="classname"><a href="#class.eventbufferevent" class="classname">EventBufferEvent</a></span>.
  </p>
 </div>

 <div class="refsect1 seealso" id="refsect1-eventbufferevent.sslsocket-seealso">
  <h3 class="title">Ver también</h3>
  <ul class="simplelist">
   <li>
    <span class="methodname"><a href="#eventbufferevent.sslfilter" class="methodname" rel="rdfs-seeAlso">EventBufferEvent::sslFilter()</a> - Crea un nuevo búfer de evento SSL, cuyos datos
   serán enviados a través de otro búfer de evento</span>
   </li>
  </ul>
 </div>

</div>
<hr>








<div id="eventbufferevent.write" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">EventBufferEvent::write</h1>
  <p class="verinfo">(PECL event &gt;= 1.2.6-beta)</p><p class="refpurpose"><span class="refname">EventBufferEvent::write</span> — <span class="dc-title">Añade datos a un buffer de evento de salida</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-eventbufferevent.write-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span>
   <span class="methodname"><strong>EventBufferEvent::write</strong></span>(<span class="methodparam">
    
    <span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$data</code>
   </span>): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>

  <p class="para rdfs-comment">
   Añade datos a un buffer de evento de salida.
  </p>
 </div>

 <div class="refsect1 parameters" id="refsect1-eventbufferevent.write-parameters">
  <h3 class="title">Parámetros</h3>
  <dl>
   
    <dt>
     <code class="parameter">data</code>
    </dt>
    <dd>
     <p class="para">
      Datos a añadir al buffer.
     </p>
    </dd>
   
  </dl>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-eventbufferevent.write-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Esta función retorna <strong><code><a href="#constant.true">true</a></code></strong> en caso de éxito o <strong><code><a href="#constant.false">false</a></code></strong> si ocurre un error.
  </p>
 </div>

 <div class="refsect1 seealso" id="refsect1-eventbufferevent.write-seealso">
  <h3 class="title">Ver también</h3>
  <ul class="simplelist">
   <li>
    <span class="methodname"><a href="#eventbufferevent.writebuffer" class="methodname" rel="rdfs-seeAlso">EventBufferEvent::writeBuffer()</a> - Añade el contenido entero de un buffer en un buffer de evento de salida</span>
   </li>
  </ul>
 </div>

</div>
<hr>








<div id="eventbufferevent.writebuffer" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">EventBufferEvent::writeBuffer</h1>
  <p class="verinfo">(PECL event &gt;= 1.2.6-beta)</p><p class="refpurpose"><span class="refname">EventBufferEvent::writeBuffer</span> — <span class="dc-title">Añade el contenido entero de un buffer en un buffer de evento de salida</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-eventbufferevent.writebuffer-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span>
   <span class="methodname"><strong>EventBufferEvent::writeBuffer</strong></span>(<span class="methodparam">
    
    <span class="type"><a href="#class.eventbuffer" class="type EventBuffer">EventBuffer</a></span> <code class="parameter">$buf</code>
   </span>): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>

  <p class="para rdfs-comment">
   Añade el contenido entero de un buffer en un buffer de evento de salida.
  </p>
 </div>

 <div class="refsect1 parameters" id="refsect1-eventbufferevent.writebuffer-parameters">
  <h3 class="title">Parámetros</h3>
  <dl>
   
    <dt>
     <code class="parameter">buf</code>
    </dt>
    <dd>
     <p class="para">
      Objeto <span class="classname"><a href="#class.eventbuffer" class="classname">EventBuffer</a></span> fuente.
     </p>
    </dd>
   
  </dl>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-eventbufferevent.writebuffer-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Esta función retorna <strong><code><a href="#constant.true">true</a></code></strong> en caso de éxito o <strong><code><a href="#constant.false">false</a></code></strong> si ocurre un error.
  </p>
 </div>

 <div class="refsect1 seealso" id="refsect1-eventbufferevent.writebuffer-seealso">
  <h3 class="title">Ver también</h3>
  <ul class="simplelist">
   <li>
    <span class="methodname"><a href="#eventbufferevent.write" class="methodname" rel="rdfs-seeAlso">EventBufferEvent::write()</a> - Añade datos a un buffer de evento de salida</span>
   </li>
  </ul>
 </div>

</div>
<hr>




<h2>Tabla de contenidos</h2><ul class="chunklist chunklist_reference"><li><a href="#eventbufferevent.close">EventBufferEvent::close</a> — Cierra el descriptor de fichero asociado con el buffer de eventos actual</li><li><a href="#eventbufferevent.connect">EventBufferEvent::connect</a> — Conecta el descriptor de fichero del búfer de eventos a la dirección proporcionada,
   o al socket UNIX</li><li><a href="#eventbufferevent.connecthost">EventBufferEvent::connectHost</a> — Conexión a un host</li><li><a href="#eventbufferevent.construct">EventBufferEvent::__construct</a> — Construye un objeto EventBufferEvent</li><li><a href="#eventbufferevent.createpair">EventBufferEvent::createPair</a> — Crea dos eventos de buffer conectados entre sí</li><li><a href="#eventbufferevent.disable">EventBufferEvent::disable</a> — Desactiva los eventos de lectura, escritura o ambos en un evento de búfer</li><li><a href="#eventbufferevent.enable">EventBufferEvent::enable</a> — Activa los eventos de lectura, escritura, o ambos, en un evento de buffer</li><li><a href="#eventbufferevent.free">EventBufferEvent::free</a> — Libera un evento de búfer</li><li><a href="#eventbufferevent.getdnserrorstring">EventBufferEvent::getDnsErrorString</a> — Devuelve un string que describe el último error DNS</li><li><a href="#eventbufferevent.getenabled">EventBufferEvent::getEnabled</a> — Devuelve una máscara de eventos actualmente activos en el búfer de eventos</li><li><a href="#eventbufferevent.getinput">EventBufferEvent::getInput</a> — Devuelve el búfer de entrada asociado con el búfer de eventos actual</li><li><a href="#eventbufferevent.getoutput">EventBufferEvent::getOutput</a> — Devuelve el búfer de salida asociado con el búfer de evento actual</li><li><a href="#eventbufferevent.read">EventBufferEvent::read</a> — Lee los datos del búfer</li><li><a href="#eventbufferevent.readbuffer">EventBufferEvent::readBuffer</a> — Vacía el contenido entero del búfer de entrada y lo coloca en el búfer</li><li><a href="#eventbufferevent.setcallbacks">EventBufferEvent::setCallbacks</a> — Asigna las funciones de retrollamada para la lectura, la escritura y los estados de eventos</li><li><a href="#eventbufferevent.setpriority">EventBufferEvent::setPriority</a> — Asigna una prioridad para un búfer de eventos</li><li><a href="#eventbufferevent.settimeouts">EventBufferEvent::setTimeouts</a> — Define el modo de lectura y escritura para el tiempo de espera máximo de un búfer de eventos</li><li><a href="#eventbufferevent.setwatermark">EventBufferEvent::setWatermark</a> — Activa la lectura, y/o la escritura de las marcas de agua</li><li><a href="#eventbufferevent.sslerror">EventBufferEvent::sslError</a> — Devuelve el error OpenSSL más reciente reportado por el buffer de eventos</li><li><a href="#eventbufferevent.sslfilter">EventBufferEvent::sslFilter</a> — Crea un nuevo búfer de evento SSL, cuyos datos
   serán enviados a través de otro búfer de evento</li><li><a href="#eventbufferevent.sslgetcipherinfo">EventBufferEvent::sslGetCipherInfo</a> — Devuelve una descripción textual de un cipher</li><li><a href="#eventbufferevent.sslgetciphername">EventBufferEvent::sslGetCipherName</a> — Devuelve el nombre del cipher actual para la conexión SSL</li><li><a href="#eventbufferevent.sslgetcipherversion">EventBufferEvent::sslGetCipherVersion</a> — Devuelve la versión del cipher utilizado para la conexión SSL actual</li><li><a href="#eventbufferevent.sslgetprotocol">EventBufferEvent::sslGetProtocol</a> — Devuelve el nombre del protocolo utilizado para la conexión SSL actual</li><li><a href="#eventbufferevent.sslrenegotiate">EventBufferEvent::sslRenegotiate</a> — Solicita al búfer de eventos iniciar una renegociación SSL</li><li><a href="#eventbufferevent.sslsocket">EventBufferEvent::sslSocket</a> — Crea un nuevo buffer SSL cuyos datos serán enviados a través de un socket SSL</li><li><a href="#eventbufferevent.write">EventBufferEvent::write</a> — Añade datos a un buffer de evento de salida</li><li><a href="#eventbufferevent.writebuffer">EventBufferEvent::writeBuffer</a> — Añade el contenido entero de un buffer en un buffer de evento de salida</li></ul>
</div>

<hr>



 



<div id="eventbufferevent.about.callbacks" class="chapter"><hr>
 <h1 class="title">Acerca de las funciones de retrollamada del buffer de eventos</h1>

 <p class="para">
  Un objeto de la clase <span class="classname"><a href="#class.eventbufferevent" class="classname">EventBufferEvent</a></span>
  representa un <em>buffer de eventos</em>.
  La naturaleza asíncrona de I/O realizada por Libevent implica que un socket
  (o cualquier otro tipo de descriptor de ficheros) no siempre está disponible. Event invoca las funciones de retrollamada correspondientes cuando
  el recurso se vuelve disponible para una lectura o una escritura,
  o cuando ocurren eventos (i.e. un error, un fin de línea,
  etc.).
 </p>
 <p class="para">
  Las funciones de retrollamada de lectura y escritura deben corresponder
  al siguiente prototipo:
 </p>
 <div class="methodsynopsis dc-description">
  <span class="methodname"><strong>callback</strong></span>(<span class="methodparam">
   
   <span class="type"><a href="#class.eventbufferevent" class="type EventBufferEvent">EventBufferEvent</a></span> <code class="parameter">$bev</code>
   <span class="initializer"> = <strong><code><a href="#constant.null">null</a></code></strong></span>
  </span>, <span class="methodparam">
   
   <span class="type"><a href="#language.types.mixed" class="type mixed">mixed</a></span> <code class="parameter">$arg</code>
   <span class="initializer"> = <strong><code><a href="#constant.null">null</a></code></strong></span>
  </span>): <span class="type"><a href="language.types.void.html" class="type void">void</a></span></div>

 <p class="para">
  </p><dl>
   
    <dt>
     <code class="parameter">bev</code>
    </dt>
    <dd>
     <p class="para">
      Objeto <span class="classname"><a href="#class.eventbufferevent" class="classname">EventBufferEvent</a></span> asociado.
     </p>
    </dd>
   
   
    <dt>
     <code class="parameter">arg</code>
    </dt>
    <dd>
     <p class="para">
      Variable personalizada adjunta a todas las funciones de retrollamada
      a través del método <span class="methodname"><a href="#eventbufferevent.construct" class="methodname">EventBufferEvent::__construct()</a></span>
      o del método <span class="methodname"><a href="#eventbufferevent.setcallbacks" class="methodname">EventBufferEvent::setCallbacks()</a></span>.
     </p>
    </dd>
   
  </dl>
 
 <p class="para">
  Una función de retrollamada de evento debe corresponder al siguiente prototipo:
 </p>
 <div class="methodsynopsis dc-description">
  <span class="methodname"><strong>callback</strong></span>(<span class="methodparam">
   
   <span class="type"><a href="#class.eventbufferevent" class="type EventBufferEvent">EventBufferEvent</a></span> <code class="parameter">$bev</code>
   <span class="initializer"> = <strong><code><a href="#constant.null">null</a></code></strong></span>
  </span>, <span class="methodparam">
   
   <span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$events</code>
   <span class="initializer"> = 0</span>
  </span>, <span class="methodparam">
   
   <span class="type"><a href="#language.types.mixed" class="type mixed">mixed</a></span> <code class="parameter">$arg</code>
   <span class="initializer"> = <strong><code><a href="#constant.null">null</a></code></strong></span>
  </span>): <span class="type"><a href="language.types.void.html" class="type void">void</a></span></div>

 <p class="para">
  </p><dl>
   
    <dt>
     <code class="parameter">bev</code>
    </dt>
    <dd>
     <p class="para">
      Objeto <span class="classname"><a href="#class.eventbufferevent" class="classname">EventBufferEvent</a></span> asociado.
     </p>
    </dd>
   
   
    <dt>
     <code class="parameter">events</code>
    </dt>
    <dd>
     <p class="para">
      Máscara de bits de eventos:
      <strong><code><a href="#eventbufferevent.constants.reading">EventBufferEvent::READING</a></code></strong>,
      <strong><code><a href="#eventbufferevent.constants.writing">EventBufferEvent::WRITING</a></code></strong>,
      <strong><code><a href="#eventbufferevent.constants.eol">EventBufferEvent::EOL</a></code></strong>,
      <strong><code><a href="#eventbufferevent.constants.error">EventBufferEvent::ERROR</a></code></strong> y
      <strong><code><a href="#eventbufferevent.constants.timeout">EventBufferEvent::TIMEOUT</a></code></strong>. Ver las
      <a href="#eventbufferevent.constants" class="link">constantes EventBufferEvent</a>.
     </p>
    </dd>
   
   
    <dt>
     <code class="parameter">arg</code>
    </dt>
    <dd>
     <p class="para">
      Variable personalizada adjunta a todas las funciones de retrollamada a través
      del método <span class="methodname"><a href="#eventbufferevent.construct" class="methodname">EventBufferEvent::__construct()</a></span> o
      del método <span class="methodname"><a href="#eventbufferevent.setcallbacks" class="methodname">EventBufferEvent::setCallbacks()</a></span>.
     </p>
    </dd>
   
  </dl>
 
</div>

<hr>



 



<div id="class.eventconfig" class="reference"><hr>
 <h1 class="title">La clase EventConfig</h1>
 
 <div class="partintro"><p class="verinfo">(PECL event &gt;= 1.2.6-beta)</p>

  <div class="section" id="eventconfig.intro">
   <h2 class="title">Introducción</h2>
   <p class="para">
    Representa la estructura de configuración que puede ser utilizada
    en la construcción de la clase <span class="classname"><a href="#class.eventbase" class="classname">EventBase</a></span>.
   </p>
  </div>

  <div class="section" id="eventconfig.synopsis">
   <h2 class="title">Sinopsis de la Clase</h2>


   <div class="classsynopsis">
    <span class="ooclass">
     <strong class="classname"></strong>
    </span>

    <div class="classsynopsisinfo">
     <span class="ooclass">
      <span class="modifier">final</span>
      <span class="modifier">class</span> <strong class="classname">EventConfig</strong>
     </span>
     {</div>

    <div class="classsynopsisinfo classsynopsisinfo_comment">/* Constantes */</div>
    <div class="fieldsynopsis">
     <span class="modifier">const</span>
     <span class="type"><a href="#language.types.integer" class="type int">int</a></span>
      <var class="fieldsynopsis_varname"><a href="#eventconfig.constants.feature-et"><var class="varname">FEATURE_ET</var></a></var><span class="initializer"> = 1</span>;</div>

    <div class="fieldsynopsis"><span class="modifier">const</span>
     <span class="type"><a href="#language.types.integer" class="type int">int</a></span>
      <var class="fieldsynopsis_varname"><a href="#eventconfig.constants.feature-o1"><var class="varname">FEATURE_O1</var></a></var><span class="initializer"> = 2</span>;</div>

    <div class="fieldsynopsis"><span class="modifier">const</span>
     <span class="type"><a href="#language.types.integer" class="type int">int</a></span>
      <var class="fieldsynopsis_varname"><a href="#eventconfig.constants.feature-fds"><var class="varname">FEATURE_FDS</var></a></var><span class="initializer"> = 4</span>;</div>

    <div class="classsynopsisinfo classsynopsisinfo_comment">/* Métodos */</div>
    <div class="methodsynopsis dc-description">
   <span class="modifier">public</span>
   <span class="methodname"><a href="#eventconfig.avoidmethod" class="methodname">avoidMethod</a></span>(<span class="methodparam">
    
    <span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$method</code>
   </span>): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span>
   <span class="methodname"><a href="#eventconfig.construct" class="methodname">__construct</a></span>()</div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span>
   <span class="methodname"><a href="#eventconfig.requirefeatures" class="methodname">requireFeatures</a></span>(<span class="methodparam">
    
    <span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$feature</code>
   </span>): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span>
   <span class="methodname"><a href="#eventconfig.setflags" class="methodname">setFlags</a></span>(<span class="methodparam">
    
    <span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$flags</code>
   </span>): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span>
   <span class="methodname"><a href="#eventconfig.setmaxdispatchinterval" class="methodname">setMaxDispatchInterval</a></span>(<span class="methodparam">
    
    <span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$max_interval</code>
   </span>, <span class="methodparam">
    
    <span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$max_callbacks</code>
   </span>, <span class="methodparam">
    
    <span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$min_priority</code>
   </span>): <span class="type"><a href="language.types.void.html" class="type void">void</a></span></div>

   }</div>

  </div>

  <div class="section" id="eventconfig.constants">
   <h2 class="title">Constantes predefinidas</h2>
   <dl>
    
     <dt id="eventconfig.constants.feature-et">
      <strong><code><a href="#eventconfig.constants.feature-et">EventConfig::FEATURE_ET</a></code></strong>
     </dt>
     <dd>
      <p class="para">
       Requiere un método del backend que soporte las I/O edge-triggered.
      </p>
     </dd>
    
    
     <dt id="eventconfig.constants.feature-o1">
      <strong><code><a href="#eventconfig.constants.feature-o1">EventConfig::FEATURE_O1</a></code></strong>
     </dt>
     <dd>
      <p class="para">
       Requiere un método del backend donde añadir o eliminar un solo evento,
       o tener un solo evento que se vuelve activo.
      </p>
     </dd>
    
    
     <dt id="eventconfig.constants.feature-fds">
      <strong><code><a href="#eventconfig.constants.feature-fds">EventConfig::FEATURE_FDS</a></code></strong>
     </dt>
     <dd>
      <p class="para">
       Requiere un método del backend que puede soportar tipos de
       descriptor de fichero arbitrario, y no solo sockets.
      </p>
     </dd>
    
   </dl>
  </div>

 </div>

 



<div id="eventconfig.avoidmethod" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">EventConfig::avoidMethod</h1>
  <p class="verinfo">(PECL event &gt;= 1.2.6-beta)</p><p class="refpurpose"><span class="refname">EventConfig::avoidMethod</span> — <span class="dc-title">Solicita a libevent que ignore un método de evento específico</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-eventconfig.avoidmethod-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span>
   <span class="methodname"><strong>EventConfig::avoidMethod</strong></span>(<span class="methodparam">
    
    <span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$method</code>
   </span>): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>

  <p class="para rdfs-comment">
   Solicita a libevent que ignore un método de evento específico.
   Ver la
   <a href="http://www.wangafu.net/~nickm/libevent-book/Ref2_eventbase.html#_creating_an_event_base" class="link external">» creación
   de un evento de base</a>.
  </p>
 </div>

 <div class="refsect1 parameters" id="refsect1-eventconfig.avoidmethod-parameters">
  <h3 class="title">Parámetros</h3>
  <dl>
   
    <dt>
     <code class="parameter">method</code>
    </dt>
    <dd>
     <p class="para">
      El método a ignorar. Ver
      <a href="#eventconfig.constants" class="link">las constantes EventConfig</a>.
     </p>
    </dd>
   
  </dl>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-eventconfig.avoidmethod-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Esta función retorna <strong><code><a href="#constant.true">true</a></code></strong> en caso de éxito o <strong><code><a href="#constant.false">false</a></code></strong> si ocurre un error.
  </p>
 </div>

 <div class="refsect1 examples" id="refsect1-eventconfig.avoidmethod-examples">
  <h3 class="title">Ejemplos</h3>
  <div class="example" id="example-4547">
   <p><strong>Ejemplo #1 Ejemplo con <span class="function"><strong>EventConfig::avoidMethod()</strong></span></strong></p>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br>$cfg </span><span style="color: #007700">= new </span><span style="color: #0000BB">EventConfig</span><span style="color: #007700">();<br>if (</span><span style="color: #0000BB">$cfg</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">avoidMethod</span><span style="color: #007700">(</span><span style="color: #DD0000">"select"</span><span style="color: #007700">)) {<br>    echo </span><span style="color: #DD0000">"Método 'select' ignorado\n"</span><span style="color: #007700">;<br>}<br></span><span style="color: #0000BB">?&gt;</span></span></code></div>
   </div>

  </div>
 </div>

 <div class="refsect1 seealso" id="refsect1-eventconfig.avoidmethod-seealso">
  <h3 class="title">Ver también</h3>
  <ul class="simplelist">
   <li>
    <span class="methodname"><a href="#eventbase.construct" class="methodname" rel="rdfs-seeAlso">EventBase::__construct()</a> - Construye un objeto EventBase</span>
   </li>
  </ul>
 </div>

</div>
<hr>








<div id="eventconfig.construct" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">EventConfig::__construct</h1>
  <p class="verinfo">(PECL event &gt;= 1.2.6-beta)</p><p class="refpurpose"><span class="refname">EventConfig::__construct</span> — <span class="dc-title">Construye un objeto EventConfig</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-eventconfig.construct-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span>
   <span class="methodname"><strong>EventConfig::__construct</strong></span>()</div>

  <p class="para rdfs-comment">
   Construye un objeto EventConfig que podrá ser pasado
   al constructor <span class="methodname"><a href="#eventbase.construct" class="methodname">EventBase::__construct()</a></span>.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-eventconfig.construct-parameters">
  <h3 class="title">Parámetros</h3>
  <p class="para">Esta función no contiene ningún parámetro.</p>
 </div>

 <div class="refsect1 examples" id="refsect1-eventconfig.construct-examples">
  <h3 class="title">Ejemplos</h3>
  <div class="example" id="example-4548">
   <p><strong>Ejemplo #1 Ejemplo con <span class="function"><strong>EventConfig::__construct()</strong></span></strong></p>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br></span><span style="color: #FF8000">// Se ignora el método "select"<br></span><span style="color: #0000BB">$cfg </span><span style="color: #007700">= new </span><span style="color: #0000BB">EventConfig</span><span style="color: #007700">();<br>if (</span><span style="color: #0000BB">$cfg</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">avoidMethod</span><span style="color: #007700">(</span><span style="color: #DD0000">"select"</span><span style="color: #007700">)) {<br>    echo </span><span style="color: #DD0000">"Método 'select' ignorado\n"</span><span style="color: #007700">;<br>}<br><br></span><span style="color: #FF8000">// Crea un event_base asociado con la configuración<br></span><span style="color: #0000BB">$base </span><span style="color: #007700">= new </span><span style="color: #0000BB">EventBase</span><span style="color: #007700">(</span><span style="color: #0000BB">$cfg</span><span style="color: #007700">);<br><br></span><span style="color: #FF8000">/* Ahora, $base está configurado para ignorar el método select */<br></span><span style="color: #0000BB">?&gt;</span></span></code></div>
   </div>

  </div>
 </div>


 <div class="refsect1 seealso" id="refsect1-eventconfig.construct-seealso">
  <h3 class="title">Ver también</h3>
  <ul class="simplelist">
   <li>
    <span class="methodname"><a href="#eventbase.construct" class="methodname" rel="rdfs-seeAlso">EventBase::__construct()</a> - Construye un objeto EventBase</span>
   </li>
  </ul>
 </div>

</div>
<hr>








<div id="eventconfig.requirefeatures" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">EventConfig::requireFeatures</h1>
  <p class="verinfo">(PECL event &gt;= 1.2.6-beta)</p><p class="refpurpose"><span class="refname">EventConfig::requireFeatures</span> — <span class="dc-title">Ingresa una funcionalidad de método de evento solicitada por la aplicación</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-eventconfig.requirefeatures-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span>
   <span class="methodname"><strong>EventConfig::requireFeatures</strong></span>(<span class="methodparam">
    
    <span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$feature</code>
   </span>): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>

  <p class="para rdfs-comment">
   Ingresa una funcionalidad de método de evento solicitada
   por la aplicación.
  </p>
 </div>

 <div class="refsect1 parameters" id="refsect1-eventconfig.requirefeatures-parameters">
  <h3 class="title">Parámetros</h3>
  <dl>
   
    <dt>
     <code class="parameter">feature</code>
    </dt>
    <dd>
     <p class="para">
      Máscara de funcionalidades solicitadas. Ver las constantes
      <a href="#eventconfig.constants" class="link"><code class="literal">EventConfig::FEATURE_*</code></a>.
     </p>
    </dd>
   
  </dl>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-eventconfig.requirefeatures-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Esta función retorna <strong><code><a href="#constant.true">true</a></code></strong> en caso de éxito o <strong><code><a href="#constant.false">false</a></code></strong> si ocurre un error.
  </p>
 </div>

 <div class="refsect1 examples" id="refsect1-eventconfig.requirefeatures-examples">
  <h3 class="title">Ejemplos</h3>
  <div class="example" id="example-4549">
   <p><strong>Ejemplo #1 Ejemplo con <span class="function"><strong>EventConfig::requireFeatures()</strong></span></strong></p>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br>$cfg </span><span style="color: #007700">= new </span><span style="color: #0000BB">EventConfig</span><span style="color: #007700">();<br><br></span><span style="color: #FF8000">// Crea un event_base asociado con la configuración<br></span><span style="color: #0000BB">$base </span><span style="color: #007700">= new </span><span style="color: #0000BB">EventBase</span><span style="color: #007700">(</span><span style="color: #0000BB">$cfg</span><span style="color: #007700">);<br><br></span><span style="color: #FF8000">// Solicitud de la funcionalidad FDS<br></span><span style="color: #007700">if (</span><span style="color: #0000BB">$cfg</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">requireFeatures</span><span style="color: #007700">(</span><span style="color: #0000BB">EventConfig</span><span style="color: #007700">::</span><span style="color: #0000BB">FEATURE_FDS</span><span style="color: #007700">)) {<br>    echo </span><span style="color: #DD0000">"funcionalidad FDS solicitada\n"</span><span style="color: #007700">;<br><br>    </span><span style="color: #0000BB">$base </span><span style="color: #007700">= new </span><span style="color: #0000BB">EventBase</span><span style="color: #007700">(</span><span style="color: #0000BB">$cfg</span><span style="color: #007700">);<br>    (</span><span style="color: #0000BB">$base</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getFeatures</span><span style="color: #007700">() &amp; </span><span style="color: #0000BB">EventConfig</span><span style="color: #007700">::</span><span style="color: #0000BB">FEATURE_FDS</span><span style="color: #007700">)<br>        and print </span><span style="color: #DD0000">"FDS - tipos arbitrarios de descriptor de fichero y no solo sockets\n"</span><span style="color: #007700">;<br>}<br></span><span style="color: #0000BB">?&gt;</span></span></code></div>
   </div>

   <div class="example-contents"><p>Resultado del ejemplo anterior es similar a:</p></div>
   <div class="example-contents screen">
<div class="examplescode"><pre class="examplescode">funcionalidad FDS solicitada
FDS - tipos arbitrarios de descriptor de fichero y no solo sockets</pre>
</div>
   </div>
  </div>
 </div>

 <div class="refsect1 seealso" id="refsect1-eventconfig.requirefeatures-seealso">
  <h3 class="title">Ver también</h3>
  <ul class="simplelist">
   <li>
    <span class="methodname"><a href="#eventbase.getfeatures" class="methodname" rel="rdfs-seeAlso">EventBase::getFeatures()</a> - Devuelve una máscara de las funcionalidades soportadas</span>
   </li>
  </ul>
 </div>

</div>
<hr>






<div id="eventconfig.setflags" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">EventConfig::setFlags</h1>
  <p class="verinfo">(PECL event &gt;= 2.0.2-alpha)</p><p class="refpurpose"><span class="refname">EventConfig::setFlags</span> — <span class="dc-title">Define uno o varios flags para configurar la inicialización eventual de EventBase</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-eventconfig.setflags-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span>
   <span class="methodname"><strong>EventConfig::setFlags</strong></span>(<span class="methodparam">
    
    <span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$flags</code>
   </span>): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>

  <p class="para rdfs-comment">
   Define uno o varios flags para configurar las partes de la inicialización eventual de EventBase que serán inicializadas, y cómo funcionarán.
  </p>
 </div>

 <div class="refsect1 parameters" id="refsect1-eventconfig.setflags-parameters">
  <h3 class="title">Parámetros</h3>
  <dl>
   
    <dt>
     <code class="parameter">flags</code>
    </dt>
    <dd>
     <p class="para">
      Una de las constantes <code class="literal">EventBase::LOOP_*</code>. Ver <a href="#eventbase.constants" class="link">constantes de EventBase</a>.
     </p>
    </dd>
   
  </dl>
 </div>

<div class="refsect1 returnvalues" id="refsect1-eventconfig.setflags-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Esta función retorna <strong><code><a href="#constant.true">true</a></code></strong> en caso de éxito o <strong><code><a href="#constant.false">false</a></code></strong> si ocurre un error.
  </p>
 </div>

 <div class="refsect1 seealso" id="refsect1-eventconfig.setflags-seealso">
  <h3 class="title">Ver también</h3>
  <ul class="simplelist">
   <li>
    <span class="methodname"><a href="#eventbase.getfeatures" class="methodname" rel="rdfs-seeAlso">EventBase::getFeatures()</a> - Devuelve una máscara de las funcionalidades soportadas</span>
   </li>
  </ul>
 </div>

</div>
<hr>







<div id="eventconfig.setmaxdispatchinterval" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">EventConfig::setMaxDispatchInterval</h1>
  <p class="verinfo">(PECL event &gt;= 2.1.0-alpha)</p><p class="refpurpose"><span class="refname">EventConfig::setMaxDispatchInterval</span> — <span class="dc-title">Evita la inversión de prioridades</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-eventconfig.setmaxdispatchinterval-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span>
   <span class="methodname"><strong>EventConfig::setMaxDispatchInterval</strong></span>(<span class="methodparam">
    
    <span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$max_interval</code>
   </span>, <span class="methodparam">
    
    <span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$max_callbacks</code>
   </span>, <span class="methodparam">
    
    <span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$min_priority</code>
   </span>): <span class="type"><a href="language.types.void.html" class="type void">void</a></span></div>

  <p class="para rdfs-comment">
   Evita la inversión de prioridades limitando el número de funciones de retrollamada de eventos de baja prioridad que pueden ser invocadas antes de verificar la presencia de eventos de alta prioridad.
  </p>
  <blockquote class="note"><p><strong class="note">Nota</strong>: 
   </p><p class="para">
    Disponible a partir de <code class="literal">libevent 2.1.0-alpha</code>.
   </p>
  </blockquote>
 </div>

 <div class="refsect1 parameters" id="refsect1-eventconfig.setmaxdispatchinterval-parameters">
  <h3 class="title">Parámetros</h3>
  <dl>
   
    <dt>
     <code class="parameter">max_interval</code>
    </dt>
    <dd>
     <p class="para">
      Un intervalo después del cual Libevent detendrá la ejecución de las funciones de retrollamada y verificará la presencia de otros eventos, o <code class="literal">0</code> si no debe haber tal intervalo.
     </p>
    </dd>
   
   
    <dt>
     <code class="parameter">max_callbacks</code>
    </dt>
    <dd>
     <p class="para">
      Un número de funciones de retrollamada después del cual Libevent debe detener la ejecución de las funciones de retrollamada y verificar la presencia de otros eventos, o <strong><code><a href="#constant.-1">-1</a></code></strong> si no debe haber tal límite.
     </p>
    </dd>
   
   
    <dt>
     <code class="parameter">min_priority</code>
    </dt>
    <dd>
     <p class="para">
      Una prioridad por debajo de la cual <code class="parameter">max_interval</code> y <code class="parameter">max_callbacks</code> no deben ser tomados en cuenta. Si se define a <code class="literal">0</code>, serán tomados en cuenta para los eventos de cualquier prioridad; si se define a <code class="literal">1</code>, serán tomados en cuenta para los eventos de prioridad <code class="literal">1</code> y así sucesivamente.
     </p>
    </dd>
   
  </dl>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-eventconfig.setmaxdispatchinterval-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Esta función retorna <strong><code><a href="#constant.true">true</a></code></strong> en caso de éxito o <strong><code><a href="#constant.false">false</a></code></strong> si ocurre un error.
  </p>
 </div>

</div>
<hr>




<h2>Tabla de contenidos</h2><ul class="chunklist chunklist_reference"><li><a href="#eventconfig.avoidmethod">EventConfig::avoidMethod</a> — Solicita a libevent que ignore un método de evento específico</li><li><a href="#eventconfig.construct">EventConfig::__construct</a> — Construye un objeto EventConfig</li><li><a href="#eventconfig.requirefeatures">EventConfig::requireFeatures</a> — Ingresa una funcionalidad de método de evento solicitada por la aplicación</li><li><a href="#eventconfig.setflags">EventConfig::setFlags</a> — Define uno o varios flags para configurar la inicialización eventual de EventBase</li><li><a href="#eventconfig.setmaxdispatchinterval">EventConfig::setMaxDispatchInterval</a> — Evita la inversión de prioridades</li></ul>
</div>

<hr>



 




<div id="class.eventdnsbase" class="reference"><hr>
 <h1 class="title">La clase EventDnsBase</h1>
 
 <div class="partintro"><p class="verinfo">(PECL event &gt;= 1.2.6-beta)</p>

  <div class="section" id="eventdnsbase.intro">
   <h2 class="title">Introducción</h2>
   <p class="para">
    Representa la estructura base DNS de Libevent. Utilizada para
    resolver DNS de forma asíncrona, para analizar ficheros
    de configuración como resolv.conf etc.
   </p>
  </div>

  <div class="section" id="eventdnsbase.synopsis">
   <h2 class="title">Sinopsis de la Clase</h2>


   <div class="classsynopsis">
    <span class="ooclass">
     <strong class="classname"></strong>
    </span>

    <div class="classsynopsisinfo">
     <span class="ooclass">
      <span class="modifier">final</span>
      <span class="modifier">class</span> <strong class="classname">EventDnsBase</strong>
     </span>
     {</div>

    <div class="classsynopsisinfo classsynopsisinfo_comment">/* Constantes */</div>
    <div class="fieldsynopsis">
     <span class="modifier">const</span>
     <span class="type"><a href="#language.types.integer" class="type int">int</a></span>
      <var class="fieldsynopsis_varname"><a href="#eventdnsbase.constants.option-search"><var class="varname">OPTION_SEARCH</var></a></var><span class="initializer"> = 1</span>;</div>

    <div class="fieldsynopsis"><span class="modifier">const</span>
     <span class="type"><a href="#language.types.integer" class="type int">int</a></span>
      <var class="fieldsynopsis_varname"><a href="#eventdnsbase.constants.option-nameservers"><var class="varname">OPTION_NAMESERVERS</var></a></var><span class="initializer"> = 2</span>;</div>

    <div class="fieldsynopsis"><span class="modifier">const</span>
     <span class="type"><a href="#language.types.integer" class="type int">int</a></span>
      <var class="fieldsynopsis_varname"><a href="#eventdnsbase.constants.option-misc"><var class="varname">OPTION_MISC</var></a></var><span class="initializer"> = 4</span>;</div>

    <div class="fieldsynopsis"><span class="modifier">const</span>
     <span class="type"><a href="#language.types.integer" class="type int">int</a></span>
      <var class="fieldsynopsis_varname"><a href="#eventdnsbase.constants.option-hostsfile"><var class="varname">OPTION_HOSTSFILE</var></a></var><span class="initializer"> = 8</span>;</div>

    <div class="fieldsynopsis"><span class="modifier">const</span>
     <span class="type"><a href="#language.types.integer" class="type int">int</a></span>
      <var class="fieldsynopsis_varname"><a href="#eventdnsbase.constants.options-all"><var class="varname">OPTIONS_ALL</var></a></var><span class="initializer"> = 15</span>;</div>

    <div class="fieldsynopsis"><span class="modifier">const</span>
     <span class="type"><a href="#language.types.integer" class="type int">int</a></span>
      <var class="fieldsynopsis_varname"><a href="#eventdnsbase.constants.disable-when-inactive"><var class="varname">DISABLE_WHEN_INACTIVE</var></a></var><span class="initializer"> = 32768</span>;</div>

    <div class="fieldsynopsis"><span class="modifier">const</span>
     <span class="type"><a href="#language.types.integer" class="type int">int</a></span>
      <var class="fieldsynopsis_varname"><a href="#eventdnsbase.constants.initialize-nameservers"><var class="varname">INITIALIZE_NAMESERVERS</var></a></var><span class="initializer"> = 1</span>;</div>

    <div class="fieldsynopsis"><span class="modifier">const</span>
     <span class="type"><a href="#language.types.integer" class="type int">int</a></span>
      <var class="fieldsynopsis_varname"><a href="#eventdnsbase.constants.nameservers-no-default"><var class="varname">NAMESERVERS_NO_DEFAULT</var></a></var><span class="initializer"> = 65536</span>;</div>

    <div class="classsynopsisinfo classsynopsisinfo_comment">/* Métodos */</div>
    <div class="constructorsynopsis dc-description">
   <span class="modifier">public</span>
   <span class="methodname"><a href="#eventdnsbase.construct" class="methodname">__construct</a></span>(<span class="methodparam">
    
    <span class="type"><a href="#class.eventbase" class="type EventBase">EventBase</a></span> <code class="parameter">$base</code>
   </span>, <span class="methodparam">
    
    <span class="type"><span class="type"><a href="#language.types.integer" class="type int">int</a></span>|<span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></span> <code class="parameter">$initialize</code>
   </span>)</div>

    <div class="methodsynopsis dc-description"><span class="modifier">public</span>
   <span class="methodname"><a href="#eventdnsbase.addnameserverip" class="methodname">addNameserverIp</a></span>(<span class="methodparam">
    
    <span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$ip</code>
   </span>): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span>
   <span class="methodname"><a href="#eventdnsbase.addsearch" class="methodname">addSearch</a></span>(<span class="methodparam">
    
    <span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$domain</code>
   </span>): <span class="type"><a href="language.types.void.html" class="type void">void</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span>
   <span class="methodname"><a href="#eventdnsbase.clearsearch" class="methodname">clearSearch</a></span>(): <span class="type"><a href="language.types.void.html" class="type void">void</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span>
   <span class="methodname"><a href="#eventdnsbase.countnameservers" class="methodname">countNameservers</a></span>(): <span class="type"><a href="#language.types.integer" class="type int">int</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span>
   <span class="methodname"><a href="#eventdnsbase.loadhosts" class="methodname">loadHosts</a></span>(<span class="methodparam">
    
    <span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$hosts</code>
   </span>): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span>
   <span class="methodname"><a href="#eventdnsbase.parseresolvconf" class="methodname">parseResolvConf</a></span>(<span class="methodparam">
    
    <span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$flags</code>
   </span>, <span class="methodparam">
    
    <span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$filename</code>
   </span>): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span>
   <span class="methodname"><a href="#eventdnsbase.setoption" class="methodname">setOption</a></span>(<span class="methodparam">
    
    <span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$option</code>
   </span>, <span class="methodparam">
    
    <span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$value</code>
   </span>): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span>
   <span class="methodname"><a href="#eventdnsbase.setsearchndots" class="methodname">setSearchNdots</a></span>(<span class="methodparam">
    
    <span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$ndots</code>
   </span>): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>

   }</div>
   
  </div>

  <div class="section" id="eventdnsbase.constants">
   <h2 class="title">Constantes predefinidas</h2>
   <dl>
    
     <dt id="eventdnsbase.constants.option-search">
      <strong><code><a href="#eventdnsbase.constants.option-search">EventDnsBase::OPTION_SEARCH</a></code></strong>
     </dt>
     <dd>
      <p class="para">
       Solicita leer el dominio y buscar los campos desde el
       fichero <code class="literal">resolv.conf</code> y la opción
       <code class="literal">ndots</code>, y los utiliza para decidir qué dominio
       (si lo hay) debe ser utilizado para buscar los nombres de hosts
       que no están totalmente cualificados.
      </p>
     </dd>
    
    
     <dt id="eventdnsbase.constants.option-nameservers">
      <strong><code><a href="#eventdnsbase.constants.option-nameservers">EventDnsBase::OPTION_NAMESERVERS</a></code></strong>
     </dt>
     <dd>
      <p class="para">
       Solicita conocer los nombres de los servidores desde el fichero
       <code class="literal">resolv.conf</code>.
      </p>
     </dd>
    
    
     <dt id="eventdnsbase.constants.option-misc">
      <strong><code><a href="#eventdnsbase.constants.option-misc">EventDnsBase::OPTION_MISC</a></code></strong>
     </dt>
     <dd>
      <p class="para"></p>
     </dd>
    
    
     <dt id="eventdnsbase.constants.option-hostsfile">
      <strong><code><a href="#eventdnsbase.constants.option-hostsfile">EventDnsBase::OPTION_HOSTSFILE</a></code></strong>
     </dt>
     <dd>
      <p class="para">
       Solicita leer una lista de hosts desde el fichero
       <code class="literal">/etc/hosts</code> como parte de la
       carga del fichero <code class="literal">resolv.conf</code>.
      </p>
     </dd>
    
    
     <dt id="eventdnsbase.constants.options-all">
      <strong><code><a href="#eventdnsbase.constants.options-all">EventDnsBase::OPTIONS_ALL</a></code></strong>
     </dt>
     <dd>
      <p class="para">
       Solicita conocer todo el contenido del fichero
       <code class="literal">resolv.conf</code>.
      </p>
     </dd>
    
    
     <dt id="eventdnsbase.constants.disable-when-inactive">
      <strong><code><a href="#eventdnsbase.constants.disable-when-inactive">EventDnsBase::DISABLE_WHEN_INACTIVE</a></code></strong>
     </dt>
     <dd>
      <p class="para">
       No impide que el bucle de eventos de libevent termine cuando no se tienen peticiones DNS activas.
      </p>
     </dd>
    
    
     <dt id="eventdnsbase.constants.initialize-nameservers">
      <strong><code><a href="#eventdnsbase.constants.initialize-nameservers">EventDnsBase::INITIALIZE_NAMESERVERS</a></code></strong>
     </dt>
     <dd>
      <p class="para">
       Procesar el fichero <code class="literal">resolv.conf</code>.
      </p>
     </dd>
    
    
     <dt id="eventdnsbase.constants.nameservers-no-default">
      <strong><code><a href="#eventdnsbase.constants.nameservers-no-default">EventDnsBase::NAMESERVERS_NO_DEFAULT</a></code></strong>
     </dt>
     <dd>
      <p class="para">
       No añadir un servidor de nombres por omisión si no hay servidores de nombres en el fichero <code class="literal">resolv.conf</code>.
      </p>
     </dd>
    
   </dl>
  </div>

 </div>

 




<div id="eventdnsbase.addnameserverip" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">EventDnsBase::addNameserverIp</h1>
  <p class="verinfo">(PECL event &gt;= 1.2.6-beta)</p><p class="refpurpose"><span class="refname">EventDnsBase::addNameserverIp</span> — <span class="dc-title">Añade un servidor de nombres a la base DNS</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-eventdnsbase.addnameserverip-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span>
   <span class="methodname"><strong>EventDnsBase::addNameserverIp</strong></span>(<span class="methodparam">
    
    <span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$ip</code>
   </span>): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>

  <p class="para rdfs-comment">
   Añade un servidor de nombres a evdns_base.
  </p>
 </div>

 <div class="refsect1 parameters" id="refsect1-eventdnsbase.addnameserverip-parameters">
  <h3 class="title">Parámetros</h3>
  <dl>
   
    <dt>
     <code class="parameter">ip</code>
    </dt>
    <dd>
     <p class="para">
      El string que representa el servidor de nombres; puede ser una dirección
      IPv4, una dirección IPv6, una dirección IPv4 con un puerto
      (<code class="literal">IPv4:Port</code>), o una dirección IPv6 con un
      puerto (<code class="literal">[IPv6]:Port</code>).
     </p>
    </dd>
   
  </dl>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-eventdnsbase.addnameserverip-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Esta función retorna <strong><code><a href="#constant.true">true</a></code></strong> en caso de éxito o <strong><code><a href="#constant.false">false</a></code></strong> si ocurre un error.
  </p>
 </div>

</div>
<hr>








<div id="eventdnsbase.addsearch" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">EventDnsBase::addSearch</h1>
  <p class="verinfo">(PECL event &gt;= 1.2.6-beta)</p><p class="refpurpose"><span class="refname">EventDnsBase::addSearch</span> — <span class="dc-title">Añade un dominio a la lista de dominios utilizados para la búsqueda</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-eventdnsbase.addsearch-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span>
   <span class="methodname"><strong>EventDnsBase::addSearch</strong></span>(<span class="methodparam">
    
    <span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$domain</code>
   </span>): <span class="type"><a href="language.types.void.html" class="type void">void</a></span></div>

  <p class="para rdfs-comment">
   Añade un dominio a la lista de dominios utilizados para la búsqueda.
  </p>
 </div>

 <div class="refsect1 parameters" id="refsect1-eventdnsbase.addsearch-parameters">
  <h3 class="title">Parámetros</h3>
  <dl>
   
    <dt>
     <code class="parameter">domain</code>
    </dt>
    <dd>
     <p class="para">
      El dominio a añadir para la búsqueda.
     </p>
    </dd>
   
  </dl>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-eventdnsbase.addsearch-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   No se retorna ningún valor.
  </p>
 </div>

</div>
<hr>








<div id="eventdnsbase.clearsearch" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">EventDnsBase::clearSearch</h1>
  <p class="verinfo">(PECL event &gt;= 1.2.6-beta)</p><p class="refpurpose"><span class="refname">EventDnsBase::clearSearch</span> — <span class="dc-title">Elimina todos los sufijos de búsqueda comunes</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-eventdnsbase.clearsearch-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span>
   <span class="methodname"><strong>EventDnsBase::clearSearch</strong></span>(): <span class="type"><a href="language.types.void.html" class="type void">void</a></span></div>

  <p class="para rdfs-comment">
   Elimina todos los sufijos de búsqueda comunes desde
   la base DNS; el método <span class="methodname"><a href="#eventdnsbase.addsearch" class="methodname">EventDnsBase::addSearch()</a></span>
   añade un sufijo.
  </p>
 </div>

 <div class="refsect1 parameters" id="refsect1-eventdnsbase.clearsearch-parameters">
  <h3 class="title">Parámetros</h3>
  <p class="para">Esta función no contiene ningún parámetro.</p>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-eventdnsbase.clearsearch-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   No se retorna ningún valor.
  </p>
 </div>

 <div class="refsect1 seealso" id="refsect1-eventdnsbase.clearsearch-seealso">
  <h3 class="title">Ver también</h3>
  <ul class="simplelist">
   <li>
    <span class="methodname"><a href="#eventdnsbase.addsearch" class="methodname" rel="rdfs-seeAlso">EventDnsBase::addSearch()</a> - Añade un dominio a la lista de dominios utilizados para la búsqueda</span>
   </li>
  </ul>
 </div>

</div>
<hr>








<div id="eventdnsbase.construct" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">EventDnsBase::__construct</h1>
  <p class="verinfo">(PECL event &gt;= 1.2.6-beta)</p><p class="refpurpose"><span class="refname">EventDnsBase::__construct</span> — <span class="dc-title">Construye un objeto EventDnsBase</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-eventdnsbase.construct-description">
  <h3 class="title">Descripción</h3>
  <div class="constructorsynopsis dc-description">
   <span class="modifier">public</span>
   <span class="methodname"><strong>EventDnsBase::__construct</strong></span>(<span class="methodparam">
    
    <span class="type"><a href="#class.eventbase" class="type EventBase">EventBase</a></span> <code class="parameter">$base</code>
   </span>, <span class="methodparam">
    
    <span class="type"><span class="type"><a href="#language.types.integer" class="type int">int</a></span>|<span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></span> <code class="parameter">$initialize</code>
   </span>)</div>

  <p class="para rdfs-comment">
   Construye un objeto EventDnsBase.
  </p>
 </div>

 <div class="refsect1 parameters" id="refsect1-eventdnsbase.construct-parameters">
  <h3 class="title">Parámetros</h3>
  <dl>
   
    <dt>
     <code class="parameter">base</code>
    </dt>
    <dd>
     <p class="para">
      Evento de base.
     </p>
    </dd>
   
   
    <dt>
     <code class="parameter">initialize</code>
    </dt>
    <dd>
     <p class="para">
      Si <code class="parameter">initialize</code> es <strong><code><a href="#constant.true">true</a></code></strong>, intenta utilizar los parámetros por defecto del sistema operativo subyacente para configurar adecuadamente la base DNS.
      Si es <strong><code><a href="#constant.false">false</a></code></strong>, la base DNS se deja sin configurar, sin servidores de nombres ni opciones definidas.
      En este último caso, la base DNS debe ser configurada manualmente, por ejemplo con el método <span class="methodname"><a href="#eventdnsbase.parseresolvconf" class="methodname">EventDnsBase::parseResolvConf()</a></span>.
     </p>
     <p class="para">
      Si <code class="parameter">initialize</code> es un entero, debe ser uno de los siguientes flags:
      </p><table class="doctable informaltable">
       
        <thead>
         <tr>
          <th>Flag</th>
          <th>Descripción</th>
         </tr>

        </thead>

        <tbody class="tbody">
         <tr>
          <td style="vertical-align: top;"><strong><code><a href="#eventdnsbase.constants.disable-when-inactive">EventDnsBase::DISABLE_WHEN_INACTIVE</a></code></strong></td>
          <td style="vertical-align: top;">
           No impide que el bucle de eventos de libevent termine cuando no haya solicitudes DNS activas.
          </td>
         </tr>

         <tr>
          <td style="vertical-align: top;"><strong><code><a href="#eventdnsbase.constants.initialize-nameservers">EventDnsBase::INITIALIZE_NAMESERVERS</a></code></strong></td>
          <td style="vertical-align: top;">
           Procesar el fichero <code class="literal">resolv.conf</code>.
          </td>
         </tr>

         <tr>
          <td style="vertical-align: top;"><strong><code><a href="#eventdnsbase.constants.nameservers-no-default">EventDnsBase::NAMESERVERS_NO_DEFAULT</a></code></strong></td>
          <td style="vertical-align: top;">
           No añadir servidores de nombres por defecto si no hay servidores de nombres en el fichero <code class="literal">resolv.conf</code>.
          </td>
         </tr>

        </tbody>
       
      </table>

     
    </dd>
   
  </dl>
 </div>

 <div class="refsect1 errors" id="refsect1-eventdnsbase.construct-errors">
  <h3 class="title">Errores/Excepciones</h3>
  <p class="para">
   Si <code class="parameter">initialize</code> tiene un tipo distinto de
   <span class="type"><span class="type"><a href="#language.types.integer" class="type int">int</a></span>|<span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></span>,
   se lanza una <span class="exceptionname"><a href="#class.typeerror" class="exceptionname">TypeError</a></span>.
  </p>
  <p class="para">
   Si el valor de <code class="parameter">initialize</code> es inválido,
   se lanza una <span class="exceptionname"><a href="#class.eventexception" class="exceptionname">EventException</a></span>.
  </p>
 </div>

 <div class="refsect1 changelog" id="refsect1-eventdnsbase.construct-changelog">
  <h3 class="title">Historial de cambios</h3>
  <p class="para">
   </p><table class="doctable informaltable">
    
     <thead>
      <tr>
       <th>Versión</th>
       <th>Descripción</th>
      </tr>

     </thead>

     <tbody class="tbody">
      <tr>
       <td>PECL event 3.1.3</td>
       <td>
        Si <code class="parameter">initialize</code> tiene un tipo distinto de
        <span class="type"><span class="type"><a href="#language.types.integer" class="type int">int</a></span>|<span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></span>,
        se lanza una <span class="exceptionname"><a href="#class.typeerror" class="exceptionname">TypeError</a></span>.
       </td>
      </tr>

      <tr>
       <td>PECL event 3.1.0RC1</td>
       <td>
        El tipo del parámetro <code class="parameter">initialize</code> ha sido cambiado de <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span>
        a <span class="type"><a href="#language.types.mixed" class="type mixed">mixed</a></span>. El valor puede ser <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span> (preservando el significado anterior)
        o una de las siguientes constantes:
        <strong><code><a href="#eventdnsbase.constants.disable-when-inactive">EventDnsBase::DISABLE_WHEN_INACTIVE</a></code></strong>,
        <strong><code><a href="#eventdnsbase.constants.initialize-nameservers">EventDnsBase::INITIALIZE_NAMESERVERS</a></code></strong>,
        o <strong><code><a href="#eventdnsbase.constants.nameservers-no-default">EventDnsBase::NAMESERVERS_NO_DEFAULT</a></code></strong>.
       </td>
      </tr>

     </tbody>
    
   </table>

  
 </div>

</div>
<hr>








<div id="eventdnsbase.countnameservers" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">EventDnsBase::countNameservers</h1>
  <p class="verinfo">(PECL event &gt;= 1.2.6-beta)</p><p class="refpurpose"><span class="refname">EventDnsBase::countNameservers</span> — <span class="dc-title">Recupera el número de servidores de nombres configurados</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-eventdnsbase.countnameservers-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span>
   <span class="methodname"><strong>EventDnsBase::countNameservers</strong></span>(): <span class="type"><a href="#language.types.integer" class="type int">int</a></span></div>

  <p class="para rdfs-comment">
   Recupera el número de servidores de nombres configurados.
  </p>
 </div>

 <div class="refsect1 parameters" id="refsect1-eventdnsbase.countnameservers-parameters">
  <h3 class="title">Parámetros</h3>
  <p class="para">Esta función no contiene ningún parámetro.</p>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-eventdnsbase.countnameservers-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Devuelve el número de servidores de nombres configurados (no necesariamente
   el número de servidores de nombres en funcionamiento). Esto es útil
   para verificar si las llamadas a las diversas funciones de configuración
   de los servidores de nombres han tenido éxito o no.
  </p>
 </div>

</div>
<hr>







<div id="eventdnsbase.loadhosts" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">EventDnsBase::loadHosts</h1>
  <p class="verinfo">(PECL event &gt;= 1.2.6-beta)</p><p class="refpurpose"><span class="refname">EventDnsBase::loadHosts</span> — <span class="dc-title">Carga un fichero hosts (en el mismo formato que /etc/hosts)</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-eventdnsbase.loadhosts-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description"><span class="modifier">public</span>
   <span class="methodname"><strong>EventDnsBase::loadHosts</strong></span>(<span class="methodparam">
    
    <span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$hosts</code>
   </span>): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>

  <p class="para rdfs-comment">
   Carga un fichero hosts (en el mismo formato que /etc/hosts).
  </p>
 </div>

 <div class="refsect1 parameters" id="refsect1-eventdnsbase.loadhosts-parameters">
  <h3 class="title">Parámetros</h3>
  <dl>
   
    <dt>
     <code class="parameter">hosts</code>
    </dt>
    <dd>
     <p class="para">
      Ruta de acceso al fichero hosts.
     </p>
    </dd>
   
  </dl>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-eventdnsbase.loadhosts-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Esta función retorna <strong><code><a href="#constant.true">true</a></code></strong> en caso de éxito o <strong><code><a href="#constant.false">false</a></code></strong> si ocurre un error.
  </p>
 </div>

</div>
<hr>







<div id="eventdnsbase.parseresolvconf" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">EventDnsBase::parseResolvConf</h1>
  <p class="verinfo">(PECL event &gt;= 1.2.6-beta)</p><p class="refpurpose"><span class="refname">EventDnsBase::parseResolvConf</span> — <span class="dc-title">Analiza el fichero resolv.conf</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-eventdnsbase.parseresolvconf-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span>
   <span class="methodname"><strong>EventDnsBase::parseResolvConf</strong></span>(<span class="methodparam">
    
    <span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$flags</code>
   </span>, <span class="methodparam">
    
    <span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$filename</code>
   </span>): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>

  <p class="para rdfs-comment">
   Analiza el fichero resolv.conf y lee todas las opciones presentes.
  </p>
 </div>

 <div class="refsect1 parameters" id="refsect1-eventdnsbase.parseresolvconf-parameters">
  <h3 class="title">Parámetros</h3>
  <dl>
   
    <dt>
     <code class="parameter">flags</code>
    </dt>
    <dd>
     <p class="para">
      Determina la información a analizar desde el fichero
      <code class="literal">resolv.conf</code>. Ver la página del manual del sistema
      del fichero <code class="literal">resolv.conf</code> para conocer
      su formato.
     </p>
     <p class="para">
      Las siguientes directivas no son analizadas en el fichero:
      <code class="literal">sortlist, rotate, no-check-names, inet6, debug</code>.
     </p>
     <p class="para">
      Si esta función encuentra un error, los valores devueltos posibles
      son:
      </p><ul class="simplelist">
       <li>
        <code class="literal">1</code> = fallo al abrir el fichero</li>
       <li>
        <code class="literal">2</code> = fallo al recuperar la información del fichero</li>
       <li>
        <code class="literal">3</code> = fichero demasiado grande</li>
       <li>
        <code class="literal">4</code> = exceso de memoria</li>
       <li>
        <code class="literal">5</code> = lectura demasiado corta del fichero</li>
       <li>
        <code class="literal">6</code> = ningún servidor de nombres listado en el fichero</li>
      </ul>
     
    </dd>
   
   
    <dt>
     <code class="parameter">filename</code>
    </dt>
    <dd>
     <p class="para">
      Ruta hacia el fichero <code class="literal">resolv.conf</code>.
     </p>
    </dd>
   
  </dl>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-eventdnsbase.parseresolvconf-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Esta función retorna <strong><code><a href="#constant.true">true</a></code></strong> en caso de éxito o <strong><code><a href="#constant.false">false</a></code></strong> si ocurre un error.
  </p>
 </div>

</div>
<hr>







<div id="eventdnsbase.setoption" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">EventDnsBase::setOption</h1>
  <p class="verinfo">(PECL event &gt;= 1.2.6-beta)</p><p class="refpurpose"><span class="refname">EventDnsBase::setOption</span> — <span class="dc-title">Define el valor de una opción de configuración</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-eventdnsbase.setoption-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span>
   <span class="methodname"><strong>EventDnsBase::setOption</strong></span>(<span class="methodparam">
    
    <span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$option</code>
   </span>, <span class="methodparam">
    
    <span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$value</code>
   </span>): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>

  <p class="para rdfs-comment">
   Define el valor de una opción de configuración.
  </p>
 </div>

 <div class="refsect1 parameters" id="refsect1-eventdnsbase.setoption-parameters">
  <h3 class="title">Parámetros</h3>
  <dl>
   
    <dt>
     <code class="parameter">option</code>
    </dt>
    <dd>
     <p class="para">
      Las opciones de configuración actualmente disponibles son:
      <code class="literal">"ndots"</code>, <code class="literal">"timeout"</code>,
      <code class="literal">"max-timeouts"</code>, <code class="literal">"max-inflight"</code>
      y <code class="literal">"attempts"</code>.
     </p>
    </dd>
   
   
    <dt>
     <code class="parameter">value</code>
    </dt>
    <dd>
     <p class="para">
      El valor de la opción.
     </p>
    </dd>
   
  </dl>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-eventdnsbase.setoption-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Esta función retorna <strong><code><a href="#constant.true">true</a></code></strong> en caso de éxito o <strong><code><a href="#constant.false">false</a></code></strong> si ocurre un error.
  </p>
 </div>

</div>
<hr>








<div id="eventdnsbase.setsearchndots" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">EventDnsBase::setSearchNdots</h1>
  <p class="verinfo">(PECL event &gt;= 1.2.6-beta)</p><p class="refpurpose"><span class="refname">EventDnsBase::setSearchNdots</span> — <span class="dc-title">Define el parámetro 'ndots' para las búsquedas</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-eventdnsbase.setsearchndots-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span>
   <span class="methodname"><strong>EventDnsBase::setSearchNdots</strong></span>(<span class="methodparam">
    
    <span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$ndots</code>
   </span>): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>

  <p class="para rdfs-comment">
   Define el parámetro <code class="parameter">'ndots'</code> para las búsquedas.
   Define el número de puntos que, cuando se encuentran en un nombre,
   hace que la primera solicitud se realice sin búsqueda de dominio.
  </p>
 </div>

 <div class="refsect1 parameters" id="refsect1-eventdnsbase.setsearchndots-parameters">
  <h3 class="title">Parámetros</h3>
  <dl>
   
    <dt>
     <code class="parameter">ndots</code>
    </dt>
    <dd>
     <p class="para">
      El número de puntos.
     </p>
    </dd>
   
  </dl>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-eventdnsbase.setsearchndots-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Esta función retorna <strong><code><a href="#constant.true">true</a></code></strong> en caso de éxito o <strong><code><a href="#constant.false">false</a></code></strong> si ocurre un error.
  </p>
 </div>

</div>
<hr>




<h2>Tabla de contenidos</h2><ul class="chunklist chunklist_reference"><li><a href="#eventdnsbase.addnameserverip">EventDnsBase::addNameserverIp</a> — Añade un servidor de nombres a la base DNS</li><li><a href="#eventdnsbase.addsearch">EventDnsBase::addSearch</a> — Añade un dominio a la lista de dominios utilizados para la búsqueda</li><li><a href="#eventdnsbase.clearsearch">EventDnsBase::clearSearch</a> — Elimina todos los sufijos de búsqueda comunes</li><li><a href="#eventdnsbase.construct">EventDnsBase::__construct</a> — Construye un objeto EventDnsBase</li><li><a href="#eventdnsbase.countnameservers">EventDnsBase::countNameservers</a> — Recupera el número de servidores de nombres configurados</li><li><a href="#eventdnsbase.loadhosts">EventDnsBase::loadHosts</a> — Carga un fichero hosts (en el mismo formato que /etc/hosts)</li><li><a href="#eventdnsbase.parseresolvconf">EventDnsBase::parseResolvConf</a> — Analiza el fichero resolv.conf</li><li><a href="#eventdnsbase.setoption">EventDnsBase::setOption</a> — Define el valor de una opción de configuración</li><li><a href="#eventdnsbase.setsearchndots">EventDnsBase::setSearchNdots</a> — Define el parámetro 'ndots' para las búsquedas</li></ul>
</div>

<hr>



 




<div id="class.eventhttp" class="reference"><hr>
 <h1 class="title">La clase EventHttp</h1>
 
 <div class="partintro"><p class="verinfo">(PECL event &gt;= 1.4.0-beta)</p>

  <div class="section" id="eventhttp.intro">
   <h2 class="title">Introducción</h2>
   <p class="para">
    Representa el servidor HTTP.
   </p>
  </div>

  <div class="section" id="eventhttp.synopsis">
   <h2 class="title">Sinopsis de la Clase</h2>


   <div class="classsynopsis">
    <span class="ooclass">
     <strong class="classname"></strong>
    </span>

    <div class="classsynopsisinfo">
     <span class="ooclass">
      <span class="modifier">final</span>
      <span class="modifier">class</span> <strong class="classname">EventHttp</strong>
     </span>
     {</div>

    <div class="classsynopsisinfo classsynopsisinfo_comment">/* Métodos */</div>
    <div class="methodsynopsis dc-description">
   <span class="modifier">public</span>
   <span class="methodname"><a href="#eventhttp.accept" class="methodname">accept</a></span>(<span class="methodparam">
    
    <span class="type"><a href="#language.types.mixed" class="type mixed">mixed</a></span> <code class="parameter">$socket</code>
   </span>): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span>
   <span class="methodname"><a href="#eventhttp.addserveralias" class="methodname">addServerAlias</a></span>(<span class="methodparam">
    
    <span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$alias</code>
   </span>): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span>
   <span class="methodname"><a href="#eventhttp.bind" class="methodname">bind</a></span>(<span class="methodparam">
    
    <span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$address</code>
   </span>, <span class="methodparam">
    
    <span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$port</code>
   </span>): <span class="type"><a href="language.types.void.html" class="type void">void</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span>
   <span class="methodname"><a href="#eventhttp.construct" class="methodname">__construct</a></span>(<span class="methodparam">
    
    <span class="type"><a href="#class.eventbase" class="type EventBase">EventBase</a></span> <code class="parameter">$base</code>
   </span>, <span class="methodparam">
    
    <span class="type"><a href="#class.eventsslcontext" class="type EventSslContext">EventSslContext</a></span> <code class="parameter">$ctx</code>
    <span class="initializer"> = <strong><code><a href="#constant.null">null</a></code></strong></span>
   </span>)</div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span>
   <span class="methodname"><a href="#eventhttp.removeserveralias" class="methodname">removeServerAlias</a></span>(<span class="methodparam">
    
    <span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$alias</code>
   </span>): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span>
   <span class="methodname"><a href="#eventhttp.setallowedmethods" class="methodname">setAllowedMethods</a></span>(<span class="methodparam">
    
    <span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$methods</code>
   </span>): <span class="type"><a href="language.types.void.html" class="type void">void</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span>
   <span class="methodname"><a href="#eventhttp.setcallback" class="methodname">setCallback</a></span>(<span class="methodparam">
    
    <span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$path</code>
   </span>, <span class="methodparam">
    
    <span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$cb</code>
   </span>, <span class="methodparam">
    
    <span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$arg</code>
   <span class="initializer"> = ?</span></span>): <span class="type"><a href="language.types.void.html" class="type void">void</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span>
   <span class="methodname"><a href="#eventhttp.setdefaultcallback" class="methodname">setDefaultCallback</a></span>(<span class="methodparam">
    
    <span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$cb</code>
   </span>, <span class="methodparam">
    
    <span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$arg</code>
   <span class="initializer"> = ?</span></span>): <span class="type"><a href="language.types.void.html" class="type void">void</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span>
   <span class="methodname"><a href="#eventhttp.setmaxbodysize" class="methodname">setMaxBodySize</a></span>(<span class="methodparam">
    
    <span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$value</code>
   </span>): <span class="type"><a href="language.types.void.html" class="type void">void</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span>
   <span class="methodname"><a href="#eventhttp.setmaxheaderssize" class="methodname">setMaxHeadersSize</a></span>(<span class="methodparam">
    
    <span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$value</code>
   </span>): <span class="type"><a href="language.types.void.html" class="type void">void</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span>
   <span class="methodname"><a href="#eventhttp.settimeout" class="methodname">setTimeout</a></span>(<span class="methodparam">
    
    <span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$value</code>
   </span>): <span class="type"><a href="language.types.void.html" class="type void">void</a></span></div>

   }</div>

  </div>
 </div>

 



<div id="eventhttp.accept" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">EventHttp::accept</h1>
  <p class="verinfo">(PECL event &gt;= 1.2.6-beta)</p><p class="refpurpose"><span class="refname">EventHttp::accept</span> — <span class="dc-title">Permite a un servidor HTTP aceptar las conexiones en el
   socket o recurso especificado</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-eventhttp.accept-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span>
   <span class="methodname"><strong>EventHttp::accept</strong></span>(<span class="methodparam">
    
    <span class="type"><a href="#language.types.mixed" class="type mixed">mixed</a></span> <code class="parameter">$socket</code>
   </span>): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>

  <p class="para rdfs-comment">
   Permite a un servidor HTTP aceptar las conexiones en el
   socket o recurso especificado. El socket debe estar listo para
   aceptar las conexiones.
  </p>
  <p class="para">
   Puede ser llamado varias veces para aceptar las conexiones en
   diferentes sockets.
  </p>
  <blockquote class="note"><p><strong class="note">Nota</strong>: 
   </p><p class="para">
    Para enlazar un socket, una conexión <code class="literal">listen</code> y una conexión
    <code class="literal">accept</code>
    en el socket en una sola llamada, utilice el método
    <span class="methodname"><a href="#eventhttp.bind" class="methodname">EventHttp::bind()</a></span>.
    <span class="methodname"><strong>EventHttp::accept()</strong></span> solo es necesario si un socket
    está listo para aceptar las conexiones.
   </p>
  </blockquote>
 </div>

 <div class="refsect1 parameters" id="refsect1-eventhttp.accept-parameters">
  <h3 class="title">Parámetros</h3>
  <dl>
   
    <dt>
     <code class="parameter">socket</code>
    </dt>
    <dd>
     <p class="para">
      Socket, flujo, o descriptor numérico de fichero representando un socket
      listo para aceptar las conexiones.
     </p>
    </dd>
   
  </dl>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-eventhttp.accept-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Esta función retorna <strong><code><a href="#constant.true">true</a></code></strong> en caso de éxito o <strong><code><a href="#constant.false">false</a></code></strong> si ocurre un error.
  </p>
 </div>

 <div class="refsect1 examples" id="refsect1-eventhttp.accept-examples">
  <h3 class="title">Ejemplos</h3>
  <div class="example" id="example-4550">
   <p><strong>Ejemplo #1 Ejemplo con <span class="function"><strong>EventHttp::accept()</strong></span></strong></p>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br><br>$base </span><span style="color: #007700">= new </span><span style="color: #0000BB">EventBase</span><span style="color: #007700">();<br></span><span style="color: #0000BB">$http </span><span style="color: #007700">= new </span><span style="color: #0000BB">EventHttp</span><span style="color: #007700">(</span><span style="color: #0000BB">$base</span><span style="color: #007700">);<br><br></span><span style="color: #0000BB">$addresses </span><span style="color: #007700">= [<br>     </span><span style="color: #0000BB">8091 </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">"127.0.0.1"</span><span style="color: #007700">,<br>     </span><span style="color: #0000BB">8092 </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">"127.0.0.2"</span><span style="color: #007700">,<br>];<br></span><span style="color: #0000BB">$i </span><span style="color: #007700">= </span><span style="color: #0000BB">0</span><span style="color: #007700">;<br><br></span><span style="color: #0000BB">$socket </span><span style="color: #007700">= array();<br><br>foreach (</span><span style="color: #0000BB">$addresses </span><span style="color: #007700">as </span><span style="color: #0000BB">$port </span><span style="color: #007700">=&gt; </span><span style="color: #0000BB">$ip</span><span style="color: #007700">) {<br>    echo </span><span style="color: #0000BB">$ip</span><span style="color: #007700">, </span><span style="color: #DD0000">" "</span><span style="color: #007700">, </span><span style="color: #0000BB">$port</span><span style="color: #007700">, </span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br>    </span><span style="color: #0000BB">$socket</span><span style="color: #007700">[</span><span style="color: #0000BB">$i</span><span style="color: #007700">] = </span><span style="color: #0000BB">socket_create</span><span style="color: #007700">(</span><span style="color: #0000BB">AF_INET</span><span style="color: #007700">, </span><span style="color: #0000BB">SOCK_STREAM</span><span style="color: #007700">, </span><span style="color: #0000BB">SOL_TCP</span><span style="color: #007700">);<br>    if (!</span><span style="color: #0000BB">socket_bind</span><span style="color: #007700">(</span><span style="color: #0000BB">$socket</span><span style="color: #007700">[</span><span style="color: #0000BB">$i</span><span style="color: #007700">], </span><span style="color: #0000BB">$ip</span><span style="color: #007700">, </span><span style="color: #0000BB">$port</span><span style="color: #007700">)) {<br>        exit(</span><span style="color: #DD0000">"fallo de socket_bind\n"</span><span style="color: #007700">);<br>    }<br>    </span><span style="color: #0000BB">socket_listen</span><span style="color: #007700">(</span><span style="color: #0000BB">$socket</span><span style="color: #007700">[</span><span style="color: #0000BB">$i</span><span style="color: #007700">], </span><span style="color: #0000BB">0</span><span style="color: #007700">);<br>    </span><span style="color: #0000BB">socket_set_nonblock</span><span style="color: #007700">(</span><span style="color: #0000BB">$socket</span><span style="color: #007700">[</span><span style="color: #0000BB">$i</span><span style="color: #007700">]);<br><br>    if (!</span><span style="color: #0000BB">$http</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">accept</span><span style="color: #007700">(</span><span style="color: #0000BB">$socket</span><span style="color: #007700">[</span><span style="color: #0000BB">$i</span><span style="color: #007700">])) {<br>        echo </span><span style="color: #DD0000">"La aceptación ha fallado\n"</span><span style="color: #007700">;<br>        exit(</span><span style="color: #0000BB">1</span><span style="color: #007700">);<br>    }<br><br>    ++</span><span style="color: #0000BB">$i</span><span style="color: #007700">;<br>}<br><br></span><span style="color: #0000BB">$http</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setCallback</span><span style="color: #007700">(</span><span style="color: #DD0000">"/some-page"</span><span style="color: #007700">, function() {<br> echo </span><span style="color: #DD0000">"(some-page)\n"</span><span style="color: #007700">;<br>    echo </span><span style="color: #DD0000">"URI : "</span><span style="color: #007700">, </span><span style="color: #0000BB">$req</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getUri</span><span style="color: #007700">(), </span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br>    </span><span style="color: #0000BB">$req</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">sendReply</span><span style="color: #007700">(</span><span style="color: #0000BB">200</span><span style="color: #007700">, </span><span style="color: #DD0000">"OK"</span><span style="color: #007700">);<br>    echo </span><span style="color: #DD0000">"OK\n"</span><span style="color: #007700">;<br>});<br><br></span><span style="color: #0000BB">$http</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setDefaultCallback</span><span style="color: #007700">(function(</span><span style="color: #0000BB">$req</span><span style="color: #007700">) {<br>    echo </span><span style="color: #DD0000">"URI : "</span><span style="color: #007700">, </span><span style="color: #0000BB">$req</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getUri</span><span style="color: #007700">(), </span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br>    </span><span style="color: #0000BB">$req</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">sendReply</span><span style="color: #007700">(</span><span style="color: #0000BB">200</span><span style="color: #007700">, </span><span style="color: #DD0000">"OK"</span><span style="color: #007700">);<br>    echo </span><span style="color: #DD0000">"OK\n"</span><span style="color: #007700">;<br>});<br><br></span><span style="color: #0000BB">$signal </span><span style="color: #007700">= </span><span style="color: #0000BB">Event</span><span style="color: #007700">::</span><span style="color: #0000BB">signal</span><span style="color: #007700">(</span><span style="color: #0000BB">$base</span><span style="color: #007700">, </span><span style="color: #0000BB">SIGINT</span><span style="color: #007700">, function () use (</span><span style="color: #0000BB">$base</span><span style="color: #007700">) {<br>    echo </span><span style="color: #DD0000">"SIGINT recibido. Deteniendo...\n"</span><span style="color: #007700">;<br>    </span><span style="color: #0000BB">$base</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">stop</span><span style="color: #007700">();<br>});<br></span><span style="color: #0000BB">$signal</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">add</span><span style="color: #007700">();<br><br></span><span style="color: #0000BB">$base</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">dispatch</span><span style="color: #007700">();<br>echo </span><span style="color: #DD0000">"END\n"</span><span style="color: #007700">;<br><br></span><span style="color: #FF8000">// No cerramos los sockets, sabiendo que Libevent ya establece<br>// los flags CLOSE_ON_FREE y CLOSE_ON_EXEC en el descriptor<br>// de fichero con los sockets.<br></span><span style="color: #0000BB">?&gt;</span></span></code></div>
   </div>

   <div class="example-contents"><p>Resultado del ejemplo anterior es similar a:</p></div>
   <div class="example-contents screen">
<div class="examplescode"><pre class="examplescode">Cliente:
$ nc 127.0.0.1 8091
GET /about HTTP/1.0
Connection: close

HTTP/1.0 200 OK
Content-Type: text/html; charset=ISO-8859-1
Connection: close

Servidor:
127.0.0.1 8091
127.0.0.2 8092
URI : /about
OK</pre>
</div>
   </div>
  </div>
 </div>

 <div class="refsect1 seealso" id="refsect1-eventhttp.accept-seealso">
  <h3 class="title">Ver también</h3>
  <ul class="simplelist">
   <li>
    <span class="methodname"><a href="#eventhttp.bind" class="methodname" rel="rdfs-seeAlso">EventHttp::bind()</a> - Liga un servidor HTTP a una dirección y un puerto especificados</span>
   </li>
  </ul>
 </div>

</div>
<hr>








<div id="eventhttp.addserveralias" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">EventHttp::addServerAlias</h1>
  <p class="verinfo">(PECL event &gt;= 1.4.0-beta)</p><p class="refpurpose"><span class="refname">EventHttp::addServerAlias</span> — <span class="dc-title">Añade un alias del servidor para el objeto servidor HTTP</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-eventhttp.addserveralias-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span>
   <span class="methodname"><strong>EventHttp::addServerAlias</strong></span>(<span class="methodparam">
    
    <span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$alias</code>
   </span>): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>

  <p class="para rdfs-comment">
   Añade un alias del servidor para el objeto servidor HTTP.
  </p>
 </div>

 <div class="refsect1 parameters" id="refsect1-eventhttp.addserveralias-parameters">
  <h3 class="title">Parámetros</h3>
  <dl>
   
    <dt>
     <code class="parameter">alias</code>
    </dt>
    <dd>
     <p class="para">
      El alias a añadir.
     </p>
    </dd>
   
  </dl>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-eventhttp.addserveralias-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Esta función retorna <strong><code><a href="#constant.true">true</a></code></strong> en caso de éxito o <strong><code><a href="#constant.false">false</a></code></strong> si ocurre un error.
  </p>
 </div>

 <div class="refsect1 examples" id="refsect1-eventhttp.addserveralias-examples">
  <h3 class="title">Ejemplos</h3>
  <div class="example" id="example-4551">
   <p><strong>Ejemplo #1 
    Ejemplo con <span class="function"><strong>EventHttp::addServerAlias()</strong></span></strong></p>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br>$base </span><span style="color: #007700">= new </span><span style="color: #0000BB">EventBase</span><span style="color: #007700">();<br></span><span style="color: #0000BB">$http </span><span style="color: #007700">= new </span><span style="color: #0000BB">EventHttp</span><span style="color: #007700">(</span><span style="color: #0000BB">$base</span><span style="color: #007700">);<br><br></span><span style="color: #0000BB">$socket </span><span style="color: #007700">= </span><span style="color: #0000BB">socket_create</span><span style="color: #007700">(</span><span style="color: #0000BB">AF_INET</span><span style="color: #007700">, </span><span style="color: #0000BB">SOCK_STREAM</span><span style="color: #007700">, </span><span style="color: #0000BB">SOL_TCP</span><span style="color: #007700">);<br><br>if (!</span><span style="color: #0000BB">$http</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">bind</span><span style="color: #007700">(</span><span style="color: #DD0000">"127.0.0.1"</span><span style="color: #007700">, </span><span style="color: #0000BB">8088</span><span style="color: #007700">)) {<br>    exit(</span><span style="color: #DD0000">"bind(1) ha fallado\n"</span><span style="color: #007700">);<br>};<br><br>if (!</span><span style="color: #0000BB">$http</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">addServerAlias</span><span style="color: #007700">(</span><span style="color: #DD0000">"local.net"</span><span style="color: #007700">)) {<br>    exit(</span><span style="color: #DD0000">"Imposible añadir el alias del servidor\n"</span><span style="color: #007700">);<br>}<br><br></span><span style="color: #0000BB">$http</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setCallback</span><span style="color: #007700">(</span><span style="color: #DD0000">"/about"</span><span style="color: #007700">, function(</span><span style="color: #0000BB">$req</span><span style="color: #007700">) {<br>    echo </span><span style="color: #DD0000">"URI : "</span><span style="color: #007700">, </span><span style="color: #0000BB">$req</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getUri</span><span style="color: #007700">(), </span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br>    </span><span style="color: #0000BB">$req</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">sendReply</span><span style="color: #007700">(</span><span style="color: #0000BB">200</span><span style="color: #007700">, </span><span style="color: #DD0000">"OK"</span><span style="color: #007700">);<br>});<br></span><span style="color: #0000BB">$base</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">dispatch</span><span style="color: #007700">();<br></span><span style="color: #0000BB">?&gt;</span></span></code></div>
   </div>

  </div>
 </div>

 <div class="refsect1 seealso" id="refsect1-eventhttp.addserveralias-seealso">
  <h3 class="title">Ver también</h3>
  <ul class="simplelist">
   <li>
    <span class="methodname"><a href="#eventhttp.removeserveralias" class="methodname" rel="rdfs-seeAlso">EventHttp::removeServerAlias()</a> - Elimina un alias en el servidor</span>
   </li>
  </ul>
 </div>

</div>
<hr>








<div id="eventhttp.bind" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">EventHttp::bind</h1>
  <p class="verinfo">(PECL event &gt;= 1.2.6-beta)</p><p class="refpurpose"><span class="refname">EventHttp::bind</span> — <span class="dc-title">Liga un servidor HTTP a una dirección y un puerto especificados</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-eventhttp.bind-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span>
   <span class="methodname"><strong>EventHttp::bind</strong></span>(<span class="methodparam">
    
    <span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$address</code>
   </span>, <span class="methodparam">
    
    <span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$port</code>
   </span>): <span class="type"><a href="language.types.void.html" class="type void">void</a></span></div>

  <p class="para rdfs-comment">
   Liga un servidor HTTP a una dirección y un puerto especificados.
  </p>
  <p class="para">
   Puede ser llamada varias veces para ligar el mismo servidor HTTP a varios puertos.
  </p>
 </div>

 <div class="refsect1 parameters" id="refsect1-eventhttp.bind-parameters">
  <h3 class="title">Parámetros</h3>
  <dl>
   
    <dt>
     <code class="parameter">address</code>
    </dt>
    <dd>
     <p class="para">
      Un string que contiene la dirección IP a escuchar.
     </p>
    </dd>
   
   
    <dt>
     <code class="parameter">port</code>
    </dt>
    <dd>
     <p class="para">
      El número de puerto en el que se realizará la escucha.
     </p>
    </dd>
   
  </dl>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-eventhttp.bind-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Esta función retorna <strong><code><a href="#constant.true">true</a></code></strong> en caso de éxito o <strong><code><a href="#constant.false">false</a></code></strong> si ocurre un error.
  </p>
 </div>

 <div class="refsect1 examples" id="refsect1-eventhttp.bind-examples">
  <h3 class="title">Ejemplos</h3>
  <div class="example" id="example-4552">
   <p><strong>Ejemplo #1 Ejemplo con <span class="function"><strong>EventHttp::bind()</strong></span></strong></p>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br>$base </span><span style="color: #007700">= new </span><span style="color: #0000BB">EventBase</span><span style="color: #007700">();<br></span><span style="color: #0000BB">$http </span><span style="color: #007700">= new </span><span style="color: #0000BB">EventHttp</span><span style="color: #007700">(</span><span style="color: #0000BB">$base</span><span style="color: #007700">);<br><br></span><span style="color: #0000BB">$socket </span><span style="color: #007700">= </span><span style="color: #0000BB">socket_create</span><span style="color: #007700">(</span><span style="color: #0000BB">AF_INET</span><span style="color: #007700">, </span><span style="color: #0000BB">SOCK_STREAM</span><span style="color: #007700">, </span><span style="color: #0000BB">SOL_TCP</span><span style="color: #007700">);<br><br>if (!</span><span style="color: #0000BB">$http</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">bind</span><span style="color: #007700">(</span><span style="color: #DD0000">"127.0.0.1"</span><span style="color: #007700">, </span><span style="color: #0000BB">8088</span><span style="color: #007700">)) {<br>    exit(</span><span style="color: #DD0000">"bind(1) ha fallado\n"</span><span style="color: #007700">);<br>};<br>if (!</span><span style="color: #0000BB">$http</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">bind</span><span style="color: #007700">(</span><span style="color: #DD0000">"127.0.0.1"</span><span style="color: #007700">, </span><span style="color: #0000BB">8089</span><span style="color: #007700">)) {<br>    exit(</span><span style="color: #DD0000">"bind(2) ha fallado\n"</span><span style="color: #007700">);<br><br>};<br><br></span><span style="color: #0000BB">$http</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setCallback</span><span style="color: #007700">(</span><span style="color: #DD0000">"/about"</span><span style="color: #007700">, function(</span><span style="color: #0000BB">$req</span><span style="color: #007700">) {<br>    echo </span><span style="color: #DD0000">"URI : "</span><span style="color: #007700">, </span><span style="color: #0000BB">$req</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getUri</span><span style="color: #007700">(), </span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br>    </span><span style="color: #0000BB">$req</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">sendReply</span><span style="color: #007700">(</span><span style="color: #0000BB">200</span><span style="color: #007700">, </span><span style="color: #DD0000">"OK"</span><span style="color: #007700">);<br>    echo </span><span style="color: #DD0000">"OK\n"</span><span style="color: #007700">;<br>});<br><br></span><span style="color: #0000BB">$base</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">dispatch</span><span style="color: #007700">();<br></span><span style="color: #0000BB">?&gt;</span></span></code></div>
   </div>

   <div class="example-contents"><p>Resultado del ejemplo anterior es similar a:</p></div>
   <div class="example-contents screen">
<div class="examplescode"><pre class="examplescode">Cliente:

$ nc 127.0.0.1 8088
GET /about HTTP/1.0
Connection: close

HTTP/1.0 200 OK
Content-Type: text/html; charset=ISO-8859-1
Connection: close

$ nc 127.0.0.1 8089
GET /unknown HTTP/1.0
Connection: close

HTTP/1.1 404 Not Found
Content-Type: text/html
Date: Wed, 13 Mar 2013 04:14:41 GMT
Content-Length: 149
Connection: close

&lt;html&gt;&lt;head&gt;&lt;title&gt;404 Not Found&lt;/title&gt;&lt;/head&gt;&lt;body&gt;&lt;h1&gt;Not Found&lt;/h1&gt;&lt;p&gt;The requested URL /unknown was not found on this server.&lt;/p&gt;&lt;/body&gt;&lt;/html&gt;

Servidor:
URI: /about
OK</pre>
</div>
   </div>
  </div>
 </div>

 <div class="refsect1 seealso" id="refsect1-eventhttp.bind-seealso">
  <h3 class="title">Ver también</h3>
  <ul class="simplelist">
   <li>
    <span class="methodname"><a href="#eventhttp.accept" class="methodname" rel="rdfs-seeAlso">EventHttp::accept()</a> - Permite a un servidor HTTP aceptar las conexiones en el
   socket o recurso especificado</span>
   </li>
  </ul>
 </div>

</div>
<hr>








<div id="eventhttp.construct" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">EventHttp::__construct</h1>
  <p class="verinfo">(PECL event &gt;= 1.2.6-beta)</p><p class="refpurpose"><span class="refname">EventHttp::__construct</span> — <span class="dc-title">Construye un objeto EventHttp (el servidor HTTP)</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-eventhttp.construct-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span>
   <span class="methodname"><strong>EventHttp::__construct</strong></span>(<span class="methodparam">
    
    <span class="type"><a href="#class.eventbase" class="type EventBase">EventBase</a></span> <code class="parameter">$base</code>
   </span>, <span class="methodparam">
    
    <span class="type"><a href="#class.eventsslcontext" class="type EventSslContext">EventSslContext</a></span> <code class="parameter">$ctx</code>
    <span class="initializer"> = <strong><code><a href="#constant.null">null</a></code></strong></span>
   </span>)</div>

  <p class="para rdfs-comment">
   Construye el objeto del servidor HTTP.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-eventhttp.construct-parameters">
  <h3 class="title">Parámetros</h3>
  <dl>
   
    <dt>
     <code class="parameter">base</code>
    </dt>
    <dd>
     <p class="para">
      Evento base asociado.
     </p>
    </dd>
   
   
    <dt>
     <code class="parameter">ctx</code>
    </dt>
    <dd>
     <p class="para">
      El objeto de la clase <span class="classname"><a href="#class.eventsslcontext" class="classname">EventSslContext</a></span>.
      Transforma un servidor HTTP en un servidor HTTPS. Esto significa que si
      el argumento <code class="parameter">ctx</code> está configurado correctamente,
      entonces el buffer de eventos subyacente se basará en sockets OpenSSL.
      Asimismo, todo el tráfico pasará a través de SSL o TLS.
     </p>
     <blockquote class="note"><p><strong class="note">Nota</strong>: 
      </p><p class="para">
       Este argumento solo está disponible si <code class="literal">Event</code>
       ha sido compilado con soporte para OpenSSL, y solo a partir de la
       versión <code class="literal">Libevent 2.1.0-alpha</code> o superiores.
      </p>
     </blockquote>
    </dd>
   
  </dl>
 </div>

 <div class="refsect1 changelog" id="refsect1-eventhttp.construct-changelog">
  <h3 class="title">Historial de cambios</h3>
  <p class="para">
   </p><table class="doctable informaltable">
    
     <thead>
      <tr>
       <th>Versión</th>
       <th>Descripción</th>
      </tr>

     </thead>

     <tbody class="tbody">
      <tr>
       <td>PECL event 1.9.0</td>
       <td>
        Añadido soporte para OpenSSL (<code class="parameter">ctx</code>).
       </td>
      </tr>

     </tbody>
    
   </table>

  
 </div>


 <div class="refsect1 examples" id="refsect1-eventhttp.construct-examples">
  <h3 class="title">Ejemplos</h3>
  <div class="example" id="example-4553">
   <p><strong>Ejemplo #1 Servidor HTTP simple</strong></p>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br></span><span style="color: #FF8000">/*<br> * Servidor HTTP simple.<br> *<br> * Para probarlo:<br> * 1) Ejecútelo en el puerto de su elección, i.e. :<br> * $ php examples/http.php 8010<br> * 2) En otro terminal, conéctese a una dirección de este puerto<br> * y realice una solicitud GET o POST (las otras están deshabilitadas aquí),<br> * i.e. :<br> * $ nc -t 127.0.0.1 8010<br> * POST /about HTTP/1.0<br> * Content-Type: text/plain<br> * Content-Length: 4<br> * Connection: close<br> * (presione Enter)<br> *<br> * Debería mostrar:<br> * a=12<br> * HTTP/1.0 200 OK<br> * Content-Type: text/html; charset=ISO-8859-1<br> * Connection: close<br> *<br> * $ nc -t 127.0.0.1 8010<br> * GET /dump HTTP/1.0<br> * Content-Type: text/plain<br> * Content-Encoding: UTF-8<br> * Connection: close<br> * (presione Enter)<br> *<br> * Debería mostrar:<br> * HTTP/1.0 200 OK<br> * Content-Type: text/html; charset=ISO-8859-1<br> * Connection: close<br> * (presione Enter)<br> *<br> * $ nc -t 127.0.0.1 8010<br> * GET /unknown HTTP/1.0<br> * Connection: close<br> *<br> * Debería mostrar:<br> * HTTP/1.0 200 OK<br> * Content-Type: text/html; charset=ISO-8859-1<br> * Connection: close<br> *<br> * 3) Observe lo que muestra el servidor en el terminal anterior.<br> */<br><br></span><span style="color: #007700">function </span><span style="color: #0000BB">_http_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$req</span><span style="color: #007700">, </span><span style="color: #0000BB">$data</span><span style="color: #007700">) {<br>    static </span><span style="color: #0000BB">$counter      </span><span style="color: #007700">= </span><span style="color: #0000BB">0</span><span style="color: #007700">;<br>    static </span><span style="color: #0000BB">$max_requests </span><span style="color: #007700">= </span><span style="color: #0000BB">2</span><span style="color: #007700">;<br><br>    if (++</span><span style="color: #0000BB">$counter </span><span style="color: #007700">&gt;= </span><span style="color: #0000BB">$max_requests</span><span style="color: #007700">)  {<br>        echo </span><span style="color: #DD0000">"Counter reached max requests </span><span style="color: #0000BB">$max_requests</span><span style="color: #DD0000">. Exiting\n"</span><span style="color: #007700">;<br>        exit();<br>    }<br><br>    echo </span><span style="color: #0000BB">__METHOD__</span><span style="color: #007700">, </span><span style="color: #DD0000">" called\n"</span><span style="color: #007700">;<br>    echo </span><span style="color: #DD0000">"request:"</span><span style="color: #007700">; </span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$req</span><span style="color: #007700">);<br>    echo </span><span style="color: #DD0000">"data:"</span><span style="color: #007700">; </span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$data</span><span style="color: #007700">);<br><br>    echo </span><span style="color: #DD0000">"\n===== DUMP =====\n"</span><span style="color: #007700">;<br>    echo </span><span style="color: #DD0000">"Command:"</span><span style="color: #007700">, </span><span style="color: #0000BB">$req</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getCommand</span><span style="color: #007700">(), </span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br>    echo </span><span style="color: #DD0000">"URI:"</span><span style="color: #007700">, </span><span style="color: #0000BB">$req</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getUri</span><span style="color: #007700">(), </span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br>    echo </span><span style="color: #DD0000">"Input headers:"</span><span style="color: #007700">; </span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$req</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getInputHeaders</span><span style="color: #007700">());<br>    echo </span><span style="color: #DD0000">"Output headers:"</span><span style="color: #007700">; </span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$req</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getOutputHeaders</span><span style="color: #007700">());<br><br>    echo </span><span style="color: #DD0000">"\n &gt;&gt; Sending reply ..."</span><span style="color: #007700">;<br>    </span><span style="color: #0000BB">$req</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">sendReply</span><span style="color: #007700">(</span><span style="color: #0000BB">200</span><span style="color: #007700">, </span><span style="color: #DD0000">"OK"</span><span style="color: #007700">);<br>    echo </span><span style="color: #DD0000">"OK\n"</span><span style="color: #007700">;<br><br>    echo </span><span style="color: #DD0000">"\n &gt;&gt; Reading input buffer ...\n"</span><span style="color: #007700">;<br>    </span><span style="color: #0000BB">$buf </span><span style="color: #007700">= </span><span style="color: #0000BB">$req</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getInputBuffer</span><span style="color: #007700">();<br>    while (</span><span style="color: #0000BB">$s </span><span style="color: #007700">= </span><span style="color: #0000BB">$buf</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">readLine</span><span style="color: #007700">(</span><span style="color: #0000BB">EventBuffer</span><span style="color: #007700">::</span><span style="color: #0000BB">EOL_ANY</span><span style="color: #007700">)) {<br>        echo </span><span style="color: #0000BB">$s</span><span style="color: #007700">, </span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br>    }<br>    echo </span><span style="color: #DD0000">"No more data in the buffer\n"</span><span style="color: #007700">;<br>}<br><br>function </span><span style="color: #0000BB">_http_about</span><span style="color: #007700">(</span><span style="color: #0000BB">$req</span><span style="color: #007700">) {<br>    echo </span><span style="color: #0000BB">__METHOD__</span><span style="color: #007700">, </span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br>    echo </span><span style="color: #DD0000">"URI: "</span><span style="color: #007700">, </span><span style="color: #0000BB">$req</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getUri</span><span style="color: #007700">(), </span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br>    echo </span><span style="color: #DD0000">"\n &gt;&gt; Sending reply ..."</span><span style="color: #007700">;<br>    </span><span style="color: #0000BB">$req</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">sendReply</span><span style="color: #007700">(</span><span style="color: #0000BB">200</span><span style="color: #007700">, </span><span style="color: #DD0000">"OK"</span><span style="color: #007700">);<br>    echo </span><span style="color: #DD0000">"OK\n"</span><span style="color: #007700">;<br>}<br><br>function </span><span style="color: #0000BB">_http_default</span><span style="color: #007700">(</span><span style="color: #0000BB">$req</span><span style="color: #007700">, </span><span style="color: #0000BB">$data</span><span style="color: #007700">) {<br>    echo </span><span style="color: #0000BB">__METHOD__</span><span style="color: #007700">, </span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br>    echo </span><span style="color: #DD0000">"URI: "</span><span style="color: #007700">, </span><span style="color: #0000BB">$req</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getUri</span><span style="color: #007700">(), </span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br>    echo </span><span style="color: #DD0000">"\n &gt;&gt; Sending reply ..."</span><span style="color: #007700">;<br>    </span><span style="color: #0000BB">$req</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">sendReply</span><span style="color: #007700">(</span><span style="color: #0000BB">200</span><span style="color: #007700">, </span><span style="color: #DD0000">"OK"</span><span style="color: #007700">);<br>    echo </span><span style="color: #DD0000">"OK\n"</span><span style="color: #007700">;<br>}<br><br></span><span style="color: #0000BB">$port </span><span style="color: #007700">= </span><span style="color: #0000BB">8010</span><span style="color: #007700">;<br>if (</span><span style="color: #0000BB">$argc </span><span style="color: #007700">&gt; </span><span style="color: #0000BB">1</span><span style="color: #007700">) {<br>    </span><span style="color: #0000BB">$port </span><span style="color: #007700">= (int) </span><span style="color: #0000BB">$argv</span><span style="color: #007700">[</span><span style="color: #0000BB">1</span><span style="color: #007700">];<br>}<br>if (</span><span style="color: #0000BB">$port </span><span style="color: #007700">&lt;= </span><span style="color: #0000BB">0 </span><span style="color: #007700">|| </span><span style="color: #0000BB">$port </span><span style="color: #007700">&gt; </span><span style="color: #0000BB">65535</span><span style="color: #007700">) {<br>    exit(</span><span style="color: #DD0000">"Invalid port"</span><span style="color: #007700">);<br>}<br><br></span><span style="color: #0000BB">$base </span><span style="color: #007700">= new </span><span style="color: #0000BB">EventBase</span><span style="color: #007700">();<br></span><span style="color: #0000BB">$http </span><span style="color: #007700">= new </span><span style="color: #0000BB">EventHttp</span><span style="color: #007700">(</span><span style="color: #0000BB">$base</span><span style="color: #007700">);<br></span><span style="color: #0000BB">$http</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setAllowedMethods</span><span style="color: #007700">(</span><span style="color: #0000BB">EventHttpRequest</span><span style="color: #007700">::</span><span style="color: #0000BB">CMD_GET </span><span style="color: #007700">| </span><span style="color: #0000BB">EventHttpRequest</span><span style="color: #007700">::</span><span style="color: #0000BB">CMD_POST</span><span style="color: #007700">);<br><br></span><span style="color: #0000BB">$http</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setCallback</span><span style="color: #007700">(</span><span style="color: #DD0000">"/dump"</span><span style="color: #007700">, </span><span style="color: #DD0000">"_http_dump"</span><span style="color: #007700">, array(</span><span style="color: #0000BB">4</span><span style="color: #007700">, </span><span style="color: #0000BB">8</span><span style="color: #007700">));<br></span><span style="color: #0000BB">$http</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setCallback</span><span style="color: #007700">(</span><span style="color: #DD0000">"/about"</span><span style="color: #007700">, </span><span style="color: #DD0000">"_http_about"</span><span style="color: #007700">);<br></span><span style="color: #0000BB">$http</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setDefaultCallback</span><span style="color: #007700">(</span><span style="color: #DD0000">"_http_default"</span><span style="color: #007700">, </span><span style="color: #DD0000">"custom data value"</span><span style="color: #007700">);<br><br></span><span style="color: #0000BB">$http</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">bind</span><span style="color: #007700">(</span><span style="color: #DD0000">"0.0.0.0"</span><span style="color: #007700">, </span><span style="color: #0000BB">8010</span><span style="color: #007700">);<br></span><span style="color: #0000BB">$base</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">loop</span><span style="color: #007700">();<br></span><span style="color: #0000BB">?&gt;</span></span></code></div>
   </div>

   <div class="example-contents"><p>Resultado del ejemplo anterior es similar a:</p></div>
   <div class="example-contents screen">
<div class="examplescode"><pre class="examplescode">a=12
HTTP/1.0 200 OK
Content-Type: text/html; charset=ISO-8859-1
Connection: close

HTTP/1.0 200 OK
Content-Type: text/html; charset=ISO-8859-1
Connection: close
(presione Enter)

HTTP/1.0 200 OK
Content-Type: text/html; charset=ISO-8859-1
Connection: close</pre>
</div>
   </div>
  </div>
 </div>

</div>
<hr>








<div id="eventhttp.removeserveralias" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">EventHttp::removeServerAlias</h1>
  <p class="verinfo">(PECL event &gt;= 1.4.0-beta)</p><p class="refpurpose"><span class="refname">EventHttp::removeServerAlias</span> — <span class="dc-title">Elimina un alias en el servidor</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-eventhttp.removeserveralias-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span>
   <span class="methodname"><strong>EventHttp::removeServerAlias</strong></span>(<span class="methodparam">
    
    <span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$alias</code>
   </span>): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>

  <p class="para rdfs-comment">
   Elimina un alias en el servidor, previamente añadido con el
   método <span class="methodname"><a href="#eventhttp.addserveralias" class="methodname">EventHttp::addServerAlias()</a></span>
  </p>
 </div>

 <div class="refsect1 parameters" id="refsect1-eventhttp.removeserveralias-parameters">
  <h3 class="title">Parámetros</h3>
  <dl>
   
    <dt>
     <code class="parameter">alias</code>
    </dt>
    <dd>
     <p class="para">
      El alias a eliminar.
     </p>
    </dd>
   
  </dl>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-eventhttp.removeserveralias-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Esta función retorna <strong><code><a href="#constant.true">true</a></code></strong> en caso de éxito o <strong><code><a href="#constant.false">false</a></code></strong> si ocurre un error.
  </p>
 </div>

 <div class="refsect1 seealso" id="refsect1-eventhttp.removeserveralias-seealso">
  <h3 class="title">Ver también</h3>
  <ul class="simplelist">
   <li>
    <span class="methodname"><a href="#eventhttp.addserveralias" class="methodname" rel="rdfs-seeAlso">EventHttp::addServerAlias()</a> - Añade un alias del servidor para el objeto servidor HTTP</span>
   </li>
  </ul>
 </div>

</div>
<hr>







<div id="eventhttp.setallowedmethods" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">EventHttp::setAllowedMethods</h1>
  <p class="verinfo">(PECL event &gt;= 1.4.0-beta)</p><p class="refpurpose"><span class="refname">EventHttp::setAllowedMethods</span> — <span class="dc-title">Define los métodos HTTP soportados y aceptados en las peticiones
   en este servidor, y pasados a las funciones de retrollamada de los usuarios</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-eventhttp.setallowedmethods-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span>
   <span class="methodname"><strong>EventHttp::setAllowedMethods</strong></span>(<span class="methodparam">
    
    <span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$methods</code>
   </span>): <span class="type"><a href="language.types.void.html" class="type void">void</a></span></div>

  <p class="para rdfs-comment">
   Define los métodos HTTP soportados y aceptados en las peticiones
   en este servidor, y pasados a las funciones de retrollamada de los usuarios.
  </p>
  <p class="para">
   Si no son soportados, generarán una respuesta
   <code class="literal">"405 Method not allowed"</code>.
  </p>
  <p class="para">
   Por omisión, los siguientes métodos están incluidos:
   <code class="literal">GET</code>, <code class="literal">POST</code>, <code class="literal">HEAD</code>,
   <code class="literal">PUT</code>, y <code class="literal">DELETE</code>. Ver las constantes
   <code class="literal">EventHttpRequest::CMD_*</code>.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-eventhttp.setallowedmethods-parameters">
  <h3 class="title">Parámetros</h3>
  <dl>
   
    <dt>
     <code class="parameter">methods</code>
    </dt>
    <dd>
     <p class="para">
      Una máscara de <a href="#eventhttprequest.constants" class="link">constantes
      <code class="literal">EventHttpRequest::CMD_*</code></a>.
     </p>
    </dd>
   
  </dl>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-eventhttp.setallowedmethods-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   No se retorna ningún valor.
  </p>
 </div>

</div>
<hr>








<div id="eventhttp.setcallback" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">EventHttp::setCallback</h1>
  <p class="verinfo">(PECL event &gt;= 1.4.0-beta)</p><p class="refpurpose"><span class="refname">EventHttp::setCallback</span> — <span class="dc-title">Define una retrollamada para una URI específica</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-eventhttp.setcallback-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span>
   <span class="methodname"><strong>EventHttp::setCallback</strong></span>(<span class="methodparam">
    
    <span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$path</code>
   </span>, <span class="methodparam">
    
    <span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$cb</code>
   </span>, <span class="methodparam">
    
    <span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$arg</code>
   <span class="initializer"> = ?</span></span>): <span class="type"><a href="language.types.void.html" class="type void">void</a></span></div>

  <p class="para rdfs-comment">
   Define una retrollamada para una URI específica.
  </p>
 </div>

 <div class="refsect1 parameters" id="refsect1-eventhttp.setcallback-parameters">
  <h3 class="title">Parámetros</h3>
  <dl>
   
    <dt>
     <code class="parameter">path</code>
    </dt>
    <dd>
     <p class="para">
      La URI para la cual la retrollamada debe ser invocada.
     </p>
    </dd>
   
   
    <dt>
     <code class="parameter">cb</code>
    </dt>
    <dd>
     <p class="para">
      La retrollamada <span class="type"><a href="#language.types.callable" class="type callable">callable</a></span>
      que será invocada durante una petición en la URI
      <code class="parameter">path</code>. Debe corresponder al siguiente prototipo:
     </p>
     <div class="methodsynopsis dc-description">
      <span class="methodname"><strong>callback</strong></span>(<span class="methodparam">
       
       <span class="type"><a href="#class.eventhttprequest" class="type EventHttpRequest">EventHttpRequest</a></span> <code class="parameter">$req</code>
       <span class="initializer"> = NULL</span>
      </span>, <span class="methodparam">
       
       <span class="type"><a href="#language.types.mixed" class="type mixed">mixed</a></span> <code class="parameter">$arg</code>
       <span class="initializer"> = NULL</span>
      </span>): <span class="type"><a href="language.types.void.html" class="type void">void</a></span></div>

     <p class="para">
      </p><dl>
       
        <dt>
         <code class="parameter">req</code>
        </dt>
        <dd>
         <p class="para">
          Un objeto <span class="classname"><a href="#class.eventhttprequest" class="classname">EventHttpRequest</a></span>.
         </p>
        </dd>
       
       
        <dt>
         <code class="parameter">arg</code>
        </dt>
        <dd>
         <p class="para">
          Datos personalizados.
         </p>
        </dd>
       
      </dl>
     
    </dd>
   
   
    <dt>
     <code class="parameter">arg</code>
    </dt>
    <dd>
     <p class="para">
      Datos personalizados.
     </p>
    </dd>
   
  </dl>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-eventhttp.setcallback-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Esta función retorna <strong><code><a href="#constant.true">true</a></code></strong> en caso de éxito o <strong><code><a href="#constant.false">false</a></code></strong> si ocurre un error.
  </p>
 </div>

 <div class="refsect1 examples" id="refsect1-eventhttp.setcallback-examples">
  <h3 class="title">Ejemplos</h3>
  <div class="example" id="example-4554">
   <p><strong>Ejemplo #1 Ejemplo con <span class="function"><strong>EventHttp::setCallback()</strong></span></strong></p>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br></span><span style="color: #FF8000">/*<br> * Servidor HTTP simple.<br> *<br> * Para probarlo:<br> * 1) Ejecútelo en el puerto de su elección, i.e. :<br> * $ php examples/http.php 8010<br> * 2) En otro terminal, conéctese a una dirección de este puerto<br> * y realice una petición GET o POST (las otras están desactivadas aquí), i.e.:<br> * $ nc -t 127.0.0.1 8010<br> * POST /about HTTP/1.0<br> * Content-Type: text/plain<br> * Content-Length: 4<br> * Connection: close<br> * (presione Enter)<br> *<br> * Debería mostrar:<br> * a=12<br> * HTTP/1.0 200 OK<br> * Content-Type: text/html; charset=ISO-8859-1<br> * Connection: close<br> *<br> * 3) Ver lo que muestra el servidor en el terminal anterior.<br> */<br><br></span><span style="color: #007700">function </span><span style="color: #0000BB">_http_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$req</span><span style="color: #007700">, </span><span style="color: #0000BB">$data</span><span style="color: #007700">) {<br>    static </span><span style="color: #0000BB">$counter      </span><span style="color: #007700">= </span><span style="color: #0000BB">0</span><span style="color: #007700">;<br>    static </span><span style="color: #0000BB">$max_requests </span><span style="color: #007700">= </span><span style="color: #0000BB">2</span><span style="color: #007700">;<br><br>    if (++</span><span style="color: #0000BB">$counter </span><span style="color: #007700">&gt;= </span><span style="color: #0000BB">$max_requests</span><span style="color: #007700">)  {<br>        echo </span><span style="color: #DD0000">"Counter reached max requests </span><span style="color: #0000BB">$max_requests</span><span style="color: #DD0000">. Exiting\n"</span><span style="color: #007700">;<br>        exit();<br>    }<br><br>    echo </span><span style="color: #0000BB">__METHOD__</span><span style="color: #007700">, </span><span style="color: #DD0000">" called\n"</span><span style="color: #007700">;<br>    echo </span><span style="color: #DD0000">"request:"</span><span style="color: #007700">; </span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$req</span><span style="color: #007700">);<br>    echo </span><span style="color: #DD0000">"data:"</span><span style="color: #007700">; </span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$data</span><span style="color: #007700">);<br><br>    echo </span><span style="color: #DD0000">"\n===== DUMP =====\n"</span><span style="color: #007700">;<br>    echo </span><span style="color: #DD0000">"Command:"</span><span style="color: #007700">, </span><span style="color: #0000BB">$req</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getCommand</span><span style="color: #007700">(), </span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br>    echo </span><span style="color: #DD0000">"URI:"</span><span style="color: #007700">, </span><span style="color: #0000BB">$req</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getUri</span><span style="color: #007700">(), </span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br>    echo </span><span style="color: #DD0000">"Input headers:"</span><span style="color: #007700">; </span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$req</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getInputHeaders</span><span style="color: #007700">());<br>    echo </span><span style="color: #DD0000">"Output headers:"</span><span style="color: #007700">; </span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$req</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getOutputHeaders</span><span style="color: #007700">());<br><br>    echo </span><span style="color: #DD0000">"\n &gt;&gt; Sending reply ..."</span><span style="color: #007700">;<br>    </span><span style="color: #0000BB">$req</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">sendReply</span><span style="color: #007700">(</span><span style="color: #0000BB">200</span><span style="color: #007700">, </span><span style="color: #DD0000">"OK"</span><span style="color: #007700">);<br>    echo </span><span style="color: #DD0000">"OK\n"</span><span style="color: #007700">;<br><br>    echo </span><span style="color: #DD0000">"\n &gt;&gt; Reading input buffer ...\n"</span><span style="color: #007700">;<br>    </span><span style="color: #0000BB">$buf </span><span style="color: #007700">= </span><span style="color: #0000BB">$req</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getInputBuffer</span><span style="color: #007700">();<br>    while (</span><span style="color: #0000BB">$s </span><span style="color: #007700">= </span><span style="color: #0000BB">$buf</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">readLine</span><span style="color: #007700">(</span><span style="color: #0000BB">EventBuffer</span><span style="color: #007700">::</span><span style="color: #0000BB">EOL_ANY</span><span style="color: #007700">)) {<br>        echo </span><span style="color: #0000BB">$s</span><span style="color: #007700">, </span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br>    }<br>    echo </span><span style="color: #DD0000">"No more data in the buffer\n"</span><span style="color: #007700">;<br>}<br><br>function </span><span style="color: #0000BB">_http_about</span><span style="color: #007700">(</span><span style="color: #0000BB">$req</span><span style="color: #007700">) {<br>    echo </span><span style="color: #0000BB">__METHOD__</span><span style="color: #007700">, </span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br>    echo </span><span style="color: #DD0000">"URI: "</span><span style="color: #007700">, </span><span style="color: #0000BB">$req</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getUri</span><span style="color: #007700">(), </span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br>    echo </span><span style="color: #DD0000">"\n &gt;&gt; Sending reply ..."</span><span style="color: #007700">;<br>    </span><span style="color: #0000BB">$req</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">sendReply</span><span style="color: #007700">(</span><span style="color: #0000BB">200</span><span style="color: #007700">, </span><span style="color: #DD0000">"OK"</span><span style="color: #007700">);<br>    echo </span><span style="color: #DD0000">"OK\n"</span><span style="color: #007700">;<br>}<br><br>function </span><span style="color: #0000BB">_http_default</span><span style="color: #007700">(</span><span style="color: #0000BB">$req</span><span style="color: #007700">, </span><span style="color: #0000BB">$data</span><span style="color: #007700">) {<br>    echo </span><span style="color: #0000BB">__METHOD__</span><span style="color: #007700">, </span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br>    echo </span><span style="color: #DD0000">"URI: "</span><span style="color: #007700">, </span><span style="color: #0000BB">$req</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getUri</span><span style="color: #007700">(), </span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br>    echo </span><span style="color: #DD0000">"\n &gt;&gt; Sending reply ..."</span><span style="color: #007700">;<br>    </span><span style="color: #0000BB">$req</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">sendReply</span><span style="color: #007700">(</span><span style="color: #0000BB">200</span><span style="color: #007700">, </span><span style="color: #DD0000">"OK"</span><span style="color: #007700">);<br>    echo </span><span style="color: #DD0000">"OK\n"</span><span style="color: #007700">;<br>}<br><br></span><span style="color: #0000BB">$port </span><span style="color: #007700">= </span><span style="color: #0000BB">8010</span><span style="color: #007700">;<br>if (</span><span style="color: #0000BB">$argc </span><span style="color: #007700">&gt; </span><span style="color: #0000BB">1</span><span style="color: #007700">) {<br>    </span><span style="color: #0000BB">$port </span><span style="color: #007700">= (int) </span><span style="color: #0000BB">$argv</span><span style="color: #007700">[</span><span style="color: #0000BB">1</span><span style="color: #007700">];<br>}<br>if (</span><span style="color: #0000BB">$port </span><span style="color: #007700">&lt;= </span><span style="color: #0000BB">0 </span><span style="color: #007700">|| </span><span style="color: #0000BB">$port </span><span style="color: #007700">&gt; </span><span style="color: #0000BB">65535</span><span style="color: #007700">) {<br>    exit(</span><span style="color: #DD0000">"Invalid port"</span><span style="color: #007700">);<br>}<br><br></span><span style="color: #0000BB">$base </span><span style="color: #007700">= new </span><span style="color: #0000BB">EventBase</span><span style="color: #007700">();<br></span><span style="color: #0000BB">$http </span><span style="color: #007700">= new </span><span style="color: #0000BB">EventHttp</span><span style="color: #007700">(</span><span style="color: #0000BB">$base</span><span style="color: #007700">);<br></span><span style="color: #0000BB">$http</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setAllowedMethods</span><span style="color: #007700">(</span><span style="color: #0000BB">EventHttpRequest</span><span style="color: #007700">::</span><span style="color: #0000BB">CMD_GET </span><span style="color: #007700">| </span><span style="color: #0000BB">EventHttpRequest</span><span style="color: #007700">::</span><span style="color: #0000BB">CMD_POST</span><span style="color: #007700">);<br><br></span><span style="color: #0000BB">$http</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setCallback</span><span style="color: #007700">(</span><span style="color: #DD0000">"/dump"</span><span style="color: #007700">, </span><span style="color: #DD0000">"_http_dump"</span><span style="color: #007700">, array(</span><span style="color: #0000BB">4</span><span style="color: #007700">, </span><span style="color: #0000BB">8</span><span style="color: #007700">));<br></span><span style="color: #0000BB">$http</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setCallback</span><span style="color: #007700">(</span><span style="color: #DD0000">"/about"</span><span style="color: #007700">, </span><span style="color: #DD0000">"_http_about"</span><span style="color: #007700">);<br></span><span style="color: #0000BB">$http</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setDefaultCallback</span><span style="color: #007700">(</span><span style="color: #DD0000">"_http_default"</span><span style="color: #007700">, </span><span style="color: #DD0000">"custom data value"</span><span style="color: #007700">);<br><br></span><span style="color: #0000BB">$http</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">bind</span><span style="color: #007700">(</span><span style="color: #DD0000">"0.0.0.0"</span><span style="color: #007700">, </span><span style="color: #0000BB">8010</span><span style="color: #007700">);<br></span><span style="color: #0000BB">$base</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">loop</span><span style="color: #007700">();<br></span><span style="color: #0000BB">?&gt;</span></span></code></div>
   </div>

   <div class="example-contents"><p>Resultado del ejemplo anterior es similar a:</p></div>
   <div class="example-contents screen">
<div class="examplescode"><pre class="examplescode">a=12
HTTP/1.0 200 OK
Content-Type: text/html; charset=ISO-8859-1
Connection: close</pre>
</div>
   </div>
  </div>
 </div>

 <div class="refsect1 seealso" id="refsect1-eventhttp.setcallback-seealso">
  <h3 class="title">Ver también</h3>
  <ul class="simplelist">
   <li>
    <span class="methodname"><a href="#eventhttp.setdefaultcallback" class="methodname" rel="rdfs-seeAlso">EventHttp::setDefaultCallback()</a> - Define la función de retrollamada por defecto para manejar las peticiones que no son capturadas por
   funciones de retrollamada específicas</span>
   </li>
  </ul>
 </div>

</div>
<hr>







<div id="eventhttp.setdefaultcallback" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">EventHttp::setDefaultCallback</h1>
  <p class="verinfo">(PECL event &gt;= 1.4.0-beta)</p><p class="refpurpose"><span class="refname">EventHttp::setDefaultCallback</span> — <span class="dc-title">Define la función de retrollamada por defecto para manejar las peticiones que no son capturadas por
   funciones de retrollamada específicas</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-eventhttp.setdefaultcallback-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span>
   <span class="methodname"><strong>EventHttp::setDefaultCallback</strong></span>(<span class="methodparam">
    
    <span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$cb</code>
   </span>, <span class="methodparam">
    
    <span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$arg</code>
   <span class="initializer"> = ?</span></span>): <span class="type"><a href="language.types.void.html" class="type void">void</a></span></div>

  <p class="para rdfs-comment">
   Define la función de retrollamada por defecto para manejar las peticiones que no son capturadas por
   funciones de retrollamada específicas.
  </p>
 </div>

 <div class="refsect1 parameters" id="refsect1-eventhttp.setdefaultcallback-parameters">
  <h3 class="title">Parámetros</h3>
  <dl>
   
    <dt>
     <code class="parameter">cb</code>
    </dt>
    <dd>
     <p class="para">
      La función de retrollamada de tipo <span class="type"><a href="#language.types.callable" class="type callable">callable</a></span>.
      Debe corresponder al siguiente prototipo:
     </p>
     <div class="methodsynopsis dc-description"><span class="methodname"><strong>callback</strong></span>(<span class="methodparam">
       
       <span class="type"><a href="#class.eventhttprequest" class="type EventHttpRequest">EventHttpRequest</a></span> <code class="parameter">$req</code>
       <span class="initializer"> = NULL</span>
      </span>, <span class="methodparam">
       
       <span class="type"><a href="#language.types.mixed" class="type mixed">mixed</a></span> <code class="parameter">$arg</code>
       <span class="initializer"> = NULL</span>
      </span>): <span class="type"><a href="language.types.void.html" class="type void">void</a></span></div>

     <p class="para">
      </p><dl>
       
        <dt>
         <code class="parameter">req</code>
        </dt>
        <dd>
         <p class="para">
          <span class="classname"><a href="#class.eventhttprequest" class="classname">EventHttpRequest</a></span>
          Objeto.
         </p>
        </dd>
       
       
        <dt>
         <code class="parameter">arg</code>
        </dt>
        <dd>
         <p class="para">
          Datos personalizados.
         </p>
        </dd>
       
      </dl>
     
    </dd>
   
   
    <dt>
     <code class="parameter">arg</code>
    </dt>
    <dd>
     <p class="para">
      Datos personalizados proporcionados por el usuario a la función de retrollamada.
     </p>
    </dd>
   
  </dl>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-eventhttp.setdefaultcallback-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Esta función retorna <strong><code><a href="#constant.true">true</a></code></strong> en caso de éxito o <strong><code><a href="#constant.false">false</a></code></strong> si ocurre un error.
  </p>
 </div>

 <div class="refsect1 examples" id="refsect1-eventhttp.setdefaultcallback-examples">
  <h3 class="title">Ejemplos</h3>
  <div class="example" id="example-4555">
   <p><strong>Ejemplo #1 Ejemplo con <span class="function"><strong>EventHttp::setDefaultCallback()</strong></span></strong></p>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br>$base </span><span style="color: #007700">= new </span><span style="color: #0000BB">EventBase</span><span style="color: #007700">();<br></span><span style="color: #0000BB">$http </span><span style="color: #007700">= new </span><span style="color: #0000BB">EventHttp</span><span style="color: #007700">(</span><span style="color: #0000BB">$base</span><span style="color: #007700">);<br><br></span><span style="color: #0000BB">$socket </span><span style="color: #007700">= </span><span style="color: #0000BB">socket_create</span><span style="color: #007700">(</span><span style="color: #0000BB">AF_INET</span><span style="color: #007700">, </span><span style="color: #0000BB">SOCK_STREAM</span><span style="color: #007700">, </span><span style="color: #0000BB">SOL_TCP</span><span style="color: #007700">);<br><br>if (!</span><span style="color: #0000BB">$http</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">bind</span><span style="color: #007700">(</span><span style="color: #DD0000">"127.0.0.1"</span><span style="color: #007700">, </span><span style="color: #0000BB">8088</span><span style="color: #007700">)) {<br>    exit(</span><span style="color: #DD0000">"Fallo en bind(1)\n"</span><span style="color: #007700">);<br>};<br><br></span><span style="color: #0000BB">$http</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setDefaultCallback</span><span style="color: #007700">(function(</span><span style="color: #0000BB">$req</span><span style="color: #007700">) {<br>    echo </span><span style="color: #DD0000">"URI : "</span><span style="color: #007700">, </span><span style="color: #0000BB">$req</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getUri</span><span style="color: #007700">(), </span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br>    </span><span style="color: #0000BB">$req</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">sendReply</span><span style="color: #007700">(</span><span style="color: #0000BB">200</span><span style="color: #007700">, </span><span style="color: #DD0000">"OK"</span><span style="color: #007700">);<br>});<br><br></span><span style="color: #0000BB">$base</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">dispatch</span><span style="color: #007700">();<br></span><span style="color: #0000BB">?&gt;</span></span></code></div>
   </div>

  </div>
 </div>

 <div class="refsect1 seealso" id="refsect1-eventhttp.setdefaultcallback-seealso">
  <h3 class="title">Ver también</h3>
  <ul class="simplelist">
   <li>
    <span class="methodname"><a href="#eventhttp.setcallback" class="methodname" rel="rdfs-seeAlso">EventHttp::setCallback()</a> - Define una retrollamada para una URI específica</span>
   </li>
  </ul>
 </div>

</div>
<hr>








<div id="eventhttp.setmaxbodysize" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">EventHttp::setMaxBodySize</h1>
  <p class="verinfo">(PECL event &gt;= 1.4.0-beta)</p><p class="refpurpose"><span class="refname">EventHttp::setMaxBodySize</span> — <span class="dc-title">Define la talla máxima del cuerpo de la petición</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-eventhttp.setmaxbodysize-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span>
   <span class="methodname"><strong>EventHttp::setMaxBodySize</strong></span>(<span class="methodparam">
    
    <span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$value</code>
   </span>): <span class="type"><a href="language.types.void.html" class="type void">void</a></span></div>

  <p class="para rdfs-comment">
   Define la talla máxima del cuerpo de la petición.
  </p>
 </div>

 <div class="refsect1 parameters" id="refsect1-eventhttp.setmaxbodysize-parameters">
  <h3 class="title">Parámetros</h3>
  <dl>
   
    <dt>
     <code class="parameter">value</code>
    </dt>
    <dd>
     <p class="para">
      La talla del cuerpo, en bytes.
     </p>
    </dd>
   
  </dl>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-eventhttp.setmaxbodysize-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   No se retorna ningún valor.
  </p>
 </div>

 <div class="refsect1 seealso" id="refsect1-eventhttp.setmaxbodysize-seealso">
  <h3 class="title">Ver también</h3>
  <ul class="simplelist">
   <li>
    <span class="methodname"><a href="#eventhttp.setmaxheaderssize" class="methodname" rel="rdfs-seeAlso">EventHttp::setMaxHeadersSize()</a> - Define el tamaño máximo de las cabeceras HTTP</span>
   </li>
  </ul>
 </div>

</div>
<hr>








<div id="eventhttp.setmaxheaderssize" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">EventHttp::setMaxHeadersSize</h1>
  <p class="verinfo">(PECL event &gt;= 1.4.0-beta)</p><p class="refpurpose"><span class="refname">EventHttp::setMaxHeadersSize</span> — <span class="dc-title">Define el tamaño máximo de las cabeceras HTTP</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-eventhttp.setmaxheaderssize-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span>
   <span class="methodname"><strong>EventHttp::setMaxHeadersSize</strong></span>(<span class="methodparam">
    
    <span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$value</code>
   </span>): <span class="type"><a href="language.types.void.html" class="type void">void</a></span></div>

  <p class="para rdfs-comment">
   Define el tamaño máximo de las cabeceras HTTP.
  </p>
 </div>

 <div class="refsect1 parameters" id="refsect1-eventhttp.setmaxheaderssize-parameters">
  <h3 class="title">Parámetros</h3>
  <dl>
   
    <dt>
     <code class="parameter">value</code>
    </dt>
    <dd>
     <p class="para">
      El tamaño máximo de las cabeceras, en bytes.
     </p>
    </dd>
   
  </dl>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-eventhttp.setmaxheaderssize-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   No se retorna ningún valor.
  </p>
 </div>

 <div class="refsect1 seealso" id="refsect1-eventhttp.setmaxheaderssize-seealso">
  <h3 class="title">Ver también</h3>
  <ul class="simplelist">
   <li>
    <span class="methodname"><strong>EventHttp::setMaxHeadersSize()</strong></span>
   </li>
  </ul>
 </div>

</div>
<hr>








<div id="eventhttp.settimeout" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">EventHttp::setTimeout</h1>
  <p class="verinfo">(PECL event &gt;= 1.4.0-beta)</p><p class="refpurpose"><span class="refname">EventHttp::setTimeout</span> — <span class="dc-title">Define el tiempo máximo de espera para una petición HTTP</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-eventhttp.settimeout-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span>
   <span class="methodname"><strong>EventHttp::setTimeout</strong></span>(<span class="methodparam">
    
    <span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$value</code>
   </span>): <span class="type"><a href="language.types.void.html" class="type void">void</a></span></div>

  <p class="para rdfs-comment">
   Define el tiempo máximo de espera para una petición HTTP.
  </p>
 </div>

 <div class="refsect1 parameters" id="refsect1-eventhttp.settimeout-parameters">
  <h3 class="title">Parámetros</h3>
  <dl>
   
    <dt>
     <code class="parameter">value</code>
    </dt>
    <dd>
     <p class="para">
      El tiempo máximo de espera, en segundos.
     </p>
    </dd>
   
  </dl>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-eventhttp.settimeout-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   No se retorna ningún valor.
  </p>
 </div>

</div>
<hr>




<h2>Tabla de contenidos</h2><ul class="chunklist chunklist_reference"><li><a href="#eventhttp.accept">EventHttp::accept</a> — Permite a un servidor HTTP aceptar las conexiones en el
   socket o recurso especificado</li><li><a href="#eventhttp.addserveralias">EventHttp::addServerAlias</a> — Añade un alias del servidor para el objeto servidor HTTP</li><li><a href="#eventhttp.bind">EventHttp::bind</a> — Liga un servidor HTTP a una dirección y un puerto especificados</li><li><a href="#eventhttp.construct">EventHttp::__construct</a> — Construye un objeto EventHttp (el servidor HTTP)</li><li><a href="#eventhttp.removeserveralias">EventHttp::removeServerAlias</a> — Elimina un alias en el servidor</li><li><a href="#eventhttp.setallowedmethods">EventHttp::setAllowedMethods</a> — Define los métodos HTTP soportados y aceptados en las peticiones
   en este servidor, y pasados a las funciones de retrollamada de los usuarios</li><li><a href="#eventhttp.setcallback">EventHttp::setCallback</a> — Define una retrollamada para una URI específica</li><li><a href="#eventhttp.setdefaultcallback">EventHttp::setDefaultCallback</a> — Define la función de retrollamada por defecto para manejar las peticiones que no son capturadas por
   funciones de retrollamada específicas</li><li><a href="#eventhttp.setmaxbodysize">EventHttp::setMaxBodySize</a> — Define la talla máxima del cuerpo de la petición</li><li><a href="#eventhttp.setmaxheaderssize">EventHttp::setMaxHeadersSize</a> — Define el tamaño máximo de las cabeceras HTTP</li><li><a href="#eventhttp.settimeout">EventHttp::setTimeout</a> — Define el tiempo máximo de espera para una petición HTTP</li></ul>
</div>

<hr>



 




<div id="class.eventhttpconnection" class="reference"><hr>
 <h1 class="title">La clase EventHttpConnection</h1>
 
 <div class="partintro"><p class="verinfo">(PECL event &gt;= 1.4.0-beta)</p>

  <div class="section" id="eventhttpconnection.intro">
   <h2 class="title">Introducción</h2>
   <p class="para">
    Representa una conexión HTTP.
   </p>
  </div>

  <div class="section" id="eventhttpconnection.synopsis">
   <h2 class="title">Sinopsis de la Clase</h2>


   <div class="classsynopsis">
    <span class="ooclass">
     <strong class="classname"></strong>
    </span>

    <div class="classsynopsisinfo">
     <span class="ooclass">
      <span class="modifier">class</span> <strong class="classname">EventHttpConnection</strong>
     </span>
     {</div>

    <div class="classsynopsisinfo classsynopsisinfo_comment">/* Métodos */</div>
    <div class="methodsynopsis dc-description">
   <span class="modifier">public</span>
   <span class="methodname"><a href="#eventhttpconnection.construct" class="methodname">__construct</a></span>(<br>    <span class="methodparam">
    
    <span class="type"><a href="#class.eventbase" class="type EventBase">EventBase</a></span> <code class="parameter">$base</code>
   </span>,<br>    <span class="methodparam">
    
    <span class="type"><a href="#class.eventdnsbase" class="type EventDnsBase">EventDnsBase</a></span> <code class="parameter">$dns_base</code>
   </span>,<br>    <span class="methodparam">
    
    <span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$address</code>
   </span>,<br>    <span class="methodparam">
    
    <span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$port</code>
   </span>,<br>    <span class="methodparam">
    
    <span class="type"><a href="#class.eventsslcontext" class="type EventSslContext">EventSslContext</a></span> <code class="parameter">$ctx</code>
    <span class="initializer"> = <strong><code><a href="#constant.null">null</a></code></strong></span>
   </span><br>)</div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span>
   <span class="methodname"><a href="#eventhttpconnection.getbase" class="methodname">getBase</a></span>(): <span class="type"><a href="#class.eventbase" class="type EventBase">EventBase</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span>
   <span class="methodname"><a href="#eventhttpconnection.getpeer" class="methodname">getPeer</a></span>(<span class="methodparam">
    
    <span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter reference">&amp;$address</code>
   </span>, <span class="methodparam">
    
    <span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter reference">&amp;$port</code>
   </span>): <span class="type"><a href="language.types.void.html" class="type void">void</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span>
   <span class="methodname"><a href="#eventhttpconnection.makerequest" class="methodname">makeRequest</a></span>(<span class="methodparam">
    
    <span class="type"><a href="#class.eventhttprequest" class="type EventHttpRequest">EventHttpRequest</a></span> <code class="parameter">$req</code>
   </span>, <span class="methodparam">
    
    <span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$type</code>
   </span>, <span class="methodparam">
    
    <span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$uri</code>
   </span>): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span>
   <span class="methodname"><a href="#eventhttpconnection.setclosecallback" class="methodname">setCloseCallback</a></span>(<span class="methodparam">
    
    <span class="type"><a href="#language.types.callable" class="type callable">callable</a></span> <code class="parameter">$callback</code>
   </span>, <span class="methodparam">
    
    <span class="type"><a href="#language.types.mixed" class="type mixed">mixed</a></span> <code class="parameter">$data</code>
   <span class="initializer"> = ?</span></span>): <span class="type"><a href="language.types.void.html" class="type void">void</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span>
   <span class="methodname"><a href="#eventhttpconnection.setlocaladdress" class="methodname">setLocalAddress</a></span>(<span class="methodparam">
    
    <span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$address</code>
   </span>): <span class="type"><a href="language.types.void.html" class="type void">void</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span>
   <span class="methodname"><a href="#eventhttpconnection.setlocalport" class="methodname">setLocalPort</a></span>(<span class="methodparam">
    
    <span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$port</code>
   </span>): <span class="type"><a href="language.types.void.html" class="type void">void</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span>
   <span class="methodname"><a href="#eventhttpconnection.setmaxbodysize" class="methodname">setMaxBodySize</a></span>(<span class="methodparam">
    
    <span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$max_size</code>
   </span>): <span class="type"><a href="language.types.void.html" class="type void">void</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span>
   <span class="methodname"><a href="#eventhttpconnection.setmaxheaderssize" class="methodname">setMaxHeadersSize</a></span>(<span class="methodparam">
    
    <span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$max_size</code>
   </span>): <span class="type"><a href="language.types.void.html" class="type void">void</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span>
   <span class="methodname"><a href="#eventhttpconnection.setretries" class="methodname">setRetries</a></span>(<span class="methodparam">
    
    <span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$retries</code>
   </span>): <span class="type"><a href="language.types.void.html" class="type void">void</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span>
   <span class="methodname"><a href="#eventhttpconnection.settimeout" class="methodname">setTimeout</a></span>(<span class="methodparam">
    
    <span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$timeout</code>
   </span>): <span class="type"><a href="language.types.void.html" class="type void">void</a></span></div>

   }</div>

  </div>
 </div>

 




<div id="eventhttpconnection.construct" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">EventHttpConnection::__construct</h1>
  <p class="verinfo">(PECL event &gt;= 1.2.6-beta)</p><p class="refpurpose"><span class="refname">EventHttpConnection::__construct</span> — <span class="dc-title">Construye un objeto EventHttpConnection</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-eventhttpconnection.construct-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span>
   <span class="methodname"><strong>EventHttpConnection::__construct</strong></span>(<br>    <span class="methodparam">
    
    <span class="type"><a href="#class.eventbase" class="type EventBase">EventBase</a></span> <code class="parameter">$base</code>
   </span>,<br>    <span class="methodparam">
    
    <span class="type"><a href="#class.eventdnsbase" class="type EventDnsBase">EventDnsBase</a></span> <code class="parameter">$dns_base</code>
   </span>,<br>    <span class="methodparam">
    
    <span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$address</code>
   </span>,<br>    <span class="methodparam">
    
    <span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$port</code>
   </span>,<br>    <span class="methodparam">
    
    <span class="type"><a href="#class.eventsslcontext" class="type EventSslContext">EventSslContext</a></span> <code class="parameter">$ctx</code>
    <span class="initializer"> = <strong><code><a href="#constant.null">null</a></code></strong></span>
   </span><br>)</div>

  <p class="para rdfs-comment">
   Construye un objeto EventHttpConnection.
  </p>
 </div>

 <div class="refsect1 parameters" id="refsect1-eventhttpconnection.construct-parameters">
  <h3 class="title">Parámetros</h3>
  <dl>
   
    <dt>
     <code class="parameter">base</code>
    </dt>
    <dd>
     <p class="para">
      Base de evento asociada.
     </p>
    </dd>
   
   
    <dt>
     <code class="parameter">dns_base</code>
    </dt>
    <dd>
     <p class="para">
      Si vale <strong><code><a href="#constant.null">null</a></code></strong>, la resolución del nombre de host será bloqueante.
     </p>
    </dd>
   
   
    <dt>
     <code class="parameter">address</code>
    </dt>
    <dd>
     <p class="para">
      La dirección de conexión.
     </p>
    </dd>
   
   
    <dt>
     <code class="parameter">port</code>
    </dt>
    <dd>
     <p class="para">
      El puerto de conexión.
     </p>
    </dd>
   
   
    <dt>
     <code class="parameter">ctx</code>
    </dt>
    <dd>
     <p class="para">
      El objeto de la clase <span class="classname"><a href="#class.eventsslcontext" class="classname">EventSslContext</a></span>.
      Activa OpenSSL.
     </p>
     <blockquote class="note"><p><strong class="note">Nota</strong>: 
      </p><p class="para">
       Este parámetro solo está disponible si <code class="literal">Event</code>
       ha sido compilado con soporte OpenSSL, y únicamente con la
       versión <code class="literal">Libevent 2.1.0-alpha</code> y superiores.
      </p>
     </blockquote>
    </dd>
   
  </dl>
 </div>

 <div class="refsect1 changelog" id="refsect1-eventhttpconnection.construct-changelog">
  <h3 class="title">Historial de cambios</h3>
  <p class="para">
   </p><table class="doctable informaltable">
    
     <thead>
      <tr>
       <th>Versión</th>
       <th>Descripción</th>
      </tr>

     </thead>

     <tbody class="tbody">
      <tr>
       <td>PECL event 1.9.0</td>
       <td>
        Añadido soporte de OpenSSL (<code class="parameter">ctx</code>).
       </td>
      </tr>

     </tbody>
    
   </table>

  
 </div>


</div>
<hr>








<div id="eventhttpconnection.getbase" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">EventHttpConnection::getBase</h1>
  <p class="verinfo">(PECL event &gt;= 1.2.6-beta)</p><p class="refpurpose"><span class="refname">EventHttpConnection::getBase</span> — <span class="dc-title">Devuelve la base de eventos asociada con la conexión</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-eventhttpconnection.getbase-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span>
   <span class="methodname"><strong>EventHttpConnection::getBase</strong></span>(): <span class="type"><a href="#class.eventbase" class="type EventBase">EventBase</a></span></div>

  <p class="para rdfs-comment">
   Devuelve la base de eventos asociada con la conexión.
  </p>
 </div>

 <div class="refsect1 parameters" id="refsect1-eventhttpconnection.getbase-parameters">
  <h3 class="title">Parámetros</h3>
  <p class="para">Esta función no contiene ningún parámetro.</p>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-eventhttpconnection.getbase-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Devuelve el objeto <span class="classname"><a href="#class.eventbase" class="classname">EventBase</a></span> asociado con
   la conexión en caso de éxito, <strong><code><a href="#constant.false">false</a></code></strong> de lo contrario.
  </p>
 </div>

</div>
<hr>








<div id="eventhttpconnection.getpeer" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">EventHttpConnection::getPeer</h1>
  <p class="verinfo">(PECL event &gt;= 1.2.6-beta)</p><p class="refpurpose"><span class="refname">EventHttpConnection::getPeer</span> — <span class="dc-title">Recupera la dirección y el puerto remoto asociados con la conexión</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-eventhttpconnection.getpeer-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span>
   <span class="methodname"><strong>EventHttpConnection::getPeer</strong></span>(<span class="methodparam">
    
    <span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter reference">&amp;$address</code>
   </span>, <span class="methodparam">
    
    <span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter reference">&amp;$port</code>
   </span>): <span class="type"><a href="language.types.void.html" class="type void">void</a></span></div>

  <p class="para rdfs-comment">
   Recupera la dirección y el puerto remoto asociados con la conexión.
  </p>
 </div>

 <div class="refsect1 parameters" id="refsect1-eventhttpconnection.getpeer-parameters">
  <h3 class="title">Parámetros</h3>
  <dl>
   
    <dt>
     <code class="parameter">address</code>
    </dt>
    <dd>
     <p class="para">
      Dirección del par.
     </p>
    </dd>
   
   
    <dt>
     <code class="parameter">port</code>
    </dt>
    <dd>
     <p class="para">
      Puerto del par.
     </p>
    </dd>
   
  </dl>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-eventhttpconnection.getpeer-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   No se retorna ningún valor.
  </p>
 </div>

</div>
<hr>







<div id="eventhttpconnection.makerequest" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">EventHttpConnection::makeRequest</h1>
  <p class="verinfo">(PECL event &gt;= 1.4.0-beta)</p><p class="refpurpose"><span class="refname">EventHttpConnection::makeRequest</span> — <span class="dc-title">Realiza una petición HTTP en la conexión especificada</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-eventhttpconnection.makerequest-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span>
   <span class="methodname"><strong>EventHttpConnection::makeRequest</strong></span>(<span class="methodparam">
    
    <span class="type"><a href="#class.eventhttprequest" class="type EventHttpRequest">EventHttpRequest</a></span> <code class="parameter">$req</code>
   </span>, <span class="methodparam">
    
    <span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$type</code>
   </span>, <span class="methodparam">
    
    <span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$uri</code>
   </span>): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>

  <p class="para rdfs-comment">
   Realiza una petición HTTP en la conexión especificada.
   El parámetro <code class="parameter">type</code> será una constante
   <code class="literal">EventHttpRequest::CMD_*</code>.
  </p>
 </div>

 <div class="refsect1 parameters" id="refsect1-eventhttpconnection.makerequest-parameters">
  <h3 class="title">Parámetros</h3>
  <dl>
   
    <dt>
     <code class="parameter">req</code>
    </dt>
    <dd>
     <p class="para">
      El objeto que representa la conexión en la que se enviará la petición.
     </p>
    </dd>
   
   
    <dt>
     <code class="parameter">type</code>
    </dt>
    <dd>
     <p class="para">
      Una constante
      <a href="#eventhttprequest.constants" class="link"><code class="literal">EventHttpRequest::CMD_*</code></a>.
     </p>
    </dd>
   
   
    <dt>
     <code class="parameter">uri</code>
    </dt>
    <dd>
     <p class="para">
      El URI asociado a la petición.
     </p>
    </dd>
   
  </dl>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-eventhttpconnection.makerequest-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Esta función retorna <strong><code><a href="#constant.true">true</a></code></strong> en caso de éxito o <strong><code><a href="#constant.false">false</a></code></strong> si ocurre un error.
  </p>
 </div>

 <div class="refsect1 examples" id="refsect1-eventhttpconnection.makerequest-examples">
  <h3 class="title">Ejemplos</h3>
  <div class="example" id="example-4556">
   <p><strong>Ejemplo #1 
    Ejemplo con <span class="function"><strong>EventHttpConnection::makeRequest()</strong></span></strong></p>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br></span><span style="color: #007700">function </span><span style="color: #0000BB">_request_handler</span><span style="color: #007700">(</span><span style="color: #0000BB">$req</span><span style="color: #007700">, </span><span style="color: #0000BB">$base</span><span style="color: #007700">) {<br>    echo </span><span style="color: #0000BB">__FUNCTION__</span><span style="color: #007700">, </span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br><br>    if (</span><span style="color: #0000BB">is_null</span><span style="color: #007700">(</span><span style="color: #0000BB">$req</span><span style="color: #007700">)) {<br>        echo </span><span style="color: #DD0000">"Tiempo límite excedido\n"</span><span style="color: #007700">;<br>    } else {<br>        </span><span style="color: #0000BB">$response_code </span><span style="color: #007700">= </span><span style="color: #0000BB">$req</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getResponseCode</span><span style="color: #007700">();<br><br>        if (</span><span style="color: #0000BB">$response_code </span><span style="color: #007700">== </span><span style="color: #0000BB">0</span><span style="color: #007700">) {<br>            echo </span><span style="color: #DD0000">"Conexión rechazada\n"</span><span style="color: #007700">;<br>        } elseif (</span><span style="color: #0000BB">$response_code </span><span style="color: #007700">!= </span><span style="color: #0000BB">200</span><span style="color: #007700">) {<br>            echo </span><span style="color: #DD0000">"Respuesta inesperada: </span><span style="color: #0000BB">$response_code</span><span style="color: #DD0000">\n"</span><span style="color: #007700">;<br>        } else {<br>            echo </span><span style="color: #DD0000">"Éxito: </span><span style="color: #0000BB">$response_code</span><span style="color: #DD0000">\n"</span><span style="color: #007700">;<br>            </span><span style="color: #0000BB">$buf </span><span style="color: #007700">= </span><span style="color: #0000BB">$req</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getInputBuffer</span><span style="color: #007700">();<br>            echo </span><span style="color: #DD0000">"Cuerpo:\n"</span><span style="color: #007700">;<br>            while (</span><span style="color: #0000BB">$s </span><span style="color: #007700">= </span><span style="color: #0000BB">$buf</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">readLine</span><span style="color: #007700">(</span><span style="color: #0000BB">EventBuffer</span><span style="color: #007700">::</span><span style="color: #0000BB">EOL_ANY</span><span style="color: #007700">)) {<br>                echo </span><span style="color: #0000BB">$s</span><span style="color: #007700">, </span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br>            }<br>        }<br>    }<br><br>    </span><span style="color: #0000BB">$base</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">exit</span><span style="color: #007700">(</span><span style="color: #0000BB">NULL</span><span style="color: #007700">);<br>}<br><br></span><span style="color: #0000BB">$address </span><span style="color: #007700">= </span><span style="color: #DD0000">"127.0.0.1"</span><span style="color: #007700">;<br></span><span style="color: #0000BB">$port </span><span style="color: #007700">= </span><span style="color: #0000BB">80</span><span style="color: #007700">;<br><br></span><span style="color: #0000BB">$base </span><span style="color: #007700">= new </span><span style="color: #0000BB">EventBase</span><span style="color: #007700">();<br></span><span style="color: #0000BB">$conn </span><span style="color: #007700">= new </span><span style="color: #0000BB">EventHttpConnection</span><span style="color: #007700">(</span><span style="color: #0000BB">$base</span><span style="color: #007700">, </span><span style="color: #0000BB">NULL</span><span style="color: #007700">, </span><span style="color: #0000BB">$address</span><span style="color: #007700">, </span><span style="color: #0000BB">$port</span><span style="color: #007700">);<br></span><span style="color: #0000BB">$conn</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setTimeout</span><span style="color: #007700">(</span><span style="color: #0000BB">5</span><span style="color: #007700">);<br></span><span style="color: #0000BB">$req </span><span style="color: #007700">= new </span><span style="color: #0000BB">EventHttpRequest</span><span style="color: #007700">(</span><span style="color: #DD0000">"_request_handler"</span><span style="color: #007700">, </span><span style="color: #0000BB">$base</span><span style="color: #007700">);<br><br></span><span style="color: #0000BB">$req</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">addHeader</span><span style="color: #007700">(</span><span style="color: #DD0000">"Host"</span><span style="color: #007700">, </span><span style="color: #0000BB">$address</span><span style="color: #007700">, </span><span style="color: #0000BB">EventHttpRequest</span><span style="color: #007700">::</span><span style="color: #0000BB">OUTPUT_HEADER</span><span style="color: #007700">);<br></span><span style="color: #0000BB">$req</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">addHeader</span><span style="color: #007700">(</span><span style="color: #DD0000">"Content-Length"</span><span style="color: #007700">, </span><span style="color: #DD0000">"0"</span><span style="color: #007700">, </span><span style="color: #0000BB">EventHttpRequest</span><span style="color: #007700">::</span><span style="color: #0000BB">OUTPUT_HEADER</span><span style="color: #007700">);<br></span><span style="color: #0000BB">$conn</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">makeRequest</span><span style="color: #007700">(</span><span style="color: #0000BB">$req</span><span style="color: #007700">, </span><span style="color: #0000BB">EventHttpRequest</span><span style="color: #007700">::</span><span style="color: #0000BB">CMD_GET</span><span style="color: #007700">, </span><span style="color: #DD0000">"/index.cphp"</span><span style="color: #007700">);<br><br></span><span style="color: #0000BB">$base</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">loop</span><span style="color: #007700">();<br></span><span style="color: #0000BB">?&gt;</span></span></code></div>
   </div>

   <div class="example-contents"><p>Resultado del ejemplo anterior es similar a:</p></div>
   <div class="example-contents screen">
<div class="examplescode"><pre class="examplescode">_request_handler
Éxito: 200
Cuerpo:
PHP, date:
2013-03-13T20:27:52+05:00</pre>
</div>
   </div>
  </div>
 </div>

 <div class="refsect1 seealso" id="refsect1-eventhttpconnection.makerequest-seealso">
  <h3 class="title">Ver también</h3>
  <ul class="simplelist">
   <li>
    <span class="methodname"><a href="#eventhttprequest.addheader" class="methodname" rel="rdfs-seeAlso">EventHttpRequest::addHeader()</a> - Añade un encabezado HTTP a los encabezados de la petición</span>
   </li>
  </ul>
 </div>

</div>
<hr>







<div id="eventhttpconnection.setclosecallback" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">EventHttpConnection::setCloseCallback</h1>
  <p class="verinfo">(PECL event &gt;= 1.8.0)</p><p class="refpurpose"><span class="refname">EventHttpConnection::setCloseCallback</span> — <span class="dc-title">Define una función de retrollamada al cerrar la conexión</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-eventhttpconnection.setclosecallback-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span>
   <span class="methodname"><strong>EventHttpConnection::setCloseCallback</strong></span>(<span class="methodparam">
    
    <span class="type"><a href="#language.types.callable" class="type callable">callable</a></span> <code class="parameter">$callback</code>
   </span>, <span class="methodparam">
    
    <span class="type"><a href="#language.types.mixed" class="type mixed">mixed</a></span> <code class="parameter">$data</code>
   <span class="initializer"> = ?</span></span>): <span class="type"><a href="language.types.void.html" class="type void">void</a></span></div>

  <p class="para rdfs-comment">
   Define una función de retrollamada al cerrar la conexión.
  </p>
 </div>

 <div class="refsect1 parameters" id="refsect1-eventhttpconnection.setclosecallback-parameters">
  <h3 class="title">Parámetros</h3>
  <dl>
   
    <dt>
     <code class="parameter">callback</code>
    </dt>
    <dd>
     <p class="para">
      Función de retrollamada a llamar al cerrar la conexión.
      Debe corresponder al siguiente prototipo:
     </p>
     <div class="methodsynopsis dc-description">
      <span class="methodname"><strong>callback</strong></span>(<span class="methodparam">
       
       <span class="type"><a href="#class.eventhttpconnection" class="type EventHttpConnection">EventHttpConnection</a></span> <code class="parameter">$conn</code>
       <span class="initializer"> = <strong><code><a href="#constant.null">null</a></code></strong></span>
      </span>, <span class="methodparam">
       
       <span class="type"><a href="#language.types.mixed" class="type mixed">mixed</a></span> <code class="parameter">$arg</code>
       <span class="initializer"> = <strong><code><a href="#constant.null">null</a></code></strong></span>
      </span>): <span class="type"><a href="language.types.void.html" class="type void">void</a></span></div>

    </dd>
   
  </dl>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-eventhttpconnection.setclosecallback-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   No se retorna ningún valor.
  </p>
 </div>

 <div class="refsect1 examples" id="refsect1-eventhttpconnection.setclosecallback-examples">
  <h3 class="title">Ejemplos</h3>
  <div class="example" id="example-4557">
   <p><strong>Ejemplo #1 Ejemplo con <span class="methodname"><strong>EventHttpConnection::setCloseCallback()</strong></span></strong></p>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br></span><span style="color: #FF8000">/*<br> * Configuración de la retrollamada de cierre de conexión<br> *<br> * El script maneja las conexiones cerradas utilizando la API HTTP.<br> *<br> * Uso:<br> * 1) Iniciar el servidor:<br> * $ php examples/http_closecb.php 4242<br> *<br> * 2) Iniciar un cliente en otra terminal. La sesión de tipo telnet<br> * debe verse como sigue:<br> *<br> * $ nc -t 127.0.0.1 4242<br> * GET / HTTP/1.0<br> * Connection: close<br> *<br> * El servidor debe mostrar algo similar a lo siguiente:<br> *<br> * HTTP/1.0 200 OK<br> * Content-Type: multipart/x-mixed-replace;boundary=boundarydonotcross<br> * Connection: close<br> *<br> * &lt;html&gt;<br> *<br> * 3) Terminar la conexión del cliente abruptamente,<br> * es decir, matar el proceso o simplemente presionar Ctrl-C.<br> *<br> * 4) Verificar si el servidor llamó a _close_callback.<br> * El script debe mostrar la cadena "_close_callback" en la salida estándar.<br> *<br> * 5) Verificar si el proceso del servidor no tiene conexiones huérfanas,<br> * por ejemplo, con la utilidad `lsof`.<br> */<br><br></span><span style="color: #007700">function </span><span style="color: #0000BB">_close_callback</span><span style="color: #007700">(</span><span style="color: #0000BB">$conn</span><span style="color: #007700">)<br>{<br>    echo </span><span style="color: #0000BB">__FUNCTION__</span><span style="color: #007700">, </span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br>}<br><br>function </span><span style="color: #0000BB">_http_default</span><span style="color: #007700">(</span><span style="color: #0000BB">$req</span><span style="color: #007700">, </span><span style="color: #0000BB">$dummy</span><span style="color: #007700">)<br>{<br>    </span><span style="color: #0000BB">$conn </span><span style="color: #007700">= </span><span style="color: #0000BB">$req</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getConnection</span><span style="color: #007700">();<br>    </span><span style="color: #0000BB">$conn</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setCloseCallback</span><span style="color: #007700">(</span><span style="color: #DD0000">'_close_callback'</span><span style="color: #007700">, </span><span style="color: #0000BB">NULL</span><span style="color: #007700">);<br><br>    </span><span style="color: #FF8000">/*<br>    Al habilitar Event::READ se protege al servidor contra conexiones no cerradas.<br>    Esta es una peculiaridad de Libevent. La biblioteca deshabilita los eventos Event::READ<br>    en esta conexión, y el servidor no es notificado sobre las conexiones terminadas.<br><br>    Por lo tanto, cada vez que el cliente termina la conexión abruptamente, obtenemos una conexión huérfana. Por ejemplo, lo siguiente es parte del comando `lsof -p $PID | grep TCP`<br>    después de que el cliente ha terminado la conexión:<br><br>    57-php     15057 ruslan  6u  unix 0xffff8802fb59c780   0t0  125187 socket<br>    58:php     15057 ruslan  7u  IPv4             125189   0t0     TCP *:4242 (LISTEN)<br>    59:php     15057 ruslan  8u  IPv4             124342   0t0     TCP localhost:4242-&gt;localhost:37375 (CLOSE_WAIT)<br><br>    donde $PID es el ID del proceso.<br><br>    El siguiente bloque de código corrige este tipo de conexiones huérfanas.<br>     */<br>    </span><span style="color: #0000BB">$bev </span><span style="color: #007700">= </span><span style="color: #0000BB">$req</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getBufferEvent</span><span style="color: #007700">();<br>    </span><span style="color: #0000BB">$bev</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">enable</span><span style="color: #007700">(</span><span style="color: #0000BB">Event</span><span style="color: #007700">::</span><span style="color: #0000BB">READ</span><span style="color: #007700">);<br><br>    </span><span style="color: #FF8000">// Debemos liberarlo explícitamente. Ver EventHttpRequest::getConnection<br><br>    </span><span style="color: #0000BB">$bev</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">free</span><span style="color: #007700">(); </span><span style="color: #FF8000">// Debemos liberarlo explícitamente<br><br>    </span><span style="color: #0000BB">$req</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">addHeader</span><span style="color: #007700">(<br>        </span><span style="color: #DD0000">'Content-Type'</span><span style="color: #007700">,<br>        </span><span style="color: #DD0000">'multipart/x-mixed-replace;boundary=boundarydonotcross'</span><span style="color: #007700">,<br>        </span><span style="color: #0000BB">EventHttpRequest</span><span style="color: #007700">::</span><span style="color: #0000BB">OUTPUT_HEADER<br>    </span><span style="color: #007700">);<br><br>    </span><span style="color: #0000BB">$buf </span><span style="color: #007700">= new </span><span style="color: #0000BB">EventBuffer</span><span style="color: #007700">();<br>    </span><span style="color: #0000BB">$buf</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">add</span><span style="color: #007700">(</span><span style="color: #DD0000">'&lt;html&gt;'</span><span style="color: #007700">);<br><br>    </span><span style="color: #0000BB">$req</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">sendReply</span><span style="color: #007700">(</span><span style="color: #0000BB">200</span><span style="color: #007700">, </span><span style="color: #DD0000">"OK"</span><span style="color: #007700">);<br>    </span><span style="color: #0000BB">$req</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">sendReplyChunk</span><span style="color: #007700">(</span><span style="color: #0000BB">$buf</span><span style="color: #007700">);<br>}<br><br></span><span style="color: #0000BB">$port </span><span style="color: #007700">= </span><span style="color: #0000BB">4242</span><span style="color: #007700">;<br>if (</span><span style="color: #0000BB">$argc </span><span style="color: #007700">&gt; </span><span style="color: #0000BB">1</span><span style="color: #007700">) {<br>    </span><span style="color: #0000BB">$port </span><span style="color: #007700">= (int) </span><span style="color: #0000BB">$argv</span><span style="color: #007700">[</span><span style="color: #0000BB">1</span><span style="color: #007700">];<br>}<br>if (</span><span style="color: #0000BB">$port </span><span style="color: #007700">&lt;= </span><span style="color: #0000BB">0 </span><span style="color: #007700">|| </span><span style="color: #0000BB">$port </span><span style="color: #007700">&gt; </span><span style="color: #0000BB">65535</span><span style="color: #007700">) {<br>    exit(</span><span style="color: #DD0000">"Puerto no válido"</span><span style="color: #007700">);<br>}<br><br></span><span style="color: #0000BB">$base </span><span style="color: #007700">= new </span><span style="color: #0000BB">EventBase</span><span style="color: #007700">();<br></span><span style="color: #0000BB">$http </span><span style="color: #007700">= new </span><span style="color: #0000BB">EventHttp</span><span style="color: #007700">(</span><span style="color: #0000BB">$base</span><span style="color: #007700">);<br><br></span><span style="color: #0000BB">$http</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setDefaultCallback</span><span style="color: #007700">(</span><span style="color: #DD0000">"_http_default"</span><span style="color: #007700">, </span><span style="color: #0000BB">NULL</span><span style="color: #007700">);<br></span><span style="color: #0000BB">$http</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">bind</span><span style="color: #007700">(</span><span style="color: #DD0000">"0.0.0.0"</span><span style="color: #007700">, </span><span style="color: #0000BB">$port</span><span style="color: #007700">);<br></span><span style="color: #0000BB">$base</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">loop</span><span style="color: #007700">();<br><br></span><span style="color: #0000BB">?&gt;</span></span></code></div>
   </div>

  </div>
 </div>

</div>
<hr>








<div id="eventhttpconnection.setlocaladdress" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">EventHttpConnection::setLocalAddress</h1>
  <p class="verinfo">(PECL event &gt;= 1.2.6-beta)</p><p class="refpurpose"><span class="refname">EventHttpConnection::setLocalAddress</span> — <span class="dc-title">Define la dirección IP desde la cual se realizan las conexiones HTTP</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-eventhttpconnection.setlocaladdress-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span>
   <span class="methodname"><strong>EventHttpConnection::setLocalAddress</strong></span>(<span class="methodparam">
    
    <span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$address</code>
   </span>): <span class="type"><a href="language.types.void.html" class="type void">void</a></span></div>

  <p class="para rdfs-comment">
   Define la dirección IP desde la cual se realizan las conexiones HTTP.
  </p>
 </div>

 <div class="refsect1 parameters" id="refsect1-eventhttpconnection.setlocaladdress-parameters">
  <h3 class="title">Parámetros</h3>
  <dl>
   
    <dt>
     <code class="parameter">address</code>
    </dt>
    <dd>
     <p class="para">
      La dirección IP desde la cual se realizan las conexiones HTTP.
     </p>
    </dd>
   
  </dl>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-eventhttpconnection.setlocaladdress-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   No se retorna ningún valor.
  </p>
 </div>

 <div class="refsect1 seealso" id="refsect1-eventhttpconnection.setlocaladdress-seealso">
  <h3 class="title">Ver también</h3>
  <ul class="simplelist">
   <li>
    <span class="methodname"><a href="#eventhttpconnection.setlocalport" class="methodname" rel="rdfs-seeAlso">EventHttpConnection::setLocalPort()</a> - Define el puerto local desde el cual se realizan las conexiones</span>
   </li>
  </ul>
 </div>

</div>
<hr>








<div id="eventhttpconnection.setlocalport" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">EventHttpConnection::setLocalPort</h1>
  <p class="verinfo">(PECL event &gt;= 1.2.6-beta)</p><p class="refpurpose"><span class="refname">EventHttpConnection::setLocalPort</span> — <span class="dc-title">Define el puerto local desde el cual se realizan las conexiones</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-eventhttpconnection.setlocalport-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span>
   <span class="methodname"><strong>EventHttpConnection::setLocalPort</strong></span>(<span class="methodparam">
    
    <span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$port</code>
   </span>): <span class="type"><a href="language.types.void.html" class="type void">void</a></span></div>

  <p class="para rdfs-comment">
   Define el puerto local desde el cual se realizan las conexiones.
  </p>
 </div>

 <div class="refsect1 parameters" id="refsect1-eventhttpconnection.setlocalport-parameters">
  <h3 class="title">Parámetros</h3>
  <dl>
   
    <dt>
     <code class="parameter">port</code>
    </dt>
    <dd>
     <p class="para">
      El número del puerto.
     </p>
    </dd>
   
  </dl>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-eventhttpconnection.setlocalport-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
 </p></div>

 <div class="refsect1 seealso" id="refsect1-eventhttpconnection.setlocalport-seealso">
  <h3 class="title">Ver también</h3>
  <ul class="simplelist">
   <li>
    <span class="methodname"><a href="#eventhttpconnection.setlocaladdress" class="methodname" rel="rdfs-seeAlso">EventHttpConnection::setLocalAddress()</a> - Define la dirección IP desde la cual se realizan las conexiones HTTP</span>
   </li>
  </ul>
 </div>

</div>
<hr>








<div id="eventhttpconnection.setmaxbodysize" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">EventHttpConnection::setMaxBodySize</h1>
  <p class="verinfo">(PECL event &gt;= 1.2.6-beta)</p><p class="refpurpose"><span class="refname">EventHttpConnection::setMaxBodySize</span> — <span class="dc-title">Define el tamaño máximo del cuerpo para la conexión</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-eventhttpconnection.setmaxbodysize-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span>
   <span class="methodname"><strong>EventHttpConnection::setMaxBodySize</strong></span>(<span class="methodparam">
    
    <span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$max_size</code>
   </span>): <span class="type"><a href="language.types.void.html" class="type void">void</a></span></div>

  <p class="para rdfs-comment">
   Define el tamaño máximo del cuerpo para la conexión.
  </p>
 </div>

 <div class="refsect1 parameters" id="refsect1-eventhttpconnection.setmaxbodysize-parameters">
  <h3 class="title">Parámetros</h3>
  <dl>
   
    <dt>
     <code class="parameter">max_size</code>
    </dt>
    <dd>
     <p class="para">
      El tamaño máximo del cuerpo, en bytes.
     </p>
    </dd>
   
  </dl>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-eventhttpconnection.setmaxbodysize-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   No se retorna ningún valor.
  </p>
 </div>

 <div class="refsect1 seealso" id="refsect1-eventhttpconnection.setmaxbodysize-seealso">
  <h3 class="title">Ver también</h3>
  <ul class="simplelist">
   <li>
    <span class="methodname"><a href="#eventhttpconnection.setmaxheaderssize" class="methodname" rel="rdfs-seeAlso">EventHttpConnection::setMaxHeadersSize()</a> - Define el tamaño máximo de las cabeceras</span>
   </li>
  </ul>
 </div>

</div>
<hr>








<div id="eventhttpconnection.setmaxheaderssize" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">EventHttpConnection::setMaxHeadersSize</h1>
  <p class="verinfo">(PECL event &gt;= 1.2.6-beta)</p><p class="refpurpose"><span class="refname">EventHttpConnection::setMaxHeadersSize</span> — <span class="dc-title">Define el tamaño máximo de las cabeceras</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-eventhttpconnection.setmaxheaderssize-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span>
   <span class="methodname"><strong>EventHttpConnection::setMaxHeadersSize</strong></span>(<span class="methodparam">
    
    <span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$max_size</code>
   </span>): <span class="type"><a href="language.types.void.html" class="type void">void</a></span></div>

  <p class="para rdfs-comment">
   Define el tamaño máximo de las cabeceras para la conexión.
  </p>
 </div>

 <div class="refsect1 parameters" id="refsect1-eventhttpconnection.setmaxheaderssize-parameters">
  <h3 class="title">Parámetros</h3>
  <dl>
   
    <dt>
     <code class="parameter">max_size</code>
    </dt>
    <dd>
     <p class="para">
      El tamaño máximo de las cabeceras, en bytes.
     </p>
    </dd>
   
  </dl>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-eventhttpconnection.setmaxheaderssize-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   No se retorna ningún valor.
  </p>
 </div>

 <div class="refsect1 seealso" id="refsect1-eventhttpconnection.setmaxheaderssize-seealso">
  <h3 class="title">Ver también</h3>
  <ul class="simplelist">
   <li>
    <span class="methodname"><a href="#eventhttpconnection.setmaxbodysize" class="methodname" rel="rdfs-seeAlso">EventHttpConnection::setMaxBodySize()</a> - Define el tamaño máximo del cuerpo para la conexión</span>
   </li>
  </ul>
 </div>

</div>
<hr>








<div id="eventhttpconnection.setretries" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">EventHttpConnection::setRetries</h1>
  <p class="verinfo">(PECL event &gt;= 1.2.6-beta)</p><p class="refpurpose"><span class="refname">EventHttpConnection::setRetries</span> — <span class="dc-title">Define el número de intentos para la conexión</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-eventhttpconnection.setretries-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span>
   <span class="methodname"><strong>EventHttpConnection::setRetries</strong></span>(<span class="methodparam">
    
    <span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$retries</code>
   </span>): <span class="type"><a href="language.types.void.html" class="type void">void</a></span></div>

  <p class="para rdfs-comment">
   Define el número de intentos para la conexión.
  </p>
 </div>

 <div class="refsect1 parameters" id="refsect1-eventhttpconnection.setretries-parameters">
  <h3 class="title">Parámetros</h3>
  <dl>
   
    <dt>
     <code class="parameter">retries</code>
    </dt>
    <dd>
     <p class="para">
      El número límite de intentos.
      <strong><code><a href="#constant.-1">-1</a></code></strong> significa indefinidamente.
     </p>
    </dd>
   
  </dl>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-eventhttpconnection.setretries-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   No se retorna ningún valor.
  </p>
 </div>

</div>
<hr>








<div id="eventhttpconnection.settimeout" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">EventHttpConnection::setTimeout</h1>
  <p class="verinfo">(PECL event &gt;= 1.2.6-beta)</p><p class="refpurpose"><span class="refname">EventHttpConnection::setTimeout</span> — <span class="dc-title">Define el tiempo límite máximo para la conexión</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-eventhttpconnection.settimeout-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span>
   <span class="methodname"><strong>EventHttpConnection::setTimeout</strong></span>(<span class="methodparam">
    
    <span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$timeout</code>
   </span>): <span class="type"><a href="language.types.void.html" class="type void">void</a></span></div>

  <p class="para rdfs-comment">
   Define el tiempo límite máximo para la conexión.
  </p>
 </div>

 <div class="refsect1 parameters" id="refsect1-eventhttpconnection.settimeout-parameters">
  <h3 class="title">Parámetros</h3>
  <dl>
   
    <dt>
     <code class="parameter">timeout</code>
    </dt>
    <dd>
     <p class="para">
      El tiempo límite máximo, en segundos.
     </p>
    </dd>
   
  </dl>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-eventhttpconnection.settimeout-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   No se retorna ningún valor.
  </p>
 </div>

</div>
<hr>




<h2>Tabla de contenidos</h2><ul class="chunklist chunklist_reference"><li><a href="#eventhttpconnection.construct">EventHttpConnection::__construct</a> — Construye un objeto EventHttpConnection</li><li><a href="#eventhttpconnection.getbase">EventHttpConnection::getBase</a> — Devuelve la base de eventos asociada con la conexión</li><li><a href="#eventhttpconnection.getpeer">EventHttpConnection::getPeer</a> — Recupera la dirección y el puerto remoto asociados con la conexión</li><li><a href="#eventhttpconnection.makerequest">EventHttpConnection::makeRequest</a> — Realiza una petición HTTP en la conexión especificada</li><li><a href="#eventhttpconnection.setclosecallback">EventHttpConnection::setCloseCallback</a> — Define una función de retrollamada al cerrar la conexión</li><li><a href="#eventhttpconnection.setlocaladdress">EventHttpConnection::setLocalAddress</a> — Define la dirección IP desde la cual se realizan las conexiones HTTP</li><li><a href="#eventhttpconnection.setlocalport">EventHttpConnection::setLocalPort</a> — Define el puerto local desde el cual se realizan las conexiones</li><li><a href="#eventhttpconnection.setmaxbodysize">EventHttpConnection::setMaxBodySize</a> — Define el tamaño máximo del cuerpo para la conexión</li><li><a href="#eventhttpconnection.setmaxheaderssize">EventHttpConnection::setMaxHeadersSize</a> — Define el tamaño máximo de las cabeceras</li><li><a href="#eventhttpconnection.setretries">EventHttpConnection::setRetries</a> — Define el número de intentos para la conexión</li><li><a href="#eventhttpconnection.settimeout">EventHttpConnection::setTimeout</a> — Define el tiempo límite máximo para la conexión</li></ul>
</div>

<hr>



 




<div id="class.eventhttprequest" class="reference"><hr>
 <h1 class="title">La clase EventHttpRequest</h1>
 
 <div class="partintro"><p class="verinfo">(PECL event &gt;= 1.4.0-beta)</p>

  <div class="section" id="eventhttprequest.intro">
   <h2 class="title">Introducción</h2>
   <p class="para">
    Representa una petición HTTP.
   </p>
  </div>

  <div class="section" id="eventhttprequest.synopsis">
   <h2 class="title">Sinopsis de la Clase</h2>


   <div class="classsynopsis">
    <span class="ooclass">
     <strong class="classname"></strong>
    </span>

    <div class="classsynopsisinfo">
     <span class="ooclass">
      <span class="modifier">class</span> <strong class="classname">EventHttpRequest</strong>
     </span>
     {</div>

    <div class="classsynopsisinfo classsynopsisinfo_comment">/* Constantes */</div>
    <div class="fieldsynopsis">
     <span class="modifier">const</span>
     <span class="type"><a href="#language.types.integer" class="type int">int</a></span>
      <var class="fieldsynopsis_varname"><a href="#eventhttprequest.constants.cmd-get"><var class="varname">CMD_GET</var></a></var><span class="initializer"> = 1</span>;</div>

    <div class="fieldsynopsis"><span class="modifier">const</span>
     <span class="type"><a href="#language.types.integer" class="type int">int</a></span>
      <var class="fieldsynopsis_varname"><a href="#eventhttprequest.constants.cmd-post"><var class="varname">CMD_POST</var></a></var><span class="initializer"> = 2</span>;</div>

    <div class="fieldsynopsis"><span class="modifier">const</span>
     <span class="type"><a href="#language.types.integer" class="type int">int</a></span>
      <var class="fieldsynopsis_varname"><a href="#eventhttprequest.constants.cmd-head"><var class="varname">CMD_HEAD</var></a></var><span class="initializer"> = 4</span>;</div>

    <div class="fieldsynopsis"><span class="modifier">const</span>
     <span class="type"><a href="#language.types.integer" class="type int">int</a></span>
      <var class="fieldsynopsis_varname"><a href="#eventhttprequest.constants.cmd-put"><var class="varname">CMD_PUT</var></a></var><span class="initializer"> = 8</span>;</div>

    <div class="fieldsynopsis"><span class="modifier">const</span>
     <span class="type"><a href="#language.types.integer" class="type int">int</a></span>
      <var class="fieldsynopsis_varname"><a href="#eventhttprequest.constants.cmd-delete"><var class="varname">CMD_DELETE</var></a></var><span class="initializer"> = 16</span>;</div>

    <div class="fieldsynopsis"><span class="modifier">const</span>
     <span class="type"><a href="#language.types.integer" class="type int">int</a></span>
      <var class="fieldsynopsis_varname"><a href="#eventhttprequest.constants.cmd-options"><var class="varname">CMD_OPTIONS</var></a></var><span class="initializer"> = 32</span>;</div>

    <div class="fieldsynopsis"><span class="modifier">const</span>
     <span class="type"><a href="#language.types.integer" class="type int">int</a></span>
      <var class="fieldsynopsis_varname"><a href="#eventhttprequest.constants.cmd-trace"><var class="varname">CMD_TRACE</var></a></var><span class="initializer"> = 64</span>;</div>

    <div class="fieldsynopsis"><span class="modifier">const</span>
     <span class="type"><a href="#language.types.integer" class="type int">int</a></span>
      <var class="fieldsynopsis_varname"><a href="#eventhttprequest.constants.cmd-connect"><var class="varname">CMD_CONNECT</var></a></var><span class="initializer"> = 128</span>;</div>

    <div class="fieldsynopsis"><span class="modifier">const</span>
     <span class="type"><a href="#language.types.integer" class="type int">int</a></span>
      <var class="fieldsynopsis_varname"><a href="#eventhttprequest.constants.cmd-patch"><var class="varname">CMD_PATCH</var></a></var><span class="initializer"> = 256</span>;</div>

    <div class="fieldsynopsis"><span class="modifier">const</span>
     <span class="type"><a href="#language.types.integer" class="type int">int</a></span>
      <var class="fieldsynopsis_varname"><a href="#eventhttprequest.constants.input-header"><var class="varname">INPUT_HEADER</var></a></var><span class="initializer"> = 1</span>;</div>

    <div class="fieldsynopsis"><span class="modifier">const</span>
     <span class="type"><a href="#language.types.integer" class="type int">int</a></span>
      <var class="fieldsynopsis_varname"><a href="#eventhttprequest.constants.output-header"><var class="varname">OUTPUT_HEADER</var></a></var><span class="initializer"> = 2</span>;</div>

    <div class="classsynopsisinfo classsynopsisinfo_comment">/* Métodos */</div>
    <div class="methodsynopsis dc-description">
   <span class="modifier">public</span>
   <span class="methodname"><a href="#eventhttprequest.addheader" class="methodname">addHeader</a></span>(<span class="methodparam">
    
    <span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$key</code>
   </span>, <span class="methodparam">
    
    <span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$value</code>
   </span>, <span class="methodparam">
    
    <span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$type</code>
   </span>): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span>
   <span class="methodname"><a href="#eventhttprequest.cancel" class="methodname">cancel</a></span>(): <span class="type"><a href="language.types.void.html" class="type void">void</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span>
   <span class="methodname"><a href="#eventhttprequest.clearheaders" class="methodname">clearHeaders</a></span>(): <span class="type"><a href="language.types.void.html" class="type void">void</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span>
   <span class="methodname"><a href="#eventhttprequest.closeconnection" class="methodname">closeConnection</a></span>(): <span class="type"><a href="language.types.void.html" class="type void">void</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span>
   <span class="methodname"><a href="#eventhttprequest.construct" class="methodname">__construct</a></span>(<span class="methodparam">
    
    <span class="type"><a href="#language.types.callable" class="type callable">callable</a></span> <code class="parameter">$callback</code>
   </span>, <span class="methodparam">
    
    <span class="type"><a href="#language.types.mixed" class="type mixed">mixed</a></span> <code class="parameter">$data</code>
    <span class="initializer"> = <strong><code><a href="#constant.null">null</a></code></strong></span>
   </span>)</div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span>
   <span class="methodname"><a href="#eventhttprequest.findheader" class="methodname">findHeader</a></span>(<span class="methodparam">
    
    <span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$key</code>
   </span>, <span class="methodparam">
    
    <span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$type</code>
   </span>): <span class="type"><a href="language.types.void.html" class="type void">void</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span>
   <span class="methodname"><a href="#eventhttprequest.free" class="methodname">free</a></span>(): <span class="type"><a href="language.types.void.html" class="type void">void</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span>
   <span class="methodname"><a href="#eventhttprequest.closeconnection" class="methodname">closeConnection</a></span>(): <span class="type"><a href="#class.eventbufferevent" class="type EventBufferEvent">EventBufferEvent</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span>
   <span class="methodname"><a href="#eventhttprequest.getcommand" class="methodname">getCommand</a></span>(): <span class="type"><a href="language.types.void.html" class="type void">void</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span>
   <span class="methodname"><a href="#eventhttprequest.closeconnection" class="methodname">closeConnection</a></span>(): <span class="type"><a href="#class.eventhttpconnection" class="type EventHttpConnection">EventHttpConnection</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span>
   <span class="methodname"><a href="#eventhttprequest.gethost" class="methodname">getHost</a></span>(): <span class="type"><a href="#language.types.string" class="type string">string</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span>
   <span class="methodname"><a href="#eventhttprequest.getinputbuffer" class="methodname">getInputBuffer</a></span>(): <span class="type"><a href="#class.eventbuffer" class="type EventBuffer">EventBuffer</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span>
   <span class="methodname"><a href="#eventhttprequest.getinputheaders" class="methodname">getInputHeaders</a></span>(): <span class="type"><a href="#language.types.array" class="type array">array</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span>
   <span class="methodname"><a href="#eventhttprequest.getoutputbuffer" class="methodname">getOutputBuffer</a></span>(): <span class="type"><a href="#class.eventbuffer" class="type EventBuffer">EventBuffer</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span>
   <span class="methodname"><a href="#eventhttprequest.getoutputheaders" class="methodname">getOutputHeaders</a></span>(): <span class="type"><a href="language.types.void.html" class="type void">void</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span>
   <span class="methodname"><a href="#eventhttprequest.getresponsecode" class="methodname">getResponseCode</a></span>(): <span class="type"><a href="#language.types.integer" class="type int">int</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span>
   <span class="methodname"><a href="#eventhttprequest.geturi" class="methodname">getUri</a></span>(): <span class="type"><a href="#language.types.string" class="type string">string</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span>
   <span class="methodname"><a href="#eventhttprequest.removeheader" class="methodname">removeHeader</a></span>(<span class="methodparam">
    
    <span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$key</code>
   </span>, <span class="methodparam">
    
    <span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$type</code>
   </span>): <span class="type"><a href="language.types.void.html" class="type void">void</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span>
   <span class="methodname"><a href="#eventhttprequest.senderror" class="methodname">sendError</a></span>(<span class="methodparam">
    
    <span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$error</code>
   </span>, <span class="methodparam">
    
    <span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$reason</code>
    <span class="initializer"> = <strong><code><a href="#constant.null">null</a></code></strong></span>
   </span>): <span class="type"><a href="language.types.void.html" class="type void">void</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span>
   <span class="methodname"><a href="#eventhttprequest.sendreply" class="methodname">sendReply</a></span>(<span class="methodparam">
    
    <span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$code</code>
   </span>, <span class="methodparam">
    
    <span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$reason</code>
   </span>, <span class="methodparam">
    
    <span class="type"><a href="#class.eventbuffer" class="type EventBuffer">EventBuffer</a></span> <code class="parameter">$buf</code>
   <span class="initializer"> = ?</span></span>): <span class="type"><a href="language.types.void.html" class="type void">void</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span>
   <span class="methodname"><a href="#eventhttprequest.sendreplychunk" class="methodname">sendReplyChunk</a></span>(<span class="methodparam">
    
    <span class="type"><a href="#class.eventbuffer" class="type EventBuffer">EventBuffer</a></span> <code class="parameter">$buf</code>
   </span>): <span class="type"><a href="language.types.void.html" class="type void">void</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span>
   <span class="methodname"><a href="#eventhttprequest.sendreplyend" class="methodname">sendReplyEnd</a></span>(): <span class="type"><a href="language.types.void.html" class="type void">void</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span>
   <span class="methodname"><a href="#eventhttprequest.sendreplystart" class="methodname">sendReplyStart</a></span>(<span class="methodparam">
    
    <span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$code</code>
   </span>, <span class="methodparam">
    
    <span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$reason</code>
   </span>): <span class="type"><a href="language.types.void.html" class="type void">void</a></span></div>

   }</div>

  </div>

  <div class="section" id="eventhttprequest.constants">
   <h2 class="title">Constantes predefinidas</h2>
   <dl>
    
     <dt id="eventhttprequest.constants.cmd-get">
      <strong><code><a href="#eventhttprequest.constants.cmd-get">EventHttpRequest::CMD_GET</a></code></strong>
     </dt>
     <dd>
      <p class="para">
       método GET (comando)
      </p>
     </dd>
    
    
     <dt id="eventhttprequest.constants.cmd-post">
      <strong><code><a href="#eventhttprequest.constants.cmd-post">EventHttpRequest::CMD_POST</a></code></strong>
     </dt>
     <dd>
      <p class="para">
       método POST (comando)
      </p>
     </dd>
    
    
     <dt id="eventhttprequest.constants.cmd-head">
      <strong><code><a href="#eventhttprequest.constants.cmd-head">EventHttpRequest::CMD_HEAD</a></code></strong>
     </dt>
     <dd>
      <p class="para">
       método HEAD (comando)
      </p>
     </dd>
    
    
     <dt id="eventhttprequest.constants.cmd-put">
      <strong><code><a href="#eventhttprequest.constants.cmd-put">EventHttpRequest::CMD_PUT</a></code></strong>
     </dt>
     <dd>
      <p class="para">
       método PUT (comando)
      </p>
     </dd>
    
    
     <dt id="eventhttprequest.constants.cmd-delete">
      <strong><code><a href="#eventhttprequest.constants.cmd-delete">EventHttpRequest::CMD_DELETE</a></code></strong>
     </dt>
     <dd>
      <p class="para">
       comando DELETE (método)
      </p>
     </dd>
    
    
     <dt id="eventhttprequest.constants.cmd-options">
      <strong><code><a href="#eventhttprequest.constants.cmd-options">EventHttpRequest::CMD_OPTIONS</a></code></strong>
     </dt>
     <dd>
      <p class="para">
       método OPTIONS (comando)
      </p>
     </dd>
    
    
     <dt id="eventhttprequest.constants.cmd-trace">
      <strong><code><a href="#eventhttprequest.constants.cmd-trace">EventHttpRequest::CMD_TRACE</a></code></strong>
     </dt>
     <dd>
      <p class="para">
       método TRACE (comando)
      </p>
     </dd>
    
    
     <dt id="eventhttprequest.constants.cmd-connect">
      <strong><code><a href="#eventhttprequest.constants.cmd-connect">EventHttpRequest::CMD_CONNECT</a></code></strong>
     </dt>
     <dd>
      <p class="para">
       método CONNECT (comando)
      </p>
     </dd>
    
    
     <dt id="eventhttprequest.constants.cmd-patch">
      <strong><code><a href="#eventhttprequest.constants.cmd-patch">EventHttpRequest::CMD_PATCH</a></code></strong>
     </dt>
     <dd>
      <p class="para">
       método PATCH (comando)
      </p>
     </dd>
    
    
     <dt id="eventhttprequest.constants.input-header">
      <strong><code><a href="#eventhttprequest.constants.input-header">EventHttpRequest::INPUT_HEADER</a></code></strong>
     </dt>
     <dd>
      <p class="para">
       Solicita el tipo de encabezado de entrada.
      </p>
     </dd>
    
    
     <dt id="eventhttprequest.constants.output-header">
      <strong><code><a href="#eventhttprequest.constants.output-header">EventHttpRequest::OUTPUT_HEADER</a></code></strong>
     </dt>
     <dd>
      <p class="para">
       Solicita el tipo de encabezado de salida.
      </p>
     </dd>
    
   </dl>
  </div>

 </div>

 



<div id="eventhttprequest.addheader" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">EventHttpRequest::addHeader</h1>
  <p class="verinfo">(PECL event &gt;= 1.4.0-beta)</p><p class="refpurpose"><span class="refname">EventHttpRequest::addHeader</span> — <span class="dc-title">Añade un encabezado HTTP a los encabezados de la petición</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-eventhttprequest.addheader-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span>
   <span class="methodname"><strong>EventHttpRequest::addHeader</strong></span>(<span class="methodparam">
    
    <span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$key</code>
   </span>, <span class="methodparam">
    
    <span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$value</code>
   </span>, <span class="methodparam">
    
    <span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$type</code>
   </span>): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>

  <p class="para rdfs-comment">
   Añade un encabezado HTTP a los encabezados de la petición.
  </p>
 </div>

 <div class="refsect1 parameters" id="refsect1-eventhttprequest.addheader-parameters">
  <h3 class="title">Parámetros</h3>
  <dl>
   
    <dt>
     <code class="parameter">key</code>
    </dt>
    <dd>
     <p class="para">
      Nombre del encabezado.
     </p>
    </dd>
   
   
    <dt>
     <code class="parameter">value</code>
    </dt>
    <dd>
     <p class="para">
      Valor del encabezado.
     </p>
    </dd>
   
   
    <dt>
     <code class="parameter">type</code>
    </dt>
    <dd>
     <p class="para">
      Una de las constantes
      <a href="#eventhttprequest.constants" class="link">
       <code class="literal">EventHttpRequest::*_HEADER</code></a>.
     </p>
    </dd>
   
  </dl>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-eventhttprequest.addheader-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Esta función retorna <strong><code><a href="#constant.true">true</a></code></strong> en caso de éxito o <strong><code><a href="#constant.false">false</a></code></strong> si ocurre un error.
  </p>
 </div>

 <div class="refsect1 seealso" id="refsect1-eventhttprequest.addheader-seealso">
  <h3 class="title">Ver también</h3>
  <ul class="simplelist">
   <li>
    <span class="methodname"><a href="#eventhttprequest.removeheader" class="methodname" rel="rdfs-seeAlso">EventHttpRequest::removeHeader()</a> - Elimina un encabezado HTTP de los encabezados de la petición</span>
   </li>
  </ul>
 </div>

</div>
<hr>









<div id="eventhttprequest.cancel" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">EventHttpRequest::cancel</h1>
  <p class="verinfo">(PECL event &gt;= 1.4.0-beta)</p><p class="refpurpose"><span class="refname">EventHttpRequest::cancel</span> — <span class="dc-title">Cancela una petición HTTP pendiente</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-eventhttprequest.cancel-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span>
   <span class="methodname"><strong>EventHttpRequest::cancel</strong></span>(): <span class="type"><a href="language.types.void.html" class="type void">void</a></span></div>

  <p class="para rdfs-comment">
   Cancela una petición HTTP pendiente.
  </p>
  <p class="para">
   Cancela una petición HTTP entrante. La retrollamada asociada con
   esta petición no será ejecutada, y el objeto de la petición, liberado.
   Si la petición está en curso de procesamiento, el objeto <span class="classname"><a href="#class.eventhttpconnection" class="classname">EventHttpConnection</a></span>
   correspondiente será re-inicializado.
  </p>
  <p class="para">
   Una petición no puede ser cancelada si su retrollamada ya ha sido ejecutada.
   Una petición puede ser cancelada desde su retrollamada.
  </p>
 </div>

 <div class="refsect1 parameters" id="refsect1-eventhttprequest.cancel-parameters">
  <h3 class="title">Parámetros</h3>
  <p class="para">Esta función no contiene ningún parámetro.</p>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-eventhttprequest.cancel-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   No se retorna ningún valor.
  </p>
 </div>

</div>
<hr>








<div id="eventhttprequest.clearheaders" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">EventHttpRequest::clearHeaders</h1>
  <p class="verinfo">(PECL event &gt;= 1.4.0-beta)</p><p class="refpurpose"><span class="refname">EventHttpRequest::clearHeaders</span> — <span class="dc-title">Elimina todos los encabezados de la lista de encabezados de la petición</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-eventhttprequest.clearheaders-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span>
   <span class="methodname"><strong>EventHttpRequest::clearHeaders</strong></span>(): <span class="type"><a href="language.types.void.html" class="type void">void</a></span></div>

  <p class="para rdfs-comment">
   Elimina todos los encabezados de la lista de encabezados de la petición.
  </p>
 </div>

 <div class="refsect1 parameters" id="refsect1-eventhttprequest.clearheaders-parameters">
  <h3 class="title">Parámetros</h3>
  <p class="para">Esta función no contiene ningún parámetro.</p>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-eventhttprequest.clearheaders-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   No se retorna ningún valor.
  </p>
 </div>

 <div class="refsect1 seealso" id="refsect1-eventhttprequest.clearheaders-seealso">
  <h3 class="title">Ver también</h3>
  <ul class="simplelist">
   <li>
    <span class="methodname"><a href="#eventhttprequest.addheader" class="methodname" rel="rdfs-seeAlso">EventHttpRequest::addHeader()</a> - Añade un encabezado HTTP a los encabezados de la petición</span>
   </li>
  </ul>
 </div>

</div>
<hr>









<div id="eventhttprequest.closeconnection" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">EventHttpRequest::closeConnection</h1>
  <p class="verinfo">(PECL event &gt;= 1.8.0)</p><p class="refpurpose"><span class="refname">EventHttpRequest::closeConnection</span> — <span class="dc-title">Cierra las conexiones HTTP asociadas</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-eventhttprequest.closeconnection-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span>
   <span class="methodname"><strong>EventHttpRequest::closeConnection</strong></span>(): <span class="type"><a href="language.types.void.html" class="type void">void</a></span></div>

  <p class="para rdfs-comment">
   Cierra las conexiones HTTP asociadas con la petición.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-eventhttprequest.closeconnection-parameters">
  <h3 class="title">Parámetros</h3>
  <p class="para">Esta función no contiene ningún parámetro.</p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-eventhttprequest.closeconnection-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   No se retorna ningún valor.
  </p>
 </div>


</div>
<hr>









<div id="eventhttprequest.construct" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">EventHttpRequest::__construct</h1>
  <p class="verinfo">(PECL event &gt;= 1.4.0-beta)</p><p class="refpurpose"><span class="refname">EventHttpRequest::__construct</span> — <span class="dc-title">Construye un objeto EventHttpRequest</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-eventhttprequest.construct-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description"><span class="modifier">public</span>
   <span class="methodname"><strong>EventHttpRequest::__construct</strong></span>(<span class="methodparam">
    
    <span class="type"><a href="#language.types.callable" class="type callable">callable</a></span> <code class="parameter">$callback</code>
   </span>, <span class="methodparam">
    
    <span class="type"><a href="#language.types.mixed" class="type mixed">mixed</a></span> <code class="parameter">$data</code>
    <span class="initializer"> = <strong><code><a href="#constant.null">null</a></code></strong></span>
   </span>)</div>

  <p class="para rdfs-comment">
   Construye un objeto EventHttpRequest.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-eventhttprequest.construct-parameters">
  <h3 class="title">Parámetros</h3>
  <dl>
   
    <dt>
     <code class="parameter">callback</code>
    </dt>
    <dd>
     <p class="para">
      Función de retrollamada llamada con la ruta solicitada.
      Debe corresponder al siguiente prototipo:
     </p>
     <div class="methodsynopsis dc-description">
      <span class="methodname"><strong>callback</strong></span>(<span class="methodparam">
       
       <span class="type"><a href="#class.eventhttprequest" class="type EventHttpRequest">EventHttpRequest</a></span> <code class="parameter">$req</code>
       <span class="initializer"> = <strong><code><a href="#constant.null">null</a></code></strong></span>
      </span>, <span class="methodparam">
       
       <span class="type"><a href="#language.types.mixed" class="type mixed">mixed</a></span> <code class="parameter">$arg</code>
       <span class="initializer"> = <strong><code><a href="#constant.null">null</a></code></strong></span>
      </span>): <span class="type"><a href="language.types.void.html" class="type void">void</a></span></div>

    </dd>
   
   
    <dt>
     <code class="parameter">data</code>
    </dt>
    <dd>
     <p class="para">
      Datos personalizados del usuario para pasar a
      la función de retrollamada.
     </p>
    </dd>
   
  </dl>
 </div>

 <div class="refsect1 examples" id="refsect1-eventhttprequest.construct-examples">
  <h3 class="title">Ejemplos</h3>
  <div class="example" id="example-4558">
   <p><strong>Ejemplo #1 
    Ejemplo con <span class="function"><strong>EventHttpRequest::__construct()</strong></span></strong></p>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br><br></span><span style="color: #007700">function </span><span style="color: #0000BB">_request_handler</span><span style="color: #007700">(</span><span style="color: #0000BB">$req</span><span style="color: #007700">, </span><span style="color: #0000BB">$base</span><span style="color: #007700">) {<br>    echo </span><span style="color: #0000BB">__FUNCTION__</span><span style="color: #007700">, </span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br><br>    if (</span><span style="color: #0000BB">is_null</span><span style="color: #007700">(</span><span style="color: #0000BB">$req</span><span style="color: #007700">)) {<br>        echo </span><span style="color: #DD0000">"Tiempo límite de ejecución alcanzado\n"</span><span style="color: #007700">;<br>    } else {<br>        </span><span style="color: #0000BB">$response_code </span><span style="color: #007700">= </span><span style="color: #0000BB">$req</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getResponseCode</span><span style="color: #007700">();<br><br>        if (</span><span style="color: #0000BB">$response_code </span><span style="color: #007700">== </span><span style="color: #0000BB">0</span><span style="color: #007700">) {<br>            echo </span><span style="color: #DD0000">"Conexión rechazada\n"</span><span style="color: #007700">;<br>        } elseif (</span><span style="color: #0000BB">$response_code </span><span style="color: #007700">!= </span><span style="color: #0000BB">200</span><span style="color: #007700">) {<br>            echo </span><span style="color: #DD0000">"Respuesta inesperada: </span><span style="color: #0000BB">$response_code</span><span style="color: #DD0000">\n"</span><span style="color: #007700">;<br>        } else {<br>            echo </span><span style="color: #DD0000">"Éxito: </span><span style="color: #0000BB">$response_code</span><span style="color: #DD0000">\n"</span><span style="color: #007700">;<br>            </span><span style="color: #0000BB">$buf </span><span style="color: #007700">= </span><span style="color: #0000BB">$req</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getInputBuffer</span><span style="color: #007700">();<br>            echo </span><span style="color: #DD0000">"Body:\n"</span><span style="color: #007700">;<br>            while (</span><span style="color: #0000BB">$s </span><span style="color: #007700">= </span><span style="color: #0000BB">$buf</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">readLine</span><span style="color: #007700">(</span><span style="color: #0000BB">EventBuffer</span><span style="color: #007700">::</span><span style="color: #0000BB">EOL_ANY</span><span style="color: #007700">)) {<br>                echo </span><span style="color: #0000BB">$s</span><span style="color: #007700">, </span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br>            }<br>        }<br>    }<br><br>    </span><span style="color: #0000BB">$base</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">exit</span><span style="color: #007700">(</span><span style="color: #0000BB">NULL</span><span style="color: #007700">);<br>}<br><br></span><span style="color: #0000BB">$address </span><span style="color: #007700">= </span><span style="color: #DD0000">"127.0.0.1"</span><span style="color: #007700">;<br></span><span style="color: #0000BB">$port </span><span style="color: #007700">= </span><span style="color: #0000BB">80</span><span style="color: #007700">;<br><br></span><span style="color: #0000BB">$base </span><span style="color: #007700">= new </span><span style="color: #0000BB">EventBase</span><span style="color: #007700">();<br></span><span style="color: #0000BB">$conn </span><span style="color: #007700">= new </span><span style="color: #0000BB">EventHttpConnection</span><span style="color: #007700">(</span><span style="color: #0000BB">$base</span><span style="color: #007700">, </span><span style="color: #0000BB">NULL</span><span style="color: #007700">, </span><span style="color: #0000BB">$address</span><span style="color: #007700">, </span><span style="color: #0000BB">$port</span><span style="color: #007700">);<br></span><span style="color: #0000BB">$conn</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setTimeout</span><span style="color: #007700">(</span><span style="color: #0000BB">5</span><span style="color: #007700">);<br></span><span style="color: #0000BB">$req </span><span style="color: #007700">= new </span><span style="color: #0000BB">EventHttpRequest</span><span style="color: #007700">(</span><span style="color: #DD0000">"_request_handler"</span><span style="color: #007700">, </span><span style="color: #0000BB">$base</span><span style="color: #007700">);<br><br></span><span style="color: #0000BB">$req</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">addHeader</span><span style="color: #007700">(</span><span style="color: #DD0000">"Host"</span><span style="color: #007700">, </span><span style="color: #0000BB">$address</span><span style="color: #007700">, </span><span style="color: #0000BB">EventHttpRequest</span><span style="color: #007700">::</span><span style="color: #0000BB">OUTPUT_HEADER</span><span style="color: #007700">);<br></span><span style="color: #0000BB">$req</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">addHeader</span><span style="color: #007700">(</span><span style="color: #DD0000">"Content-Length"</span><span style="color: #007700">, </span><span style="color: #DD0000">"0"</span><span style="color: #007700">, </span><span style="color: #0000BB">EventHttpRequest</span><span style="color: #007700">::</span><span style="color: #0000BB">OUTPUT_HEADER</span><span style="color: #007700">);<br></span><span style="color: #0000BB">$conn</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">makeRequest</span><span style="color: #007700">(</span><span style="color: #0000BB">$req</span><span style="color: #007700">, </span><span style="color: #0000BB">EventHttpRequest</span><span style="color: #007700">::</span><span style="color: #0000BB">CMD_GET</span><span style="color: #007700">, </span><span style="color: #DD0000">"/index.cphp"</span><span style="color: #007700">);<br><br></span><span style="color: #0000BB">$base</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">loop</span><span style="color: #007700">();<br></span><span style="color: #0000BB">?&gt;</span></span></code></div>
   </div>

  </div>
 </div>

 <div class="refsect1 seealso" id="refsect1-eventhttprequest.construct-seealso">
  <h3 class="title">Ver también</h3>
  <ul class="simplelist">
   <li>
    <span class="methodname"><a href="#eventhttprequest.cancel" class="methodname" rel="rdfs-seeAlso">EventHttpRequest::cancel()</a> - Cancela una petición HTTP pendiente</span>
   </li>
   <li>
    <span class="methodname"><a href="#eventhttprequest.addheader" class="methodname" rel="rdfs-seeAlso">EventHttpRequest::addHeader()</a> - Añade un encabezado HTTP a los encabezados de la petición</span>
   </li>
  </ul>
 </div>

</div>
<hr>







<div id="eventhttprequest.findheader" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">EventHttpRequest::findHeader</h1>
  <p class="verinfo">(PECL event &gt;= 1.4.0-beta)</p><p class="refpurpose"><span class="refname">EventHttpRequest::findHeader</span> — <span class="dc-title">Busca el valor de un encabezado</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-eventhttprequest.findheader-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span>
   <span class="methodname"><strong>EventHttpRequest::findHeader</strong></span>(<span class="methodparam">
    
    <span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$key</code>
   </span>, <span class="methodparam">
    
    <span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$type</code>
   </span>): <span class="type"><a href="language.types.void.html" class="type void">void</a></span></div>

  <p class="para rdfs-comment">
   Busca el valor de un encabezado.
  </p>
 </div>

 <div class="refsect1 parameters" id="refsect1-eventhttprequest.findheader-parameters">
  <h3 class="title">Parámetros</h3>
  <dl>
   
    <dt>
     <code class="parameter">key</code>
    </dt>
    <dd>
     <p class="para">
      El nombre del encabezado.
     </p>
    </dd>
   
   
    <dt>
     <code class="parameter">type</code>
    </dt>
    <dd>
     <p class="para">
      Una de las constantes
      <a href="#eventhttprequest.constants" class="link">
       <code class="literal">EventHttpRequest::*_HEADER</code></a>.
     </p>
    </dd>
   
  </dl>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-eventhttprequest.findheader-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Devuelve <strong><code><a href="#constant.null">null</a></code></strong> si el encabezado no ha sido encontrado.
  </p>
 </div>

 <div class="refsect1 seealso" id="refsect1-eventhttprequest.findheader-seealso">
  <h3 class="title">Ver también</h3>
  <ul class="simplelist">
   <li>
    <span class="methodname"><a href="#eventhttprequest.addheader" class="methodname" rel="rdfs-seeAlso">EventHttpRequest::addHeader()</a> - Añade un encabezado HTTP a los encabezados de la petición</span>
   </li>
  </ul>
 </div>

</div>
<hr>









<div id="eventhttprequest.free" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">EventHttpRequest::free</h1>
  <p class="verinfo">(PECL event &gt;= 1.4.0-beta)</p><p class="refpurpose"><span class="refname">EventHttpRequest::free</span> — <span class="dc-title">Libera el objeto y elimina los eventos asociados</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-eventhttprequest.free-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span>
   <span class="methodname"><strong>EventHttpRequest::free</strong></span>(): <span class="type"><a href="language.types.void.html" class="type void">void</a></span></div>

  <p class="para rdfs-comment">
   Libera el objeto y elimina los eventos asociados.
  </p>
 </div>

 <div class="refsect1 parameters" id="refsect1-eventhttprequest.free-parameters">
  <h3 class="title">Parámetros</h3>
  <p class="para">Esta función no contiene ningún parámetro.</p>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-eventhttprequest.free-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   No se retorna ningún valor.
  </p>
 </div>

</div>
<hr>









<div id="eventhttprequest.getbufferevent" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">EventHttpRequest::getBufferEvent</h1>
  <p class="verinfo">(PECL event &gt;= 1.8.0)</p><p class="refpurpose"><span class="refname">EventHttpRequest::getBufferEvent</span> — <span class="dc-title">Devuelve el objeto EventBufferEvent</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-eventhttprequest.getbufferevent-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description"><span class="modifier">public</span>
   <span class="methodname"><a href="#eventhttprequest.closeconnection" class="methodname">EventHttpRequest::closeConnection</a></span>(): <span class="type"><a href="#class.eventbufferevent" class="type EventBufferEvent">EventBufferEvent</a></span></div>

  <p class="para rdfs-comment">
   Devuelve el objeto <span class="classname"><a href="#class.eventbufferevent" class="classname">EventBufferEvent</a></span>
   que representa el evento de buffer que la conexión utiliza.
  </p>
  <div class="warning"><strong class="warning">Advertencia</strong>
   <p class="para">
    El contador de referencia del objeto devuelto será incrementado en uno para
    proteger las estructuras internas contra destrucciones prematuras cuando
    el método es llamado desde una función de retrollamada. El objeto
    <span class="classname"><a href="#class.eventbufferevent" class="classname">EventBufferEvent</a></span> debe ser liberado explícitamente
    a través del método <span class="methodname"><a href="#eventbufferevent.free" class="methodname">EventBufferEvent::free()</a></span>.
    De lo contrario, habrá una fuga de memoria.
   </p>
  </div>
 </div>

 <div class="refsect1 parameters" id="refsect1-eventhttprequest.getbufferevent-parameters">
  <h3 class="title">Parámetros</h3>
  <p class="para">Esta función no contiene ningún parámetro.</p>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-eventhttprequest.getbufferevent-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Devuelve un objeto <span class="classname"><a href="#class.eventbufferevent" class="classname">EventBufferEvent</a></span>.
  </p>
 </div>

 <div class="refsect1 seealso" id="refsect1-eventhttprequest.getbufferevent-seealso">
  <h3 class="title">Ver también</h3>
  <ul class="simplelist">
   <li>
    <span class="methodname"><a href="#eventhttprequest.getconnection" class="methodname" rel="rdfs-seeAlso">EventHttpRequest::getConnection()</a> - Devuelve un objeto EventHttpConnection</span>
   </li>
  </ul>
 </div>

</div>
<hr>








<div id="eventhttprequest.getcommand" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">EventHttpRequest::getCommand</h1>
  <p class="verinfo">(PECL event &gt;= 1.4.0-beta)</p><p class="refpurpose"><span class="refname">EventHttpRequest::getCommand</span> — <span class="dc-title">Devuelve el comando de la petición (método)</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-eventhttprequest.getcommand-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span>
   <span class="methodname"><strong>EventHttpRequest::getCommand</strong></span>(): <span class="type"><a href="language.types.void.html" class="type void">void</a></span></div>

  <p class="para rdfs-comment">
   Devuelve el comando de la petición; una de las constantes
   <a href="#eventhttprequest.constants" class="link">
    <code class="literal">EventHttpRequest::CMD_*</code>
   </a>.
  </p>
 </div>

 <div class="refsect1 parameters" id="refsect1-eventhttprequest.getcommand-parameters">
  <h3 class="title">Parámetros</h3>
  <p class="para">Esta función no contiene ningún parámetro.</p>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-eventhttprequest.getcommand-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Devuelve el comando de la petición; una de las constantes
   <a href="#eventhttprequest.constants" class="link">
    <code class="literal">EventHttpRequest::CMD_*</code>
   </a>.
  </p>
 </div>

</div>
<hr>








<div id="eventhttprequest.getconnection" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">EventHttpRequest::getConnection</h1>
  <p class="verinfo">(PECL event &gt;= 1.8.0)</p><p class="refpurpose"><span class="refname">EventHttpRequest::getConnection</span> — <span class="dc-title">Devuelve un objeto EventHttpConnection</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-eventhttprequest.getconnection-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span>
   <span class="methodname"><a href="#eventhttprequest.closeconnection" class="methodname">EventHttpRequest::closeConnection</a></span>(): <span class="type"><a href="#class.eventhttpconnection" class="type EventHttpConnection">EventHttpConnection</a></span></div>

  <p class="para rdfs-comment">
   Devuelve un objeto <span class="classname"><a href="#class.eventhttpconnection" class="classname">EventHttpConnection</a></span>
   que representa una conexión HTTP asociada a la petición.
  </p>
  <div class="warning"><strong class="warning">Advertencia</strong>
   <p class="para">
    La API Libevent permite que los objetos de petición HTTP no estén
    ligados a una conexión HTTP. Sin embargo, no se puede disociar
    <span class="classname"><a href="#class.eventhttprequest" class="classname">EventHttpRequest</a></span> de
    <span class="classname"><a href="#class.eventhttpconnection" class="classname">EventHttpConnection</a></span>. Por lo tanto, se construye
    el objeto <span class="classname"><a href="#class.eventhttpconnection" class="classname">EventHttpConnection</a></span> sobre la marcha.
    Dado que no se dispone de información sobre el evento de base,
    la base DNS, ni sobre la función de retrollamada asociada al cierre
    de la conexión, se establecen estos campos como indefinidos.
   </p>
  </div>
  <p class="para">
   El método <span class="methodname"><strong>EventHttpRequest::getConnection()</strong></span>
   es habitualmente útil cuando se debe definir una función de retrollamada
   para asociarla al cierre de la conexión. Ver el método
   <span class="methodname"><a href="#eventhttpconnection.setclosecallback" class="methodname">EventHttpConnection::setCloseCallback()</a></span>.
  </p>
 </div>

 <div class="refsect1 parameters" id="refsect1-eventhttprequest.getconnection-parameters">
  <h3 class="title">Parámetros</h3>
  <p class="para">Esta función no contiene ningún parámetro.</p>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-eventhttprequest.getconnection-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Devuelve un objeto <span class="classname"><a href="#class.eventhttpconnection" class="classname">EventHttpConnection</a></span>.
  </p>
 </div>

 <div class="refsect1 seealso" id="refsect1-eventhttprequest.getconnection-seealso">
  <h3 class="title">Ver también</h3>
  <ul class="simplelist">
   <li><span class="methodname"><a href="#eventhttpconnection.setclosecallback" class="methodname" rel="rdfs-seeAlso">EventHttpConnection::setCloseCallback()</a> - Define una función de retrollamada al cerrar la conexión</span></li>
   <li><span class="methodname"><a href="#eventhttprequest.getbufferevent" class="methodname" rel="rdfs-seeAlso">EventHttpRequest::getBufferEvent()</a> - Devuelve el objeto EventBufferEvent</span></li>
  </ul>
 </div>

</div>
<hr>









<div id="eventhttprequest.gethost" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">EventHttpRequest::getHost</h1>
  <p class="verinfo">(PECL event &gt;= 1.4.0-beta)</p><p class="refpurpose"><span class="refname">EventHttpRequest::getHost</span> — <span class="dc-title">Devuelve el host solicitado</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-eventhttprequest.gethost-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span>
   <span class="methodname"><strong>EventHttpRequest::getHost</strong></span>(): <span class="type"><a href="#language.types.string" class="type string">string</a></span></div>

  <p class="para rdfs-comment">
   Devuelve el host solicitado.
  </p>
 </div>

 <div class="refsect1 parameters" id="refsect1-eventhttprequest.gethost-parameters">
  <h3 class="title">Parámetros</h3>
  <p class="para">Esta función no contiene ningún parámetro.</p>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-eventhttprequest.gethost-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Devuelve el host solicitado.
  </p>
 </div>

 <div class="refsect1 seealso" id="refsect1-eventhttprequest.gethost-seealso">
  <h3 class="title">Ver también</h3>
  <ul class="simplelist">
   <li>
    <span class="methodname"><a href="#eventhttprequest.geturi" class="methodname" rel="rdfs-seeAlso">EventHttpRequest::getUri()</a> - Devuelve el URI de la petición</span>
   </li>
   <li>
    <span class="methodname"><a href="#eventhttprequest.getcommand" class="methodname" rel="rdfs-seeAlso">EventHttpRequest::getCommand()</a> - Devuelve el comando de la petición (método)</span>
   </li>
  </ul>
 </div>

</div>
<hr>









<div id="eventhttprequest.getinputbuffer" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">EventHttpRequest::getInputBuffer</h1>
  <p class="verinfo">(PECL event &gt;= 1.4.0-beta)</p><p class="refpurpose"><span class="refname">EventHttpRequest::getInputBuffer</span> — <span class="dc-title">Devuelve el buffer de entrada</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-eventhttprequest.getinputbuffer-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span>
   <span class="methodname"><strong>EventHttpRequest::getInputBuffer</strong></span>(): <span class="type"><a href="#class.eventbuffer" class="type EventBuffer">EventBuffer</a></span></div>

  <p class="para rdfs-comment">
   Devuelve el buffer de entrada.
  </p>
 </div>

 <div class="refsect1 parameters" id="refsect1-eventhttprequest.getinputbuffer-parameters">
  <h3 class="title">Parámetros</h3>
  <p class="para">Esta función no contiene ningún parámetro.</p>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-eventhttprequest.getinputbuffer-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Devuelve el buffer de entrada.
  </p>
 </div>

 <div class="refsect1 seealso" id="refsect1-eventhttprequest.getinputbuffer-seealso">
  <h3 class="title">Ver también</h3>
  <ul class="simplelist">
   <li>
    <span class="methodname"><a href="#eventhttprequest.getoutputbuffer" class="methodname" rel="rdfs-seeAlso">EventHttpRequest::getOutputBuffer()</a> - Devuelve el buffer de salida de la petición</span>
   </li>
  </ul>
 </div>

</div>
<hr>








<div id="eventhttprequest.getinputheaders" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">EventHttpRequest::getInputHeaders</h1>
  <p class="verinfo">(PECL event &gt;= 1.4.0-beta)</p><p class="refpurpose"><span class="refname">EventHttpRequest::getInputHeaders</span> — <span class="dc-title">Devuelve el array asociativo que contiene los encabezados de entrada</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-eventhttprequest.getinputheaders-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span>
   <span class="methodname"><strong>EventHttpRequest::getInputHeaders</strong></span>(): <span class="type"><a href="#language.types.array" class="type array">array</a></span></div>

  <p class="para rdfs-comment">
   Devuelve el array asociativo que contiene los encabezados de entrada.
  </p>
 </div>

 <div class="refsect1 parameters" id="refsect1-eventhttprequest.getinputheaders-parameters">
  <h3 class="title">Parámetros</h3>
  <p class="para">Esta función no contiene ningún parámetro.</p>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-eventhttprequest.getinputheaders-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Devuelve el array asociativo que contiene los encabezados de entrada.
  </p>
 </div>

 <div class="refsect1 seealso" id="refsect1-eventhttprequest.getinputheaders-seealso">
  <h3 class="title">Ver también</h3>
  <ul class="simplelist">
   <li>
    <span class="methodname"><a href="#eventhttprequest.getoutputheaders" class="methodname" rel="rdfs-seeAlso">EventHttpRequest::getOutputHeaders()</a> - Devuelve un array asociativo que contiene los encabezados de salida</span>
   </li>
  </ul>
 </div>

</div>
<hr>








<div id="eventhttprequest.getoutputbuffer" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">EventHttpRequest::getOutputBuffer</h1>
  <p class="verinfo">(PECL event &gt;= 1.4.0-beta)</p><p class="refpurpose"><span class="refname">EventHttpRequest::getOutputBuffer</span> — <span class="dc-title">Devuelve el buffer de salida de la petición</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-eventhttprequest.getoutputbuffer-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span>
   <span class="methodname"><strong>EventHttpRequest::getOutputBuffer</strong></span>(): <span class="type"><a href="#class.eventbuffer" class="type EventBuffer">EventBuffer</a></span></div>

  <p class="para rdfs-comment">
   Devuelve el buffer de salida de la petición.
  </p>
 </div>

 <div class="refsect1 parameters" id="refsect1-eventhttprequest.getoutputbuffer-parameters">
  <h3 class="title">Parámetros</h3>
  <p class="para">Esta función no contiene ningún parámetro.</p>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-eventhttprequest.getoutputbuffer-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Devuelve el buffer de salida de la petición.
  </p>
 </div>

 <div class="refsect1 seealso" id="refsect1-eventhttprequest.getoutputbuffer-seealso">
  <h3 class="title">Ver también</h3>
  <ul class="simplelist">
   <li>
    <span class="methodname"><a href="#eventhttprequest.getinputbuffer" class="methodname" rel="rdfs-seeAlso">EventHttpRequest::getInputBuffer()</a> - Devuelve el buffer de entrada</span>
   </li>
  </ul>
 </div>

</div>
<hr>








<div id="eventhttprequest.getoutputheaders" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">EventHttpRequest::getOutputHeaders</h1>
  <p class="verinfo">(PECL event &gt;= 1.4.0-beta)</p><p class="refpurpose"><span class="refname">EventHttpRequest::getOutputHeaders</span> — <span class="dc-title">Devuelve un array asociativo que contiene los encabezados de salida</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-eventhttprequest.getoutputheaders-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span>
   <span class="methodname"><strong>EventHttpRequest::getOutputHeaders</strong></span>(): <span class="type"><a href="language.types.void.html" class="type void">void</a></span></div>

  <p class="para rdfs-comment">
   Devuelve un array asociativo que contiene los encabezados de salida.
  </p>
 </div>

 <div class="refsect1 parameters" id="refsect1-eventhttprequest.getoutputheaders-parameters">
  <h3 class="title">Parámetros</h3>
  <p class="para">Esta función no contiene ningún parámetro.</p>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-eventhttprequest.getoutputheaders-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
 </p></div>

 <div class="refsect1 seealso" id="refsect1-eventhttprequest.getoutputheaders-seealso">
  <h3 class="title">Ver también</h3>
  <ul class="simplelist">
   <li>
    <span class="methodname"><a href="#eventhttprequest.getinputheaders" class="methodname" rel="rdfs-seeAlso">EventHttpRequest::getInputHeaders()</a> - Devuelve el array asociativo que contiene los encabezados de entrada</span>
   </li>
  </ul>
 </div>

</div>
<hr>








<div id="eventhttprequest.getresponsecode" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">EventHttpRequest::getResponseCode</h1>
  <p class="verinfo">(PECL event &gt;= 1.4.0-beta)</p><p class="refpurpose"><span class="refname">EventHttpRequest::getResponseCode</span> — <span class="dc-title">Devuelve el código de la respuesta</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-eventhttprequest.getresponsecode-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span>
   <span class="methodname"><strong>EventHttpRequest::getResponseCode</strong></span>(): <span class="type"><a href="#language.types.integer" class="type int">int</a></span></div>

  <p class="para rdfs-comment">
   Devuelve el código de la respuesta.
  </p>
 </div>

 <div class="refsect1 parameters" id="refsect1-eventhttprequest.getresponsecode-parameters">
  <h3 class="title">Parámetros</h3>
  <p class="para">Esta función no contiene ningún parámetro.</p>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-eventhttprequest.getresponsecode-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Devuelve el código de la respuesta.
  </p>
 </div>

 <div class="refsect1 seealso" id="refsect1-eventhttprequest.getresponsecode-seealso">
  <h3 class="title">Ver también</h3>
  <ul class="simplelist">
   <li>
    <span class="methodname"><a href="#eventhttprequest.getcommand" class="methodname" rel="rdfs-seeAlso">EventHttpRequest::getCommand()</a> - Devuelve el comando de la petición (método)</span>
   </li>
   <li>
    <span class="methodname"><a href="#eventhttprequest.gethost" class="methodname" rel="rdfs-seeAlso">EventHttpRequest::getHost()</a> - Devuelve el host solicitado</span>
   </li>
   <li>
    <span class="methodname"><a href="#eventhttprequest.geturi" class="methodname" rel="rdfs-seeAlso">EventHttpRequest::getUri()</a> - Devuelve el URI de la petición</span>
   </li>
  </ul>
 </div>

</div>
<hr>








<div id="eventhttprequest.geturi" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">EventHttpRequest::getUri</h1>
  <p class="verinfo">(PECL event &gt;= 1.4.0-beta)</p><p class="refpurpose"><span class="refname">EventHttpRequest::getUri</span> — <span class="dc-title">Devuelve el URI de la petición</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-eventhttprequest.geturi-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span>
   <span class="methodname"><strong>EventHttpRequest::getUri</strong></span>(): <span class="type"><a href="#language.types.string" class="type string">string</a></span></div>

  <p class="para rdfs-comment">
   Devuelve el URI de la petición.
  </p>
 </div>

 <div class="refsect1 parameters" id="refsect1-eventhttprequest.geturi-parameters">
  <h3 class="title">Parámetros</h3>
  <p class="para">Esta función no contiene ningún parámetro.</p>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-eventhttprequest.geturi-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Devuelve el URI de la petición.
  </p>
 </div>

 <div class="refsect1 seealso" id="refsect1-eventhttprequest.geturi-seealso">
  <h3 class="title">Ver también</h3>
  <ul class="simplelist">
   <li>
    <span class="methodname"><a href="#eventhttprequest.getcommand" class="methodname" rel="rdfs-seeAlso">EventHttpRequest::getCommand()</a> - Devuelve el comando de la petición (método)</span>
   </li>
   <li>
    <span class="methodname"><a href="#eventhttprequest.gethost" class="methodname" rel="rdfs-seeAlso">EventHttpRequest::getHost()</a> - Devuelve el host solicitado</span>
   </li>
   <li>
    <span class="methodname"><a href="#eventhttprequest.getresponsecode" class="methodname" rel="rdfs-seeAlso">EventHttpRequest::getResponseCode()</a> - Devuelve el código de la respuesta</span>
   </li>
  </ul>
 </div>

</div>
<hr>








<div id="eventhttprequest.removeheader" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">EventHttpRequest::removeHeader</h1>
  <p class="verinfo">(PECL event &gt;= 1.4.0-beta)</p><p class="refpurpose"><span class="refname">EventHttpRequest::removeHeader</span> — <span class="dc-title">Elimina un encabezado HTTP de los encabezados de la petición</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-eventhttprequest.removeheader-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span>
   <span class="methodname"><strong>EventHttpRequest::removeHeader</strong></span>(<span class="methodparam">
    
    <span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$key</code>
   </span>, <span class="methodparam">
    
    <span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$type</code>
   </span>): <span class="type"><a href="language.types.void.html" class="type void">void</a></span></div>

  <p class="para rdfs-comment">
   Elimina un encabezado HTTP de los encabezados de la petición.
  </p>
 </div>

 <div class="refsect1 parameters" id="refsect1-eventhttprequest.removeheader-parameters">
  <h3 class="title">Parámetros</h3>
  <dl>
   
    <dt>
     <code class="parameter">key</code>
    </dt>
    <dd>
     <p class="para">
      El nombre del encabezado.
     </p>
    </dd>
   
   
    <dt>
     <code class="parameter">type</code>
    </dt>
    <dd>
     <p class="para">
      Una constante <code class="literal">EventHttpRequest::*_HEADER</code>.
     </p>
    </dd>
   
  </dl>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-eventhttprequest.removeheader-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Elimina un encabezado HTTP de los encabezados de la petición.
  </p>
 </div>

 <div class="refsect1 seealso" id="refsect1-eventhttprequest.removeheader-seealso">
  <h3 class="title">Ver también</h3>
  <ul class="simplelist">
   <li>
    <span class="methodname"><a href="#eventhttprequest.addheader" class="methodname" rel="rdfs-seeAlso">EventHttpRequest::addHeader()</a> - Añade un encabezado HTTP a los encabezados de la petición</span>
   </li>
  </ul>
 </div>

</div>
<hr>








<div id="eventhttprequest.senderror" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">EventHttpRequest::sendError</h1>
  <p class="verinfo">(PECL event &gt;= 1.4.0-beta)</p><p class="refpurpose"><span class="refname">EventHttpRequest::sendError</span> — <span class="dc-title">Envía un mensaje de error HTML al cliente</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-eventhttprequest.senderror-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span>
   <span class="methodname"><strong>EventHttpRequest::sendError</strong></span>(<span class="methodparam">
    
    <span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$error</code>
   </span>, <span class="methodparam">
    
    <span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$reason</code>
    <span class="initializer"> = <strong><code><a href="#constant.null">null</a></code></strong></span>
   </span>): <span class="type"><a href="language.types.void.html" class="type void">void</a></span></div>

  <p class="para rdfs-comment">
   Envía un mensaje de error HTML al cliente.
  </p>
 </div>

 <div class="refsect1 parameters" id="refsect1-eventhttprequest.senderror-parameters">
  <h3 class="title">Parámetros</h3>
  <dl>
   
    <dt>
     <code class="parameter">error</code>
    </dt>
    <dd>
     <p class="para">
      El código de error HTTP.
     </p>
    </dd>
   
   
    <dt>
     <code class="parameter">reason</code>
    </dt>
    <dd>
     <p class="para">
      Una breve explicación del error. Si es <strong><code><a href="#constant.null">null</a></code></strong>, se utilizará el significado estándar del código de error.
     </p>
    </dd>
   
  </dl>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-eventhttprequest.senderror-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   No se retorna ningún valor.
  </p>
 </div>

 <div class="refsect1 examples" id="refsect1-eventhttprequest.senderror-examples">
  <h3 class="title">Ejemplos</h3>
  <div class="example" id="example-4559">
   <p><strong>Ejemplo #1 Ejemplo con <span class="function"><strong>EventHttpRequest::sendError()</strong></span></strong></p>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br></span><span style="color: #007700">function </span><span style="color: #0000BB">_http_400</span><span style="color: #007700">(</span><span style="color: #0000BB">$req</span><span style="color: #007700">) {<br>    </span><span style="color: #0000BB">$req</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">sendError</span><span style="color: #007700">(</span><span style="color: #0000BB">400</span><span style="color: #007700">);<br>}<br><br></span><span style="color: #0000BB">$base </span><span style="color: #007700">= new </span><span style="color: #0000BB">EventBase</span><span style="color: #007700">();<br></span><span style="color: #0000BB">$http </span><span style="color: #007700">= new </span><span style="color: #0000BB">EventHttp</span><span style="color: #007700">(</span><span style="color: #0000BB">$base</span><span style="color: #007700">);<br><br></span><span style="color: #0000BB">$http</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setCallback</span><span style="color: #007700">(</span><span style="color: #DD0000">"/err400"</span><span style="color: #007700">, </span><span style="color: #DD0000">"_http_400"</span><span style="color: #007700">);<br><br></span><span style="color: #0000BB">$http</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">bind</span><span style="color: #007700">(</span><span style="color: #DD0000">"0.0.0.0"</span><span style="color: #007700">, </span><span style="color: #0000BB">8010</span><span style="color: #007700">);<br></span><span style="color: #0000BB">$base</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">loop</span><span style="color: #007700">();<br></span><span style="color: #0000BB">?&gt;</span></span></code></div>
   </div>

  </div>
 </div>

 <div class="refsect1 seealso" id="refsect1-eventhttprequest.senderror-seealso">
  <h3 class="title">Ver también</h3>
  <ul class="simplelist">
   <li>
    <span class="methodname"><a href="#eventhttprequest.sendreply" class="methodname" rel="rdfs-seeAlso">EventHttpRequest::sendReply()</a> - Envía una respuesta HTML al cliente</span>
   </li>
  </ul>
 </div>

</div>
<hr>









<div id="eventhttprequest.sendreply" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">EventHttpRequest::sendReply</h1>
  <p class="verinfo">(PECL event &gt;= 1.4.0-beta)</p><p class="refpurpose"><span class="refname">EventHttpRequest::sendReply</span> — <span class="dc-title">Envía una respuesta HTML al cliente</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-eventhttprequest.sendreply-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span>
   <span class="methodname"><strong>EventHttpRequest::sendReply</strong></span>(<span class="methodparam">
    
    <span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$code</code>
   </span>, <span class="methodparam">
    
    <span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$reason</code>
   </span>, <span class="methodparam">
    
    <span class="type"><a href="#class.eventbuffer" class="type EventBuffer">EventBuffer</a></span> <code class="parameter">$buf</code>
   <span class="initializer"> = ?</span></span>): <span class="type"><a href="language.types.void.html" class="type void">void</a></span></div>

  <p class="para rdfs-comment">
   Envía una respuesta HTML al cliente. El cuerpo de la respuesta contiene
   los datos del parámetro opcional <code class="parameter">buf</code>.
  </p>
 </div>

 <div class="refsect1 parameters" id="refsect1-eventhttprequest.sendreply-parameters">
  <h3 class="title">Parámetros</h3>
  <dl>
   
    <dt>
     <code class="parameter">code</code>
    </dt>
    <dd>
     <p class="para">
      El código de respuesta HTTP a enviar.
     </p>
    </dd>
   
   
    <dt>
     <code class="parameter">reason</code>
    </dt>
    <dd>
     <p class="para">
      Un breve mensaje a enviar con el código de respuesta.
     </p>
    </dd>
   
   
    <dt>
     <code class="parameter">buf</code>
    </dt>
    <dd>
     <p class="para">
      El cuerpo de la respuesta.
     </p>
    </dd>
   
  </dl>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-eventhttprequest.sendreply-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   No se retorna ningún valor.
  </p>
 </div>

 <div class="refsect1 seealso" id="refsect1-eventhttprequest.sendreply-seealso">
  <h3 class="title">Ver también</h3>
  <ul class="simplelist">
   <li>
    <span class="methodname"><a href="#eventhttprequest.senderror" class="methodname" rel="rdfs-seeAlso">EventHttpRequest::sendError()</a> - Envía un mensaje de error HTML al cliente</span>
   </li>
   <li>
    <span class="methodname"><a href="#eventhttprequest.sendreplychunk" class="methodname" rel="rdfs-seeAlso">EventHttpRequest::sendReplyChunk()</a> - Envía otro bloque de datos como parte de un bloque de respuesta entrante</span>
   </li>
  </ul>
 </div>

</div>
<hr>








<div id="eventhttprequest.sendreplychunk" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">EventHttpRequest::sendReplyChunk</h1>
  <p class="verinfo">(PECL event &gt;= 1.4.0-beta)</p><p class="refpurpose"><span class="refname">EventHttpRequest::sendReplyChunk</span> — <span class="dc-title">Envía otro bloque de datos como parte de un bloque de respuesta entrante</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-eventhttprequest.sendreplychunk-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span>
   <span class="methodname"><strong>EventHttpRequest::sendReplyChunk</strong></span>(<span class="methodparam">
    
    <span class="type"><a href="#class.eventbuffer" class="type EventBuffer">EventBuffer</a></span> <code class="parameter">$buf</code>
   </span>): <span class="type"><a href="language.types.void.html" class="type void">void</a></span></div>

  <p class="para rdfs-comment">
   Envía otro bloque de datos como parte de un bloque de respuesta entrante.
   Después de la llamada a este método, el parámetro <code class="parameter">buf</code>
   estará vacío.
  </p>
 </div>

 <div class="refsect1 parameters" id="refsect1-eventhttprequest.sendreplychunk-parameters">
  <h3 class="title">Parámetros</h3>
  <dl>
   
    <dt>
     <code class="parameter">buf</code>
    </dt>
    <dd>
     <p class="para">
      El bloque de datos a enviar como parte de la respuesta.
     </p>
    </dd>
   
  </dl>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-eventhttprequest.sendreplychunk-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   No se retorna ningún valor.
  </p>
 </div>

 <div class="refsect1 seealso" id="refsect1-eventhttprequest.sendreplychunk-seealso">
  <h3 class="title">Ver también</h3>
  <ul class="simplelist">
   <li>
    <span class="methodname"><a href="#eventhttprequest.sendreplystart" class="methodname" rel="rdfs-seeAlso">EventHttpRequest::sendReplyStart()</a> - Inicializa un bloque de respuesta</span>
   </li>
   <li>
    <span class="methodname"><a href="#eventhttprequest.sendreplyend" class="methodname" rel="rdfs-seeAlso">EventHttpRequest::sendReplyEnd()</a> - Completa un bloque de respuesta, liberando la petición</span>
   </li>
  </ul>
 </div>

</div>
<hr>








<div id="eventhttprequest.sendreplyend" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">EventHttpRequest::sendReplyEnd</h1>
  <p class="verinfo">(PECL event &gt;= 1.4.0-beta)</p><p class="refpurpose"><span class="refname">EventHttpRequest::sendReplyEnd</span> — <span class="dc-title">Completa un bloque de respuesta, liberando la petición</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-eventhttprequest.sendreplyend-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span>
   <span class="methodname"><strong>EventHttpRequest::sendReplyEnd</strong></span>(): <span class="type"><a href="language.types.void.html" class="type void">void</a></span></div>

  <p class="para rdfs-comment">
   Completa un bloque de respuesta, liberando la petición.
  </p>
 </div>

 <div class="refsect1 parameters" id="refsect1-eventhttprequest.sendreplyend-parameters">
  <h3 class="title">Parámetros</h3>
  <p class="para">Esta función no contiene ningún parámetro.</p>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-eventhttprequest.sendreplyend-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   No se retorna ningún valor.
  </p>
 </div>

 <div class="refsect1 seealso" id="refsect1-eventhttprequest.sendreplyend-seealso">
  <h3 class="title">Ver también</h3>
  <ul class="simplelist">
   <li>
    <span class="methodname"><a href="#eventhttprequest.sendreplystart" class="methodname" rel="rdfs-seeAlso">EventHttpRequest::sendReplyStart()</a> - Inicializa un bloque de respuesta</span>
   </li>
   <li>
    <span class="methodname"><a href="#eventhttprequest.sendreplychunk" class="methodname" rel="rdfs-seeAlso">EventHttpRequest::sendReplyChunk()</a> - Envía otro bloque de datos como parte de un bloque de respuesta entrante</span>
   </li>
  </ul>
 </div>

</div>
<hr>







<div id="eventhttprequest.sendreplystart" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">EventHttpRequest::sendReplyStart</h1>
  <p class="verinfo">(PECL event &gt;= 1.4.0-beta)</p><p class="refpurpose"><span class="refname">EventHttpRequest::sendReplyStart</span> — <span class="dc-title">Inicializa un bloque de respuesta</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-eventhttprequest.sendreplystart-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span>
   <span class="methodname"><strong>EventHttpRequest::sendReplyStart</strong></span>(<span class="methodparam">
    
    <span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$code</code>
   </span>, <span class="methodparam">
    
    <span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$reason</code>
   </span>): <span class="type"><a href="language.types.void.html" class="type void">void</a></span></div>

  <p class="para rdfs-comment">
   Inicializa una respuesta que utiliza las cabeceras
   <code class="literal">Transfer-Encoding</code>
   <code class="literal">chunked</code>.
  </p>
  <p class="para">
   Esto permite al llamante difundir la respuesta al cliente, y es útil
   cuando no todos los datos de la respuesta están inmediatamente
   disponibles, o bien al enviar respuestas demasiado voluminosas.
  </p>
  <p class="para">
   El llamante debe proporcionar los bloques de datos con el método
   <span class="methodname"><a href="#eventhttprequest.sendreplychunk" class="methodname">EventHttpRequest::sendReplyChunk()</a></span> y completar
   la respuesta llamando al método
   <span class="methodname"><a href="#eventhttprequest.sendreplyend" class="methodname">EventHttpRequest::sendReplyEnd()</a></span>.
  </p>
 </div>

 <div class="refsect1 parameters" id="refsect1-eventhttprequest.sendreplystart-parameters">
  <h3 class="title">Parámetros</h3>
  <dl>
   
    <dt>
     <code class="parameter">code</code>
    </dt>
    <dd>
     <p class="para">
      El código de respuesta HTTP a enviar.
     </p>
    </dd>
   
   
    <dt>
     <code class="parameter">reason</code>
    </dt>
    <dd>
     <p class="para">
      Un breve mensaje a enviar con el código de respuesta.
     </p>
    </dd>
   
  </dl>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-eventhttprequest.sendreplystart-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   No se retorna ningún valor.
  </p>
 </div>

 <div class="refsect1 seealso" id="refsect1-eventhttprequest.sendreplystart-seealso">
  <h3 class="title">Ver también</h3>
  <ul class="simplelist">
   <li>
    <span class="methodname"><a href="#eventhttprequest.sendreplychunk" class="methodname" rel="rdfs-seeAlso">EventHttpRequest::sendReplyChunk()</a> - Envía otro bloque de datos como parte de un bloque de respuesta entrante</span>
   </li>
   <li>
    <span class="methodname"><a href="#eventhttprequest.sendreplyend" class="methodname" rel="rdfs-seeAlso">EventHttpRequest::sendReplyEnd()</a> - Completa un bloque de respuesta, liberando la petición</span>
   </li>
  </ul>
 </div>

</div>
<hr>




<h2>Tabla de contenidos</h2><ul class="chunklist chunklist_reference"><li><a href="#eventhttprequest.addheader">EventHttpRequest::addHeader</a> — Añade un encabezado HTTP a los encabezados de la petición</li><li><a href="#eventhttprequest.cancel">EventHttpRequest::cancel</a> — Cancela una petición HTTP pendiente</li><li><a href="#eventhttprequest.clearheaders">EventHttpRequest::clearHeaders</a> — Elimina todos los encabezados de la lista de encabezados de la petición</li><li><a href="#eventhttprequest.closeconnection">EventHttpRequest::closeConnection</a> — Cierra las conexiones HTTP asociadas</li><li><a href="#eventhttprequest.construct">EventHttpRequest::__construct</a> — Construye un objeto EventHttpRequest</li><li><a href="#eventhttprequest.findheader">EventHttpRequest::findHeader</a> — Busca el valor de un encabezado</li><li><a href="#eventhttprequest.free">EventHttpRequest::free</a> — Libera el objeto y elimina los eventos asociados</li><li><a href="#eventhttprequest.getbufferevent">EventHttpRequest::getBufferEvent</a> — Devuelve el objeto EventBufferEvent</li><li><a href="#eventhttprequest.getcommand">EventHttpRequest::getCommand</a> — Devuelve el comando de la petición (método)</li><li><a href="#eventhttprequest.getconnection">EventHttpRequest::getConnection</a> — Devuelve un objeto EventHttpConnection</li><li><a href="#eventhttprequest.gethost">EventHttpRequest::getHost</a> — Devuelve el host solicitado</li><li><a href="#eventhttprequest.getinputbuffer">EventHttpRequest::getInputBuffer</a> — Devuelve el buffer de entrada</li><li><a href="#eventhttprequest.getinputheaders">EventHttpRequest::getInputHeaders</a> — Devuelve el array asociativo que contiene los encabezados de entrada</li><li><a href="#eventhttprequest.getoutputbuffer">EventHttpRequest::getOutputBuffer</a> — Devuelve el buffer de salida de la petición</li><li><a href="#eventhttprequest.getoutputheaders">EventHttpRequest::getOutputHeaders</a> — Devuelve un array asociativo que contiene los encabezados de salida</li><li><a href="#eventhttprequest.getresponsecode">EventHttpRequest::getResponseCode</a> — Devuelve el código de la respuesta</li><li><a href="#eventhttprequest.geturi">EventHttpRequest::getUri</a> — Devuelve el URI de la petición</li><li><a href="#eventhttprequest.removeheader">EventHttpRequest::removeHeader</a> — Elimina un encabezado HTTP de los encabezados de la petición</li><li><a href="#eventhttprequest.senderror">EventHttpRequest::sendError</a> — Envía un mensaje de error HTML al cliente</li><li><a href="#eventhttprequest.sendreply">EventHttpRequest::sendReply</a> — Envía una respuesta HTML al cliente</li><li><a href="#eventhttprequest.sendreplychunk">EventHttpRequest::sendReplyChunk</a> — Envía otro bloque de datos como parte de un bloque de respuesta entrante</li><li><a href="#eventhttprequest.sendreplyend">EventHttpRequest::sendReplyEnd</a> — Completa un bloque de respuesta, liberando la petición</li><li><a href="#eventhttprequest.sendreplystart">EventHttpRequest::sendReplyStart</a> — Inicializa un bloque de respuesta</li></ul>
</div>

<hr>



 




<div id="class.eventlistener" class="reference"><hr>
 <h1 class="title">La clase EventListener</h1>
 
 <div class="partintro"><p class="verinfo">(PECL event &gt;= 1.5.0)</p>

  <div class="section" id="eventlistener.intro">
   <h2 class="title">Introducción</h2>
   <p class="para">
    Representa una escucha de conexión.
   </p>
  </div>

  <div class="section" id="eventlistener.synopsis">
   <h2 class="title">Sinopsis de la Clase</h2>


   <div class="classsynopsis">
    <span class="ooclass">
     <strong class="classname"></strong>
    </span>

    <div class="classsynopsisinfo">
     <span class="ooclass">
      <span class="modifier">final</span>
      <span class="modifier">class</span> <strong class="classname">EventListener</strong>
     </span>
     {</div>

    <div class="classsynopsisinfo classsynopsisinfo_comment">/* Constantes */</div>
    <div class="fieldsynopsis">
     <span class="modifier">const</span>
     <span class="type"><a href="#language.types.integer" class="type int">int</a></span>
      <var class="fieldsynopsis_varname"><a href="#eventlistener.constants.opt-leave-sockets-blocking"><var class="varname">OPT_LEAVE_SOCKETS_BLOCKING</var></a></var><span class="initializer"> = 1</span>;</div>

    <div class="fieldsynopsis"><span class="modifier">const</span>
     <span class="type"><a href="#language.types.integer" class="type int">int</a></span>
      <var class="fieldsynopsis_varname"><a href="#eventlistener.constants.opt-close-on-free"><var class="varname">OPT_CLOSE_ON_FREE</var></a></var><span class="initializer"> = 2</span>;</div>

    <div class="fieldsynopsis"><span class="modifier">const</span>
     <span class="type"><a href="#language.types.integer" class="type int">int</a></span>
      <var class="fieldsynopsis_varname"><a href="#eventlistener.constants.opt-close-on-exec"><var class="varname">OPT_CLOSE_ON_EXEC</var></a></var><span class="initializer"> = 4</span>;</div>

    <div class="fieldsynopsis"><span class="modifier">const</span>
     <span class="type"><a href="#language.types.integer" class="type int">int</a></span>
      <var class="fieldsynopsis_varname"><a href="#eventlistener.constants.opt-reuseable"><var class="varname">OPT_REUSEABLE</var></a></var><span class="initializer"> = 8</span>;</div>

    <div class="fieldsynopsis"><span class="modifier">const</span>
     <span class="type"><a href="#language.types.integer" class="type int">int</a></span>
      <var class="fieldsynopsis_varname"><a href="#eventlistener.constants.opt-threadsafe"><var class="varname">OPT_THREADSAFE</var></a></var><span class="initializer"> = 16</span>;</div>

    <div class="classsynopsisinfo classsynopsisinfo_comment">/* Propiedades */</div>
    <div class="fieldsynopsis"><span class="modifier">public</span>
     <span class="modifier">readonly</span>
     <span class="type"><a href="#language.types.integer" class="type int">int</a></span>
      <var class="varname"><a href="#eventlistener.props.fd">$<var class="varname">fd</var></a></var>;</div>

    <div class="classsynopsisinfo classsynopsisinfo_comment">/* Métodos */</div>
    <div class="methodsynopsis dc-description">
   <span class="modifier">public</span>
   <span class="methodname"><a href="#eventlistener.construct" class="methodname">__construct</a></span>(<br>    <span class="methodparam">
    
    <span class="type"><a href="#class.eventbase" class="type EventBase">EventBase</a></span> <code class="parameter">$base</code>
   </span>,<br>    <span class="methodparam">
    
    <span class="type"><a href="#language.types.callable" class="type callable">callable</a></span> <code class="parameter">$cb</code>
   </span>,<br>    <span class="methodparam">
    
    <span class="type"><a href="#language.types.mixed" class="type mixed">mixed</a></span> <code class="parameter">$data</code>
   </span>,<br>    <span class="methodparam">
    
    <span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$flags</code>
   </span>,<br>    <span class="methodparam">
    
    <span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$backlog</code>
   </span>,<br>    <span class="methodparam">
    
    <span class="type"><a href="#language.types.mixed" class="type mixed">mixed</a></span> <code class="parameter">$target</code>
   </span><br>)</div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span>
   <span class="methodname"><a href="#eventlistener.disable" class="methodname">disable</a></span>(): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span>
   <span class="methodname"><a href="#eventlistener.enable" class="methodname">enable</a></span>(): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span>
   <span class="methodname"><a href="#eventlistener.getbase" class="methodname">getBase</a></span>(): <span class="type"><a href="language.types.void.html" class="type void">void</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span>
   <span class="modifier">static</span>
   <span class="methodname"><a href="#eventlistener.getsocketname" class="methodname">getSocketName</a></span>(<span class="methodparam">
    
    <span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter reference">&amp;$address</code>
   </span>, <span class="methodparam">
    
    <span class="type"><a href="#language.types.mixed" class="type mixed">mixed</a></span> <code class="parameter reference">&amp;$port</code>
   <span class="initializer"> = ?</span></span>): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span>
   <span class="methodname"><a href="#eventlistener.setcallback" class="methodname">setCallback</a></span>(<span class="methodparam">
    
    <span class="type"><a href="#language.types.callable" class="type callable">callable</a></span> <code class="parameter">$cb</code>
   </span>, <span class="methodparam">
    
    <span class="type"><a href="#language.types.mixed" class="type mixed">mixed</a></span> <code class="parameter">$arg</code>
    <span class="initializer"> = <strong><code><a href="#constant.null">null</a></code></strong></span>
   </span>): <span class="type"><a href="language.types.void.html" class="type void">void</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span>
   <span class="methodname"><a href="#eventlistener.seterrorcallback" class="methodname">setErrorCallback</a></span>(<span class="methodparam">
    
    <span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$cb</code>
   </span>): <span class="type"><a href="language.types.void.html" class="type void">void</a></span></div>

   }</div>

  </div>
  <div class="section" id="eventlistener.props">
   <h2 class="title">Propiedades</h2>
   <dl>
    
     <dt id="eventlistener.props.fd">
      <var class="varname">fd</var>
     </dt>
     <dd>
      <p class="para">
       Descriptor de fichero numérico del socket subyacente
       (Añadido en <code class="literal">event-1.6.0</code>).
      </p>
     </dd>
    
   </dl>
  </div>

  <div class="section" id="eventlistener.constants">
   <h2 class="title">Constantes predefinidas</h2>
   <dl>
    
     <dt id="eventlistener.constants.opt-leave-sockets-blocking">
      <strong><code><a href="#eventlistener.constants.opt-leave-sockets-blocking">EventListener::OPT_LEAVE_SOCKETS_BLOCKING</a></code></strong>
     </dt>
     <dd>
      <p class="para">
       Por omisión, Libevent pone en modo no bloqueante los descriptores
       de ficheros o sockets subyacentes. Este flag indica a Libevent que los deje en modo bloqueante.
      </p>
     </dd>
    
    
     <dt id="eventlistener.constants.opt-close-on-free">
      <strong><code><a href="#eventlistener.constants.opt-close-on-free">EventListener::OPT_CLOSE_ON_FREE</a></code></strong>
     </dt>
     <dd>
      <p class="para">
       Si esta opción está definida, la escucha de la conexión cierra su
       socket subyacente cuando el objeto <span class="classname"><strong class="classname">EventListener</strong></span>
       es liberado.
      </p>
     </dd>
    
    
     <dt id="eventlistener.constants.opt-close-on-exec">
      <strong><code><a href="#eventlistener.constants.opt-close-on-exec">EventListener::OPT_CLOSE_ON_EXEC</a></code></strong>
     </dt>
     <dd>
      <p class="para">
       Si esta opción está definida, la escucha de la conexión define
       el flag de cierre a la ejecución en el socket de escucha subyacente. Ver la documentación de la plataforma
       para más información sobre <code class="literal">fcntl</code> y
       <strong><code><a href="#constant.fd-cloexec">FD_CLOEXEC</a></code></strong>.
      </p>
     </dd>
    
    
     <dt id="eventlistener.constants.opt-reuseable">
      <strong><code><a href="#eventlistener.constants.opt-reuseable">EventListener::OPT_REUSEABLE</a></code></strong>
     </dt>
     <dd>
      <p class="para">
       Por omisión en algunas plataformas, una vez que un socket de escucha
       es cerrado, ningún otro socket puede ser ligado al mismo puerto
       hasta que cierto tiempo no haya pasado. El hecho de definir
       esta opción hace que Libevent marque este socket como reutilizable,
       así, una vez cerrado, otro socket puede ser abierto para escuchar
       el mismo puerto.
      </p>
     </dd>
    
    
     <dt id="eventlistener.constants.opt-threadsafe">
      <strong><code><a href="#eventlistener.constants.opt-threadsafe">EventListener::OPT_THREADSAFE</a></code></strong>
     </dt>
     <dd>
      <p class="para">
       Bloqueo de la asignación para el escuchador; así, es seguro utilizarlo desde múltiples threads.
      </p>
     </dd>
    
   </dl>
  </div>

 </div>

 



<div id="eventlistener.construct" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">EventListener::__construct</h1>
  <p class="verinfo">(PECL event &gt;= 1.2.6-beta)</p><p class="refpurpose"><span class="refname">EventListener::__construct</span> — <span class="dc-title">Crea un nuevo oyente de conexión asociado con la base de eventos</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-eventlistener.construct-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span>
   <span class="methodname"><strong>EventListener::__construct</strong></span>(<br>    <span class="methodparam">
    
    <span class="type"><a href="#class.eventbase" class="type EventBase">EventBase</a></span> <code class="parameter">$base</code>
   </span>,<br>    <span class="methodparam">
    
    <span class="type"><a href="#language.types.callable" class="type callable">callable</a></span> <code class="parameter">$cb</code>
   </span>,<br>    <span class="methodparam">
    
    <span class="type"><a href="#language.types.mixed" class="type mixed">mixed</a></span> <code class="parameter">$data</code>
   </span>,<br>    <span class="methodparam">
    
    <span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$flags</code>
   </span>,<br>    <span class="methodparam">
    
    <span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$backlog</code>
   </span>,<br>    <span class="methodparam">
    
    <span class="type"><a href="#language.types.mixed" class="type mixed">mixed</a></span> <code class="parameter">$target</code>
   </span><br>)</div>

  <p class="para rdfs-comment">
   Crea un nuevo oyente de conexión asociado con la base de eventos.
  </p>
 </div>

 <div class="refsect1 parameters" id="refsect1-eventlistener.construct-parameters">
  <h3 class="title">Parámetros</h3>
  <dl>
   
    <dt>
     <code class="parameter">base</code>
    </dt>
    <dd>
     <p class="para">
      Base de eventos asociada.
     </p>
    </dd>
   
   
    <dt>
     <code class="parameter">cb</code>
    </dt>
    <dd>
     <p class="para">
      Un <span class="type"><a href="#language.types.callable" class="type callable">callable</a></span> que será invocado cuando una
      nueva conexión sea recibida.
     </p>
    </dd>
   
   
    <dt>
     <code class="parameter">data</code>
    </dt>
    <dd>
     <p class="para">
      Datos de usuario personalizados adjuntos al parámetro
      <code class="parameter">cb</code>.
     </p>
    </dd>
   
   
    <dt>
     <code class="parameter">flags</code>
    </dt>
    <dd>
     <p class="para">
      Una máscara de constantes
      <code class="literal">EventListener::OPT_*</code>. Ver las
      <a href="#eventlistener.constants" class="link">constantes EventListener</a>.
     </p>
    </dd>
   
   
    <dt>
     <code class="parameter">backlog</code>
    </dt>
    <dd>
     <p class="para">
      Controla el número máximo de conexiones en espera que la pila de red
      permite esperar en un estado "aún no aceptado"; ver la documentación
      de la función <code class="literal">listen</code> de su sistema para más
      detalles. Si el parámetro <code class="parameter">backlog</code> es negativo,
      Libevent intenta obtener un buen valor para este parámetro;
      si es cero, Event asume que la función del sistema <code class="literal">listen</code>
      ya ha sido llamada en el socket (<code class="parameter">target</code>).
     </p>
    </dd>
   
   
    <dt>
     <code class="parameter">target</code>
    </dt>
    <dd>
     <p class="para">
      Puede ser un string, un recurso de socket, o un flujo asociado con un socket. En el caso de que este parámetro sea un string, será analizado como dirección IP.
      Será analizado como socket de dominio UNIX si está prefijado
      por <code class="literal">'unix:'</code>, por ejemplo, <code class="literal">'unix:/tmp/my.sock'</code>.
     </p>
    </dd>
   
  </dl>
 </div>

 <div class="refsect1 changelog" id="refsect1-eventlistener.construct-changelog">
  <h3 class="title">Historial de cambios</h3>
  <p class="para">
   </p><table class="doctable informaltable">
    
     <thead>
      <tr>
       <th>Versión</th>
       <th>Descripción</th>
      </tr>

     </thead>

     <tbody class="tbody">
      <tr>
       <td>PECL event 1.5.0</td>
       <td>
        Se añadió el soporte para sockets de dominio UNIX.
       </td>
      </tr>

     </tbody>
    
   </table>

  
 </div>

 <div class="refsect1 examples" id="refsect1-eventlistener.construct-examples">
  <h3 class="title">Ejemplos</h3>
  <div class="example" id="example-4560">
   <p><strong>Ejemplo #1 
    Ejemplo con <span class="function"><strong>EventListener::__construct()</strong></span></strong></p>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br></span><span style="color: #FF8000">/*<br> * Un simple servidor de eco, basado en un oyente de conexión libevent.<br> *<br> * Uso:<br> * 1) En una terminal Windows, ejecute:<br> *<br> * $ php listener.php 9881<br> *<br> * 2) En otra terminal Windows, abra la siguiente conexión:<br> *<br> * $ nc 127.0.0.1 9881<br> *<br> * 3) Comience a escribir. El servidor debería repetir las entradas.<br> */<br><br></span><span style="color: #007700">class </span><span style="color: #0000BB">MyListenerConnection </span><span style="color: #007700">{<br>    private </span><span style="color: #0000BB">$bev</span><span style="color: #007700">, </span><span style="color: #0000BB">$base</span><span style="color: #007700">;<br><br>    public function </span><span style="color: #0000BB">__destruct</span><span style="color: #007700">() {<br>        </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">bev</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">free</span><span style="color: #007700">();<br>    }<br><br>    public function </span><span style="color: #0000BB">__construct</span><span style="color: #007700">(</span><span style="color: #0000BB">$base</span><span style="color: #007700">, </span><span style="color: #0000BB">$fd</span><span style="color: #007700">) {<br>        </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">base </span><span style="color: #007700">= </span><span style="color: #0000BB">$base</span><span style="color: #007700">;<br><br>        </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">bev </span><span style="color: #007700">= new </span><span style="color: #0000BB">EventBufferEvent</span><span style="color: #007700">(</span><span style="color: #0000BB">$base</span><span style="color: #007700">, </span><span style="color: #0000BB">$fd</span><span style="color: #007700">, </span><span style="color: #0000BB">EventBufferEvent</span><span style="color: #007700">::</span><span style="color: #0000BB">OPT_CLOSE_ON_FREE</span><span style="color: #007700">);<br><br>        </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">bev</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setCallbacks</span><span style="color: #007700">(array(</span><span style="color: #0000BB">$this</span><span style="color: #007700">, </span><span style="color: #DD0000">"echoReadCallback"</span><span style="color: #007700">), </span><span style="color: #0000BB">NULL</span><span style="color: #007700">,<br>            array(</span><span style="color: #0000BB">$this</span><span style="color: #007700">, </span><span style="color: #DD0000">"echoEventCallback"</span><span style="color: #007700">), </span><span style="color: #0000BB">NULL</span><span style="color: #007700">);<br><br>        if (!</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">bev</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">enable</span><span style="color: #007700">(</span><span style="color: #0000BB">Event</span><span style="color: #007700">::</span><span style="color: #0000BB">READ</span><span style="color: #007700">)) {<br>            echo </span><span style="color: #DD0000">"Imposible habilitar READ\n"</span><span style="color: #007700">;<br>            return;<br>        }<br>    }<br><br>    public function </span><span style="color: #0000BB">echoReadCallback</span><span style="color: #007700">(</span><span style="color: #0000BB">$bev</span><span style="color: #007700">, </span><span style="color: #0000BB">$ctx</span><span style="color: #007700">) {<br>        </span><span style="color: #FF8000">// Copia todos los datos desde el buffer de entrada hacia el buffer de salida<br><br>        // Variante #1<br>        </span><span style="color: #0000BB">$bev</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">output</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">addBuffer</span><span style="color: #007700">(</span><span style="color: #0000BB">$bev</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">input</span><span style="color: #007700">);<br><br>        </span><span style="color: #FF8000">/* Variante #2 */<br>        /*<br>        $input    = $bev-&gt;getInput();<br>        $output = $bev-&gt;getOutput();<br>        $output-&gt;addBuffer($input);<br>        */<br>    </span><span style="color: #007700">}<br><br>    public function </span><span style="color: #0000BB">echoEventCallback</span><span style="color: #007700">(</span><span style="color: #0000BB">$bev</span><span style="color: #007700">, </span><span style="color: #0000BB">$events</span><span style="color: #007700">, </span><span style="color: #0000BB">$ctx</span><span style="color: #007700">) {<br>        if (</span><span style="color: #0000BB">$events </span><span style="color: #007700">&amp; </span><span style="color: #0000BB">EventBufferEvent</span><span style="color: #007700">::</span><span style="color: #0000BB">ERROR</span><span style="color: #007700">) {<br>            echo </span><span style="color: #DD0000">"Error desde bufferevent\n"</span><span style="color: #007700">;<br>        }<br><br>        if (</span><span style="color: #0000BB">$events </span><span style="color: #007700">&amp; (</span><span style="color: #0000BB">EventBufferEvent</span><span style="color: #007700">::</span><span style="color: #0000BB">EOF </span><span style="color: #007700">| </span><span style="color: #0000BB">EventBufferEvent</span><span style="color: #007700">::</span><span style="color: #0000BB">ERROR</span><span style="color: #007700">)) {<br>            </span><span style="color: #FF8000">//$bev-&gt;free();<br>            </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">__destruct</span><span style="color: #007700">();<br>        }<br>    }<br>}<br><br>class </span><span style="color: #0000BB">MyListener </span><span style="color: #007700">{<br>    public </span><span style="color: #0000BB">$base</span><span style="color: #007700">,<br>        </span><span style="color: #0000BB">$listener</span><span style="color: #007700">,<br>        </span><span style="color: #0000BB">$socket</span><span style="color: #007700">;<br>    private </span><span style="color: #0000BB">$conn </span><span style="color: #007700">= array();<br><br>    public function </span><span style="color: #0000BB">__destruct</span><span style="color: #007700">() {<br>        foreach (</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">conn </span><span style="color: #007700">as &amp;</span><span style="color: #0000BB">$c</span><span style="color: #007700">) </span><span style="color: #0000BB">$c </span><span style="color: #007700">= </span><span style="color: #0000BB">NULL</span><span style="color: #007700">;<br>    }<br><br>    public function </span><span style="color: #0000BB">__construct</span><span style="color: #007700">(</span><span style="color: #0000BB">$port</span><span style="color: #007700">) {<br>        </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">base </span><span style="color: #007700">= new </span><span style="color: #0000BB">EventBase</span><span style="color: #007700">();<br>        if (!</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">base</span><span style="color: #007700">) {<br>            echo </span><span style="color: #DD0000">"Imposible abrir la base del evento"</span><span style="color: #007700">;<br>            exit(</span><span style="color: #0000BB">1</span><span style="color: #007700">);<br>        }<br><br>        </span><span style="color: #FF8000">// Variante #1<br>        /*<br>        $this-&gt;socket = socket_create(AF_INET, SOCK_STREAM, SOL_TCP);<br>        if (!socket_bind($this-&gt;socket, '0.0.0.0', $port)) {<br>            echo "Imposible enlazar el socket\n";<br>            exit(1);<br>        }<br>        $this-&gt;listener = new EventListener($this-&gt;base,<br>            array($this, "acceptConnCallback"), $this-&gt;base,<br>            EventListener::OPT_CLOSE_ON_FREE | EventListener::OPT_REUSEABLE,<br>            -1, $this-&gt;socket);<br>         */<br><br>        // Variante #2<br>         </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">listener </span><span style="color: #007700">= new </span><span style="color: #0000BB">EventListener</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">base</span><span style="color: #007700">,<br>             array(</span><span style="color: #0000BB">$this</span><span style="color: #007700">, </span><span style="color: #DD0000">"acceptConnCallback"</span><span style="color: #007700">), </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">base</span><span style="color: #007700">,<br>             </span><span style="color: #0000BB">EventListener</span><span style="color: #007700">::</span><span style="color: #0000BB">OPT_CLOSE_ON_FREE </span><span style="color: #007700">| </span><span style="color: #0000BB">EventListener</span><span style="color: #007700">::</span><span style="color: #0000BB">OPT_REUSEABLE</span><span style="color: #007700">, -</span><span style="color: #0000BB">1</span><span style="color: #007700">,<br>             </span><span style="color: #DD0000">"0.0.0.0:</span><span style="color: #0000BB">$port</span><span style="color: #DD0000">"</span><span style="color: #007700">);<br><br>        if (!</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">listener</span><span style="color: #007700">) {<br>            echo </span><span style="color: #DD0000">"No se pudo crear el oyente"</span><span style="color: #007700">;<br>            exit(</span><span style="color: #0000BB">1</span><span style="color: #007700">);<br>        }<br><br>        </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">listener</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setErrorCallback</span><span style="color: #007700">(array(</span><span style="color: #0000BB">$this</span><span style="color: #007700">, </span><span style="color: #DD0000">"accept_error_cb"</span><span style="color: #007700">));<br>    }<br><br>    public function </span><span style="color: #0000BB">dispatch</span><span style="color: #007700">() {<br>        </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">base</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">dispatch</span><span style="color: #007700">();<br>    }<br><br>    </span><span style="color: #FF8000">// Esta función de retrollamada es llamada cuando hay datos para leer desde $bev<br>    </span><span style="color: #007700">public function </span><span style="color: #0000BB">acceptConnCallback</span><span style="color: #007700">(</span><span style="color: #0000BB">$listener</span><span style="color: #007700">, </span><span style="color: #0000BB">$fd</span><span style="color: #007700">, </span><span style="color: #0000BB">$address</span><span style="color: #007700">, </span><span style="color: #0000BB">$ctx</span><span style="color: #007700">) {<br>        </span><span style="color: #FF8000">// ¡Tenemos una nueva conexión! Se le define un bufferevent. */<br>        </span><span style="color: #0000BB">$base </span><span style="color: #007700">= </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">base</span><span style="color: #007700">;<br>        </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">conn</span><span style="color: #007700">[] = new </span><span style="color: #0000BB">MyListenerConnection</span><span style="color: #007700">(</span><span style="color: #0000BB">$base</span><span style="color: #007700">, </span><span style="color: #0000BB">$fd</span><span style="color: #007700">);<br>    }<br><br>    public function </span><span style="color: #0000BB">accept_error_cb</span><span style="color: #007700">(</span><span style="color: #0000BB">$listener</span><span style="color: #007700">, </span><span style="color: #0000BB">$ctx</span><span style="color: #007700">) {<br>        </span><span style="color: #0000BB">$base </span><span style="color: #007700">= </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">base</span><span style="color: #007700">;<br><br>        </span><span style="color: #0000BB">fprintf</span><span style="color: #007700">(</span><span style="color: #0000BB">STDERR</span><span style="color: #007700">, </span><span style="color: #DD0000">"Error recibido %d (%s) en el oyente. "<br>            </span><span style="color: #007700">.</span><span style="color: #DD0000">"Cerrando.\n"</span><span style="color: #007700">,<br>            </span><span style="color: #0000BB">EventUtil</span><span style="color: #007700">::</span><span style="color: #0000BB">getLastSocketErrno</span><span style="color: #007700">(),<br>            </span><span style="color: #0000BB">EventUtil</span><span style="color: #007700">::</span><span style="color: #0000BB">getLastSocketError</span><span style="color: #007700">());<br><br>        </span><span style="color: #0000BB">$base</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">exit</span><span style="color: #007700">(</span><span style="color: #0000BB">NULL</span><span style="color: #007700">);<br>    }<br>}<br><br></span><span style="color: #0000BB">$port </span><span style="color: #007700">= </span><span style="color: #0000BB">9808</span><span style="color: #007700">;<br><br>if (</span><span style="color: #0000BB">$argc </span><span style="color: #007700">&gt; </span><span style="color: #0000BB">1</span><span style="color: #007700">) {<br>    </span><span style="color: #0000BB">$port </span><span style="color: #007700">= (int) </span><span style="color: #0000BB">$argv</span><span style="color: #007700">[</span><span style="color: #0000BB">1</span><span style="color: #007700">];<br>}<br>if (</span><span style="color: #0000BB">$port </span><span style="color: #007700">&lt;= </span><span style="color: #0000BB">0 </span><span style="color: #007700">|| </span><span style="color: #0000BB">$port </span><span style="color: #007700">&gt; </span><span style="color: #0000BB">65535</span><span style="color: #007700">) {<br>    exit(</span><span style="color: #DD0000">"Puerto inválido"</span><span style="color: #007700">);<br>}<br><br></span><span style="color: #0000BB">$l </span><span style="color: #007700">= new </span><span style="color: #0000BB">MyListener</span><span style="color: #007700">(</span><span style="color: #0000BB">$port</span><span style="color: #007700">);<br></span><span style="color: #0000BB">$l</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">dispatch</span><span style="color: #007700">();<br></span><span style="color: #0000BB">?&gt;</span></span></code></div>
   </div>

  </div>
 </div>

</div>
<hr>








<div id="eventlistener.disable" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">EventListener::disable</h1>
  <p class="verinfo">(PECL event &gt;= 1.2.6-beta)</p><p class="refpurpose"><span class="refname">EventListener::disable</span> — <span class="dc-title">Desactiva un objeto de escucha de eventos de conexión</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-eventlistener.disable-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span>
   <span class="methodname"><strong>EventListener::disable</strong></span>(): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>

  <p class="para rdfs-comment">
   Desactiva un objeto de escucha de eventos de conexión.
  </p>
 </div>

 <div class="refsect1 parameters" id="refsect1-eventlistener.disable-parameters">
  <h3 class="title">Parámetros</h3>
  <p class="para">Esta función no contiene ningún parámetro.</p>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-eventlistener.disable-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Esta función retorna <strong><code><a href="#constant.true">true</a></code></strong> en caso de éxito o <strong><code><a href="#constant.false">false</a></code></strong> si ocurre un error.
  </p>
 </div>

 <div class="refsect1 seealso" id="refsect1-eventlistener.disable-seealso">
  <h3 class="title">Ver también</h3>
  <ul class="simplelist">
   <li>
    <span class="methodname"><a href="#eventlistener.enable" class="methodname" rel="rdfs-seeAlso">EventListener::enable()</a> - Activa un objeto de escucha de eventos de conexión</span>
   </li>
  </ul>
 </div>

</div>
<hr>








<div id="eventlistener.enable" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">EventListener::enable</h1>
  <p class="verinfo">(PECL event &gt;= 1.2.6-beta)</p><p class="refpurpose"><span class="refname">EventListener::enable</span> — <span class="dc-title">Activa un objeto de escucha de eventos de conexión</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-eventlistener.enable-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span>
   <span class="methodname"><strong>EventListener::enable</strong></span>(): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>

  <p class="para rdfs-comment">
   Activa un objeto de escucha de eventos de conexión.
  </p>
 </div>

 <div class="refsect1 parameters" id="refsect1-eventlistener.enable-parameters">
  <h3 class="title">Parámetros</h3>
  <p class="para">Esta función no contiene ningún parámetro.</p>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-eventlistener.enable-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Esta función retorna <strong><code><a href="#constant.true">true</a></code></strong> en caso de éxito o <strong><code><a href="#constant.false">false</a></code></strong> si ocurre un error.
  </p>
 </div>

 <div class="refsect1 seealso" id="refsect1-eventlistener.enable-seealso">
  <h3 class="title">Ver también</h3>
  <ul class="simplelist">
   <li>
    <span class="methodname"><a href="#eventlistener.disable" class="methodname" rel="rdfs-seeAlso">EventListener::disable()</a> - Desactiva un objeto de escucha de eventos de conexión</span>
   </li>
  </ul>
 </div>

</div>
<hr>








<div id="eventlistener.getbase" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">EventListener::getBase</h1>
  <p class="verinfo">(PECL event &gt;= 1.2.6-beta)</p><p class="refpurpose"><span class="refname">EventListener::getBase</span> — <span class="dc-title">Devuelve la base de evento asociada con el escuchador de eventos</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-eventlistener.getbase-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span>
   <span class="methodname"><strong>EventListener::getBase</strong></span>(): <span class="type"><a href="language.types.void.html" class="type void">void</a></span></div>

  <p class="para rdfs-comment">
   Devuelve la base de evento asociada con el escuchador de eventos.
  </p>
 </div>

 <div class="refsect1 parameters" id="refsect1-eventlistener.getbase-parameters">
  <h3 class="title">Parámetros</h3>
  <p class="para">Esta función no contiene ningún parámetro.</p>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-eventlistener.getbase-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Devuelve la base de evento asociada con el escuchador de eventos.
  </p>
 </div>

</div>
<hr>








<div id="eventlistener.getsocketname" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">EventListener::getSocketName</h1>
  <p class="verinfo">(PECL event &gt;= 1.5.0)</p><p class="refpurpose"><span class="refname">EventListener::getSocketName</span> — <span class="dc-title">Recupera la dirección actual a la que está ligado el socket de escucha</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-eventlistener.getsocketname-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description"><span class="modifier">public</span>
   <span class="modifier">static</span>
   <span class="methodname"><strong>EventListener::getSocketName</strong></span>(<span class="methodparam">
    
    <span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter reference">&amp;$address</code>
   </span>, <span class="methodparam">
    
    <span class="type"><a href="#language.types.mixed" class="type mixed">mixed</a></span> <code class="parameter reference">&amp;$port</code>
   <span class="initializer"> = ?</span></span>): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>

  <p class="para rdfs-comment">
   Recupera la dirección actual a la que está ligado el socket de escucha.
  </p>
 </div>

 <div class="refsect1 parameters" id="refsect1-eventlistener.getsocketname-parameters">
  <h3 class="title">Parámetros</h3>
  <dl>
   
    <dt>
     <code class="parameter">address</code>
    </dt>
    <dd>
     <p class="para">
      Parámetro de salida. La dirección IP según la familia de direcciones del socket.
     </p>
    </dd>
   
   
    <dt>
     <code class="parameter">port</code>
    </dt>
    <dd>
     <p class="para">
      Parámetro de salida. El puerto al que está ligado el socket.
     </p>
    </dd>
   
  </dl>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-eventlistener.getsocketname-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Esta función retorna <strong><code><a href="#constant.true">true</a></code></strong> en caso de éxito o <strong><code><a href="#constant.false">false</a></code></strong> si ocurre un error.
  </p>
 </div>

</div>
<hr>








<div id="eventlistener.setcallback" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">EventListener::setCallback</h1>
  <p class="verinfo">(PECL event &gt;= 1.2.6-beta)</p><p class="refpurpose"><span class="refname">EventListener::setCallback</span> — <span class="dc-title">El propósito de setCallback</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-eventlistener.setcallback-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span>
   <span class="methodname"><strong>EventListener::setCallback</strong></span>(<span class="methodparam">
    
    <span class="type"><a href="#language.types.callable" class="type callable">callable</a></span> <code class="parameter">$cb</code>
   </span>, <span class="methodparam">
    
    <span class="type"><a href="#language.types.mixed" class="type mixed">mixed</a></span> <code class="parameter">$arg</code>
    <span class="initializer"> = <strong><code><a href="#constant.null">null</a></code></strong></span>
   </span>): <span class="type"><a href="language.types.void.html" class="type void">void</a></span></div>

  <p class="para rdfs-comment">
   Coloca una retrollamada para el evento de conexión, y, opcionalmente,
   argumentos para esta retrollamada.
  </p>
 </div>

 <div class="refsect1 parameters" id="refsect1-eventlistener.setcallback-parameters">
  <h3 class="title">Parámetros</h3>
  <dl>
   
    <dt>
     <code class="parameter">cb</code>
    </dt>
    <dd>
     <p class="para">
      La nueva retrollamada para las nuevas conexiones.
      Ignorada si vale <strong><code><a href="#constant.null">null</a></code></strong>.
     </p>
     <p class="para">
      Debe corresponder al siguiente prototipo:
     </p>
     <div class="methodsynopsis dc-description">
      <span class="methodname"><strong>callback</strong></span>(<br>    <span class="methodparam">
       
       <span class="type"><a href="#class.eventlistener" class="type EventListener">EventListener</a></span> <code class="parameter">$listener</code>
       <span class="initializer"> = <strong><code><a href="#constant.null">null</a></code></strong></span>
      </span>,<br>    <span class="methodparam">
       
       <span class="type"><a href="#language.types.mixed" class="type mixed">mixed</a></span> <code class="parameter">$fd</code>
       <span class="initializer"> = <strong><code><a href="#constant.null">null</a></code></strong></span>
      </span>,<br>    <span class="methodparam">
       
       <span class="type"><a href="#language.types.array" class="type array">array</a></span> <code class="parameter">$address</code>
       <span class="initializer"> = <strong><code><a href="#constant.null">null</a></code></strong></span>
      </span>,<br>    <span class="methodparam">
       
       <span class="type"><a href="#language.types.mixed" class="type mixed">mixed</a></span> <code class="parameter">$arg</code>
       <span class="initializer"> = <strong><code><a href="#constant.null">null</a></code></strong></span>
      </span><br>): <span class="type"><a href="language.types.void.html" class="type void">void</a></span></div>

     <p class="para">
      </p><dl>
       
        <dt>
         <code class="parameter">listener</code>
        </dt>
        <dd>
         <p class="para">
          El objeto <span class="classname"><a href="#class.eventlistener" class="classname">EventListener</a></span>.
         </p>
        </dd>
       
       
        <dt>
         <code class="parameter">fd</code>
        </dt>
        <dd>
         <p class="para">
          El descriptor de fichero o un recurso asociado a la escucha.
         </p>
        </dd>
       
       
        <dt>
         <code class="parameter">address</code>
        </dt>
        <dd>
         <p class="para">
          Array de dos elementos: la dirección IP y el puerto
          del <em>servidor</em>.
         </p>
        </dd>
       
       
        <dt>
         <code class="parameter">arg</code>
        </dt>
        <dd>
         <p class="para">
          Datos de usuario personalizados adjuntos a la retrollamada.
         </p>
        </dd>
       
      </dl>
     
    </dd>
   
   
    <dt>
     <code class="parameter">arg</code>
    </dt>
    <dd>
     <p class="para">
      Datos de usuario personalizados adjuntos a la retrollamada. Ignorados si valen <strong><code><a href="#constant.null">null</a></code></strong>.
     </p>
    </dd>
   
  </dl>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-eventlistener.setcallback-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   No se retorna ningún valor.
  </p>
 </div>

</div>
<hr>









<div id="eventlistener.seterrorcallback" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">EventListener::setErrorCallback</h1>
  <p class="verinfo">(PECL event &gt;= 1.2.6-beta)</p><p class="refpurpose"><span class="refname">EventListener::setErrorCallback</span> — <span class="dc-title">Define la función de retrollamada en el evento de error</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-eventlistener.seterrorcallback-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span>
   <span class="methodname"><strong>EventListener::setErrorCallback</strong></span>(<span class="methodparam">
    
    <span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$cb</code>
   </span>): <span class="type"><a href="language.types.void.html" class="type void">void</a></span></div>

  <p class="para rdfs-comment">
   Define la función de retrollamada en el evento de error.
  </p>
 </div>

 <div class="refsect1 parameters" id="refsect1-eventlistener.seterrorcallback-parameters">
  <h3 class="title">Parámetros</h3>
  <dl>
   
    <dt>
     <code class="parameter">cb</code>
    </dt>
    <dd>
     <p class="para">
      La función de retrollamada para el error. Debe corresponder al siguiente prototipo:
     </p>
     <div class="methodsynopsis dc-description">
      <span class="methodname"><strong>callback</strong></span>(<span class="methodparam">
       
       <span class="type"><a href="#class.eventlistener" class="type EventListener">EventListener</a></span> <code class="parameter">$listener</code>
       <span class="initializer"> = <strong><code><a href="#constant.null">null</a></code></strong></span>
      </span>, <span class="methodparam">
       
       <span class="type"><a href="#language.types.mixed" class="type mixed">mixed</a></span> <code class="parameter">$data</code>
       <span class="initializer"> = <strong><code><a href="#constant.null">null</a></code></strong></span>
      </span>): <span class="type"><a href="language.types.void.html" class="type void">void</a></span></div>

     <p class="para">
      </p><dl>
       
        <dt>
         <code class="parameter">listener</code>
        </dt>
        <dd>
         <p class="para">
          El objeto <span class="classname"><a href="#class.eventlistener" class="classname">EventListener</a></span>.
         </p>
        </dd>
       
       
        <dt>
         <code class="parameter">data</code>
        </dt>
        <dd>
         <p class="para">
          Datos personalizados del usuario para asociar a la función de retrollamada.
         </p>
        </dd>
       
      </dl>
     
    </dd>
   
  </dl>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-eventlistener.seterrorcallback-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
 </p></div>

 <div class="refsect1 seealso" id="refsect1-eventlistener.seterrorcallback-seealso">
  <h3 class="title">Ver también</h3>
  <ul class="simplelist">
   <li>
    <span class="methodname"><a href="#eventlistener.setcallback" class="methodname" rel="rdfs-seeAlso">EventListener::setCallback()</a> - El propósito de setCallback</span>
   </li>
  </ul>
 </div>

</div>
<hr>




<h2>Tabla de contenidos</h2><ul class="chunklist chunklist_reference"><li><a href="#eventlistener.construct">EventListener::__construct</a> — Crea un nuevo oyente de conexión asociado con la base de eventos</li><li><a href="#eventlistener.disable">EventListener::disable</a> — Desactiva un objeto de escucha de eventos de conexión</li><li><a href="#eventlistener.enable">EventListener::enable</a> — Activa un objeto de escucha de eventos de conexión</li><li><a href="#eventlistener.getbase">EventListener::getBase</a> — Devuelve la base de evento asociada con el escuchador de eventos</li><li><a href="#eventlistener.getsocketname">EventListener::getSocketName</a> — Recupera la dirección actual a la que está ligado el socket de escucha</li><li><a href="#eventlistener.setcallback">EventListener::setCallback</a> — El propósito de setCallback</li><li><a href="#eventlistener.seterrorcallback">EventListener::setErrorCallback</a> — Define la función de retrollamada en el evento de error</li></ul>
</div>

<hr>



 



<div id="class.eventsslcontext" class="reference"><hr>
 <h1 class="title">La clase EventSslContext</h1>
 
 <div class="partintro"><p class="verinfo">(PECL event &gt;= 1.2.6-beta)</p>

  <div class="section" id="eventsslcontext.intro">
   <h2 class="title">Introducción</h2>
   <p class="para">
    Representa la estructura <code class="literal">SSL_CTX</code>.
    Proporciona métodos y propiedades para configurar el contexto SSL.
   </p>
  </div>

  <div class="section" id="eventsslcontext.synopsis">
   <h2 class="title">Sinopsis de la Clase</h2>


   <div class="classsynopsis">
    <span class="ooclass">
     <strong class="classname"></strong>
    </span>

    <div class="classsynopsisinfo">
     <span class="ooclass">
      <span class="modifier">final</span>
      <span class="modifier">class</span> <strong class="classname">EventSslContext</strong>
     </span>
     {</div>

    <div class="classsynopsisinfo classsynopsisinfo_comment">/* Constantes */</div>
    <div class="fieldsynopsis">
     <span class="modifier">const</span>
     <span class="type"><a href="#language.types.integer" class="type int">int</a></span>
      <var class="fieldsynopsis_varname"><a href="#eventsslcontext.constants.sslv2-client-method"><var class="varname">SSLv2_CLIENT_METHOD</var></a></var><span class="initializer"> = 1</span>;</div>

    <div class="fieldsynopsis"><span class="modifier">const</span>
     <span class="type"><a href="#language.types.integer" class="type int">int</a></span>
      <var class="fieldsynopsis_varname"><a href="#eventsslcontext.constants.sslv3-client-method"><var class="varname">SSLv3_CLIENT_METHOD</var></a></var><span class="initializer"> = 2</span>;</div>

    <div class="fieldsynopsis"><span class="modifier">const</span>
     <span class="type"><a href="#language.types.integer" class="type int">int</a></span>
      <var class="fieldsynopsis_varname"><a href="#eventsslcontext.constants.sslv23-client-method"><var class="varname">SSLv23_CLIENT_METHOD</var></a></var><span class="initializer"> = 3</span>;</div>

    <div class="fieldsynopsis"><span class="modifier">const</span>
     <span class="type"><a href="#language.types.integer" class="type int">int</a></span>
      <var class="fieldsynopsis_varname"><a href="#eventsslcontext.constants.tls-client-method"><var class="varname">TLS_CLIENT_METHOD</var></a></var><span class="initializer"> = 4</span>;</div>

    <div class="fieldsynopsis"><span class="modifier">const</span>
     <span class="type"><a href="#language.types.integer" class="type int">int</a></span>
      <var class="fieldsynopsis_varname"><a href="#eventsslcontext.constants.sslv2-server-method"><var class="varname">SSLv2_SERVER_METHOD</var></a></var><span class="initializer"> = 5</span>;</div>

    <div class="fieldsynopsis"><span class="modifier">const</span>
     <span class="type"><a href="#language.types.integer" class="type int">int</a></span>
      <var class="fieldsynopsis_varname"><a href="#eventsslcontext.constants.sslv3-server-method"><var class="varname">SSLv3_SERVER_METHOD</var></a></var><span class="initializer"> = 6</span>;</div>

    <div class="fieldsynopsis"><span class="modifier">const</span>
     <span class="type"><a href="#language.types.integer" class="type int">int</a></span>
      <var class="fieldsynopsis_varname"><a href="#eventsslcontext.constants.sslv23-server-method"><var class="varname">SSLv23_SERVER_METHOD</var></a></var><span class="initializer"> = 7</span>;</div>

    <div class="fieldsynopsis"><span class="modifier">const</span>
     <span class="type"><a href="#language.types.integer" class="type int">int</a></span>
      <var class="fieldsynopsis_varname"><a href="#eventsslcontext.constants.tls-server-method"><var class="varname">TLS_SERVER_METHOD</var></a></var><span class="initializer"> = 8</span>;</div>

    <div class="fieldsynopsis"><span class="modifier">const</span>
     <span class="type"><a href="#language.types.integer" class="type int">int</a></span>
      <var class="fieldsynopsis_varname"><a href="#eventsslcontext.constants.opt-local-cert"><var class="varname">OPT_LOCAL_CERT</var></a></var><span class="initializer"> = 1</span>;</div>

    <div class="fieldsynopsis"><span class="modifier">const</span>
     <span class="type"><a href="#language.types.integer" class="type int">int</a></span>
      <var class="fieldsynopsis_varname"><a href="#eventsslcontext.constants.opt-local-pk"><var class="varname">OPT_LOCAL_PK</var></a></var><span class="initializer"> = 2</span>;</div>

    <div class="fieldsynopsis"><span class="modifier">const</span>
     <span class="type"><a href="#language.types.integer" class="type int">int</a></span>
      <var class="fieldsynopsis_varname"><a href="#eventsslcontext.constants.opt-passphrase"><var class="varname">OPT_PASSPHRASE</var></a></var><span class="initializer"> = 3</span>;</div>

    <div class="fieldsynopsis"><span class="modifier">const</span>
     <span class="type"><a href="#language.types.integer" class="type int">int</a></span>
      <var class="fieldsynopsis_varname"><a href="#eventsslcontext.constants.opt-ca-file"><var class="varname">OPT_CA_FILE</var></a></var><span class="initializer"> = 4</span>;</div>

    <div class="fieldsynopsis"><span class="modifier">const</span>
     <span class="type"><a href="#language.types.integer" class="type int">int</a></span>
      <var class="fieldsynopsis_varname"><a href="#eventsslcontext.constants.opt-ca-path"><var class="varname">OPT_CA_PATH</var></a></var><span class="initializer"> = 5</span>;</div>

    <div class="fieldsynopsis"><span class="modifier">const</span>
     <span class="type"><a href="#language.types.integer" class="type int">int</a></span>
      <var class="fieldsynopsis_varname"><a href="#eventsslcontext.constants.opt-allow-self-signed"><var class="varname">OPT_ALLOW_SELF_SIGNED</var></a></var><span class="initializer"> = 6</span>;</div>

    <div class="fieldsynopsis"><span class="modifier">const</span>
     <span class="type"><a href="#language.types.integer" class="type int">int</a></span>
      <var class="fieldsynopsis_varname"><a href="#eventsslcontext.constants.opt-verify-peer"><var class="varname">OPT_VERIFY_PEER</var></a></var><span class="initializer"> = 7</span>;</div>

    <div class="fieldsynopsis"><span class="modifier">const</span>
     <span class="type"><a href="#language.types.integer" class="type int">int</a></span>
      <var class="fieldsynopsis_varname"><a href="#eventsslcontext.constants.opt-verify-depth"><var class="varname">OPT_VERIFY_DEPTH</var></a></var><span class="initializer"> = 8</span>;</div>

    <div class="fieldsynopsis"><span class="modifier">const</span>
     <span class="type"><a href="#language.types.integer" class="type int">int</a></span>
      <var class="fieldsynopsis_varname"><a href="#eventsslcontext.constants.opt-ciphers"><var class="varname">OPT_CIPHERS</var></a></var><span class="initializer"> = 9</span>;</div>

    <div class="classsynopsisinfo classsynopsisinfo_comment">/* Propiedades */</div>
    <div class="fieldsynopsis"><span class="modifier">public</span>
     <span class="type"><a href="#language.types.string" class="type string">string</a></span>
      <var class="varname"><a href="#eventsslcontext.props.local-cert">$<var class="varname">local_cert</var></a></var>;</div>

    <div class="fieldsynopsis"><span class="modifier">public</span>
     <span class="type"><a href="#language.types.string" class="type string">string</a></span>
      <var class="varname"><a href="#eventsslcontext.props.local-pk">$<var class="varname">local_pk</var></a></var>;</div>

    <div class="classsynopsisinfo classsynopsisinfo_comment">/* Métodos */</div>
    <div class="methodsynopsis dc-description">
   <span class="modifier">public</span>
   <span class="methodname"><a href="#eventsslcontext.construct" class="methodname">__construct</a></span>(<span class="methodparam">
    
    <span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$method</code>
   </span>, <span class="methodparam">
    
    <span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$options</code>
   </span>)</div>

   }</div>

  </div>

  <div class="section" id="eventsslcontext.props">
   <h2 class="title">Propiedades</h2>
   <dl>
    
     <dt id="eventsslcontext.props.local-cert">
      <var class="varname">local_cert</var>
     </dt>
     <dd>
      <p class="para">
       Ruta hacia el fichero que contiene el certificado en el sistema de ficheros.
       Debe ser un fichero codificado <abbr title="Privacy-Enhanced Mail">PEM</abbr> que contiene los certificados.
       Puede, opcionalmente, contener la cadena del certificado
       del emisor.
      </p>
     </dd>
    
    
     <dt id="eventsslcontext.props.local-pk">
      <var class="varname">local_pk</var>
     </dt>
     <dd>
      <p class="para">
       Ruta hacia el fichero que contiene la clave privada local.
      </p>
     </dd>
    
   </dl>
  </div>


  <div class="section" id="eventsslcontext.constants">
   <h2 class="title">Constantes predefinidas</h2>
   <dl>
    
     <dt id="eventsslcontext.constants.sslv2-client-method">
      <strong><code><a href="#eventsslcontext.constants.sslv2-client-method">EventSslContext::SSLv2_CLIENT_METHOD</a></code></strong>
     </dt>
     <dd>
      <p class="para">
       Método cliente SSLv2. Ver la página del manual sobre
       <code class="literal">SSL_CTX_new(3)</code>.
      </p>
     </dd>
    
    
     <dt id="eventsslcontext.constants.sslv3-client-method">
      <strong><code><a href="#eventsslcontext.constants.sslv3-client-method">EventSslContext::SSLv3_CLIENT_METHOD</a></code></strong>
     </dt>
     <dd>
      <p class="para">
       Método cliente SSLv3. Ver la página del manual sobre
       <code class="literal">SSL_CTX_new(3)</code>.
      </p>
     </dd>
    
    
     <dt id="eventsslcontext.constants.sslv23-client-method">
      <strong><code><a href="#eventsslcontext.constants.sslv23-client-method">EventSslContext::SSLv23_CLIENT_METHOD</a></code></strong>
     </dt>
     <dd>
      <p class="para">
       Método cliente SSLv23. Ver la página del manual sobre
       <code class="literal">SSL_CTX_new(3)</code>.
      </p>
     </dd>
    
    
     <dt id="eventsslcontext.constants.tls-client-method">
      <strong><code><a href="#eventsslcontext.constants.tls-client-method">EventSslContext::TLS_CLIENT_METHOD</a></code></strong>
     </dt>
     <dd>
      <p class="para">
       Método cliente TLS. Ver la página del manual sobre
       <code class="literal">SSL_CTX_new(3)</code>.
      </p>
     </dd>
    
    
     <dt id="eventsslcontext.constants.sslv2-server-method">
      <strong><code><a href="#eventsslcontext.constants.sslv2-server-method">EventSslContext::SSLv2_SERVER_METHOD</a></code></strong>
     </dt>
     <dd>
      <p class="para">
       Método servidor SSLv2. Ver la página del manual sobre
       <code class="literal">SSL_CTX_new(3)</code>.
      </p>
     </dd>
    
    
     <dt id="eventsslcontext.constants.sslv3-server-method">
      <strong><code><a href="#eventsslcontext.constants.sslv3-server-method">EventSslContext::SSLv3_SERVER_METHOD</a></code></strong>
     </dt>
     <dd>
      <p class="para">
       Método servidor SSLv3. Ver la página del manual sobre
       <code class="literal">SSL_CTX_new(3)</code>.
      </p>
     </dd>
    
    
     <dt id="eventsslcontext.constants.sslv23-server-method">
      <strong><code><a href="#eventsslcontext.constants.sslv23-server-method">EventSslContext::SSLv23_SERVER_METHOD</a></code></strong>
     </dt>
     <dd>
      <p class="para">
       Método servidor SSLv23. Ver la página del manual sobre
       <code class="literal">SSL_CTX_new(3)</code>.
      </p>
     </dd>
    
    
     <dt id="eventsslcontext.constants.tls-server-method">
      <strong><code><a href="#eventsslcontext.constants.tls-server-method">EventSslContext::TLS_SERVER_METHOD</a></code></strong>
     </dt>
     <dd>
      <p class="para">
       Método servidor TLS. Ver la página del manual sobre
       <code class="literal">SSL_CTX_new(3)</code>.
      </p>
     </dd>
    
    
     <dt id="eventsslcontext.constants.opt-local-cert">
      <strong><code><a href="#eventsslcontext.constants.opt-local-cert">EventSslContext::OPT_LOCAL_CERT</a></code></strong>
     </dt>
     <dd>
      <p class="para">
       Clave para un elemento del array que contiene las opciones, utilizado
       en el método <span class="methodname"><a href="#eventsslcontext.construct" class="methodname">EventSslContext::__construct()</a></span>.
       Las opciones apuntan a la ruta del certificado local.
      </p>
     </dd>
    
    
     <dt id="eventsslcontext.constants.opt-local-pk">
      <strong><code><a href="#eventsslcontext.constants.opt-local-pk">EventSslContext::OPT_LOCAL_PK</a></code></strong>
     </dt>
     <dd>
      <p class="para">
       Clave para un elemento del array que contiene las opciones, utilizado
       en el método <span class="methodname"><a href="#eventsslcontext.construct" class="methodname">EventSslContext::__construct()</a></span>.
       Las opciones apuntan a la ruta de la clave privada.
      </p>
     </dd>
    
    
     <dt id="eventsslcontext.constants.opt-passphrase">
      <strong><code><a href="#eventsslcontext.constants.opt-passphrase">EventSslContext::OPT_PASSPHRASE</a></code></strong>
     </dt>
     <dd>
      <p class="para">
       Clave para un elemento del array que contiene las opciones, utilizado
       en el método <span class="methodname"><a href="#eventsslcontext.construct" class="methodname">EventSslContext::__construct()</a></span>.
       Representa la contraseña del certificado.
      </p>
     </dd>
    
    
     <dt id="eventsslcontext.constants.opt-ca-file">
      <strong><code><a href="#eventsslcontext.constants.opt-ca-file">EventSslContext::OPT_CA_FILE</a></code></strong>
     </dt>
     <dd>
      <p class="para">
       Clave para un elemento del array que contiene las opciones, utilizado
       en el método <span class="methodname"><a href="#eventsslcontext.construct" class="methodname">EventSslContext::__construct()</a></span>.
       Representa la ruta hacia el fichero de la autoridad del certificado.
      </p>
     </dd>
    
    
     <dt id="eventsslcontext.constants.opt-ca-path">
      <strong><code><a href="#eventsslcontext.constants.opt-ca-path">EventSslContext::OPT_CA_PATH</a></code></strong>
     </dt>
     <dd>
      <p class="para">
       Clave para un elemento del array que contiene las opciones, utilizado
       en el método <span class="methodname"><a href="#eventsslcontext.construct" class="methodname">EventSslContext::__construct()</a></span>.
       Representa la ruta en la que se debe buscar el fichero
       de la autoridad del certificado.
      </p>
     </dd>
    
    
     <dt id="eventsslcontext.constants.opt-allow-self-signed">
      <strong><code><a href="#eventsslcontext.constants.opt-allow-self-signed">EventSslContext::OPT_ALLOW_SELF_SIGNED</a></code></strong>
     </dt>
     <dd>
      <p class="para">
       Clave para un elemento del array que contiene las opciones, utilizado
       en el método <span class="methodname"><a href="#eventsslcontext.construct" class="methodname">EventSslContext::__construct()</a></span>.
       Representa una opción que permite los certificados autofirmados.
      </p>
     </dd>
    
    
     <dt id="eventsslcontext.constants.opt-verify-peer">
      <strong><code><a href="#eventsslcontext.constants.opt-verify-peer">EventSslContext::OPT_VERIFY_PEER</a></code></strong>
     </dt>
     <dd>
      <p class="para">
       Clave para un elemento del array que contiene las opciones, utilizado
       en el método <span class="methodname"><a href="#eventsslcontext.construct" class="methodname">EventSslContext::__construct()</a></span>.
       Representa una opción que indica a Event que verifique los pares.
      </p>
     </dd>
    
    
     <dt id="eventsslcontext.constants.opt-verify-depth">
      <strong><code><a href="#eventsslcontext.constants.opt-verify-depth">EventSslContext::OPT_VERIFY_DEPTH</a></code></strong>
     </dt>
     <dd>
      <p class="para">
       Clave para un elemento del array que contiene las opciones, utilizado
       en el método <span class="methodname"><a href="#eventsslcontext.construct" class="methodname">EventSslContext::__construct()</a></span>.
       Representa la profundidad máxima de la verificación de la cadena
       del certificado que debe ser permitida para el contexto SSL.
      </p>
     </dd>
    
    
     <dt id="eventsslcontext.constants.opt-ciphers">
      <strong><code><a href="#eventsslcontext.constants.opt-ciphers">EventSslContext::OPT_CIPHERS</a></code></strong>
     </dt>
     <dd>
      <p class="para">
       Clave para un elemento del array que contiene las opciones, utilizado
       en el método <span class="methodname"><a href="#eventsslcontext.construct" class="methodname">EventSslContext::__construct()</a></span>.
       Representa la lista de cifrados para el contexto SSL.
      </p>
     </dd>
    
   </dl>
  </div>

 </div>

 



<div id="eventsslcontext.construct" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">EventSslContext::__construct</h1>
  <p class="verinfo">(PECL event &gt;= 1.2.6-beta)</p><p class="refpurpose"><span class="refname">EventSslContext::__construct</span> — <span class="dc-title">Construye un contexto OpenSSL para usar con las clases Event</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-eventsslcontext.construct-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span>
   <span class="methodname"><strong>EventSslContext::__construct</strong></span>(<span class="methodparam">
    
    <span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$method</code>
   </span>, <span class="methodparam">
    
    <span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$options</code>
   </span>)</div>

  <p class="para rdfs-comment">
   Crea un contexto SSL que contiene el puntero hacia <code class="literal">SSL_CTX</code>
   (ver el manual del sistema).
  </p>
 </div>

 <div class="refsect1 parameters" id="refsect1-eventsslcontext.construct-parameters">
  <h3 class="title">Parámetros</h3>
  <dl>
   
    <dt>
     <code class="parameter">method</code>
    </dt>
    <dd>
     <p class="para">
      Una de las constantes
      <a href="#eventsslcontext.constants" class="link"><code class="literal">EventSslContext::*_METHOD</code></a>.
     </p>
    </dd>
   
   
    <dt>
     <code class="parameter">options</code>
    </dt>
    <dd>
     <p class="para">
      Un array asociativo de opciones de contexto SSL.
      Una de las constantes
      <a href="#eventsslcontext.constants" class="link"><code class="literal">EventSslContext::OPT_*</code></a>.
     </p>
    </dd>
   
  </dl>
 </div>

 <div class="refsect1 examples" id="refsect1-eventsslcontext.construct-examples">
  <h3 class="title">Ejemplos</h3>
  <div class="example" id="example-4561">
   <p><strong>Ejemplo #1 
    Ejemplo con <span class="function"><strong>EventSslContext::__construct()</strong></span></strong></p>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br>$ctx </span><span style="color: #007700">= new </span><span style="color: #0000BB">EventSslContext</span><span style="color: #007700">(</span><span style="color: #0000BB">EventSslContext</span><span style="color: #007700">::</span><span style="color: #0000BB">SSLv3_SERVER_METHOD</span><span style="color: #007700">, array(<br>     </span><span style="color: #0000BB">EventSslContext</span><span style="color: #007700">::</span><span style="color: #0000BB">OPT_LOCAL_CERT        </span><span style="color: #007700">=&gt; </span><span style="color: #0000BB">$local_cert</span><span style="color: #007700">,<br>     </span><span style="color: #0000BB">EventSslContext</span><span style="color: #007700">::</span><span style="color: #0000BB">OPT_LOCAL_PK          </span><span style="color: #007700">=&gt; </span><span style="color: #0000BB">$local_pk</span><span style="color: #007700">,<br>     </span><span style="color: #0000BB">EventSslContext</span><span style="color: #007700">::</span><span style="color: #0000BB">OPT_PASSPHRASE        </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">"echo server"</span><span style="color: #007700">,<br>     </span><span style="color: #0000BB">EventSslContext</span><span style="color: #007700">::</span><span style="color: #0000BB">OPT_VERIFY_PEER       </span><span style="color: #007700">=&gt; </span><span style="color: #0000BB">true</span><span style="color: #007700">,<br>     </span><span style="color: #0000BB">EventSslContext</span><span style="color: #007700">::</span><span style="color: #0000BB">OPT_ALLOW_SELF_SIGNED </span><span style="color: #007700">=&gt; </span><span style="color: #0000BB">false</span><span style="color: #007700">,<br>));<br></span><span style="color: #0000BB">?&gt;</span></span></code></div>
   </div>

  </div>
 </div>

</div>
<hr>





<h2>Tabla de contenidos</h2><ul class="chunklist chunklist_reference"><li><a href="#eventsslcontext.construct">EventSslContext::__construct</a> — Construye un contexto OpenSSL para usar con las clases Event</li></ul>
</div>

<hr>



 



<div id="class.eventutil" class="reference"><hr>
 <h1 class="title">La clase EventUtil</h1>
 
 <div class="partintro"><p class="verinfo">(PECL event &gt;= 1.5.0)</p>

  <div class="section" id="eventutil.intro">
   <h2 class="title">Introducción</h2>
   <p class="para">
    La clase <span class="classname"><strong class="classname">EventUtil</strong></span> es un esqueleto con métodos y constantes adicionales.
   </p>
  </div>

  <div class="section" id="eventutil.synopsis">
   <h2 class="title">Sinopsis de la Clase</h2>


   <div class="classsynopsis">
    <span class="ooclass">
     <strong class="classname"></strong>
    </span>

    <div class="classsynopsisinfo">
     <span class="ooclass">
      <span class="modifier">final</span>
      <span class="modifier">class</span> <strong class="classname">EventUtil</strong>
     </span>
     {</div>

    <div class="classsynopsisinfo classsynopsisinfo_comment">/* Constantes */</div>
    <div class="fieldsynopsis">
     <span class="modifier">const</span>
     <span class="type"><a href="#language.types.integer" class="type int">int</a></span>
      <var class="fieldsynopsis_varname"><a href="#eventutil.constants.af-inet"><var class="varname">AF_INET</var></a></var><span class="initializer"> = 2</span>;</div>

    <div class="fieldsynopsis"><span class="modifier">const</span>
     <span class="type"><a href="#language.types.integer" class="type int">int</a></span>
      <var class="fieldsynopsis_varname"><a href="#eventutil.constants.af-inet6"><var class="varname">AF_INET6</var></a></var><span class="initializer"> = 10</span>;</div>

    <div class="fieldsynopsis"><span class="modifier">const</span>
     <span class="type"><a href="#language.types.integer" class="type int">int</a></span>
      <var class="fieldsynopsis_varname"><a href="#eventutil.constants.af-unspec"><var class="varname">AF_UNSPEC</var></a></var><span class="initializer"> = 0</span>;</div>

    <div class="fieldsynopsis"><span class="modifier">const</span>
     <span class="type"><a href="#language.types.integer" class="type int">int</a></span>
      <var class="fieldsynopsis_varname"><a href="#eventutil.constants.libevent-version-number"><var class="varname">LIBEVENT_VERSION_NUMBER</var></a></var><span class="initializer"> = 33559808</span>;</div>

    <div class="fieldsynopsis"><span class="modifier">const</span>
     <span class="type"><a href="#language.types.integer" class="type int">int</a></span>
      <var class="fieldsynopsis_varname"><a href="#eventutil.constants.so-debug"><var class="varname">SO_DEBUG</var></a></var><span class="initializer"> = 1</span>;</div>

    <div class="fieldsynopsis"><span class="modifier">const</span>
     <span class="type"><a href="#language.types.integer" class="type int">int</a></span>
      <var class="fieldsynopsis_varname"><a href="#eventutil.constants.so-reuseaddr"><var class="varname">SO_REUSEADDR</var></a></var><span class="initializer"> = 2</span>;</div>

    <div class="fieldsynopsis"><span class="modifier">const</span>
     <span class="type"><a href="#language.types.integer" class="type int">int</a></span>
      <var class="fieldsynopsis_varname"><a href="#eventutil.constants.so-keepalive"><var class="varname">SO_KEEPALIVE</var></a></var><span class="initializer"> = 9</span>;</div>

    <div class="fieldsynopsis"><span class="modifier">const</span>
     <span class="type"><a href="#language.types.integer" class="type int">int</a></span>
      <var class="fieldsynopsis_varname"><a href="#eventutil.constants.so-dontroute"><var class="varname">SO_DONTROUTE</var></a></var><span class="initializer"> = 5</span>;</div>

    <div class="fieldsynopsis"><span class="modifier">const</span>
     <span class="type"><a href="#language.types.integer" class="type int">int</a></span>
      <var class="fieldsynopsis_varname"><a href="#eventutil.constants.so-linger"><var class="varname">SO_LINGER</var></a></var><span class="initializer"> = 13</span>;</div>

    <div class="fieldsynopsis"><span class="modifier">const</span>
     <span class="type"><a href="#language.types.integer" class="type int">int</a></span>
      <var class="fieldsynopsis_varname"><a href="#eventutil.constants.so-broadcast"><var class="varname">SO_BROADCAST</var></a></var><span class="initializer"> = 6</span>;</div>

    <div class="fieldsynopsis"><span class="modifier">const</span>
     <span class="type"><a href="#language.types.integer" class="type int">int</a></span>
      <var class="fieldsynopsis_varname"><a href="#eventutil.constants.so-oobinline"><var class="varname">SO_OOBINLINE</var></a></var><span class="initializer"> = 10</span>;</div>

    <div class="fieldsynopsis"><span class="modifier">const</span>
     <span class="type"><a href="#language.types.integer" class="type int">int</a></span>
      <var class="fieldsynopsis_varname"><a href="#eventutil.constants.so-sndbuf"><var class="varname">SO_SNDBUF</var></a></var><span class="initializer"> = 7</span>;</div>

    <div class="fieldsynopsis"><span class="modifier">const</span>
     <span class="type"><a href="#language.types.integer" class="type int">int</a></span>
      <var class="fieldsynopsis_varname"><a href="#eventutil.constants.so-rcvbuf"><var class="varname">SO_RCVBUF</var></a></var><span class="initializer"> = 8</span>;</div>

    <div class="fieldsynopsis"><span class="modifier">const</span>
     <span class="type"><a href="#language.types.integer" class="type int">int</a></span>
      <var class="fieldsynopsis_varname"><a href="#eventutil.constants.so-sndlowat"><var class="varname">SO_SNDLOWAT</var></a></var><span class="initializer"> = 19</span>;</div>

    <div class="fieldsynopsis"><span class="modifier">const</span>
     <span class="type"><a href="#language.types.integer" class="type int">int</a></span>
      <var class="fieldsynopsis_varname"><a href="#eventutil.constants.so-rcvlowat"><var class="varname">SO_RCVLOWAT</var></a></var><span class="initializer"> = 18</span>;</div>

    <div class="fieldsynopsis"><span class="modifier">const</span>
     <span class="type"><a href="#language.types.integer" class="type int">int</a></span>
      <var class="fieldsynopsis_varname"><a href="#eventutil.constants.so-sndtimeo"><var class="varname">SO_SNDTIMEO</var></a></var><span class="initializer"> = 21</span>;</div>

    <div class="fieldsynopsis"><span class="modifier">const</span>
     <span class="type"><a href="#language.types.integer" class="type int">int</a></span>
      <var class="fieldsynopsis_varname"><a href="#eventutil.constants.so-rcvtimeo"><var class="varname">SO_RCVTIMEO</var></a></var><span class="initializer"> = 20</span>;</div>

    <div class="fieldsynopsis"><span class="modifier">const</span>
     <span class="type"><a href="#language.types.integer" class="type int">int</a></span>
      <var class="fieldsynopsis_varname"><a href="#eventutil.constants.so-type"><var class="varname">SO_TYPE</var></a></var><span class="initializer"> = 3</span>;</div>

    <div class="fieldsynopsis"><span class="modifier">const</span>
     <span class="type"><a href="#language.types.integer" class="type int">int</a></span>
      <var class="fieldsynopsis_varname"><a href="#eventutil.constants.so-error"><var class="varname">SO_ERROR</var></a></var><span class="initializer"> = 4</span>;</div>

    <div class="fieldsynopsis"><span class="modifier">const</span>
     <span class="type"><a href="#language.types.integer" class="type int">int</a></span>
      <var class="fieldsynopsis_varname"><a href="#eventutil.constants.sol-socket"><var class="varname">SOL_SOCKET</var></a></var><span class="initializer"> = 1</span>;</div>

    <div class="fieldsynopsis"><span class="modifier">const</span>
     <span class="type"><a href="#language.types.integer" class="type int">int</a></span>
      <var class="fieldsynopsis_varname"><a href="#eventutil.constants.sol-tcp"><var class="varname">SOL_TCP</var></a></var><span class="initializer"> = 6</span>;</div>

    <div class="fieldsynopsis"><span class="modifier">const</span>
     <span class="type"><a href="#language.types.integer" class="type int">int</a></span>
      <var class="fieldsynopsis_varname"><a href="#eventutil.constants.sol-udp"><var class="varname">SOL_UDP</var></a></var><span class="initializer"> = 17</span>;</div>

    <div class="fieldsynopsis"><span class="modifier">const</span>
     <span class="type"><a href="#language.types.integer" class="type int">int</a></span>
      <var class="fieldsynopsis_varname"><a href="#eventutil.constants.ipproto-ip"><var class="varname">IPPROTO_IP</var></a></var><span class="initializer"> = 0</span>;</div>

    <div class="fieldsynopsis"><span class="modifier">const</span>
     <span class="type"><a href="#language.types.integer" class="type int">int</a></span>
      <var class="fieldsynopsis_varname"><a href="#eventutil.constants.ipproto-ipv6"><var class="varname">IPPROTO_IPV6</var></a></var><span class="initializer"> = 41</span>;</div>

    <div class="classsynopsisinfo classsynopsisinfo_comment">/* Métodos */</div>
    <div class="methodsynopsis dc-description">
   <span class="modifier">abstract</span>
   <span class="modifier">public</span>
   <span class="methodname"><a href="#eventutil.construct" class="methodname">__construct</a></span>()</div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span>
   <span class="modifier">static</span>
   <span class="methodname"><a href="#eventutil.getlastsocketerrno" class="methodname">getLastSocketErrno</a></span>(<span class="methodparam">
    
    <span class="type"><a href="#language.types.mixed" class="type mixed">mixed</a></span> <code class="parameter">$socket</code>
    <span class="initializer"> = <strong><code><a href="#constant.null">null</a></code></strong></span>
   </span>): <span class="type"><a href="#language.types.integer" class="type int">int</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span>
   <span class="modifier">static</span>
   <span class="methodname"><a href="#eventutil.getlastsocketerror" class="methodname">getLastSocketError</a></span>(<span class="methodparam">
    
    <span class="type"><a href="#language.types.mixed" class="type mixed">mixed</a></span> <code class="parameter">$socket</code>
   <span class="initializer"> = ?</span></span>): <span class="type"><a href="#language.types.string" class="type string">string</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span>
   <span class="modifier">static</span>
   <span class="methodname"><a href="#eventutil.getsocketfd" class="methodname">getSocketFd</a></span>(<span class="methodparam">
    
    <span class="type"><a href="#language.types.mixed" class="type mixed">mixed</a></span> <code class="parameter">$socket</code>
   </span>): <span class="type"><a href="#language.types.integer" class="type int">int</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span>
   <span class="modifier">static</span>
   <span class="methodname"><a href="#eventutil.getsocketname" class="methodname">getSocketName</a></span>(<span class="methodparam">
    
    <span class="type"><a href="#language.types.mixed" class="type mixed">mixed</a></span> <code class="parameter">$socket</code>
   </span>, <span class="methodparam">
    
    <span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter reference">&amp;$address</code>
   </span>, <span class="methodparam">
    
    <span class="type"><a href="#language.types.mixed" class="type mixed">mixed</a></span> <code class="parameter reference">&amp;$port</code>
   <span class="initializer"> = ?</span></span>): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span>
   <span class="modifier">static</span>
   <span class="methodname"><a href="#eventutil.setsocketoption" class="methodname">setSocketOption</a></span>(<br>    <span class="methodparam">
    
    <span class="type"><a href="#language.types.mixed" class="type mixed">mixed</a></span> <code class="parameter">$socket</code>
   </span>,<br>    <span class="methodparam">
    
    <span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$level</code>
   </span>,<br>    <span class="methodparam">
    
    <span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$optname</code>
   </span>,<br>    <span class="methodparam">
    
    <span class="type"><a href="#language.types.mixed" class="type mixed">mixed</a></span> <code class="parameter">$optval</code>
   </span><br>): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span>
   <span class="modifier">static</span>
   <span class="methodname"><a href="#eventutil.sslrandpoll" class="methodname">sslRandPoll</a></span>(): <span class="type"><a href="language.types.void.html" class="type void">void</a></span></div>

   }</div>

  </div>

  <div class="section" id="eventutil.constants">
   <h2 class="title">Constantes predefinidas</h2>
   <dl>
    
     <dt id="eventutil.constants.af-inet">
      <strong><code><a href="#eventutil.constants.af-inet">EventUtil::AF_INET</a></code></strong>
     </dt>
     <dd>
      <p class="para">
       Familia de direcciones IPv4
      </p>
     </dd>
    
    
     <dt id="eventutil.constants.af-inet6">
      <strong><code><a href="#eventutil.constants.af-inet6">EventUtil::AF_INET6</a></code></strong>
     </dt>
     <dd>
      <p class="para">
       Familia de direcciones IPv6
      </p>
     </dd>
    
    
     <dt id="eventutil.constants.af-unspec">
      <strong><code><a href="#eventutil.constants.af-unspec">EventUtil::AF_UNSPEC</a></code></strong>
     </dt>
     <dd>
      <p class="para">
       Familia de direcciones IP no especificada
      </p>
     </dd>
    
    
     <dt id="eventutil.constants.so-debug">
      <strong><code><a href="#eventutil.constants.so-debug">EventUtil::SO_DEBUG</a></code></strong>
     </dt>
     <dd>
      <p class="para">
       Opción del socket. Activa la depuración del socket. Solo permitido para
       los procesos con la capacidad <code class="literal">CAP_NET_ADMIN</code>
       o un ID de usuario efectivo de <code class="literal">0</code>.
       (Añadido en event-1.6.0.)
      </p>
     </dd>
    
    
     <dt id="eventutil.constants.so-reuseaddr">
      <strong><code><a href="#eventutil.constants.so-reuseaddr">EventUtil::SO_REUSEADDR</a></code></strong>
     </dt>
     <dd>
      <p class="para">
       Opción del socket. Indica que las reglas utilizadas en la
       validación de direcciones proporcionadas en una llamada a
       <code class="literal">bind(2)</code> deben permitir la reutilización
       de direcciones locales. Ver la página del manual sobre
       <code class="literal">socket(7)</code>. (Añadido en event-1.6.0.)
      </p>
     </dd>
    
    
     <dt id="eventutil.constants.so-keepalive">
      <strong><code><a href="#eventutil.constants.so-keepalive">EventUtil::SO_KEEPALIVE</a></code></strong>
     </dt>
     <dd>
      <p class="para">
       Opción del socket. Activa el envío de mensajes keep-alive en los
       sockets de conexión. Espera un entero. Ver la página del manual sobre
       <code class="literal">socket(7)</code>. (Añadido en event-1.6.0.)
      </p>
     </dd>
    
    
     <dt id="eventutil.constants.so-dontroute">
      <strong><code><a href="#eventutil.constants.so-dontroute">EventUtil::SO_DONTROUTE</a></code></strong>
     </dt>
     <dd>
      <p class="para">
       Opción del socket. Ver la página del manual sobre
       <code class="literal">socket(7)</code>. (Añadido en event-1.6.0.)
      </p>
     </dd>
    
    
     <dt id="eventutil.constants.so-linger">
      <strong><code><a href="#eventutil.constants.so-linger">EventUtil::SO_LINGER</a></code></strong>
     </dt>
     <dd>
      <p class="para">
       Opción del socket. Cuando está activo, una llamada a
       <code class="literal">close(2)</code> o a <code class="literal">shutdown(2)</code>
       no devolverá hasta que todos los mensajes de la cola del socket hayan sido enviados, o hasta que se alcance el tiempo máximo de espera del linger. De lo contrario, las llamadas devolverán inmediatamente
       y el cierre se realizará en segundo plano. Ver la página del manual sobre
       <code class="literal">socket(7)</code>. (Añadido en event-1.6.0.)
      </p>
     </dd>
    
    
     <dt id="eventutil.constants.so-broadcast">
      <strong><code><a href="#eventutil.constants.so-broadcast">EventUtil::SO_BROADCAST</a></code></strong>
     </dt>
     <dd>
      <p class="para">
       Opción del socket. Indica si la transmisión de mensajes
       de broadcast está soportada. Ver la página del manual sobre
       <code class="literal">socket(7)</code>. (Añadido en event-1.6.0.)
      </p>
     </dd>
    
    
     <dt id="eventutil.constants.so-oobinline">
      <strong><code><a href="#eventutil.constants.so-oobinline">EventUtil::SO_OOBINLINE</a></code></strong>
     </dt>
     <dd>
      <p class="para">
       Opción del socket. Ver la página del manual sobre
       <code class="literal">socket(7)</code>. (Añadido en event-1.6.0.)
      </p>
     </dd>
    
    
     <dt id="eventutil.constants.so-sndbuf">
      <strong><code><a href="#eventutil.constants.so-sndbuf">EventUtil::SO_SNDBUF</a></code></strong>
     </dt>
     <dd>
      <p class="para">
       Opción del socket. Ver la página del manual sobre
       <code class="literal">socket(7)</code>. (Añadido en event-1.6.0.)
      </p>
     </dd>
    
    
     <dt id="eventutil.constants.so-rcvbuf">
      <strong><code><a href="#eventutil.constants.so-rcvbuf">EventUtil::SO_RCVBUF</a></code></strong>
     </dt>
     <dd>
      <p class="para">
       Opción del socket. Ver la página del manual sobre
       <code class="literal">socket(7)</code>. (Añadido en event-1.6.0.)
      </p>
     </dd>
    
    
     <dt id="eventutil.constants.so-sndlowat">
      <strong><code><a href="#eventutil.constants.so-sndlowat">EventUtil::SO_SNDLOWAT</a></code></strong>
     </dt>
     <dd>
      <p class="para">
       Opción del socket. Ver la página del manual sobre
       <code class="literal">socket(7)</code>. (Añadido en event-1.6.0.)
      </p>
     </dd>
    
    
     <dt id="eventutil.constants.so-rcvlowat">
      <strong><code><a href="#eventutil.constants.so-rcvlowat">EventUtil::SO_RCVLOWAT</a></code></strong>
     </dt>
     <dd>
      <p class="para">
       Opción del socket. Ver la página del manual sobre
       <code class="literal">socket(7)</code>. (Añadido en event-1.6.0.)
      </p>
     </dd>
    
    
     <dt id="eventutil.constants.so-sndtimeo">
      <strong><code><a href="#eventutil.constants.so-sndtimeo">EventUtil::SO_SNDTIMEO</a></code></strong>
     </dt>
     <dd>
      <p class="para">
       Opción del socket. Ver la página del manual sobre
       <code class="literal">socket(7)</code>. (Añadido en event-1.6.0.)
      </p>
     </dd>
    
    
     <dt id="eventutil.constants.so-rcvtimeo">
      <strong><code><a href="#eventutil.constants.so-rcvtimeo">EventUtil::SO_RCVTIMEO</a></code></strong>
     </dt>
     <dd>
      <p class="para">
       Opción del socket. Ver la página del manual sobre
       <code class="literal">socket(7)</code>. (Añadido en event-1.6.0.)
      </p>
     </dd>
    
    
     <dt id="eventutil.constants.so-type">
      <strong><code><a href="#eventutil.constants.so-type">EventUtil::SO_TYPE</a></code></strong>
     </dt>
     <dd>
      <p class="para">
       Opción del socket. Ver la página del manual sobre
       <code class="literal">socket(7)</code>. (Añadido en event-1.6.0.)
      </p>
     </dd>
    
    
     <dt id="eventutil.constants.so-error">
      <strong><code><a href="#eventutil.constants.so-error">EventUtil::SO_ERROR</a></code></strong>
     </dt>
     <dd>
      <p class="para">
       Opción del socket. Ver la página del manual sobre
       <code class="literal">socket(7)</code>. (Añadido en event-1.6.0.)
      </p>
     </dd>
    
    
     <dt id="eventutil.constants.sol-socket">
      <strong><code><a href="#eventutil.constants.sol-socket">EventUtil::SOL_SOCKET</a></code></strong>
     </dt>
     <dd>
      <p class="para">
       Opción del socket. Ver la página del manual sobre
       <code class="literal">socket(7)</code>. (Añadido en event-1.6.0.)
      </p>
     </dd>
    
    
     <dt id="eventutil.constants.sol-tcp">
      <strong><code><a href="#eventutil.constants.sol-tcp">EventUtil::SOL_TCP</a></code></strong>
     </dt>
     <dd>
      <p class="para">
       Opción del socket. Ver la página del manual sobre
       <code class="literal">socket(7)</code>. (Añadido en event-1.6.0.)
      </p>
     </dd>
    
    
     <dt id="eventutil.constants.sol-udp">
      <strong><code><a href="#eventutil.constants.sol-udp">EventUtil::SOL_UDP</a></code></strong>
     </dt>
     <dd>
      <p class="para">
       Opción del socket. Ver la página del manual sobre
       <code class="literal">socket(7)</code>. (Añadido en event-1.6.0.)
      </p>
     </dd>
    
    
     <dt id="eventutil.constants.ipproto-ip">
      <strong><code><a href="#eventutil.constants.ipproto-ip">EventUtil::IPPROTO_IP</a></code></strong>
     </dt>
     <dd>
      <p class="para">
       Ver la página del manual sobre <code class="literal">socket(7)</code>.
       (Añadido en event-1.6.0.)
      </p>
     </dd>
    
    
     <dt id="eventutil.constants.ipproto-ipv6">
      <strong><code><a href="#eventutil.constants.ipproto-ipv6">EventUtil::IPPROTO_IPV6</a></code></strong>
     </dt>
     <dd>
      <p class="para">
       Ver la página del manual sobre <code class="literal">socket(7)</code>.
       (Añadido en event-1.6.0.)
      </p>
     </dd>
    
    
     <dt id="eventutil.constants.libevent-version-number">
      <strong><code><a href="#eventutil.constants.libevent-version-number">EventUtil::LIBEVENT_VERSION_NUMBER</a></code></strong>
     </dt>
     <dd>
      <p class="para">
       Número de versión de Libevent en el momento en que la extensión Event
       fue compilada con la biblioteca.
      </p>
     </dd>
    
   </dl>
  </div>

 </div>

 




<div id="eventutil.construct" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">EventUtil::__construct</h1>
  <p class="verinfo">(PECL event &gt;= 1.2.6-beta)</p><p class="refpurpose"><span class="refname">EventUtil::__construct</span> — <span class="dc-title">El constructor</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-eventutil.construct-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">abstract</span>
   <span class="modifier">public</span>
   <span class="methodname"><strong>EventUtil::__construct</strong></span>()</div>

  <p class="para rdfs-comment">
   <span class="classname"><a href="#class.eventutil" class="classname">EventUtil</a></span> es un esqueleto.
   Asimismo, el constructor es abstracto, y por lo tanto es imposible
   crear objetos basados en esta clase.
  </p>
 </div>

 <div class="refsect1 parameters" id="refsect1-eventutil.construct-parameters">
  <h3 class="title">Parámetros</h3>
  <p class="para">Esta función no contiene ningún parámetro.</p>
 </div>

</div>
<hr>









<div id="eventutil.getlastsocketerrno" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">EventUtil::getLastSocketErrno</h1>
  <p class="verinfo">(PECL event &gt;= 1.2.6-beta)</p><p class="refpurpose"><span class="refname">EventUtil::getLastSocketErrno</span> — <span class="dc-title">Devuelve el número de error más reciente ocurrido en el socket</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-eventutil.getlastsocketerrno-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span>
   <span class="modifier">static</span>
   <span class="methodname"><strong>EventUtil::getLastSocketErrno</strong></span>(<span class="methodparam">
    
    <span class="type"><a href="#language.types.mixed" class="type mixed">mixed</a></span> <code class="parameter">$socket</code>
    <span class="initializer"> = <strong><code><a href="#constant.null">null</a></code></strong></span>
   </span>): <span class="type"><a href="#language.types.integer" class="type int">int</a></span></div>

  <p class="para rdfs-comment">
   Devuelve el número de error más reciente ocurrido en el socket
   (<code class="literal">errno</code>).
  </p>
 </div>

 <div class="refsect1 parameters" id="refsect1-eventutil.getlastsocketerrno-parameters">
  <h3 class="title">Parámetros</h3>
  <dl>
   
    <dt>
     <code class="parameter">socket</code>
    </dt>
    <dd>
     <p class="para">
      Recurso de socket, flujo o descriptor de fichero de socket.
     </p>
    </dd>
   
  </dl>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-eventutil.getlastsocketerrno-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Devuelve el número de error más reciente ocurrido en el socket
   (<code class="literal">errno</code>).
  </p>
 </div>

 <div class="refsect1 seealso" id="refsect1-eventutil.getlastsocketerrno-seealso">
  <h3 class="title">Ver también</h3>
  <ul class="simplelist">
   <li>
    <span class="methodname"><a href="#eventutil.getlastsocketerror" class="methodname" rel="rdfs-seeAlso">EventUtil::getLastSocketError()</a> - Devuelve el error más reciente ocurrido en el socket</span>
   </li>
  </ul>
 </div>

</div>
<hr>








<div id="eventutil.getlastsocketerror" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">EventUtil::getLastSocketError</h1>
  <p class="verinfo">(PECL event &gt;= 1.2.6-beta)</p><p class="refpurpose"><span class="refname">EventUtil::getLastSocketError</span> — <span class="dc-title">Devuelve el error más reciente ocurrido en el socket</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-eventutil.getlastsocketerror-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span>
   <span class="modifier">static</span>
   <span class="methodname"><strong>EventUtil::getLastSocketError</strong></span>(<span class="methodparam">
    
    <span class="type"><a href="#language.types.mixed" class="type mixed">mixed</a></span> <code class="parameter">$socket</code>
   <span class="initializer"> = ?</span></span>): <span class="type"><a href="#language.types.string" class="type string">string</a></span></div>

  <p class="para rdfs-comment">
   Devuelve el error más reciente ocurrido en el socket.
  </p>
 </div>

 <div class="refsect1 parameters" id="refsect1-eventutil.getlastsocketerror-parameters">
  <h3 class="title">Parámetros</h3>
  <dl>
   
    <dt>
     <code class="parameter">socket</code>
    </dt>
    <dd>
     <p class="para">
      Recurso de socket, flujo, o descriptor de fichero de socket.
     </p>
    </dd>
   
  </dl>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-eventutil.getlastsocketerror-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Devuelve el error más reciente ocurrido en el socket.
  </p>
 </div>

 <div class="refsect1 seealso" id="refsect1-eventutil.getlastsocketerror-seealso">
  <h3 class="title">Ver también</h3>
  <ul class="simplelist">
   <li>
    <span class="methodname"><a href="#eventutil.getlastsocketerrno" class="methodname" rel="rdfs-seeAlso">EventUtil::getLastSocketErrno()</a> - Devuelve el número de error más reciente ocurrido en el socket</span>
   </li>
  </ul>
 </div>

</div>
<hr>








<div id="eventutil.getsocketfd" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">EventUtil::getSocketFd</h1>
  <p class="verinfo">(PECL event &gt;= 1.7.0)</p><p class="refpurpose"><span class="refname">EventUtil::getSocketFd</span> — <span class="dc-title">Devuelve el descriptor de fichero de un socket o de un flujo</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-eventutil.getsocketfd-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span>
   <span class="modifier">static</span>
   <span class="methodname"><strong>EventUtil::getSocketFd</strong></span>(<span class="methodparam">
    
    <span class="type"><a href="#language.types.mixed" class="type mixed">mixed</a></span> <code class="parameter">$socket</code>
   </span>): <span class="type"><a href="#language.types.integer" class="type int">int</a></span></div>

  <p class="para rdfs-comment">
   Devuelve el descriptor numérico de fichero de un socket
   o de un flujo especificado por el parámetro <code class="parameter">socket</code>,
   como lo hace la extensión <code class="literal">Event</code> internamente
   para todos los métodos que aceptan un socket o un flujo.
  </p>
 </div>

 <div class="refsect1 parameters" id="refsect1-eventutil.getsocketfd-parameters">
  <h3 class="title">Parámetros</h3>
  <dl>
   
    <dt>
     <code class="parameter">socket</code>
    </dt>
    <dd>
     <p class="para">
      Socket o flujo.
     </p>
    </dd>
   
  </dl>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-eventutil.getsocketfd-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Devuelve el descriptor de fichero numérico en caso de éxito, <strong><code><a href="#constant.false">false</a></code></strong> en caso contrario.
   <span class="methodname"><strong>EventUtil::getSocketFd()</strong></span> devuelve <strong><code><a href="#constant.false">false</a></code></strong>
   en el caso de que el tipo de fichero no haya podido ser reconocido, o bien cuando
   el descriptor de fichero asociado con el parámetro <code class="parameter">socket</code>
   no es válido.
  </p>
 </div>


</div>
<hr>








<div id="eventutil.getsocketname" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">EventUtil::getSocketName</h1>
  <p class="verinfo">(PECL event &gt;= 1.5.0)</p><p class="refpurpose"><span class="refname">EventUtil::getSocketName</span> — <span class="dc-title">Recupera la dirección actual ligada al socket</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-eventutil.getsocketname-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span>
   <span class="modifier">static</span>
   <span class="methodname"><strong>EventUtil::getSocketName</strong></span>(<span class="methodparam">
    
    <span class="type"><a href="#language.types.mixed" class="type mixed">mixed</a></span> <code class="parameter">$socket</code>
   </span>, <span class="methodparam">
    
    <span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter reference">&amp;$address</code>
   </span>, <span class="methodparam">
    
    <span class="type"><a href="#language.types.mixed" class="type mixed">mixed</a></span> <code class="parameter reference">&amp;$port</code>
   <span class="initializer"> = ?</span></span>): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>

  <p class="para rdfs-comment">
   Recupera la dirección actual ligada al <code class="parameter">socket</code>.
  </p>
 </div>

 <div class="refsect1 parameters" id="refsect1-eventutil.getsocketname-parameters">
  <h3 class="title">Parámetros</h3>
  <dl>
   
    <dt>
     <code class="parameter">socket</code>
    </dt>
    <dd>
     <p class="para">
      Recurso de socket, flujo, o descriptor de fichero de socket.
     </p>
    </dd>
   
   
    <dt>
     <code class="parameter">address</code>
    </dt>
    <dd>
     <p class="para">
      Parámetro de salida. Dirección IP o la ruta del dominio UNIX del socket,
      según la familia de dirección del socket.
     </p>
    </dd>
   
   
    <dt>
     <code class="parameter">port</code>
    </dt>
    <dd>
     <p class="para">
      Parámetro de salida. El puerto ligado al socket. No tiene sentido para
      los sockets de dominio UNIX.
     </p>
    </dd>
   
  </dl>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-eventutil.getsocketname-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Esta función retorna <strong><code><a href="#constant.true">true</a></code></strong> en caso de éxito o <strong><code><a href="#constant.false">false</a></code></strong> si ocurre un error.
  </p>
 </div>

</div>
<hr>







<div id="eventutil.setsocketoption" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">EventUtil::setSocketOption</h1>
  <p class="verinfo">(PECL event &gt;= 1.6.0)</p><p class="refpurpose"><span class="refname">EventUtil::setSocketOption</span> — <span class="dc-title">Define las opciones del socket</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-eventutil.setsocketoption-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span>
   <span class="modifier">static</span>
   <span class="methodname"><strong>EventUtil::setSocketOption</strong></span>(<br>    <span class="methodparam">
    
    <span class="type"><a href="#language.types.mixed" class="type mixed">mixed</a></span> <code class="parameter">$socket</code>
   </span>,<br>    <span class="methodparam">
    
    <span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$level</code>
   </span>,<br>    <span class="methodparam">
    
    <span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$optname</code>
   </span>,<br>    <span class="methodparam">
    
    <span class="type"><a href="#language.types.mixed" class="type mixed">mixed</a></span> <code class="parameter">$optval</code>
   </span><br>): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>

  <p class="para rdfs-comment">
   Define las opciones del socket.
  </p>
 </div>

 <div class="refsect1 parameters" id="refsect1-eventutil.setsocketoption-parameters">
  <h3 class="title">Parámetros</h3>
  <dl>
   
    <dt>
     <code class="parameter">socket</code>
    </dt>
    <dd>
     <p class="para">
      Recurso de socket, flujo, o descriptor de fichero numérico asociado con el socket.
     </p>
    </dd>
   
   
    <dt>
     <code class="parameter">level</code>
    </dt>
    <dd>
     <p class="para">
      Una constante <code class="literal">EventUtil::SOL_*</code>. Especifica el nivel del protocolo en el cual residen las opciones. Por ejemplo, para recuperar las opciones a nivel de socket, el parámetro <code class="parameter">level</code> debe ser establecido al valor <strong><code><a href="#eventutil.constants.sol-socket">EventUtil::SOL_SOCKET</a></code></strong>. Otros niveles, como TCP, pueden ser utilizados especificando el número del protocolo de ese nivel. Los números de los protocolos pueden ser encontrados utilizando la función <span class="function"><a href="#function.getprotobyname" class="function">getprotobyname()</a></span>. Ver también las <a href="#eventutil.constants" class="link">constantes EventUtil</a>.
     </p>
    </dd>
   
   
    <dt>
     <code class="parameter">optname</code>
    </dt>
    <dd>
     <p class="para">
      Nombre de la opción (tipo). Tiene el mismo significado que el parámetro correspondiente de la función <span class="function"><a href="#function.socket-get-option" class="function">socket_get_option()</a></span>. Ver también las <a href="#eventutil.constants" class="link">constantes EventUtil</a>.
     </p>
    </dd>
   
   
    <dt>
     <code class="parameter">optval</code>
    </dt>
    <dd>
     <p class="para">
      Acepta los mismos valores que el parámetro <code class="parameter">optval</code> de la función <span class="function"><a href="#function.socket-get-option" class="function">socket_get_option()</a></span>.
     </p>
    </dd>
   
  </dl>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-eventutil.setsocketoption-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Esta función retorna <strong><code><a href="#constant.true">true</a></code></strong> en caso de éxito o <strong><code><a href="#constant.false">false</a></code></strong> si ocurre un error.
  </p>
 </div>

 <div class="refsect1 seealso" id="refsect1-eventutil.setsocketoption-seealso">
  <h3 class="title">Ver también</h3>
  <ul class="simplelist">
   <li>
    <span class="function"><a href="#function.socket-get-option" class="function" rel="rdfs-seeAlso">socket_get_option()</a> - Lee las opciones del socket</span>
   </li>
   <li>
    <span class="function"><a href="#function.socket-set-option" class="function" rel="rdfs-seeAlso">socket_set_option()</a> - Modifica las opciones de socket</span>
   </li>
  </ul>
 </div>

</div>
<hr>








<div id="eventutil.sslrandpoll" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">EventUtil::sslRandPoll</h1>
  <p class="verinfo">(PECL event &gt;= 1.2.6-beta)</p><p class="refpurpose"><span class="refname">EventUtil::sslRandPoll</span> — <span class="dc-title">Genera la entropía a través de OpenSSL RAND_poll()</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-eventutil.sslrandpoll-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span>
   <span class="modifier">static</span>
   <span class="methodname"><strong>EventUtil::sslRandPoll</strong></span>(): <span class="type"><a href="language.types.void.html" class="type void">void</a></span></div>

  <p class="para rdfs-comment">
   Genera la entropía a través de OpenSSL <code class="literal">RAND_poll()</code>
   (ver el manual del sistema).
  </p>
 </div>

 <div class="refsect1 parameters" id="refsect1-eventutil.sslrandpoll-parameters">
  <h3 class="title">Parámetros</h3>
  <p class="para">Esta función no contiene ningún parámetro.</p>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-eventutil.sslrandpoll-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   No se retorna ningún valor.
  </p>
 </div>

</div>
<hr>





<h2>Tabla de contenidos</h2><ul class="chunklist chunklist_reference"><li><a href="#eventutil.construct">EventUtil::__construct</a> — El constructor</li><li><a href="#eventutil.getlastsocketerrno">EventUtil::getLastSocketErrno</a> — Devuelve el número de error más reciente ocurrido en el socket</li><li><a href="#eventutil.getlastsocketerror">EventUtil::getLastSocketError</a> — Devuelve el error más reciente ocurrido en el socket</li><li><a href="#eventutil.getsocketfd">EventUtil::getSocketFd</a> — Devuelve el descriptor de fichero de un socket o de un flujo</li><li><a href="#eventutil.getsocketname">EventUtil::getSocketName</a> — Recupera la dirección actual ligada al socket</li><li><a href="#eventutil.setsocketoption">EventUtil::setSocketOption</a> — Define las opciones del socket</li><li><a href="#eventutil.sslrandpoll">EventUtil::sslRandPoll</a> — Genera la entropía a través de OpenSSL RAND_poll()</li></ul>
</div>

<hr>



 


<div id="class.eventexception" class="reference"><hr>
 <h1 class="title">La clase EventException</h1>
 
 <div class="partintro"><p class="verinfo">(No version information available, might only be in Git)</p>

  <div class="section" id="eventexception.intro">
   <h2 class="title">Introducción</h2>
   <p class="para">
    Una <span class="classname"><strong class="classname">EventException</strong></span> es lanzada cuando los métodos de extensión de Event
    encuentran una entrada de usuario inválida o identifican un error irrecuperable. Esta excepción
    sirve como señal para los desarrolladores para manejar situaciones excepcionales de manera elegante.
   </p>
  </div>

  <div class="section" id="eventexception.synopsis">
   <h2 class="title">Sinopsis de la Clase</h2>


   <div class="classsynopsis"><div class="classsynopsisinfo">
    
     <span class="modifier">class</span> <strong class="classname"><strong class="exceptionname">EventException</strong></strong>
    

    
     <span class="modifier">extends</span>
      <a href="#class.runtimeexception" class="classname">RuntimeException</a>
     {</div>

    <div class="classsynopsisinfo classsynopsisinfo_comment">/* Propiedades heredadas */</div>
    <div class="fieldsynopsis">
     <span class="modifier">protected</span>
     <span class="type"><a href="#language.types.string" class="type string">string</a></span>
      <var class="varname"><a href="#error.props.message">$<var class="varname">message</var></a></var><span class="initializer"> = ""</span>;</div>
<div class="fieldsynopsis"><span class="modifier">private</span>
     <span class="type"><a href="#language.types.string" class="type string">string</a></span>
      <var class="varname"><a href="#error.props.string">$<var class="varname">string</var></a></var><span class="initializer"> = ""</span>;</div>
<div class="fieldsynopsis"><span class="modifier">protected</span>
     <span class="type"><a href="#language.types.integer" class="type int">int</a></span>
      <var class="varname"><a href="#error.props.code">$<var class="varname">code</var></a></var>;</div>
<div class="fieldsynopsis"><span class="modifier">protected</span>
     <span class="type"><a href="#language.types.string" class="type string">string</a></span>
      <var class="varname"><a href="#error.props.file">$<var class="varname">file</var></a></var><span class="initializer"> = ""</span>;</div>
<div class="fieldsynopsis"><span class="modifier">protected</span>
     <span class="type"><a href="#language.types.integer" class="type int">int</a></span>
      <var class="varname"><a href="#error.props.line">$<var class="varname">line</var></a></var>;</div>
<div class="fieldsynopsis"><span class="modifier">private</span>
     <span class="type"><a href="#language.types.array" class="type array">array</a></span>
      <var class="varname"><a href="#error.props.trace">$<var class="varname">trace</var></a></var><span class="initializer"> = []</span>;</div>
<div class="fieldsynopsis"><span class="modifier">private</span>
     <span class="type">?</span><span class="type"><span class="type"><a href="#class.throwable" class="type Throwable">Throwable</a></span><span class="type"></span></span>
      <var class="varname"><a href="#error.props.previous">$<var class="varname">previous</var></a></var><span class="initializer"> = null</span>;</div>


    <div class="classsynopsisinfo classsynopsisinfo_comment">/* Métodos heredados */</div>
    <div class="constructorsynopsis dc-description">
   <span class="modifier">public</span> <span class="methodname"><a href="#error.construct" class="methodname">Error::__construct</a></span>(<span class="methodparam"><span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$message</code><span class="initializer"> = ""</span></span>, <span class="methodparam"><span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$code</code><span class="initializer"> = 0</span></span>, <span class="methodparam"><span class="type"><span class="type"><a href="#language.types.null" class="type null">?</a></span><span class="type"><a href="#class.throwable" class="type Throwable">Throwable</a></span></span> <code class="parameter">$previous</code><span class="initializer"> = <strong><code><a href="#constant.null">null</a></code></strong></span></span>)</div>

    <div class="methodsynopsis dc-description"><span class="modifier">final</span> <span class="modifier">public</span> <span class="methodname"><a href="#error.getmessage" class="methodname">Error::getMessage</a></span>(): <span class="type"><a href="#language.types.string" class="type string">string</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">final</span> <span class="modifier">public</span> <span class="methodname"><a href="#error.getprevious" class="methodname">Error::getPrevious</a></span>(): <span class="type"><span class="type"><a href="#language.types.null" class="type null">?</a></span><span class="type"><a href="#class.throwable" class="type Throwable">Throwable</a></span></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">final</span> <span class="modifier">public</span> <span class="methodname"><a href="#error.getcode" class="methodname">Error::getCode</a></span>(): <span class="type"><a href="#language.types.integer" class="type int">int</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">final</span> <span class="modifier">public</span> <span class="methodname"><a href="#error.getfile" class="methodname">Error::getFile</a></span>(): <span class="type"><a href="#language.types.string" class="type string">string</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">final</span> <span class="modifier">public</span> <span class="methodname"><a href="#error.getline" class="methodname">Error::getLine</a></span>(): <span class="type"><a href="#language.types.integer" class="type int">int</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">final</span> <span class="modifier">public</span> <span class="methodname"><a href="#error.gettrace" class="methodname">Error::getTrace</a></span>(): <span class="type"><a href="#language.types.array" class="type array">array</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">final</span> <span class="modifier">public</span> <span class="methodname"><a href="#error.gettraceasstring" class="methodname">Error::getTraceAsString</a></span>(): <span class="type"><a href="#language.types.string" class="type string">string</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname"><a href="#error.tostring" class="methodname">Error::__toString</a></span>(): <span class="type"><a href="#language.types.string" class="type string">string</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">private</span> <span class="methodname"><a href="#error.clone" class="methodname">Error::__clone</a></span>(): <span class="type"><a href="language.types.void.html" class="type void">void</a></span></div>

   }</div>

  </div>
 </div>

</div>

<hr>




<ul class="chunklist chunklist_book"><li><a href="#intro.event">Introducción</a></li><li><a href="#event.setup">Instalación/Configuración</a><ul class="chunklist chunklist_book chunklist_children"><li><a href="#event.requirements">Requerimientos</a></li><li><a href="#event.installation">Instalación</a></li></ul></li><li><a href="#event.examples">Ejemplos</a></li><li><a href="#event.flags">Los flags de eventos</a></li><li><a href="#event.persistence">Acerca de la persistencia de eventos</a></li><li><a href="#event.callbacks">Funciones de retrollamada de eventos</a></li><li><a href="#event.constructing.signal.events">Construcción de un evento de tipo señal</a></li><li><a href="#class.event">Event</a> — La clase Event<ul class="chunklist chunklist_book chunklist_children"><li><a href="#event.add">Event::add</a> — Pone un evento en espera</li><li><a href="#event.addsignal">Event::addSignal</a> — Alias de Event::add</li><li><a href="#event.addtimer">Event::addTimer</a> — Alias de Event::add</li><li><a href="#event.construct">Event::__construct</a> — Construye un objeto Event</li><li><a href="#event.del">Event::del</a> — Elimina un evento de la lista de eventos monitoreados</li><li><a href="#event.delsignal">Event::delSignal</a> — Alias de Event::del</li><li><a href="#event.deltimer">Event::delTimer</a> — Alias de Event::del</li><li><a href="#event.free">Event::free</a> — Elimina un evento de la lista de eventos vigilados y libera los recursos asociados</li><li><a href="#event.getsupportedmethods">Event::getSupportedMethods</a> — Devuelve un array que contiene los nombres de los métodos soportados
   por esta versión de Libevent</li><li><a href="#event.pending">Event::pending</a> — Detecta si el evento está pendiente o programado</li><li><a href="#event.set">Event::set</a> — Reconfigurar el evento</li><li><a href="#event.setpriority">Event::setPriority</a> — Define la prioridad del evento</li><li><a href="#event.settimer">Event::setTimer</a> — Reconfigurar un evento timer</li><li><a href="#event.signal">Event::signal</a> — Construye un objeto de evento de señal</li><li><a href="#event.timer">Event::timer</a> — Construye un objeto de evento timer</li></ul></li><li><a href="#class.eventbase">EventBase</a> — La clase EventBase<ul class="chunklist chunklist_book chunklist_children"><li><a href="#eventbase.construct">EventBase::__construct</a> — Construye un objeto EventBase</li><li><a href="#eventbase.dispatch">EventBase::dispatch</a> — Despacha eventos pendientes</li><li><a href="#eventbase.exit">EventBase::exit</a> — Detiene el envío de los eventos</li><li><a href="#eventbase.free">EventBase::free</a> — Libera los recursos asignados para el evento base</li><li><a href="#eventbase.getfeatures">EventBase::getFeatures</a> — Devuelve una máscara de las funcionalidades soportadas</li><li><a href="#eventbase.getmethod">EventBase::getMethod</a> — Devuelve el método de evento utilizado</li><li><a href="#eventbase.gettimeofdaycached">EventBase::getTimeOfDayCached</a> — Devuelve el tiempo del evento base actual</li><li><a href="#eventbase.gotexit">EventBase::gotExit</a> — Verifica si se ha solicitado que el bucle de eventos salga</li><li><a href="#eventbase.gotstop">EventBase::gotStop</a> — Verifica si se ha solicitado que la iteración de eventos se detenga</li><li><a href="#eventbase.loop">EventBase::loop</a> — Distribuye los eventos en espera</li><li><a href="#eventbase.priorityinit">EventBase::priorityInit</a> — Define el número de prioridades por evento base</li><li><a href="#eventbase.reinit">EventBase::reInit</a> — Reinicializa el evento base (después de un 'fork')</li><li><a href="#eventbase.stop">EventBase::stop</a> — Solicita a event_base que detenga la emisión de  eventos</li></ul></li><li><a href="#class.eventbuffer">EventBuffer</a> — La clase EventBuffer<ul class="chunklist chunklist_book chunklist_children"><li><a href="#eventbuffer.add">EventBuffer::add</a> — Añade datos al final de un buffer de eventos</li><li><a href="#eventbuffer.addbuffer">EventBuffer::addBuffer</a> — Desplaza todos los datos del búfer proporcionado al EventBuffer actual</li><li><a href="#eventbuffer.appendfrom">EventBuffer::appendFrom</a> — Mueve el número de bytes especificados desde un buffer fuente, al
  final del buffer actual</li><li><a href="#eventbuffer.construct">EventBuffer::__construct</a> — Construye el objeto EventBuffer</li><li><a href="#eventbuffer.copyout">EventBuffer::copyout</a> — Copia el número de bytes especificado desde el inicio del búfer</li><li><a href="#eventbuffer.drain">EventBuffer::drain</a> — Elimina un número especificado de bytes desde el inicio del búfer
   sin copiar los datos</li><li><a href="#eventbuffer.enablelocking">EventBuffer::enableLocking</a> — Descripción</li><li><a href="#eventbuffer.expand">EventBuffer::expand</a> — Reserva espacio en el buffer</li><li><a href="#eventbuffer.freeze">EventBuffer::freeze</a> — Evita que las llamadas puedan modificar un buffer de eventos</li><li><a href="#eventbuffer.lock">EventBuffer::lock</a> — Bloquea un buffer</li><li><a href="#eventbuffer.prepend">EventBuffer::prepend</a> — Añade datos al principio del buffer</li><li><a href="#eventbuffer.prependbuffer">EventBuffer::prependBuffer</a> — Desplaza todos los datos desde el buffer fuente hacia el inicio
   del buffer actual</li><li><a href="#eventbuffer.pullup">EventBuffer::pullup</a> — Serializa los datos del buffer y devuelve el contenido del
   buffer en forma de string</li><li><a href="#eventbuffer.read">EventBuffer::read</a> — Lee los datos de un evbuffer y vacía los bytes leídos</li><li><a href="#eventbuffer.readfrom">EventBuffer::readFrom</a> — Lee datos desde un fichero y los coloca al final del búfer</li><li><a href="#eventbuffer.readline">EventBuffer::readLine</a> — Extrae una línea desde el inicio del búfer</li><li><a href="#eventbuffer.search">EventBuffer::search</a> — Busca en el búfer una ocurrencia de un string</li><li><a href="#eventbuffer.searcheol">EventBuffer::searchEol</a> — Busca en el búfer una ocurrencia de fin de línea</li><li><a href="#eventbuffer.substr">EventBuffer::substr</a> — Sustrae una porción de los datos del búfer</li><li><a href="#eventbuffer.unfreeze">EventBuffer::unfreeze</a> — Re-activa las llamadas que permiten modificar un buffer de eventos</li><li><a href="#eventbuffer.unlock">EventBuffer::unlock</a> — Libera un bloqueo adquirido con EventBuffer::lock</li><li><a href="#eventbuffer.write">EventBuffer::write</a> — Escribe el contenido del buffer en un fichero o en un socket</li></ul></li><li><a href="#class.eventbufferevent">EventBufferEvent</a> — La clase EventBufferEvent<ul class="chunklist chunklist_book chunklist_children"><li><a href="#eventbufferevent.close">EventBufferEvent::close</a> — Cierra el descriptor de fichero asociado con el buffer de eventos actual</li><li><a href="#eventbufferevent.connect">EventBufferEvent::connect</a> — Conecta el descriptor de fichero del búfer de eventos a la dirección proporcionada,
   o al socket UNIX</li><li><a href="#eventbufferevent.connecthost">EventBufferEvent::connectHost</a> — Conexión a un host</li><li><a href="#eventbufferevent.construct">EventBufferEvent::__construct</a> — Construye un objeto EventBufferEvent</li><li><a href="#eventbufferevent.createpair">EventBufferEvent::createPair</a> — Crea dos eventos de buffer conectados entre sí</li><li><a href="#eventbufferevent.disable">EventBufferEvent::disable</a> — Desactiva los eventos de lectura, escritura o ambos en un evento de búfer</li><li><a href="#eventbufferevent.enable">EventBufferEvent::enable</a> — Activa los eventos de lectura, escritura, o ambos, en un evento de buffer</li><li><a href="#eventbufferevent.free">EventBufferEvent::free</a> — Libera un evento de búfer</li><li><a href="#eventbufferevent.getdnserrorstring">EventBufferEvent::getDnsErrorString</a> — Devuelve un string que describe el último error DNS</li><li><a href="#eventbufferevent.getenabled">EventBufferEvent::getEnabled</a> — Devuelve una máscara de eventos actualmente activos en el búfer de eventos</li><li><a href="#eventbufferevent.getinput">EventBufferEvent::getInput</a> — Devuelve el búfer de entrada asociado con el búfer de eventos actual</li><li><a href="#eventbufferevent.getoutput">EventBufferEvent::getOutput</a> — Devuelve el búfer de salida asociado con el búfer de evento actual</li><li><a href="#eventbufferevent.read">EventBufferEvent::read</a> — Lee los datos del búfer</li><li><a href="#eventbufferevent.readbuffer">EventBufferEvent::readBuffer</a> — Vacía el contenido entero del búfer de entrada y lo coloca en el búfer</li><li><a href="#eventbufferevent.setcallbacks">EventBufferEvent::setCallbacks</a> — Asigna las funciones de retrollamada para la lectura, la escritura y los estados de eventos</li><li><a href="#eventbufferevent.setpriority">EventBufferEvent::setPriority</a> — Asigna una prioridad para un búfer de eventos</li><li><a href="#eventbufferevent.settimeouts">EventBufferEvent::setTimeouts</a> — Define el modo de lectura y escritura para el tiempo de espera máximo de un búfer de eventos</li><li><a href="#eventbufferevent.setwatermark">EventBufferEvent::setWatermark</a> — Activa la lectura, y/o la escritura de las marcas de agua</li><li><a href="#eventbufferevent.sslerror">EventBufferEvent::sslError</a> — Devuelve el error OpenSSL más reciente reportado por el buffer de eventos</li><li><a href="#eventbufferevent.sslfilter">EventBufferEvent::sslFilter</a> — Crea un nuevo búfer de evento SSL, cuyos datos
   serán enviados a través de otro búfer de evento</li><li><a href="#eventbufferevent.sslgetcipherinfo">EventBufferEvent::sslGetCipherInfo</a> — Devuelve una descripción textual de un cipher</li><li><a href="#eventbufferevent.sslgetciphername">EventBufferEvent::sslGetCipherName</a> — Devuelve el nombre del cipher actual para la conexión SSL</li><li><a href="#eventbufferevent.sslgetcipherversion">EventBufferEvent::sslGetCipherVersion</a> — Devuelve la versión del cipher utilizado para la conexión SSL actual</li><li><a href="#eventbufferevent.sslgetprotocol">EventBufferEvent::sslGetProtocol</a> — Devuelve el nombre del protocolo utilizado para la conexión SSL actual</li><li><a href="#eventbufferevent.sslrenegotiate">EventBufferEvent::sslRenegotiate</a> — Solicita al búfer de eventos iniciar una renegociación SSL</li><li><a href="#eventbufferevent.sslsocket">EventBufferEvent::sslSocket</a> — Crea un nuevo buffer SSL cuyos datos serán enviados a través de un socket SSL</li><li><a href="#eventbufferevent.write">EventBufferEvent::write</a> — Añade datos a un buffer de evento de salida</li><li><a href="#eventbufferevent.writebuffer">EventBufferEvent::writeBuffer</a> — Añade el contenido entero de un buffer en un buffer de evento de salida</li></ul></li><li><a href="#eventbufferevent.about.callbacks">Acerca de las funciones de retrollamada del buffer de eventos</a></li><li><a href="#class.eventconfig">EventConfig</a> — La clase EventConfig<ul class="chunklist chunklist_book chunklist_children"><li><a href="#eventconfig.avoidmethod">EventConfig::avoidMethod</a> — Solicita a libevent que ignore un método de evento específico</li><li><a href="#eventconfig.construct">EventConfig::__construct</a> — Construye un objeto EventConfig</li><li><a href="#eventconfig.requirefeatures">EventConfig::requireFeatures</a> — Ingresa una funcionalidad de método de evento solicitada por la aplicación</li><li><a href="#eventconfig.setflags">EventConfig::setFlags</a> — Define uno o varios flags para configurar la inicialización eventual de EventBase</li><li><a href="#eventconfig.setmaxdispatchinterval">EventConfig::setMaxDispatchInterval</a> — Evita la inversión de prioridades</li></ul></li><li><a href="#class.eventdnsbase">EventDnsBase</a> — La clase EventDnsBase<ul class="chunklist chunklist_book chunklist_children"><li><a href="#eventdnsbase.addnameserverip">EventDnsBase::addNameserverIp</a> — Añade un servidor de nombres a la base DNS</li><li><a href="#eventdnsbase.addsearch">EventDnsBase::addSearch</a> — Añade un dominio a la lista de dominios utilizados para la búsqueda</li><li><a href="#eventdnsbase.clearsearch">EventDnsBase::clearSearch</a> — Elimina todos los sufijos de búsqueda comunes</li><li><a href="#eventdnsbase.construct">EventDnsBase::__construct</a> — Construye un objeto EventDnsBase</li><li><a href="#eventdnsbase.countnameservers">EventDnsBase::countNameservers</a> — Recupera el número de servidores de nombres configurados</li><li><a href="#eventdnsbase.loadhosts">EventDnsBase::loadHosts</a> — Carga un fichero hosts (en el mismo formato que /etc/hosts)</li><li><a href="#eventdnsbase.parseresolvconf">EventDnsBase::parseResolvConf</a> — Analiza el fichero resolv.conf</li><li><a href="#eventdnsbase.setoption">EventDnsBase::setOption</a> — Define el valor de una opción de configuración</li><li><a href="#eventdnsbase.setsearchndots">EventDnsBase::setSearchNdots</a> — Define el parámetro 'ndots' para las búsquedas</li></ul></li><li><a href="#class.eventhttp">EventHttp</a> — La clase EventHttp<ul class="chunklist chunklist_book chunklist_children"><li><a href="#eventhttp.accept">EventHttp::accept</a> — Permite a un servidor HTTP aceptar las conexiones en el
   socket o recurso especificado</li><li><a href="#eventhttp.addserveralias">EventHttp::addServerAlias</a> — Añade un alias del servidor para el objeto servidor HTTP</li><li><a href="#eventhttp.bind">EventHttp::bind</a> — Liga un servidor HTTP a una dirección y un puerto especificados</li><li><a href="#eventhttp.construct">EventHttp::__construct</a> — Construye un objeto EventHttp (el servidor HTTP)</li><li><a href="#eventhttp.removeserveralias">EventHttp::removeServerAlias</a> — Elimina un alias en el servidor</li><li><a href="#eventhttp.setallowedmethods">EventHttp::setAllowedMethods</a> — Define los métodos HTTP soportados y aceptados en las peticiones
   en este servidor, y pasados a las funciones de retrollamada de los usuarios</li><li><a href="#eventhttp.setcallback">EventHttp::setCallback</a> — Define una retrollamada para una URI específica</li><li><a href="#eventhttp.setdefaultcallback">EventHttp::setDefaultCallback</a> — Define la función de retrollamada por defecto para manejar las peticiones que no son capturadas por
   funciones de retrollamada específicas</li><li><a href="#eventhttp.setmaxbodysize">EventHttp::setMaxBodySize</a> — Define la talla máxima del cuerpo de la petición</li><li><a href="#eventhttp.setmaxheaderssize">EventHttp::setMaxHeadersSize</a> — Define el tamaño máximo de las cabeceras HTTP</li><li><a href="#eventhttp.settimeout">EventHttp::setTimeout</a> — Define el tiempo máximo de espera para una petición HTTP</li></ul></li><li><a href="#class.eventhttpconnection">EventHttpConnection</a> — La clase EventHttpConnection<ul class="chunklist chunklist_book chunklist_children"><li><a href="#eventhttpconnection.construct">EventHttpConnection::__construct</a> — Construye un objeto EventHttpConnection</li><li><a href="#eventhttpconnection.getbase">EventHttpConnection::getBase</a> — Devuelve la base de eventos asociada con la conexión</li><li><a href="#eventhttpconnection.getpeer">EventHttpConnection::getPeer</a> — Recupera la dirección y el puerto remoto asociados con la conexión</li><li><a href="#eventhttpconnection.makerequest">EventHttpConnection::makeRequest</a> — Realiza una petición HTTP en la conexión especificada</li><li><a href="#eventhttpconnection.setclosecallback">EventHttpConnection::setCloseCallback</a> — Define una función de retrollamada al cerrar la conexión</li><li><a href="#eventhttpconnection.setlocaladdress">EventHttpConnection::setLocalAddress</a> — Define la dirección IP desde la cual se realizan las conexiones HTTP</li><li><a href="#eventhttpconnection.setlocalport">EventHttpConnection::setLocalPort</a> — Define el puerto local desde el cual se realizan las conexiones</li><li><a href="#eventhttpconnection.setmaxbodysize">EventHttpConnection::setMaxBodySize</a> — Define el tamaño máximo del cuerpo para la conexión</li><li><a href="#eventhttpconnection.setmaxheaderssize">EventHttpConnection::setMaxHeadersSize</a> — Define el tamaño máximo de las cabeceras</li><li><a href="#eventhttpconnection.setretries">EventHttpConnection::setRetries</a> — Define el número de intentos para la conexión</li><li><a href="#eventhttpconnection.settimeout">EventHttpConnection::setTimeout</a> — Define el tiempo límite máximo para la conexión</li></ul></li><li><a href="#class.eventhttprequest">EventHttpRequest</a> — La clase EventHttpRequest<ul class="chunklist chunklist_book chunklist_children"><li><a href="#eventhttprequest.addheader">EventHttpRequest::addHeader</a> — Añade un encabezado HTTP a los encabezados de la petición</li><li><a href="#eventhttprequest.cancel">EventHttpRequest::cancel</a> — Cancela una petición HTTP pendiente</li><li><a href="#eventhttprequest.clearheaders">EventHttpRequest::clearHeaders</a> — Elimina todos los encabezados de la lista de encabezados de la petición</li><li><a href="#eventhttprequest.closeconnection">EventHttpRequest::closeConnection</a> — Cierra las conexiones HTTP asociadas</li><li><a href="#eventhttprequest.construct">EventHttpRequest::__construct</a> — Construye un objeto EventHttpRequest</li><li><a href="#eventhttprequest.findheader">EventHttpRequest::findHeader</a> — Busca el valor de un encabezado</li><li><a href="#eventhttprequest.free">EventHttpRequest::free</a> — Libera el objeto y elimina los eventos asociados</li><li><a href="#eventhttprequest.getbufferevent">EventHttpRequest::getBufferEvent</a> — Devuelve el objeto EventBufferEvent</li><li><a href="#eventhttprequest.getcommand">EventHttpRequest::getCommand</a> — Devuelve el comando de la petición (método)</li><li><a href="#eventhttprequest.getconnection">EventHttpRequest::getConnection</a> — Devuelve un objeto EventHttpConnection</li><li><a href="#eventhttprequest.gethost">EventHttpRequest::getHost</a> — Devuelve el host solicitado</li><li><a href="#eventhttprequest.getinputbuffer">EventHttpRequest::getInputBuffer</a> — Devuelve el buffer de entrada</li><li><a href="#eventhttprequest.getinputheaders">EventHttpRequest::getInputHeaders</a> — Devuelve el array asociativo que contiene los encabezados de entrada</li><li><a href="#eventhttprequest.getoutputbuffer">EventHttpRequest::getOutputBuffer</a> — Devuelve el buffer de salida de la petición</li><li><a href="#eventhttprequest.getoutputheaders">EventHttpRequest::getOutputHeaders</a> — Devuelve un array asociativo que contiene los encabezados de salida</li><li><a href="#eventhttprequest.getresponsecode">EventHttpRequest::getResponseCode</a> — Devuelve el código de la respuesta</li><li><a href="#eventhttprequest.geturi">EventHttpRequest::getUri</a> — Devuelve el URI de la petición</li><li><a href="#eventhttprequest.removeheader">EventHttpRequest::removeHeader</a> — Elimina un encabezado HTTP de los encabezados de la petición</li><li><a href="#eventhttprequest.senderror">EventHttpRequest::sendError</a> — Envía un mensaje de error HTML al cliente</li><li><a href="#eventhttprequest.sendreply">EventHttpRequest::sendReply</a> — Envía una respuesta HTML al cliente</li><li><a href="#eventhttprequest.sendreplychunk">EventHttpRequest::sendReplyChunk</a> — Envía otro bloque de datos como parte de un bloque de respuesta entrante</li><li><a href="#eventhttprequest.sendreplyend">EventHttpRequest::sendReplyEnd</a> — Completa un bloque de respuesta, liberando la petición</li><li><a href="#eventhttprequest.sendreplystart">EventHttpRequest::sendReplyStart</a> — Inicializa un bloque de respuesta</li></ul></li><li><a href="#class.eventlistener">EventListener</a> — La clase EventListener<ul class="chunklist chunklist_book chunklist_children"><li><a href="#eventlistener.construct">EventListener::__construct</a> — Crea un nuevo oyente de conexión asociado con la base de eventos</li><li><a href="#eventlistener.disable">EventListener::disable</a> — Desactiva un objeto de escucha de eventos de conexión</li><li><a href="#eventlistener.enable">EventListener::enable</a> — Activa un objeto de escucha de eventos de conexión</li><li><a href="#eventlistener.getbase">EventListener::getBase</a> — Devuelve la base de evento asociada con el escuchador de eventos</li><li><a href="#eventlistener.getsocketname">EventListener::getSocketName</a> — Recupera la dirección actual a la que está ligado el socket de escucha</li><li><a href="#eventlistener.setcallback">EventListener::setCallback</a> — El propósito de setCallback</li><li><a href="#eventlistener.seterrorcallback">EventListener::setErrorCallback</a> — Define la función de retrollamada en el evento de error</li></ul></li><li><a href="#class.eventsslcontext">EventSslContext</a> — La clase EventSslContext<ul class="chunklist chunklist_book chunklist_children"><li><a href="#eventsslcontext.construct">EventSslContext::__construct</a> — Construye un contexto OpenSSL para usar con las clases Event</li></ul></li><li><a href="#class.eventutil">EventUtil</a> — La clase EventUtil<ul class="chunklist chunklist_book chunklist_children"><li><a href="#eventutil.construct">EventUtil::__construct</a> — El constructor</li><li><a href="#eventutil.getlastsocketerrno">EventUtil::getLastSocketErrno</a> — Devuelve el número de error más reciente ocurrido en el socket</li><li><a href="#eventutil.getlastsocketerror">EventUtil::getLastSocketError</a> — Devuelve el error más reciente ocurrido en el socket</li><li><a href="#eventutil.getsocketfd">EventUtil::getSocketFd</a> — Devuelve el descriptor de fichero de un socket o de un flujo</li><li><a href="#eventutil.getsocketname">EventUtil::getSocketName</a> — Recupera la dirección actual ligada al socket</li><li><a href="#eventutil.setsocketoption">EventUtil::setSocketOption</a> — Define las opciones del socket</li><li><a href="#eventutil.sslrandpoll">EventUtil::sslRandPoll</a> — Genera la entropía a través de OpenSSL RAND_poll()</li></ul></li><li><a href="#class.eventexception">EventException</a> — La clase EventException</li></ul></div>
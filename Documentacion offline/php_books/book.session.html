<div id="book.session" class="book"><hr>
 
 <h1 class="title">Gestión de sesiones</h1>
 

 
 <div id="intro.session" class="preface"><hr>
  <h1 class="title">Introducción</h1>
  <p class="para">
   El soporte de sesiones de PHP es un medio para preservar
   datos entre varios accesos.
  </p>
  <p class="para">
   Cada visitante que accede a su página web se le asigna un
   identificador único, llamado "identificador de sesión". Puede
   almacenarse en una cookie o propagarse en la URL.
  </p>
  <p class="para">
   El soporte de sesiones permite almacenar datos entre las peticiones
   en el array superglobal <var class="varname"><a href="#reserved.variables.session" class="classname">$_SESSION</a></var>.
   Cuando un visitante accede a su sitio, PHP verificará automáticamente (si
   <a href="#ini.session.auto-start" class="link"><strong class="option unknown">session.auto_start
    </strong></a> está activado) o bajo demanda (explícitamente con
   <span class="function"><a href="#function.session-start" class="function">session_start()</a></span>) si existe una
   sesión con el mismo nombre. En caso afirmativo, el entorno
   previamente guardado será recreado.
  </p>
  <div class="caution"><strong class="caution">Precaución</strong>
   <p class="para">
    Si se activa <a href="#ini.session.auto-start" class="link">
    session.auto_start</a> entonces el único medio de poner objetos
    en la sesión es cargar las definiciones de clase con
    <a href="#ini.auto-prepend-file" class="link">auto_prepend_file</a>
    en el cual se cargan las definiciones necesarias,
    o bien se deberá utilizar <span class="function"><a href="#function.serialize" class="function">serialize()</a></span>
    en su objeto, y <span class="function"><a href="#function.unserialize" class="function">unserialize()</a></span>
    para recuperarlo.
   </p>
  </div>
  <p class="para">
   La variable <var class="varname"><a href="#reserved.variables.session" class="classname">$_SESSION</a></var> (y todas las variables
   registradas) son serializadas internamente por PHP utilizando el
   gestor de serialización especificado por la opción de configuración
   <a href="#ini.session.serialize-handler" class="link">session.serialize_handler</a>,
   después de la ejecución del script PHP. Las variables que están indefinidas son marcadas
   como tales. En accesos posteriores, no estarán
   definidas, hasta que el usuario lo haga.
  </p>
  <div class="warning"><strong class="warning">Advertencia</strong>
   <p class="para">
    Debido a que los datos de sesión son serializados,
    las variables de tipo <span class="type"><a href="#language.types.resource" class="type resource">resource</a></span> no pueden almacenarse
    en una sesión.
   </p>
   <p class="para">
    Los gestores de serialización (<code class="literal">php</code>
    y <code class="literal">php_binary</code>) heredan las limitaciones de
    register_globals. Por lo tanto, los índices numéricos o los índices
    en forma de string que contienen caracteres especiales
    (<code class="literal">|</code> y <code class="literal">!</code>) no
    pueden utilizarse. Su uso generará errores al final del script. <code class="literal">php_serialize</code>
    no tiene este tipo de limitaciones.
   </p>
  </div>
  <blockquote class="note"><p><strong class="note">Nota</strong>: 
   </p><p class="para">
    Tenga en cuenta que al trabajar con sesiones, un registro
    en la sesión no será creado hasta que la variable sea
    registrada añadiendo una clave al array superglobal
    <var class="varname"><a href="#reserved.variables.session" class="classname">$_SESSION</a></var>. Esto solo es válido si se ha iniciado una
    sesión llamando a la función <span class="function"><a href="#function.session-start" class="function">session_start()</a></span>.
   </p>
  </blockquote>
 </div>
<hr>

 

 




<div id="session.setup" class="chapter"><hr>
 <h1 class="title">Instalación/Configuración</h1>
<h2>Tabla de contenidos</h2><ul class="chunklist chunklist_chapter"><li><a href="#session.requirements">Requerimientos</a></li><li><a href="#session.installation">Instalación</a></li><li><a href="#session.configuration">Configuración en tiempo de ejecución</a></li></ul>


 <div id="session.requirements" class="section"><hr>
  <h2 class="title">Requerimientos</h2>
  <p class="para">No se requiere ninguna biblioteca externa para compilar esta extensión.</p>
  <blockquote class="note"><p><strong class="note">Nota</strong>: 
   </p><p class="para">
    Opcionalmente, puede utilizarse la asignación de memoria compartida
    (mm), desarrollada por Ralf S.Engelschall, para almacenar las sesiones.
    Es necesario descargar <a href="http://www.ossp.org/pkg/lib/mm/" class="link external">» mm</a> e instalarlo.
    Esta opción no está disponible para los entornos Windows.
    Tenga en cuenta que el módulo de almacenamiento de sesiones mm no garantiza
    los bloqueos de sesiones en caso de acceso múltiple a la misma sesión.
    Puede ser más adecuado utilizar un sistema de archivos basado en memoria compartida
    (como tmpfs en Solaris/Linux o <var class="filename">/dev/md</var> en BSD)
    para almacenar las sesiones en archivos, ya que estos serán bloqueados correctamente.
    Los datos de sesión se almacenan en memoria, por lo que serán borrados
    al reiniciar el servidor web.
   </p>
  </blockquote>
 </div>
<hr>


 




<div id="session.installation" class="section"><hr>
 <h2 class="title">Instalación</h2>
 <p class="para">
  Esta extensión está activada por omisión. Puede ser desactivada utilizando la opción de configuración: 
  <strong class="option configure">--disable-session</strong>
 </p>
 <p class="para">
  Para utilizar la asignación de memoria compartida (mm) para el almacenamiento de las sesiones, configure PHP
  <strong class="option configure">--with-mm[=DIR]</strong>.
 </p>
 <p class="simpara">La versión Windows de PHP
dispone del soporte automático de esta extensión. No es necesario
añadir ninguna biblioteca adicional para disponer de estas funciones.</p>
 <blockquote class="note"><p><strong class="note">Nota</strong>: 
  </p><p class="para">
   Por omisión, todos los datos relativos a una sesión particular serán
   almacenados en un fichero del directorio especificado por <strong class="option unknown">session.save_path</strong>
   en las opciones del archivo <var class="filename">php.ini</var>. Un fichero para cada sesión será creado.
   Esto se debe a que una sesión es abierta (un fichero es creado) pero
   ningún dato es escrito en este fichero.
   Tenga en cuenta que este comportamiento es un efecto de las limitaciones de uso
   del sistema de ficheros y es posible que un gestor de sesiones personalizado (por ejemplo, uno que utilice una base de datos)
   no guarde ningún registro de las sesiones donde ningún dato haya sido almacenado.
  </p>
 </blockquote>
</div>
<hr>





 



<div id="session.configuration" class="section"><hr>
 <h2 class="title">Configuración en tiempo de ejecución</h2>
 <p class="simpara">El comportamiento de estas funciones es
afectado por la configuración en el archivo <var class="filename">php.ini</var>.</p>
 <p class="para">
  </p><table class="doctable table">
   <caption><strong>Opciones de configuración para las sesiones</strong></caption>
   
    <thead>
     <tr>
      <th>Nombre</th>
      <th>Por defecto</th>
      <th>Cambiable</th>
      <th>Historial de cambios</th>
     </tr>

    </thead>

    <tbody class="tbody">
     <tr>
      <td><a href="#ini.session.save-path" class="link">session.save_path</a></td>
      <td>""</td>
      <td><strong><code><a href="#constant.ini-all">INI_ALL</a></code></strong></td>
      <td class="empty"> </td>
     </tr>

     <tr>
      <td><a href="#ini.session.name" class="link">session.name</a></td>
      <td>"PHPSESSID"</td>
      <td><strong><code><a href="#constant.ini-all">INI_ALL</a></code></strong></td>
      <td class="empty"> </td>
     </tr>

     <tr>
      <td><a href="#ini.session.save-handler" class="link">session.save_handler</a></td>
      <td>"files"</td>
      <td><strong><code><a href="#constant.ini-all">INI_ALL</a></code></strong></td>
      <td class="empty"> </td>
     </tr>

     <tr>
      <td><a href="#ini.session.auto-start" class="link">session.auto_start</a></td>
      <td>"0"</td>
      <td><strong><code><a href="#constant.ini-perdir">INI_PERDIR</a></code></strong></td>
      <td class="empty"> </td>
     </tr>

     <tr>
      <td><a href="#ini.session.gc-probability" class="link">session.gc_probability</a></td>
      <td>"1"</td>
      <td><strong><code><a href="#constant.ini-all">INI_ALL</a></code></strong></td>
      <td class="empty"> </td>
     </tr>

     <tr>
      <td><a href="#ini.session.gc-divisor" class="link">session.gc_divisor</a></td>
      <td>"100"</td>
      <td><strong><code><a href="#constant.ini-all">INI_ALL</a></code></strong></td>
      <td class="empty"> </td>
     </tr>

     <tr>
      <td><a href="#ini.session.gc-maxlifetime" class="link">session.gc_maxlifetime</a></td>
      <td>"1440"</td>
      <td><strong><code><a href="#constant.ini-all">INI_ALL</a></code></strong></td>
      <td class="empty"> </td>
     </tr>

     <tr>
      <td><a href="#ini.session.serialize-handler" class="link">session.serialize_handler</a></td>
      <td>"php"</td>
      <td><strong><code><a href="#constant.ini-all">INI_ALL</a></code></strong></td>
      <td class="empty"> </td>
     </tr>

     <tr>
      <td><a href="#ini.session.cookie-lifetime" class="link">session.cookie_lifetime</a></td>
      <td>"0"</td>
      <td><strong><code><a href="#constant.ini-all">INI_ALL</a></code></strong></td>
      <td class="empty"> </td>
     </tr>

     <tr>
      <td><a href="#ini.session.cookie-path" class="link">session.cookie_path</a></td>
      <td>"/"</td>
      <td><strong><code><a href="#constant.ini-all">INI_ALL</a></code></strong></td>
      <td class="empty"> </td>
     </tr>

     <tr>
      <td><a href="#ini.session.cookie-domain" class="link">session.cookie_domain</a></td>
      <td>""</td>
      <td><strong><code><a href="#constant.ini-all">INI_ALL</a></code></strong></td>
      <td class="empty"> </td>
     </tr>

     <tr>
      <td><a href="#ini.session.cookie-secure" class="link">session.cookie_secure</a></td>
      <td>"0"</td>
      <td><strong><code><a href="#constant.ini-all">INI_ALL</a></code></strong></td>
      <td>Anterior a PHP 7.2.0, el valor por omisión era <code class="literal">""</code>.</td>
     </tr>

     <tr>
      <td><a href="#ini.session.cookie-httponly" class="link">session.cookie_httponly</a></td>
      <td>"0"</td>
      <td><strong><code><a href="#constant.ini-all">INI_ALL</a></code></strong></td>
      <td>Anterior a PHP 7.2.0, el valor por omisión era <code class="literal">""</code>.</td>
     </tr>

     <tr>
      <td><a href="#ini.session.cookie-samesite" class="link">session.cookie_samesite</a></td>
      <td>""</td>
      <td><strong><code><a href="#constant.ini-all">INI_ALL</a></code></strong></td>
      <td>Disponible a partir de PHP 7.3.0.</td>
     </tr>

     <tr>
      <td><a href="#ini.session.use-strict-mode" class="link">session.use_strict_mode</a></td>
      <td>"0"</td>
      <td><strong><code><a href="#constant.ini-all">INI_ALL</a></code></strong></td>
      <td class="empty"> </td>
     </tr>

     <tr>
      <td><a href="#ini.session.use-cookies" class="link">session.use_cookies</a></td>
      <td>"1"</td>
      <td><strong><code><a href="#constant.ini-all">INI_ALL</a></code></strong></td>
      <td class="empty"> </td>
     </tr>

     <tr>
      <td><a href="#ini.session.use-only-cookies" class="link">session.use_only_cookies</a></td>
      <td>"1"</td>
      <td><strong><code><a href="#constant.ini-all">INI_ALL</a></code></strong></td>
      <td class="empty"> </td>
     </tr>

     <tr>
      <td><a href="#ini.session.referer-check" class="link">session.referer_check</a></td>
      <td>""</td>
      <td><strong><code><a href="#constant.ini-all">INI_ALL</a></code></strong></td>
      <td class="empty"> </td>
     </tr>

     <tr>
      <td><a href="#ini.session.cache-limiter" class="link">session.cache_limiter</a></td>
      <td>"nocache"</td>
      <td><strong><code><a href="#constant.ini-all">INI_ALL</a></code></strong></td>
      <td class="empty"> </td>
     </tr>

     <tr>
      <td><a href="#ini.session.cache-expire" class="link">session.cache_expire</a></td>
      <td>"180"</td>
      <td><strong><code><a href="#constant.ini-all">INI_ALL</a></code></strong></td>
      <td class="empty"> </td>
     </tr>

     <tr>
      <td><a href="#ini.session.use-trans-sid" class="link">session.use_trans_sid</a></td>
      <td>"0"</td>
      <td><strong><code><a href="#constant.ini-all">INI_ALL</a></code></strong></td>
      <td>
      </td>
     </tr>

     <tr>
      <td><a href="#ini.session.trans-sid-tags" class="link">session.trans_sid_tags</a></td>
      <td>"a=href,area=href,frame=src,form="</td>
      <td><strong><code><a href="#constant.ini-all">INI_ALL</a></code></strong></td>
      <td>Disponible a partir de PHP 7.1.0.</td>
     </tr>

     <tr>
      <td><a href="#ini.session.trans-sid-hosts" class="link">session.trans_sid_hosts</a></td>
      <td><code class="literal">$_SERVER['HTTP_HOST']</code></td>
      <td><strong><code><a href="#constant.ini-all">INI_ALL</a></code></strong></td>
      <td>Disponible a partir de PHP 7.1.0.</td>
     </tr>

     <tr>
      <td><a href="#ini.session.sid-length" class="link">session.sid_length</a></td>
      <td>"32"</td>
      <td><strong><code><a href="#constant.ini-all">INI_ALL</a></code></strong></td>
      <td>Disponible a partir de PHP 7.1.0. Obsolète a partir de PHP 8.4.0.</td>
     </tr>

     <tr>
      <td><a href="#ini.session.sid-bits-per-character" class="link">session.sid_bits_per_character</a></td>
      <td>"4"</td>
      <td><strong><code><a href="#constant.ini-all">INI_ALL</a></code></strong></td>
      <td>Disponible a partir de PHP 7.1.0. Obsolète a partir de PHP 8.4.0.</td>
     </tr>

     <tr>
      <td><a href="#ini.session.upload-progress.enabled" class="link">session.upload_progress.enabled</a></td>
      <td>"1"</td>
      <td><strong><code><a href="#constant.ini-perdir">INI_PERDIR</a></code></strong></td>
      <td class="empty"> </td>
     </tr>

     <tr>
      <td><a href="#ini.session.upload-progress.cleanup" class="link">session.upload_progress.cleanup</a></td>
      <td>"1"</td>
      <td><strong><code><a href="#constant.ini-perdir">INI_PERDIR</a></code></strong></td>
      <td class="empty"> </td>
     </tr>

     <tr>
      <td><a href="#ini.session.upload-progress.prefix" class="link">session.upload_progress.prefix</a></td>
      <td>"upload_progress_"</td>
      <td><strong><code><a href="#constant.ini-perdir">INI_PERDIR</a></code></strong></td>
      <td class="empty"> </td>
     </tr>

     <tr>
      <td><a href="#ini.session.upload-progress.name" class="link">session.upload_progress.name</a></td>
      <td>"PHP_SESSION_UPLOAD_PROGRESS"</td>
      <td><strong><code><a href="#constant.ini-perdir">INI_PERDIR</a></code></strong></td>
      <td class="empty"> </td>
     </tr>

     <tr>
      <td><a href="#ini.session.upload-progress.freq" class="link">session.upload_progress.freq</a></td>
      <td>"1%"</td>
      <td><strong><code><a href="#constant.ini-perdir">INI_PERDIR</a></code></strong></td>
      <td class="empty"> </td>
     </tr>

     <tr>
      <td><a href="#ini.session.upload-progress.min-freq" class="link">session.upload_progress.min_freq</a></td>
      <td>"1"</td>
      <td><strong><code><a href="#constant.ini-perdir">INI_PERDIR</a></code></strong></td>
      <td class="empty"> </td>
     </tr>

     <tr>
      <td><a href="#ini.session.lazy-write" class="link">session.lazy_write</a></td>
      <td>"1"</td>
      <td><strong><code><a href="#constant.ini-all">INI_ALL</a></code></strong></td>
      <td class="empty"> </td>
     </tr>

     <tr>
      <td><a href="#ini.session.hash-function" class="link">session.hash_function</a></td>
      <td>"0"</td>
      <td><strong><code><a href="#constant.ini-all">INI_ALL</a></code></strong></td>
      <td>Eliminado a partir de PHP 7.1.0</td>
     </tr>

     <tr>
      <td><a href="#ini.session.hash-bits-per-character" class="link">session.hash_bits_per_character</a></td>
      <td>"4"</td>
      <td><strong><code><a href="#constant.ini-all">INI_ALL</a></code></strong></td>
      <td>Eliminado a partir de PHP 7.1.0</td>
     </tr>

     <tr>
      <td><a href="#ini.session.entropy-file" class="link">session.entropy_file</a></td>
      <td>""</td>
      <td><strong><code><a href="#constant.ini-all">INI_ALL</a></code></strong></td>
      <td>Eliminado a partir de PHP 7.1.0.</td>
     </tr>

     <tr>
      <td><a href="#ini.session.entropy-length" class="link">session.entropy_length</a></td>
      <td>"0"</td>
      <td><strong><code><a href="#constant.ini-all">INI_ALL</a></code></strong></td>
      <td>Eliminado a partir de PHP 7.1.0.</td>
     </tr>

    </tbody>
   
  </table>

  Para más detalles sobre los modos INI_*,
        refiérase a <a href="#configuration.changes.modes" class="xref">Dónde una directiva de configuración puede ser modificada</a>.
 
 <p class="para">
  El sistema de sesiones dispone de un gran número de directivas
  en el archivo <var class="filename">php.ini</var>. A continuación se presenta una descripción:
  </p><dl>

   
    <dt id="ini.session.save-handler">
     <code class="parameter">session.save_handler</code>
     <span class="type"><a href="#language.types.string" class="type string">string</a></span>
    </dt>
    <dd>
     <span class="simpara">
      Define el nombre del controlador
      de sesiones que se utiliza para almacenar y leer
      los datos. Por omisión, es el sistema integrado
      por archivos: <code class="literal">files</code>. Tenga en cuenta que las
      extensiones individuales deben registrar
      sus propios controladores de sesiones. Consulte también
      <span class="function"><a href="#function.session-set-save-handler" class="function">session_set_save_handler()</a></span>.
     </span>
    </dd>
   

   
    <dt id="ini.session.save-path">
     <code class="parameter">session.save_path</code>
     <span class="type"><a href="#language.types.string" class="type string">string</a></span>
    </dt>
    <dd>
     <span class="simpara">
      Define la ruta que debe pasarse
      al controlador de guardado. Si decide
      elegir el controlador por omisión (por archivos),
      este argumento se utilizará como carpeta de guardado
      de las sesiones. Consulte también
      <span class="function"><a href="#function.session-save-path" class="function">session_save_path()</a></span>.
     </span>
     <p class="para">
      Existe un argumento opcional <code class="literal">N</code> para esta directiva que determina
      la profundidad de directorios donde su archivo de sesión será almacenado.
      Por ejemplo, si define <code class="literal">'5;/tmp'</code>, su archivo
      estará ubicado en <code class="literal">/tmp/4/b/1/e/3/sess_4b1e384ad74619bd212e236e52a5a174If</code>.
      Si desea utilizar <code class="literal">N</code>, debe crear
      todos estos directorios antes de usarlos. Existe un pequeño script shell en
      <var class="filename">ext/session</var> para realizar estas creaciones y se denomina
      <var class="filename">mod_files.sh</var>, y su versión Windows lleva el nombre
      <var class="filename">mod_files.bat</var>. Tenga en cuenta también que si <code class="literal">N</code>
      se utiliza y es superior a 0, entonces la rutina automática gc (recolección de basura)
      no se ejecutará; consulte una copia de <var class="filename">php.ini</var> para más información.
      Asimismo, si utiliza <code class="literal">N</code>, asegúrese de rodear
      <code class="literal">session.save_path</code> con "comillas dobles" ya que el separador
      (<code class="literal">;</code>) también se utiliza para los comentarios en
      <var class="filename">php.ini</var>.
     </p>
     <p class="para">
      El módulo de almacenamiento de archivos crea archivos utilizando el modo
      600 por omisión. Este modo por omisión puede modificarse utilizando el argumento
      opcional <code class="literal">MODE</code>: <code class="literal">N;MODE;/path</code> donde
      <code class="literal">MODE</code> es la representación octal del modo.
      El hecho de definir el argumento <code class="literal">MODE</code> no afecta al proceso
      umask.
     </p>
     <div class="warning"><strong class="warning">Advertencia</strong>
      <p class="para">
       Si esta opción se configura con una carpeta accesible en lectura
       para todos, como <var class="filename">/tmp</var> (por omisión), otros usuarios podrán explotar estas sesiones obteniendo la
       lista de archivos en esta carpeta.
      </p>
     </div>
     <div class="caution"><strong class="caution">Precaución</strong>
      <p class="para">
       Al utilizar el argumento opcional <code class="literal">N</code>
       que determina la profundidad de directorios, como se indicó anteriormente, tenga en cuenta
       que el uso de un valor superior a 1 o 2 no es apropiado
       para la mayoría de los sitios debido al número de directorios requeridos: por
       ejemplo, un valor de 3 implica que
       <code class="literal">(2 ** session.sid_bits_per_character) ** 3</code> directorios
       existen en el sistema de archivos lo que implica potencialmente un
       gran número de espacios y inodos desperdiciados.
      </p>
      <p class="para">
       No utilice un valor de <code class="literal">N</code> superior a 2 a menos
       que esté seguro de que es necesario para su sitio.
      </p>
     </div>
    </dd>
   

   
    <dt id="ini.session.name">
     <code class="parameter">session.name</code>
     <span class="type"><a href="#language.types.string" class="type string">string</a></span>
    </dt>
    <dd>
     <span class="simpara">
      Especifica el nombre de la sesión,
      que se utilizará como nombre de cookie. Solo debe contener
      caracteres alfanuméricos. Por omisión, es
      <code class="literal">PHPSESSID</code>.
      Consulte también <span class="function"><a href="#function.session-name" class="function">session_name()</a></span>.
     </span>
    </dd>
   

   
    <dt id="ini.session.auto-start">
     <code class="parameter">session.auto_start</code>
     <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span>
    </dt>
    <dd>
     <span class="simpara">
      Especifica si el módulo
      de sesiones debe iniciarse automáticamente al comienzo de
      cada script PHP. Por omisión, es <code class="literal">0</code>
      (desactivado).
     </span>
    </dd>
   

   
    <dt id="ini.session.serialize-handler">
     <code class="parameter">session.serialize_handler</code>
     <span class="type"><a href="#language.types.string" class="type string">string</a></span>
    </dt>
    <dd>
     <span class="simpara">
      Define el nombre del controlador que se utiliza para serializar y
      deserializar los datos. El formato de serialización PHP
      (llamado <code class="literal">php_serialize</code>), los formatos internos a PHP
      (llamados <code class="literal">php</code> y <code class="literal">php_binary</code>)
      y WDDX (llamado <code class="literal">wddx</code>) son soportados. WDDX solo
      está disponible, si PHP ha sido compilado con la opción
      <a href="#ref.wddx" class="link">WDDX</a>. <code class="literal">php_serialize</code>
      utiliza las funciones de serialización/deserialización en interno,
      y no tiene las limitaciones que <code class="literal">php</code> y <code class="literal">php_binary</code>
      tienen. Los antiguos controladores de serialización no pueden almacenar
      índices numéricos, ni índices en forma de cadenas que contengan
      caracteres especiales (<code class="literal">|</code> y <code class="literal">!</code>) en
      $_SESSION. Utilice <code class="literal">php_serialize</code> para evitar este
      tipo de error al final del script. Por omisión, es <code class="literal">php</code>.
     </span>
    </dd>
   

   
    <dt id="ini.session.gc-probability">
     <code class="parameter">session.gc_probability</code>
     <span class="type"><a href="#language.types.integer" class="type int">int</a></span>
    </dt>
    <dd>
     <span class="simpara">
      Especifica la probabilidad, expresada en porcentaje, en conjunción de
      <code class="literal">session.gc_divisor</code>, que la rutina gc
      (<code class="literal">garbage collection</code>)
      se inicie en cada solicitud.
      El valor por omisión es <code class="literal">1</code>. Debe ser superior o igual a <code class="literal">0</code>. Consulte
      <a href="#ini.session.gc-divisor" class="link">session.gc_divisor</a> para más detalles.
     </span>
    </dd>
   

   
    <dt id="ini.session.gc-divisor">
     <code class="parameter">session.gc_divisor</code>
     <span class="type"><a href="#language.types.integer" class="type int">int</a></span>
    </dt>
    <dd>
     <span class="simpara">
      <code class="literal">session.gc_divisor</code> en conjunción con
      <code class="literal">session.gc_probability</code> define la probabilidad que la rutina gc
      (<code class="literal">garbage collection</code>) se inicie en cada inicio de sesión.
      La probabilidad se calcula utilizando gc_probability/gc_divisor, por
      ejemplo 1/100 significa que hay un 1% de probabilidad de que la rutina gc
      se inicie en cada solicitud. El valor por omisión es <code class="literal">100</code>.
      Debe ser superior o igual a <code class="literal">0</code>.
     </span>
    </dd>
   

   
    <dt id="ini.session.gc-maxlifetime">
     <code class="parameter">session.gc_maxlifetime</code>
     <span class="type"><a href="#language.types.integer" class="type int">int</a></span>
    </dt>
    <dd>
     <span class="simpara">
      Especifica la duración de vida de los datos en el servidor, en número
      de segundos. Después de este tiempo, los datos serán considerados
      obsoletos, y pueden potencialmente ser eliminados.
      Los datos pueden volverse obsoletos al inicio de la sesión
      (siguiendo <a href="#ini.session.gc-probability" class="link">session.gc_probability</a> y
      <a href="#ini.session.gc-divisor" class="link">session.gc_divisor</a>).
      El valor por omisión es <code class="literal">1440</code> (24 minutos).
     </span>
     <blockquote class="note"><p><strong class="note">Nota</strong>: 
      <span class="simpara">
       Si diferentes scripts tienen valores diferentes de
       <code class="literal">session.gc_maxlifetime</code> pero comparten el mismo
       lugar para almacenar los datos de sesión, entonces, el script con el valor
       más pequeño borrará los datos. En este caso, utilice esta directiva
       conjuntamente con <a href="#ini.session.save-path" class="link">session.save_path</a>.
      </span>
     </p></blockquote>
    </dd>
   

   
    <dt id="ini.session.referer-check">
     <code class="parameter">session.referer_check</code>
     <span class="type"><a href="#language.types.integer" class="type int">int</a></span>
    </dt>
    <dd>
     <span class="simpara">
      Contiene una subcadena
      que desea encontrar en todos los encabezados HTTP Referer. Si
      este encabezado ha sido enviado por el cliente y la subcadena no ha
      sido encontrada, el identificador de sesión será considerado inválido.
      Por omisión, esta opción es una cadena vacía.
     </span>
    </dd>
   

   
    <dt id="ini.session.entropy-file">
     <code class="parameter">session.entropy_file</code>
     <span class="type"><a href="#language.types.string" class="type string">string</a></span>
    </dt>
    <dd>
     <span class="simpara">
      Es un camino hasta
      una fuente externa (un archivo), que será utilizada como fuente
      adicional de entropía para la creación del identificador
      de sesión. Ejemplos válidos son <code class="literal">/dev/random</code> y
      <code class="literal">/dev/urandom</code>, que están disponibles en
      todos los sistemas Unix.
     </span>
     <span class="simpara">
      Esta funcionalidad es soportada en Windows.
      El hecho de definir <code class="literal">session.entropy_length</code> a un valor
      diferente de cero hará que PHP utilice la API aleatoria de Windows como
      fuente de entropía.
     </span>
     <blockquote class="note"><p><strong class="note">Nota</strong>: 
      <span class="simpara">
       Eliminado en PHP 7.1.0.
      </span>
      <span class="simpara">
       <code class="literal">session.entropy_file</code> vale por omisión
       <code class="literal">/dev/urandom</code> o <code class="literal">/dev/arandom</code>
       si está disponible.
      </span>
     </p></blockquote>
    </dd>
   

   
    <dt id="ini.session.entropy-length">
     <code class="parameter">session.entropy_length</code>
     <span class="type"><a href="#language.types.integer" class="type int">int</a></span>
    </dt>
    <dd>
     <span class="simpara">
      Especifica el número de bytes
      que serán leídos en el archivo definido anteriormente. Por omisión <code class="literal">32</code>.
     </span>
     <span class="simpara">
      Eliminado en PHP 7.1.0.
     </span>
    </dd>
   

   
    <dt id="ini.session.use-strict-mode">
     <code class="parameter">session.use_strict_mode</code>
     <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span>
    </dt>
    <dd>
     <span class="simpara">
      <code class="literal">session.use_strict_mode</code> especifica si el módulo debe
      utilizar el modo de identificador de sesión estricto. Si este modo está activado,
      el módulo no aceptará identificadores de sesión no inicializados.
      Si un identificador de sesión no inicializado es enviado desde el navegador,
      un nuevo identificador de sesión será enviado al navegador. Las
      aplicaciones están protegidas de la fijación de sesiones mediante el uso
      del modo estricto de sesiones.
      Por omisión, vale <code class="literal">0</code> (desactivado).
     </span>
     <blockquote class="note"><p><strong class="note">Nota</strong>: 
      <span class="simpara">
       Activar <code class="literal">session.use_strict_mode</code> es obligatorio
       para la seguridad general de las sesiones. Se recomienda activarlo para
       todos los sitios. Consulte el ejemplo de código de
       <span class="function"><a href="#function.session-create-id" class="function">session_create_id()</a></span> para más detalles.
      </span>
     </p></blockquote>
    <div class="warning"><strong class="warning">Advertencia</strong>
     <p class="para">
      Si un controlador de sesiones registrado mediante la función
      <span class="function"><a href="#function.session-set-save-handler" class="function">session_set_save_handler()</a></span> no implementa
      <span class="methodname"><a href="#sessionupdatetimestamphandlerinterface.validateid" class="methodname">SessionUpdateTimestampHandlerInterface::validateId()</a></span>,
      ni proporciona la función de devolución de llamada <code class="parameter">validate_sid</code>, respectivamente,
      el modo de identificador de sesión estricto estará efectivamente desactivado, siguiendo el valor
      de esta directiva. Tenga en cuenta que <span class="classname"><a href="#class.sessionhandler" class="classname">SessionHandler</a></span> <em>no implementa</em> el método <span class="methodname"><strong>SessionHandler::validateId()</strong></span>.
     </p>
    </div>
    </dd>
   

   
    <dt id="ini.session.use-cookies">
     <code class="parameter">session.use_cookies</code>
     <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span>
    </dt>
    <dd>
     <span class="simpara">
      Especifica si el módulo utilizará
      cookies para almacenar el id de sesión en el lado del cliente.
      Por omisión, vale <code class="literal">1</code>, es decir, activo.
     </span>
    </dd>
   

   
    <dt id="ini.session.use-only-cookies">
     <code class="parameter">session.use_only_cookies</code>
     <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span>
    </dt>
    <dd>
     <span class="simpara">
      Especifica si el módulo
      debe utilizar <strong>solo</strong> cookies
      para almacenar los identificadores de sesiones en el lado del navegador.
      Al activarlo, evitará ataques que utilicen
      identificadores de sesiones en las URL.
      Por omisión, vale <code class="literal">1</code> (activado).
     </span>
    </dd>
   

   
    <dt id="ini.session.cookie-lifetime">
     <code class="parameter">session.cookie_lifetime</code>
     <span class="type"><a href="#language.types.integer" class="type int">int</a></span>
    </dt>
    <dd>
     <span class="simpara">
      Especifica la duración de vida de la cookie en segundos. El valor de
      <code class="literal">0</code> significa: "Hasta que el navegador se apague".
      El valor por omisión es <code class="literal">0</code>. Consulte también
      <span class="function"><a href="#function.session-get-cookie-params" class="function">session_get_cookie_params()</a></span> y
      <span class="function"><a href="#function.session-set-cookie-params" class="function">session_set_cookie_params()</a></span>.
     </span>
     <blockquote class="note"><p><strong class="note">Nota</strong>: 
      <span class="simpara">
       El timestamp que representa la duración de vida de la cookie se define
       en relación con el tiempo del servidor, que no es necesariamente el mismo
       que el tiempo del navegador.
      </span>
     </p></blockquote>
    </dd>
   

   
    <dt id="ini.session.cookie-path">
     <code class="parameter">session.cookie_path</code>
     <span class="type"><a href="#language.types.string" class="type string">string</a></span>
    </dt>
    <dd>
     <span class="simpara">
      Especifica el camino utilizado
      al crear la cookie. Por omisión, vale <code class="literal">/</code>.
      Consulte también
      <span class="function"><a href="#function.session-get-cookie-params" class="function">session_get_cookie_params()</a></span> y
      <span class="function"><a href="#function.session-set-cookie-params" class="function">session_set_cookie_params()</a></span>.
     </span>
    </dd>
   

   
    <dt id="ini.session.cookie-domain">
     <code class="parameter">session.cookie_domain</code>
     <span class="type"><a href="#language.types.string" class="type string">string</a></span>
    </dt>
    <dd>
     <span class="simpara">
      Especifica el dominio utilizado al crear la cookie. Por omisión,
      no vale nada, lo que significa que es el nombre del host del servidor que
      genera la cookie de acuerdo con las especificaciones sobre cookies.
      Consulte también <span class="function"><a href="#function.session-get-cookie-params" class="function">session_get_cookie_params()</a></span> y
      <span class="function"><a href="#function.session-set-cookie-params" class="function">session_set_cookie_params()</a></span>.
     </span>
    </dd>
   

   
    <dt id="ini.session.cookie-secure">
     <code class="parameter">session.cookie_secure</code>
     <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span>
    </dt>
    <dd>
     <span class="simpara">
      Especifica que las cookies solo deben emitirse en
      conexiones seguras. Con esta opción definida
      en <code class="literal">on</code>, las sesiones solo funcionan con conexiones HTTPS.
      Si está definida en <code class="literal">off</code>, entonces las sesiones funcionan con las conexiones HTTP y
      HTTPS. Por omisión, está definida en <code class="literal">off</code>.
      Consulte también
      <span class="function"><a href="#function.session-get-cookie-params" class="function">session_get_cookie_params()</a></span> y
      <span class="function"><a href="#function.session-set-cookie-params" class="function">session_set_cookie_params()</a></span>.
     </span>
    </dd>
   

   
    <dt id="ini.session.cookie-httponly">
     <code class="parameter">session.cookie_httponly</code>
     <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span>
    </dt>
    <dd>
     <span class="simpara">
      Marca la cookie para que solo sea accesible a través del protocolo HTTP. Esto significa
      que la cookie no será accesible por los lenguajes de script, como Javascript.
      Esta configuración permite limitar ataques como los ataques XSS (aunque
      no es soportado por todos los navegadores).
     </span>
    </dd>
   

   
    <dt id="ini.session.cookie-samesite">
     <code class="parameter">session.cookie_samesite</code>
     <span class="type"><a href="#language.types.string" class="type string">string</a></span>
    </dt>
    <dd>
     <span class="simpara">
      Permite que una cookie no sea enviada por el servidor con solicitudes entre sitios
      (cross-site). Esta afirmación permite a los agentes de usuario mitigar los riesgos
      de fuga de información de origen del sitio (cross-origin), y proporciona protección contra las
      ataques de falsificación de solicitudes entre sitios (cross-site request forgery). Tenga en cuenta que esto no es soportado por todos los navegadores.
      Un valor vacío significa que ningún atributo SameSite será definido.
      <code class="literal">Lax</code> y <code class="literal">Strict</code> significa que la cookie
      no será enviada para solicitudes POST entre dominios; <code class="literal">Lax</code>
      enviará la cookie para solicitudes GET entre dominios, mientras que <code class="literal">Strict</code>
      no lo hará.
     </span>
    </dd>
   

   
    <dt id="ini.session.cache-limiter">
     <code class="parameter">session.cache_limiter</code>
     <span class="type"><a href="#language.types.string" class="type string">string</a></span>
    </dt>
    <dd>
     <span class="simpara">
      Especifica el tipo de control de caché utilizado para las páginas
      con sesiones. Los valores posibles son :
      <code class="literal">nocache</code>, <code class="literal">private</code>,
      <code class="literal">private_no_expire</code>, <code class="literal">public</code>.
      Por omisión, vale <code class="literal">nocache</code>.
      Consulte también <span class="function"><a href="#function.session-cache-limiter" class="function">session_cache_limiter()</a></span> para
      conocer el significado de estos valores.
     </span>
    </dd>
   

   
    <dt id="ini.session.cache-expire">
     <code class="parameter">session.cache_expire</code>
     <span class="type"><a href="#language.types.integer" class="type int">int</a></span>
    </dt>
    <dd>
     <span class="simpara">
      Especifica la duración de
      vida de los datos de sesiones, en minutos. Esta opción no tiene
      ninguna consecuencia en el control de caché. Por omisión, vale
      <code class="literal">180</code> (3 horas).
      Consulte también
      <span class="function"><a href="#function.session-cache-expire" class="function">session_cache_expire()</a></span>.
     </span>
    </dd>
   

   
    <dt id="ini.session.use-trans-sid">
     <code class="parameter">session.use_trans_sid</code>
     <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span>
    </dt>
    <dd>
     <span class="simpara">
      Especifica si el soporte del SID es transparente o no. Por omisión vale <code class="literal">0</code>
      (desactivado).
     </span>
     <blockquote class="note"><p><strong class="note">Nota</strong>: 
      <span class="simpara">
       El sistema de gestión de sesiones por URL representa un riesgo
       adicional de seguridad: un usuario puede enviar
       su URL con el identificador de sesión por correo electrónico a un amigo,
       o bien ponerla en sus marcadores. Esto difundirá entonces
       el identificador de sesión.
      </span>
      <span class="simpara">
       Desde PHP 7.1.0, la URL completa, por ejemplo https://php.net/, es
       gestionada por la funcionalidad. Anteriormente, PHP gestionaba solo el camino relativo
       únicamente. El host objetivo de la reescritura está definido por <a href="#ini.session.trans-sid-hosts" class="link">session.trans_sid_hosts</a>.
      </span>
     </p></blockquote>
    </dd>
   

   
    <dt id="ini.session.trans-sid-tags">
     <code class="parameter">session.trans_sid_tags</code>
     <span class="type"><a href="#language.types.string" class="type string">string</a></span>
    </dt>
    <dd>
     <span class="simpara">
      <code class="literal">session.trans_sid_tags</code> especifica las etiquetas HTML que
      son reescritas para incluir el ID de sesión cuando el soporte del SID
      transparente está activado. Por omisión
      <code class="literal">a=href,area=href,frame=src,input=src,form=</code>
     </span>
     <span class="simpara">
      <code class="literal">form</code> es una etiqueta especial. La variable de formulario
      <code class="literal">&lt;input hidden="session_id" name="session_name"&gt;</code>
      es añadida.
     </span>
     <blockquote class="note"><p><strong class="note">Nota</strong>: 
      <span class="simpara">
       Antes de PHP 7.1.0, <a href="#ini.url-rewriter.tags" class="link">url_rewriter.tags</a>
       era utilizado para este propósito. Desde PHP 7.1.0,
       <code class="literal">fieldset</code> ya no es considerado como una etiqueta
       especial.
      </span>
     </p></blockquote>
    </dd>
   

   
    <dt id="ini.session.trans-sid-hosts">
     <code class="parameter">session.trans_sid_hosts</code>
     <span class="type"><a href="#language.types.string" class="type string">string</a></span>
    </dt>
    <dd>
     <span class="simpara">
      <code class="literal">session.trans_sid_hosts</code> especifica los hosts que son
      reescritos para incluir el ID de sesión cuando el soporte del SID transparente
      está activado. Por omisión <code class="literal">$_SERVER['HTTP_HOST']</code>. Varios
      hosts pueden ser especificados separados por ",", ningún espacio está permitido
      entre los hosts. Por ejemplo:
      <code class="literal">php.net,wiki.php.net,bugs.php.net</code>
     </span>
    </dd>
   

   
    <dt id="ini.session.sid-length">
     <code class="parameter">session.sid_length</code>
     <span class="type"><a href="#language.types.integer" class="type int">int</a></span>
    </dt>
    <dd>
     <span class="simpara">
      <code class="literal">session.sid_length</code> permite especificar la longitud
      de la cadena de ID de sesión. La longitud del ID de sesión puede ser
      comprendida entre 22 y 256.
     </span>
     <span class="simpara">
      El valor por omisión es 32. Si necesita compatibilidad, puede especificar 32, 40, etc. El ID de sesión más largo es más difícil
      de adivinar. Al menos 32 caracteres son recomendados.
     </span>
     <div class="tip"><strong class="tip">Sugerencia</strong>
      <p class="para">
       Nota de compatibilidad: utilizar 32 en lugar de
       <code class="literal">session.hash_function</code>=0 (MD5) y
       <code class="literal">session.hash_bits_per_character</code>=4,
       <code class="literal">session.hash_function</code>=1 (SHA1) y
       <code class="literal">session.hash_bits_per_character</code>=6. Utilizar 26 en lugar de
       <code class="literal">session.hash_function</code>=0 (MD5) y
       <code class="literal">session.hash_bits_per_character</code>=5. Utilizar 22 en lugar de
       <code class="literal">session.hash_function</code>=0 (MD5) y
       <code class="literal">session.hash_bits_per_character</code>=6.
       Debe configurar los valores INI para que haya 128 bits en
       el ID de sesión. No olvide definir el valor apropiado a
       <code class="literal">session.sid_bits_per_character</code>, de lo contrario tendrá
       ID de sesión más débiles.
      </p>
     </div>
     <blockquote class="note"><p><strong class="note">Nota</strong>: 
      <span class="simpara">
       Disponible a partir de PHP 7.1.0.
      </span>
     </p></blockquote>
    </dd>
   

   
    <dt id="ini.session.sid-bits-per-character">
     <code class="parameter">session.sid_bits_per_character</code>
     <span class="type"><a href="#language.types.integer" class="type int">int</a></span>
    </dt>
    <dd>
     <span class="simpara">
      <code class="literal">session.sid_bits_per_character</code> permite especificar el
      número de bits en el carácter codificado en el ID de sesión. Los valores
      posibles son
      '4' (0-9, a-f), '5' (0-9, a-v), y '6' (0-9, a-z, A-Z, "-", ",").
     </span>
     <span class="simpara">
      El valor por omisión es 4. Más bits resultan en un ID de sesión más
      fuerte. 5 es el valor recomendado para la mayoría de los entornos.
     </span>
     <p class="para">
     </p>
     <blockquote class="note"><p><strong class="note">Nota</strong>: 
      <span class="simpara">
       Disponible a partir de PHP 7.1.0.
      </span>
     </p></blockquote>
    </dd>
   

   
    <dt id="ini.session.hash-function">
     <code class="parameter">session.hash_function</code>
     mixed
    </dt>
    <dd>
     <span class="simpara">
      <code class="literal">session.hash_function</code> permite especificar la función
      de hash a utilizar para generar los identificadores de sesión. '0' significa
      MD5 (128 bits) y '1' significa SHA-1 (160 bits).
     </span>
     <p class="para">
      También es posible especificar cualquier algoritmo proporcionado por la
      <a href="#ref.hash" class="link">extensión hash</a>
      (si está disponible), como <code class="literal">sha512</code> o
      <code class="literal">whirlpool</code>. Una lista completa de algoritmos puede ser
      obtenida con la función <span class="function"><a href="#function.hash-algos" class="function">hash_algos()</a></span>.
     </p>
     <blockquote class="note"><p><strong class="note">Nota</strong>: 
      <span class="simpara">
       Eliminado en PHP 7.1.0.
      </span>
     </p></blockquote>
    </dd>
   

   
    <dt id="ini.session.hash-bits-per-character">
     <code class="parameter">session.hash_bits_per_character</code>
     <span class="type"><a href="#language.types.integer" class="type int">int</a></span>
    </dt>
    <dd>
     <span class="simpara">
      <code class="literal">session.hash_bits_per_character</code> permite definir
      el número de bits utilizados para cada carácter durante las conversiones de
      los datos binarios en elementos legibles. Los valores posibles son '4' (0-9,
      a-f), '5' (0-9, a-v), y '6' (0-9, a-z, A-Z, "-", ",").
     </span>
     <blockquote class="note"><p><strong class="note">Nota</strong>: 
      <span class="simpara">
       Eliminado en PHP 7.1.0.
      </span>
     </p></blockquote>
    </dd>
   

   
    <dt id="ini.session.upload-progress.enabled">
     <code class="parameter">session.upload_progress.enabled</code>
     <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span>
    </dt>
    <dd>
     <span class="simpara">
      Activa la supervisión de la progresión de una subida, poblando
      la variable <var class="varname"><a href="#reserved.variables.session" class="classname">$_SESSION</a></var>. Por omisión, vale 1 (activado).
     </span>
    </dd>
   

   
    <dt id="ini.session.upload-progress.cleanup">
     <code class="parameter">session.upload_progress.cleanup</code>
     <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span>
    </dt>
    <dd>
     <span class="simpara">
      Limpia las informaciones de progresión tan pronto como todos los datos POST
      han sido leídos (es decir, la subida ha terminado). Por omisión, vale 1 (activado).
     </span>
     <blockquote class="note"><p><strong class="note">Nota</strong>: 
      <span class="simpara">
       Se recomienda encarecidamente mantener activa esta funcionalidad.
      </span>
     </p></blockquote>
    </dd>
   

   
    <dt id="ini.session.upload-progress.prefix">
     <code class="parameter">session.upload_progress.prefix</code>
     <span class="type"><a href="#language.types.string" class="type string">string</a></span>
    </dt>
    <dd>
     <span class="simpara">
      Un prefijo utilizado para la clave relativa a la progresión de la subida
      en el array <var class="varname"><a href="#reserved.variables.session" class="classname">$_SESSION</a></var>. Esta clave será concatenada con
      el valor de <code class="literal">$_POST[ini_get("session.upload_progress.name")]</code>
      para proporcionar un índice único.
     </span>
     <span class="simpara">
      Por omisión, vale "upload_progress_".
     </span>
    </dd>
   

   
    <dt id="ini.session.upload-progress.name">
     <code class="parameter">session.upload_progress.name</code>
     <span class="type"><a href="#language.types.string" class="type string">string</a></span>
    </dt>
    <dd>
     <span class="simpara">
      El nombre de la clave a utilizar en el array <var class="varname"><a href="#reserved.variables.session" class="classname">$_SESSION</a></var>
      para almacenar las informaciones de progresión. Consulte también
      <a href="#ini.session.upload-progress.prefix" class="link">session.upload_progress.prefix</a>.
     </span>
     <span class="simpara">
      Si <code class="literal">$_POST[ini_get("session.upload_progress.name")]</code>
      no es proporcionado o disponible, la progresión de una subida no será registrada.
     </span>
     <span class="simpara">
      Por omisión, vale "PHP_SESSION_UPLOAD_PROGRESS".
     </span>
    </dd>
   

   
    <dt id="ini.session.upload-progress.freq">
     <code class="parameter">session.upload_progress.freq</code>
     <span class="type"><a href="#language.types.mixed" class="type mixed">mixed</a></span>
    </dt>
    <dd>
     <span class="simpara">
      Define el número de veces que las informaciones de progresión de subida
      deben ser actualizadas. Puede ser definido en bytes (es decir, "actualizar
      las informaciones de progresión de subida cada 100 bytes),
      o en porcentaje (es decir, "actualizar las informaciones de progresión de
      subida cada 1% de recepción del peso total del archivo").
     </span>
     <span class="simpara">
      Por omisión, vale "1%".
     </span>
    </dd>
   

   
    <dt id="ini.session.upload-progress.min-freq">
     <code class="parameter">session.upload_progress.min_freq</code>
     <span class="type"><a href="#language.types.integer" class="type int">int</a></span>
    </dt>
    <dd>
     <span class="simpara">
      El retraso mínimo entre las actualizaciones, en segundos.
      Por omisión, vale "1" (un segundo).
     </span>
    </dd>
   

   
    <dt id="ini.session.lazy-write">
     <code class="parameter">session.lazy_write</code>
     <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span>
    </dt>
    <dd>
     <span class="simpara">
      <code class="literal">session.lazy_write</code>, cuando está definido a 1, significa que
      los datos de sesión solo serán reescritos si estos cambian. Por
      omisión 1, activado.
     </span>
    </dd>
   
  </dl>
 

 <p class="para">
  La progresión de subida no será registrada a menos que
  session.upload_progress.enabled esté activo, y que la variable
  $_POST[ini_get("session.upload_progress.name")] esté definida.
  Consulte la <a href="#session.upload-progress" class="link">progresión de subida de sesión</a> para más información sobre esta funcionalidad.
 </p>

</div>
<hr>





</div>

<hr>




 




<div id="session.constants" class="appendix"><hr>
 <h1 class="title">Constantes predefinidas</h1>

 <p class="simpara">Estas constantes son definidas por esta
extensión, y solo están disponibles si esta extensión ha sido compilada con
PHP, o bien cargada en tiempo de ejecución.</p>
 <dl>
  
   <dt id="constant.sid">
    <strong><code><a href="#constant.sid">SID</a></code></strong>
    (<span class="type"><a href="#language.types.string" class="type string">string</a></span>)
   </dt>
   <dd>
    <span class="simpara">
     Constante que contiene el nombre de la sesión y el identificador en curso,
     en el formato <code class="literal">"name=ID"</code> o una cadena vacía
     si el identificador de sesión ha sido definido en una cookie de sesión.
     Es el mismo valor que el devuelto por la función
     <span class="function"><a href="#function.session-id" class="function">session_id()</a></span>.
    </span>
   </dd>
  
  
   <dt id="constant.php-session-disabled">
    <strong><code><a href="#constant.php-session-disabled">PHP_SESSION_DISABLED</a></code></strong>
    (<span class="type"><a href="#language.types.integer" class="type int">int</a></span>)
   </dt>
   <dd>
    <span class="simpara">
     Valor devuelto por <span class="function"><a href="#function.session-status" class="function">session_status()</a></span> si la sesión está desactivada.
    </span>
   </dd>
  
  
   <dt id="constant.php-session-none">
    <strong><code><a href="#constant.php-session-none">PHP_SESSION_NONE</a></code></strong>
    (<span class="type"><a href="#language.types.integer" class="type int">int</a></span>)
   </dt>
   <dd>
    <span class="simpara">
     Valor devuelto por <span class="function"><a href="#function.session-status" class="function">session_status()</a></span> si la sesión está activada,
     pero no existe.
    </span>
   </dd>
  
  
   <dt id="constant.php-session-active">
    <strong><code><a href="#constant.php-session-active">PHP_SESSION_ACTIVE</a></code></strong>
    (<span class="type"><a href="#language.types.integer" class="type int">int</a></span>)
   </dt>
   <dd>
    <span class="simpara">
     Valor devuelto por <span class="function"><a href="#function.session-status" class="function">session_status()</a></span> si la sesión está activada,
     y existe.
    </span>
   </dd>
  
 </dl>
</div>

<hr>




 




<div id="session.examples" class="appendix"><hr>
 <h1 class="title">Ejemplos</h1>
<h2>Tabla de contenidos</h2><ul class="chunklist chunklist_appendix"><li><a href="#session.examples.basic">Uso básico</a></li><li><a href="#session.idpassing">Pasar el identificador de sesión (session ID)</a></li><li><a href="#session.customhandler">Gestión personalizada de sesiones</a></li></ul>

 <div id="session.examples.basic" class="section"><hr>
  <h2 class="title">Uso básico</h2>
  <p class="para">
   Las sesiones son una forma sencilla de almacenar datos individuales para cada
   usuario mediante un identificador de sesión único. Pueden utilizarse
   para persistir información entre varias páginas. Los identificadores de sesión
   se envían normalmente al navegador a través de cookies de sesión, y el identificador
   se utiliza para recuperar los datos existentes de la sesión. La ausencia de un identificador
   o de una cookie de sesión indica a PHP que debe crear una nueva sesión, generando así
   un nuevo identificador de sesión.
  </p>
  <p class="para">
   Las sesiones siguen una cinemática simple. Cuando se inicia una sesión, PHP
   recuperará una sesión existente utilizando el identificador de sesión pasado (habitualmente
   desde una cookie de sesión) o, si no se pasa ningún identificador de sesión, creará una
   nueva sesión. PHP poblará entonces la variable superglobal <var class="varname"><a href="#reserved.variables.session" class="classname">$_SESSION</a></var>
   con todos los datos de la sesión una vez iniciada. Cuando PHP finaliza,
   tomará automáticamente el contenido de la variable superglobal <var class="varname"><a href="#reserved.variables.session" class="classname">$_SESSION</a></var>,
   lo serializará y lo enviará para su almacenamiento al gestor de guardado de sesión.
  </p>
  <p class="para">
   Por omisión, PHP utiliza internamente el gestor de guardado <code class="parameter">files</code>
   que está definido mediante la directiva <a href="#ini.session.save-handler" class="link">session.save_handler</a>.
   Los datos de sesión se guardarán en el servidor en el lugar especificado por
   la directiva de configuración <a href="#ini.session.save-path" class="link">session.save_path</a>.
  </p>
  <p class="para">
   Las sesiones pueden iniciarse manualmente utilizando la función
   <span class="function"><a href="#function.session-start" class="function">session_start()</a></span>. Si la directiva de configuración
   <a href="#ini.session.auto-start" class="link">session.auto_start</a> está definida como
   <code class="parameter">1</code>, una sesión se iniciará automáticamente al comienzo
   de la solicitud.
  </p>
  <p class="para">
   Las sesiones se detienen automáticamente cuando PHP ha terminado de ejecutar un script, pero
   pueden detenerse manualmente utilizando la función
   <span class="function"><a href="#function.session-write-close" class="function">session_write_close()</a></span>.
  </p>
  <p class="para">
   </p><div class="example" id="example-5008">
    <p><strong>Ejemplo #1 
     Almacenar una variable con <var class="varname"><a href="#reserved.variables.session" class="classname">$_SESSION</a></var>.
    </strong></p>
    <div class="example-contents">
     <div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br>session_start</span><span style="color: #007700">();<br>if (!isset(</span><span style="color: #0000BB">$_SESSION</span><span style="color: #007700">[</span><span style="color: #DD0000">'count'</span><span style="color: #007700">])) {<br>  </span><span style="color: #0000BB">$_SESSION</span><span style="color: #007700">[</span><span style="color: #DD0000">'count'</span><span style="color: #007700">] = </span><span style="color: #0000BB">0</span><span style="color: #007700">;<br>} else {<br>  </span><span style="color: #0000BB">$_SESSION</span><span style="color: #007700">[</span><span style="color: #DD0000">'count'</span><span style="color: #007700">]++;<br>}<br></span><span style="color: #0000BB">?&gt;</span></span></code></div>
    </div>

   </div>
   <div class="example" id="example-5009">
    <p><strong>Ejemplo #2 
     Eliminar una variable de sesión con la superglobal <var class="varname"><a href="#reserved.variables.session" class="classname">$_SESSION</a></var>.
    </strong></p>
    <div class="example-contents">
     <div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br>session_start</span><span style="color: #007700">();<br>unset(</span><span style="color: #0000BB">$_SESSION</span><span style="color: #007700">[</span><span style="color: #DD0000">'count'</span><span style="color: #007700">]);<br></span><span style="color: #0000BB">?&gt;</span></span></code></div>
    </div>

   </div>
  
  <p class="para">
   </p><div class="caution"><strong class="caution">Precaución</strong>
    <p class="para">
     No utilice la función <span class="function"><a href="#function.unset" class="function">unset()</a></span>
     con <var class="varname"><a href="#reserved.variables.session" class="classname">$_SESSION</a></var> de la forma
     <code class="literal">unset($_SESSION)</code> ya que esto hará imposible
     el almacenamiento de datos en la sesión utilizando la superglobal
     <var class="varname"><a href="#reserved.variables.session" class="classname">$_SESSION</a></var>.
    </p>
   </div>
  
  <div class="warning"><strong class="warning">Advertencia</strong>
   <p class="para">
    No se pueden utilizar referencias en variables de sesión
    ya que no hay ninguna manera factible de restaurar una referencia a otra
    variable.
   </p>
  </div>
  <blockquote class="note"><p><strong class="note">Nota</strong>: 
   </p><p class="para">
    Las sesiones basadas en ficheros (por omisión en PHP) bloquean
    el fichero de sesión cuando una sesión se abre mediante la función
    <span class="function"><a href="#function.session-start" class="function">session_start()</a></span> o implícitamente mediante la directiva
    de configuración <a href="#ini.session.auto-start" class="link">session.auto_start</a>.
    Una vez bloqueado, ningún otro script puede acceder al mismo fichero
    de sesión hasta que la sesión no haya sido cerrada por el script
    que la abrió, o hasta que la función
    <span class="function"><a href="#function.session-write-close" class="function">session_write_close()</a></span> no haya sido llamada.
   </p>
   <p class="para">
    Esto puede ser problemático para los sitios web que utilizan AJAX y producen
    múltiples solicitudes concurrentes. La forma más sencilla de evitar
    este problema es llamar a la función <span class="function"><a href="#function.session-write-close" class="function">session_write_close()</a></span>
    una vez que se hayan realizado los cambios en la sesión,
    preferiblemente al principio del script. También se puede utilizar
    otro gestor de sesión que soporte concurrencia.
   </p>
  </blockquote>
 </div>
<hr>


 <div id="session.idpassing" class="section"><hr>
  <h2 class="title">Pasar el identificador de sesión (session ID)</h2>
  <p class="para">
   Existen dos métodos de propagación del identificador de sesión:
   </p><ul class="itemizedlist">
    <li class="listitem">
     <span class="simpara">
      Cookies
     </span>
    </li>
    <li class="listitem">
     <span class="simpara">
      Por URL
     </span>
    </li>
   </ul>
  
  <p class="para">
   El módulo de sesión soporta ambos métodos. Las cookies son
   óptimas, pero como no son seguras (no todos los internautas
   las aceptan), no son fiables. El segundo
   método coloca el identificador de sesión directamente en las URL.
  </p>
  <p class="para">
   PHP es capaz de hacerlo de manera transparente.
   Si la opción de compilación
   <code class="literal">session.use_trans_sid</code> está activada,
   las URL relativas se modificarán para contener el identificador
   de sesión automáticamente.
   </p><blockquote class="note"><p><strong class="note">Nota</strong>: 
    </p><p class="para">
     La opción <a href="#ini.arg-separator.output" class="link">arg_separator.output</a>
     de <var class="filename">php.ini</var> permite personalizar el separador de argumentos.
     Para estar completamente de acuerdo con las especificaciones XHTML, especifique
     &amp;amp; aquí.
    </p>
   </blockquote>
  
  <p class="para">
   Alternativamente, se puede utilizar la constante <strong><code><a href="#constant.sid">SID</a></code></strong>
   que está definida si la sesión ha comenzado. Si el cliente no envía una cookie de sesión
   apropiada, tendrá la forma <code class="literal">session_name=session_id</code>.
   De lo contrario, valdrá una cadena vacía. Así, en todos los casos
   se puede incluir en la URL.
  </p>
  <p class="para">
   El siguiente ejemplo muestra cómo almacenar una variable y cómo
   realizar un enlace correcto a otra página, con
   <strong><code><a href="#constant.sid">SID</a></code></strong>.
   </p><div class="example" id="example-5010">
    <p><strong>Ejemplo #1 Contar el número de visitas de un usuario a una página</strong></p>
    <div class="example-contents">
     <div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br><br>session_start</span><span style="color: #007700">();<br><br>if (empty(</span><span style="color: #0000BB">$_SESSION</span><span style="color: #007700">[</span><span style="color: #DD0000">'count'</span><span style="color: #007700">])) {<br>   </span><span style="color: #0000BB">$_SESSION</span><span style="color: #007700">[</span><span style="color: #DD0000">'count'</span><span style="color: #007700">] = </span><span style="color: #0000BB">1</span><span style="color: #007700">;<br>} else {<br>   </span><span style="color: #0000BB">$_SESSION</span><span style="color: #007700">[</span><span style="color: #DD0000">'count'</span><span style="color: #007700">]++;<br>}<br></span><span style="color: #0000BB">?&gt;<br></span><br>&lt;p&gt;<br> Hola visitante, ha visto esta página <span style="color: #0000BB">&lt;?php </span><span style="color: #007700">echo </span><span style="color: #0000BB">$_SESSION</span><span style="color: #007700">[</span><span style="color: #DD0000">'count'</span><span style="color: #007700">]; </span><span style="color: #0000BB">?&gt;</span> veces.<br>&lt;/p&gt;<br><br>&lt;p&gt;<br> Para continuar, &lt;a href="nextpage.php?<span style="color: #0000BB">&lt;?php </span><span style="color: #007700">echo </span><span style="color: #0000BB">htmlspecialchars</span><span style="color: #007700">(</span><span style="color: #0000BB">SID</span><span style="color: #007700">); </span><span style="color: #0000BB">?&gt;</span>"&gt;haga clic aquí&lt;/a&gt;.<br>&lt;/p&gt;</span></code></div>
    </div>

   </div>
  
  <p class="para">
   La función <span class="function"><a href="#function.htmlspecialchars" class="function">htmlspecialchars()</a></span> se utiliza al mostrar
   el <strong><code><a href="#constant.sid">SID</a></code></strong> con el fin de contrarrestar los ataques XSS.
  </p>
  <p class="para">
   La visualización del <strong><code><a href="#constant.sid">SID</a></code></strong>, como se muestra en el ejemplo
   anterior, no es necesaria si <a href="#ini.session.use-trans-sid" class="link">
   --enable-trans-sid</a> se ha utilizado para compilar
   PHP.
  </p>
  <blockquote class="note"><p><strong class="note">Nota</strong>: 
   </p><p class="para">
    Las URL no relativas se consideran externas al sitio y no
    recibirán el <strong><code><a href="#constant.sid">SID</a></code></strong>, ya que la fuga del <strong><code><a href="#constant.sid">SID</a></code></strong>
    a un servidor diferente presenta un riesgo de seguridad importante.
   </p>
  </blockquote>
 </div>
<hr>


 <div id="session.customhandler" class="section"><hr>
  <h2 class="title">Gestión personalizada de sesiones</h2>
  <p class="para">
   Para implementar un almacenamiento en base de datos, u otro método,
   se necesitará la función <span class="function"><a href="#function.session-set-save-handler" class="function">session_set_save_handler()</a></span> para
   configurar las propias funciones de almacenamiento.
   Un gestor de sesión puede crearse utilizando la interfaz
   <span class="classname"><a href="#class.sessionhandlerinterface" class="classname">SessionHandlerInterface</a></span> o extendiendo los
   gestores internos de PHP heredando de la clase
   <span class="classname"><a href="#class.sessionhandler" class="classname">SessionHandler</a></span>.
  </p>
  <p class="para">
   Las funciones de retrollamada especificadas en <span class="function"><a href="#function.session-set-save-handler" class="function">session_set_save_handler()</a></span> son
   métodos llamados por PHP durante el ciclo de vida de la sesión: <code class="parameter">open</code>,
   <code class="parameter">read</code>, <code class="parameter">write</code> y <code class="parameter">close</code>
   así como las funciones de mantenimiento <code class="parameter">destroy</code> para eliminar una sesión
   y <code class="parameter">gc</code> para una recolección periódica de patrones.
  </p>
  <p class="para">
   Así, PHP siempre necesita un gestor de sesiones. Por omisión se trata del gestor
   interno 'files'. Un gestor personalizado puede indicarse mediante
   <span class="function"><a href="#function.session-set-save-handler" class="function">session_set_save_handler()</a></span>. Otros gestores alternativos pueden ser propuestos
   por extensiones PHP, como <code class="parameter">sqlite</code>, <code class="parameter">memcache</code>
   y <code class="parameter">memcached</code> y pueden utilizarse mediante
   <a href="#ini.session.save-handler" class="link">session.save_handler</a>.
  </p>
  <p class="para">
   Cuando la sesión comienza, PHP llamará internamente a la función <code class="parameter">open</code> del gestor, seguida de
   <code class="parameter">read</code> que debe entonces devolver una cadena codificada exactamente como fue pasada durante el almacenamiento.
   Una vez que la función de retrollamada de <code class="parameter">read</code> haya devuelto su cadena, PHP la decodificará
   y poblará la superglobal <var class="varname"><a href="#reserved.variables.session" class="classname">$_SESSION</a></var> en consecuencia.
  </p>
  <p class="para">
   Cuando PHP finaliza (o cuando <span class="function"><a href="#function.session-write-close" class="function">session_write_close()</a></span> es llamada), codificará internamente el contenido de <var class="varname"><a href="#reserved.variables.session" class="classname">$_SESSION</a></var> y lo pasará con el ID de sesión a la
   función <code class="parameter">write</code>. Después de <code class="parameter">write</code>, PHP invocará <code class="parameter">close</code>.
  </p>
  <p class="para">
   Cuando una sesión es destruida, PHP llamará a <code class="parameter">destroy</code> con el ID de sesión.
  </p>
  <p class="para">
   PHP llamará a la función de retrollamada <code class="parameter">gc</code> de vez en cuando para limpiar
   las sesiones expiradas según su
   tiempo de vida máximo. Esta llamada debería llevar a la destrucción de los registros en
   el soporte de almacenamiento que no han sido accedidos desde <code class="parameter">$lifetime</code>.
  </p>
 </div>
<hr>

</div>

<hr>


 

 




<div id="session.upload-progress" class="chapter"><hr>
 <h1 class="title">Progresión de una subida (upload) en sesión</h1>


 <p class="para">
  Cuando la opción de configuración
  <a href="#ini.session.upload-progress.enabled" class="link">session.upload_progress.enabled</a>
  está activa, PHP será capaz de rastrear la progresión de un fichero en
  curso de subida (upload). Esta información no es particularmente útil
  para la petición de subida en sí, pero durante la subida,
  una aplicación puede enviar una petición POST separada (por ejemplo,
  mediante <abbr>XHR</abbr>) para verificar el estado de esta subida.
 </p>
 <p class="para">
  La progresión de la subida estará disponible en la variable superglobal
  <var class="varname"><a href="#reserved.variables.session" class="classname">$_SESSION</a></var> cuando la subida está en curso,
  y durante un envío en método POST de una variable con el mismo nombre que el
  definido en la opción de configuración INI
  <a href="#ini.session.upload-progress.name" class="link">session.upload_progress.name</a>.
  Cuando PHP detecta una petición POST de este tipo, llenará un array en
  <var class="varname"><a href="#reserved.variables.session" class="classname">$_SESSION</a></var>, donde el índice es un valor concatenado de las opciones
  de configuración
  <a href="#ini.session.upload-progress.prefix" class="link">session.upload_progress.prefix</a>
  y
  <a href="#ini.session.upload-progress.name" class="link">session.upload_progress.name</a>.
  La clave se recupera típicamente leyendo estas configuraciones INI, es decir:
  </p><div class="informalexample">
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br>$key </span><span style="color: #007700">= </span><span style="color: #0000BB">ini_get</span><span style="color: #007700">(</span><span style="color: #DD0000">"session.upload_progress.prefix"</span><span style="color: #007700">) . </span><span style="color: #0000BB">$_POST</span><span style="color: #007700">[</span><span style="color: #0000BB">ini_get</span><span style="color: #007700">(</span><span style="color: #DD0000">"session.upload_progress.name"</span><span style="color: #007700">)];<br></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$_SESSION</span><span style="color: #007700">[</span><span style="color: #0000BB">$key</span><span style="color: #007700">]);<br></span><span style="color: #0000BB">?&gt;</span></span></code></div>
   </div>

  </div>
 
 <p class="para">
  Asimismo, es posible <em>cancelar</em> la subida actual
  definiendo la clave <code class="literal">$_SESSION[$key]["cancel_upload"]</code> al valor
  <strong><code><a href="#constant.true">true</a></code></strong>. Durante la subida de varios ficheros en la misma
  petición, esta acción solo cancelará el fichero actualmente en curso de subida,
  así como aquellos en espera de subida, pero no cancelará las subidas
  terminadas con éxito. Cuando una subida es cancelada utilizando este método,
  la clave <code class="literal">error</code> del array <var class="varname"><a href="#reserved.variables.files" class="classname">$_FILES</a></var> será definida a
  <strong><code><a href="#constant.upload-err-extension">UPLOAD_ERR_EXTENSION</a></code></strong>.
 </p>
 <p class="para">
  Las opciones de configuración INI
  <a href="#ini.session.upload-progress.freq" class="link">session.upload_progress.freq</a>
  y
  <a href="#ini.session.upload-progress.min-freq" class="link">session.upload_progress.min_freq</a>
  controlan la frecuencia de actualización de las informaciones de progresión de subida.
  Con una configuración razonable de estas 2 opciones, el sobrecoste en términos
  de carga es casi nulo.
 </p>
 <p class="para">
  </p><div class="example" id="example-5011">
   <p><strong>Ejemplo #1 Ejemplo</strong></p>
   <div class="example-contents"><p>
    Ejemplo de estructura del array que contiene las informaciones de
    subida.
   </p></div>
   <div class="example-contents">
<div class="htmlcode"><pre class="htmlcode">&lt;form action="upload.php" method="POST" enctype="multipart/form-data"&gt;
 &lt;input type="hidden" name="&lt;?php echo ini_get("session.upload_progress.name"); ?&gt;" value="123" /&gt;
 &lt;input type="file" name="file1" /&gt;
 &lt;input type="file" name="file2" /&gt;
 &lt;input type="submit" /&gt;
&lt;/form&gt;</pre>
</div>
   </div>

   <div class="example-contents"><p>
    Los datos almacenados en sesión se asemejarán a:
   </p></div>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br>$_SESSION</span><span style="color: #007700">[</span><span style="color: #DD0000">"upload_progress_123"</span><span style="color: #007700">] = array(<br> </span><span style="color: #DD0000">"start_time" </span><span style="color: #007700">=&gt; </span><span style="color: #0000BB">1234567890</span><span style="color: #007700">,   </span><span style="color: #FF8000">// La hora de la petición<br> </span><span style="color: #DD0000">"content_length" </span><span style="color: #007700">=&gt; </span><span style="color: #0000BB">57343257</span><span style="color: #007700">, </span><span style="color: #FF8000">// Longitud del contenido POST<br> </span><span style="color: #DD0000">"bytes_processed" </span><span style="color: #007700">=&gt; </span><span style="color: #0000BB">453489</span><span style="color: #007700">,  </span><span style="color: #FF8000">// Cantidad de bytes recibidos y procesados<br> </span><span style="color: #DD0000">"done" </span><span style="color: #007700">=&gt; </span><span style="color: #0000BB">false</span><span style="color: #007700">,              </span><span style="color: #FF8000">// true cuando el manejador POST ha terminado, con éxito o no<br> </span><span style="color: #DD0000">"files" </span><span style="color: #007700">=&gt; array(<br>  </span><span style="color: #0000BB">0 </span><span style="color: #007700">=&gt; array(<br>   </span><span style="color: #DD0000">"field_name" </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">"file1"</span><span style="color: #007700">,       </span><span style="color: #FF8000">// Nombre del campo &lt;input/&gt;<br>   // Los 3 elementos siguientes son equivalentes a los en $_FILES<br>   </span><span style="color: #DD0000">"name" </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">"foo.avi"</span><span style="color: #007700">,<br>   </span><span style="color: #DD0000">"tmp_name" </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">"/tmp/phpxxxxxx"</span><span style="color: #007700">,<br>   </span><span style="color: #DD0000">"error" </span><span style="color: #007700">=&gt; </span><span style="color: #0000BB">0</span><span style="color: #007700">,<br>   </span><span style="color: #DD0000">"done" </span><span style="color: #007700">=&gt; </span><span style="color: #0000BB">true</span><span style="color: #007700">,                </span><span style="color: #FF8000">// True cuando el manejador POST ha terminado de manejar este fichero<br>   </span><span style="color: #DD0000">"start_time" </span><span style="color: #007700">=&gt; </span><span style="color: #0000BB">1234567890</span><span style="color: #007700">,    </span><span style="color: #FF8000">// La hora de inicio de petición<br>   </span><span style="color: #DD0000">"bytes_processed" </span><span style="color: #007700">=&gt; </span><span style="color: #0000BB">57343250</span><span style="color: #007700">, </span><span style="color: #FF8000">// Cantidad de bytes recibidos y procesados para este fichero<br>  </span><span style="color: #007700">),<br>  </span><span style="color: #FF8000">// Otro fichero, en curso de subida, en la misma petición<br>  </span><span style="color: #0000BB">1 </span><span style="color: #007700">=&gt; array(<br>   </span><span style="color: #DD0000">"field_name" </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">"file2"</span><span style="color: #007700">,<br>   </span><span style="color: #DD0000">"name" </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">"bar.avi"</span><span style="color: #007700">,<br>   </span><span style="color: #DD0000">"tmp_name" </span><span style="color: #007700">=&gt; </span><span style="color: #0000BB">NULL</span><span style="color: #007700">,<br>   </span><span style="color: #DD0000">"error" </span><span style="color: #007700">=&gt; </span><span style="color: #0000BB">0</span><span style="color: #007700">,<br>   </span><span style="color: #DD0000">"done" </span><span style="color: #007700">=&gt; </span><span style="color: #0000BB">false</span><span style="color: #007700">,<br>   </span><span style="color: #DD0000">"start_time" </span><span style="color: #007700">=&gt; </span><span style="color: #0000BB">1234567899</span><span style="color: #007700">,<br>   </span><span style="color: #DD0000">"bytes_processed" </span><span style="color: #007700">=&gt; </span><span style="color: #0000BB">54554</span><span style="color: #007700">,<br>  ),<br> )<br>);</span></span></code></div>
   </div>

  </div>
 
 <div class="warning"><strong class="warning">Advertencia</strong>
  <p class="para">
   El almacenamiento en búfer de la petición del servidor web debe estar desactivado
   para el buen funcionamiento de esta funcionalidad, de lo contrario PHP solo verá el fichero
   una vez que esté completamente subido. Los servidores como Nginx son conocidos por almacenar en búfer
   grandes peticiones.
  </p>
 </div>
 <div class="caution"><strong class="caution">Precaución</strong>
  <p class="para">
   Las informaciones de progresión de la subida son escritas en sesión antes
   de que un script sea ejecutado. Por consecuencia, cambiar el nombre de sesión mediante
   <span class="function"><a href="#function.ini-set" class="function">ini_set()</a></span> o <span class="function"><a href="#function.session-name" class="function">session_name()</a></span> dará una
   sesión sin las informaciones de progresión de la subida.
  </p>
 </div>

</div>

<hr>




 




<div id="session.security" class="chapter"><hr>
 <h1 class="title">Sesiones y Seguridad</h1>
<h2>Tabla de contenidos</h2><ul class="chunklist chunklist_chapter"><li><a href="#features.session.security.management">Gestión básica de sesiones</a></li><li><a href="#session.security.ini">Seguridad de las configuraciones INI de sesión</a></li></ul>

 <p class="para">
  Enlace externo: <a href="https://acrossecurity.com/papers/session_fixation.pdf" class="link external">» Fijación de sesión</a>
 </p>
 <p class="para">
  La gestión de las sesiones HTTP representa el núcleo de la seguridad en la web.
  Medidas de mitigación <em>deben</em> ser consideradas para asegurar
  la seguridad de las sesiones.
  Los desarrolladores deben activar/utilizar los parámetros de seguridad apropiados.
 </p>

 <div id="features.session.security.management" class="sect1"><hr>
  <h2 class="title">Gestión básica de sesiones</h2>

  <div class="sect2" id="features.session.security.management.basic">
   <h3 class="title">Seguridad de sesiones</h3>
   <p class="para">
    El módulo de sesión no puede garantizar que la información almacenada
    en una sesión sea vista únicamente por el usuario que
    ha creado la sesión. Medidas adicionales son necesarias para
    proteger la confidencialidad de la sesión, según el valor
    que se le asigne.
   </p>

   <p class="para">
    La importancia de los datos almacenados en una sesión debe ser evaluada
    y protecciones adicionales pueden ser desplegadas;
    esto tiene obligatoriamente un costo como ser menos práctico para
    el usuario. Por ejemplo, para proteger a los usuarios
    de una táctica simple, la directiva <a href="#ini.session.use-only-cookies" class="link">session.use_only_cookies</a>
    debe ser activada. En este caso, las cookies deben ser
    activadas obligatoriamente lado-cliente sino las sesiones no
    funcionarán.
   </p>

   <p class="para">
    Existen varias formas de divulgar identificadores de sesión a
    terceros. Por ejemplo, inyecciones Javascript, identificadores
    de sesión en las URLs, sniffing de paquetes, acceso físico
    al dispositivo, etc.
    Un identificador de sesión divulgado permite a un tercero acceder
    a todos los recursos asociados con dicho identificador. Primero,
    las URLs que contienen los identificadores de sesión. Si hay enlaces
    a sitios o recursos externos, la URL que incluye el identificador
    de sesión debe ser almacenada en los logs referrer del sitio externo.
    Si estos datos no están cifrados, los identificadores de sesión
    serán transmitidos en texto plano por la red. La solución aquí es
    implementar SSL/TLS en el servidor y hacerlo obligatorio para los
    usuarios. HSTS debe ser utilizado para mejorar también la
    seguridad.
   </p>

   <blockquote class="note"><p><strong class="note">Nota</strong>: 
    <span class="simpara">
     Incluso HTTPS no puede proteger la confidencialidad de los datos
     en todos los casos. Por ejemplo, las vulnerabilidades CRIME y BEAST
     permiten a un atacante leer los datos. Además, note
     que algunas redes utilizan proxys HTTPS MITM para
     auditorías. Los atacantes también pueden establecer este tipo de proxy.
    </span>
   </p></blockquote>

  </div>

  <div class="sect2" id="features.session.security.management.non-adaptive-session">
   <h3 class="title">Gestión de sesiones no adaptativas</h3>

   <p class="para">
    El gestor de sesiones de PHP es adaptativo, por defecto.
    Un gestor de sesiones adaptativo introduce
    riesgos adicionales.
   </p>

   <p class="para">
    Cuando <a href="#ini.session.use-strict-mode" class="link">session.use_strict_mode</a>
    está activado, y el gestor de guardado de sesiones lo soporta,
    un identificador de sesión no inicializado es rechazado, y uno nuevo es creado.
    Esto previene un ataque que fuerza a los usuarios a utilizar un
    identificador de sesión conocido.
    Un atacante puede pasar enlaces o enviar emails que contienen
    el identificador de sesión.
    Por ejemplo: <code class="literal">http://example.com/page.php?PHPSESSID=123456789</code> si
    <a href="#ini.session.use-trans-sid" class="link">session.use_trans_sid</a> está activado,
    la víctima iniciará una sesión utilizando el identificador de sesión
    proporcionado por el atacante.
    <a href="#ini.session.use-strict-mode" class="link">session.use_strict_mode</a>
    permite anular este tipo de riesgo.
   </p>

   <div class="warning"><strong class="warning">Advertencia</strong>
    <p class="simpara">
     Los gestores de guardado definidos por el usuario también pueden
     soportar el modo de sesión estricto implementando
     la validación de identificadores de sesión. Todos los gestores de
     guardado definidos por el usuario deben implementar la validación
     de identificadores de sesión.
    </p>
   </div>

   <p class="para">
    La cookie de identificador de sesión puede ser definida con los
    atributos domain, path, httponly, secure y, desde PHP 7.3, SameSite.
    Existe una prioridad definida por los navegadores.
    Utilizando las prioridades, un atacante puede definir el identificador de
    sesión que puede ser utilizado permanentemente. El uso de la
    directiva <a href="#ini.session.use-only-cookies" class="link">session.use_only_cookies</a>
    no permite resolver este problema.
    <a href="#ini.session.use-strict-mode" class="link">session.use_strict_mode</a>
    permite mitigar este riesgo. Con la directiva
    <a href="#ini.session.use-strict-mode" class="link">session.use_strict_mode</a>=On,
    el identificador de sesión no inicializado será rechazado.
   </p>

   <blockquote class="note"><p><strong class="note">Nota</strong>: 
    <span class="simpara">
     Aunque la directiva
     <a href="#ini.session.use-strict-mode" class="link">session.use_strict_mode</a>
     limita los riesgos concernientes al gestor adaptativo de sesión, un
     atacante puede forzar a los usuarios a utilizar un identificador de
     sesión no inicializado que ha sido creado por el atacante, por ejemplo, mediante inyecciones
     Javascript. Este tipo de ataque puede ser limitado utilizando las
     recomendaciones de este manual.
    </span>

    <span class="simpara">
     Siguiendo este manual, los desarrolladores deben activar la directiva
     <a href="#ini.session.use-strict-mode" class="link">session.use_strict_mode</a>,
     utilizar timestamps basados en el gestor de sesión,
     y regenerar los identificadores de sesión utilizando la función
     <span class="function"><a href="#function.session-regenerate-id" class="function">session_regenerate_id()</a></span> con los procedimientos
     recomendados. Si los desarrolladores siguen estas instrucciones, un identificador de sesión
     generado por un atacante será normalmente eliminado.
    </span>

    <span class="simpara">
     Cuando ocurre un acceso a una sesión obsoleta, los desarrolladores
     deben guardar todas las datos de la sesión activa del
     usuario; estas informaciones serán útiles para futuras
     investigaciones. El usuario debe ser forzado a desconectarse
     de todas las sesiones, por ejemplo, forzándolo a identificarse de
     nuevo. Esto permite contrarrestar ataques utilizando sesiones robadas.
    </span>
   </p></blockquote>

   <div class="warning"><strong class="warning">Advertencia</strong>
    <p class="simpara">
     El acceso a una sesión obsoleta no significa necesariamente que se trate de una
     ataque. Una red inestable y/o la eliminación inmediata de la sesión
     activa hará que usuarios legítimos utilicen sesiones obsoletas.
    </p>
   </div>

   <p class="para">
    Desde 7.1.0, la función <span class="function"><a href="#function.session-create-id" class="function">session_create_id()</a></span> ha sido
    añadida. Esta función permite acceder a todas las sesiones activas
    de un usuario prefijando los identificadores de sesión con el identificador
    del usuario. La activación de la directiva
    <a href="#ini.session.use-strict-mode" class="link">session.use_strict_mode</a>
    es vital en esta configuración. De lo contrario, los usuarios maliciosos
    pueden definir identificadores de sesiones para otros usuarios.
   </p>

   <blockquote class="note"><p><strong class="note">Nota</strong>: 
    <span class="simpara">
     Los usuarios de versiones anteriores a PHP 7.1.0 <em>deben</em>
     utilizar <abbr title="Cryptographically Secure PseudoRandom Number Generator">CSPRNG</abbr>, por ejemplo, <var class="filename">/dev/urandom</var>, o la función
     <span class="function"><a href="#function.random-bytes" class="function">random_bytes()</a></span> y las funciones de hash
     para generar un nuevo identificador de sesión. La función
     <span class="function"><a href="#function.session-create-id" class="function">session_create_id()</a></span> posee mecanismos de detección
     de colisiones, y genera un identificador de sesión siguiendo las
     configuraciones INI de las sesiones. El uso de la función
     <span class="function"><a href="#function.session-create-id" class="function">session_create_id()</a></span> es recomendado.
    </span>
   </p></blockquote>

  </div>

  <div class="sect2" id="features.session.security.management.session-id-regeneration">
   <h3 class="title">Regeneración de un identificador de sesión</h3>

   <p class="para">
    La directiva
    <a href="#ini.session.use-strict-mode" class="link">session.use_strict_mode</a>
    es un buen compromiso pero no es suficiente. Los desarrolladores deben
    también utilizar la función <span class="function"><a href="#function.session-regenerate-id" class="function">session_regenerate_id()</a></span>
    para la seguridad de las sesiones.
   </p>

   <p class="para">
    La regeneración de un identificador de sesión reduce el riesgo de robo de identificadores
    de sesión, por lo que la función <span class="function"><a href="#function.session-regenerate-id" class="function">session_regenerate_id()</a></span>
    debe ser utilizada periódicamente; por ejemplo, regenerar el identificador de sesión cada
    15 minutos para asegurar contenido sensible. Incluso en el caso de que
    un identificador de sesión sea robado, tanto el usuario legítimo
    como el atacante tendrán su sesión que expirará. En otras palabras, el acceso
    al contenido por el usuario o el atacante generará un error de acceso
    a una sesión obsoleta.
   </p>

   <p class="para">
    Los identificadores de sesión <em>deben</em> ser regenerados cuando
    los privilegios del usuario son elevados, como después de una autenticación.
    La función <span class="function"><a href="#function.session-regenerate-id" class="function">session_regenerate_id()</a></span> debe ser llamada
    antes de almacenar las informaciones de autenticación en <var class="varname"><a href="#reserved.variables.session" class="classname">$_SESSION</a></var>.
    (la función <span class="function"><a href="#function.session-regenerate-id" class="function">session_regenerate_id()</a></span>
    guarda los datos de sesión actuales automáticamente para
    guardar timestamps/etc... en la sesión actual.)
    Asegúrese de que la nueva sesión contenga la bandera de autenticación.
   </p>

   <p class="para">
    Los desarrolladores <em>no deben</em> basarse en
    la expiración del identificador de sesión definida por la directiva
    <a href="#ini.session.gc-maxlifetime" class="link">session.gc_maxlifetime</a>.
    Los atacantes pueden acceder al identificador de sesión de la víctima
    de forma periódica para evitar su expiración, y permitir su explotación
    incluyendo con sesiones autenticadas.
   </p>

   <p class="para">
    En su lugar, los desarrolladores deben implementar un timestamp
    basado en la gestión de datos de sesión.
   </p>

   <div class="warning"><strong class="warning">Advertencia</strong>
    <p class="simpara">
     Aunque el gestor de sesión puede manejar los timestamps de forma
     transparente, esta funcionalidad no está implementada. Los datos
     de las sesiones antiguas deben ser conservados hasta que el recuperador
     de memoria no haya pasado. Simultáneamente, los desarrolladores deben asegurarse
     ellos mismos de que los datos de sesión obsoleta sean efectivamente borrados.
     Sin embargo, los desarrolladores no deben borrar los datos
     de sesión activa demasiado rápido. Por ejemplo, <code class="code">session_regenerate_id(true);</code>
     y <span class="function"><a href="#function.session-destroy" class="function">session_destroy()</a></span> nunca deben ser llamados
     al mismo tiempo para una sesión activa. Esto puede parecer contradictorio,
     pero es un requisito del mandante.
    </p>
   </div>

   <p class="para">
    <span class="function"><a href="#function.session-regenerate-id" class="function">session_regenerate_id()</a></span> <em>no borrará</em>
    las sesiones antiguas por defecto. Las sesiones autenticadas obsoletas
    pueden estar presentes para ser utilizadas. Los desarrolladores deben asegurarse
    de que las sesiones antiguas no sean utilizadas por nadie.
    Deben prohibir el acceso a los datos de sesión obsoleta
    utilizando ellos mismos timestamps.
   </p>

   <div class="warning"><strong class="warning">Advertencia</strong>
    <p class="simpara">
     La eliminación repentina de una sesión activa produce efectos secundarios
     indeseables. Las sesiones pueden desaparecer cuando hay conexiones
     concurrentes en la aplicación web y/o cuando la red es inestable.
    </p>
    <p class="simpara">
     Los accesos potencialmente maliciosos son indetectables con la eliminación
     repentina de una sesión.
    </p>
    <p class="simpara">
     En lugar de eliminar las sesiones obsoletas inmediatamente, los desarrolladores
     deben definir un corto tiempo de expiración (timestamp) en
     <var class="varname"><a href="#reserved.variables.session" class="classname">$_SESSION</a></var>, y prohibir el acceso a los datos de sesión.
    </p>
    <p class="simpara">
     Los desarrolladores no deben prohibir el acceso a los datos de las
     sesiones antiguas inmediatamente después de la ejecución de la función
     <span class="function"><a href="#function.session-regenerate-id" class="function">session_regenerate_id()</a></span>. El acceso debe ser prohibido
     en una etapa posterior; por ejemplo, unos segundos después para redes
     estables, como una red cableada y unos minutos después para redes
     inestables como teléfonos móviles o redes Wi-Fi.
    </p>
    <p class="simpara">
     Si un usuario accede a una sesión obsoleta (sesión expirada), el acceso
     a esta sesión debe ser rechazado. También es recomendado borrar el
     estado de autenticación de todas las sesiones de usuario, ya que esto
     puede representar un eje de ataque.
    </p>
   </div>

   <p class="para">
    El uso de la directiva <a href="#ini.session.use-only-cookies" class="link">session.use_only_cookies</a> y de la función
    <span class="function"><a href="#function.session-regenerate-id" class="function">session_regenerate_id()</a></span> pueden causar un DoS personal
    con cookies no eliminadas definidas por los atacantes. En este caso,
    los desarrolladores pueden invitar a los usuarios a eliminar las cookies
    y advertirles que pueden encontrar un problema de seguridad.
    Los atacantes pueden definir cookies maliciosas mediante una aplicación
    web vulnerable, un plugin de navegador expuesto o viciado, un dispositivo
    físico comprometido, etc...
   </p>

   <div class="warning"><strong class="warning">Advertencia</strong>
    <p class="simpara">
     No se confunda sobre el riesgo DoS. <a href="#ini.session.use-strict-mode" class="link">session.use_strict_mode</a>=On
     es obligatorio para la seguridad de los identificadores de sesión !
     Todos los sitios son animados a activar la directiva
     <a href="#ini.session.use-strict-mode" class="link">session.use_strict_mode</a>.
    </p>
    <p class="simpara">
     DoS solo puede ocurrir cuando la cuenta sufre un ataque. Una inyección
     Javascript en una aplicación representa la mayoría de los ejes de ataque.
    </p>
   </div>

  </div>

  <div class="sect2" id="features.session.security.management.session-data-deletion">
   <h3 class="title">Eliminación de datos de sesión</h3>

   <p class="para">
    Los datos de sesiones obsoletas deben ser inaccesibles
    y deben ser eliminados. El módulo actual de sesión
    no soporta este aspecto.
   </p>

   <p class="para">
    Los datos de sesiones obsoletas deben ser eliminados tan pronto
    como sea posible. Sin embargo, las sesiones activas no deben ser
    eliminadas instantáneamente. Para satisfacer estas recomendaciones, los desarrolladores
    mismos deben implementar un gestor de datos de sesión basado en
    timestamp.
   </p>

   <p class="para">
    Defina y gestione la expiración del timestamp en la variable
    global $_SESSION. Prohíba el acceso a los datos de sesiones
    caducadas. Cuando se detecte un acceso a datos de sesión obsoleta,
    debe eliminarse todo el estado autenticado de las sesiones
    de usuario y forzar a los usuarios a autenticarse de nuevo.
    El acceso a datos de sesiones obsoletas puede representar un ataque.
    Para lograr esto, los desarrolladores deben seguir todas las sesiones
    activas de todos los usuarios.
   </p>

   <blockquote class="note"><p><strong class="note">Nota</strong>: 
    <span class="simpara">
     El acceso a una sesión obsoleta también puede ocurrir debido a una red inestable
     y/o un acceso concurrente a un sitio web, por ejemplo, el servidor intenta definir un
     nuevo identificador de sesión mediante una cookie, pero el paquete Set-Cookie nunca
     llegó al cliente debido a una pérdida de conexión. Una conexión puede
     crear un nuevo identificador de sesión mediante la función <span class="function"><a href="#function.session-regenerate-id" class="function">session_regenerate_id()</a></span>,
     pero otra conexión concurrente puede no haber recibido
     aún el identificador de sesión. Sin embargo, los desarrolladores deben prohibir el acceso
     a una sesión obsoleta en un momento más lejano. Por ejemplo, la gestión de sesiones
     basada en timestamp es obligatoria.
    </span>
   </p></blockquote>

   <p class="para">
    En resumen, los datos de sesiones no deben ser destruidos con la función
    <span class="function"><a href="#function.session-regenerate-id" class="function">session_regenerate_id()</a></span>, ni con la función <span class="function"><a href="#function.session-destroy" class="function">session_destroy()</a></span>,
    pero los timestamps deben ser utilizados para controlar el acceso a los datos de
    sesión. Deje que la función <span class="function"><a href="#function.session-gc" class="function">session_gc()</a></span> elimine los datos obsoletos
    desde el almacenamiento de datos de sesiones.
   </p>

  </div>

  <div class="sect2" id="features.session.security.management.session-locking">
   <h3 class="title">Sesión y Bloqueo</h3>

   <p class="para">
    Los datos de sesión están bloqueados por defecto para evitar los
    accesos concurrentes. El bloqueo es obligatorio para mantener una
    consistencia de los datos de sesión a través de las peticiones.
   </p>

   <p class="para">
    Sin embargo, el bloqueo de sesión puede ser utilizado por los atacantes
    para realizar ataques DoS. Para minimizar el riesgo de un ataque DoS
    por bloqueo de sesión, debe minimizarse el uso de bloqueos.
    Utilice datos en modo solo lectura cuando los datos de sesión
    no necesiten ser actualizados. Utilice la opción 'read_and_close'
    con la función <span class="function"><a href="#function.session-start" class="function">session_start()</a></span>.
    <code class="code">session_start(['read_and_close'=&gt;1]);</code> cerrará
    la sesión tan pronto como sea posible después de actualizar la variable
    global $_SESSION utilizando la función <span class="function"><a href="#function.session-commit" class="function">session_commit()</a></span>.
   </p>

   <p class="para">
    El módulo de sesión actual <em>no detecta</em>
    todas las modificaciones de la variable $_SESSION cuando
    la sesión está inactiva. Es responsabilidad del desarrollador
    no modificar la variable $_SESSION cuando la sesión está inactiva.
   </p>

  </div>

  <div class="sect2" id="features.session.security.management.active-sessions">
   <h3 class="title">Sesiones activas</h3>

   <p class="para">
    Los desarrolladores deben mantener un registro de todas las sesiones
    activas de cada usuario, y notificarles el número de sesiones
    activas, desde qué dirección IP, desde cuándo, etc.
    PHP no mantiene registros de estas informaciones. Los desarrolladores
    están supuestos a hacerlo ellos mismos.
   </p>

   <p class="para">
    Existen diferentes formas de hacerlo. Una implementación posible
    es definir una base de datos que mantenga un registro de los datos
    necesarios, y almacenar todas las informaciones pertinentes.
    Dado que los datos de sesión son GCed, los desarrolladores deben
    tener cuidado con los datos GCed para mantener la base de datos
    de sesiones activas consistente.
   </p>

   <p class="para">
    Una de las implementaciones simples es "el identificador de usuario prefijando
    el identificador de sesión" y almacenar las informaciones necesarias en
    la variable $_SESSION. La mayoría de las bases de datos son relativamente
    eficientes para seleccionar un prefijo en forma de <span class="type"><a href="#language.types.string" class="type string">string</a></span>.
    Los desarrolladores DEBEN utilizar la función <span class="function"><a href="#function.session-regenerate-id" class="function">session_regenerate_id()</a></span>
    así como la función <span class="function"><a href="#function.session-create-id" class="function">session_create_id()</a></span> para esto.
   </p>

   <div class="warning"><strong class="warning">Advertencia</strong>
    <p class="simpara">
     Nunca utilice datos confidenciales como prefijo.
     Si el identificador de usuario es confidencial, debería utilizar
     la función <span class="function"><a href="#function.hash-hmac" class="function">hash_hmac()</a></span>.
    </p>
   </div>

   <div class="warning"><strong class="warning">Advertencia</strong>
    <p class="simpara">
     La activación de la directiva
     <a href="#ini.session.use-strict-mode" class="link">session.use_strict_mode</a>
     es obligatoria para este tipo de configuración. Asegúrese de que
     esté activada. De lo contrario, la base de datos de sesiones activas
     puede ser comprometida.
    </p>
   </div>

   <p class="para">
    El gestor de sesión basado en timestamp es obligatorio
    para detectar el acceso a sesiones obsoletas. Cuando se detecte el acceso a una
    sesión obsoleta, la bandera de autenticación debe ser eliminada de todas las sesiones activas del usuario.
    Esto permite evitar que los atacantes continúen explotando las sesiones
    robadas.
   </p>

  </div>

  <div class="sect2" id="features.session.security.management.session-and-autologin">
   <h3 class="title">Sesión y auto-identificación</h3>

   <p class="para">
    Los desarrolladores no deben utilizar identificadores de sesión con una
    larga duración para la auto-identificación, ya que esto aumenta el riesgo
    de utilizar sesiones robadas. Una funcionalidad de auto-identificación
    debe ser implementada por el desarrollador.
   </p>

   <p class="para">
    Utilice una clave de hash segura de un solo uso como clave
    de auto-identificación utilizando la función
    <span class="function"><a href="#function.setcookie" class="function">setcookie()</a></span>. Utilice un hash seguro
    más fuerte que SHA-2. Por ejemplo, SHA-256 o superior con datos
    aleatorios desde la función <span class="function"><a href="#function.random-bytes" class="function">random_bytes()</a></span>
    o mediante <var class="filename">/dev/urandom</var>.
   </p>

   <p class="para">
    Si el usuario no está autenticado, verifique si la clave de auto-identificación
    de un solo uso es válida o no. En el caso de que sea válida, autentifique
    al usuario y defina una nueva clave de hash segura de un solo uso.
    Una clave de auto-identificación solo debe ser utilizada una vez, por ejemplo, nunca utilice
    una clave de auto-identificación, y siempre regénela.
   </p>

   <p class="para">
    Una clave de auto-identificación es una clave de autenticación con una
    larga duración, debe ser protegida tanto como sea posible.
    Utilice los atributos de cookie path/httponly/secure/SameSite para protegerla.
    Por ejemplo, nunca transmita la clave de auto-identificación a menos que sea necesario.
   </p>

   <p class="para">
    Los desarrolladores deben implementar las funcionalidades que
    desactivan la auto-identificación, y eliminan las cookies
    que contienen las claves de auto-identificación no necesarias.
   </p>

  </div>

  <div class="sect2" id="features.session.security.management.csrf">
   <h3 class="title">Attaques CSRF (Cross-Site Request Forgeries)</h3>

   <p class="para">
    Las sesiones y las autenticaciones no protegen contra los
    ataques CSRF. Los desarrolladores deben implementar protecciones
    CSRF ellos mismos.
   </p>

   <p class="para">
    La función <span class="function"><a href="#function.output-add-rewrite-var" class="function">output_add_rewrite_var()</a></span> puede ser utilizada para
    la protección CSRF. Consulte las páginas del manual para más detalles.
   </p>

   <blockquote class="note"><p><strong class="note">Nota</strong>: 
    <span class="simpara">
     PHP, antes de su versión 7.2.0, utiliza el mismo buffer de salida y las
     mismas configuraciones INI que la configuración trans-sid. Sin embargo, el uso
     de la función <span class="function"><a href="#function.output-add-rewrite-var" class="function">output_add_rewrite_var()</a></span> con versiones
     de PHP anteriores a 7.2.0 no es recomendado.
    </span>
   </p></blockquote>

   <p class="para">
    La mayoría de los frameworks de aplicaciones web soportan
    la protección CSRF. Consulte el manual de su
    framework de aplicación web para más detalles.
   </p>

   <p class="para">
    Desde PHP 7.3, el atributo SameSite de la cookie de sesión puede ser definido.
    Esto es una medida adicional que puede minimizar
    las vulnerabilidades CSRF.
   </p>

  </div>

 </div>
<hr>


 <div id="session.security.ini" class="sect1"><hr>
  <h2 class="title">Seguridad de las configuraciones INI de sesión</h2>

  <p class="para">
   Al asegurar las configuraciones INI de sesiones, los desarrolladores
   pueden experimentar la seguridad de las sesiones. Muchas configuraciones
   INI no tienen una configuración recomendada. Los desarrolladores son
   responsables de la correcta configuración de las sesiones.
  </p>

  <ul class="itemizedlist">
   <li class="listitem">
    <p class="para">
     <a href="#ini.session.cookie-lifetime" class="link">session.cookie_lifetime</a>=0
    </p>
    <p class="para">
     El valor <code class="literal">0</code> tiene un significado importante.
     Informa a los navegadores de no almacenar la cookie en un
     espacio de almacenamiento permanente. También, cuando el navegador se cierra,
     la cookie de identificación de sesión es eliminada inmediatamente.
     Si los desarrolladores definen un valor diferente de 0, permite
     a otros usuarios utilizar el identificador de sesión. La
     mayoría de las aplicaciones deben utilizar "<code class="literal">0</code>" como
     valor.
    </p>
    <p class="para">
     Si se desea una funcionalidad de auto-identificación, los desarrolladores
     deben implementar su propio sistema de auto-identificación seguro.
     No utilice identificadores de sesión de larga duración para esto.
     Para más información, consulte la sección adecuada de esta documentación.
    </p>
   </li>

   <li class="listitem">
    <p class="para">
     <a href="#ini.session.use-cookies" class="link">session.use_cookies</a>=On
    </p>
    <p class="para">
     <a href="#ini.session.use-only-cookies" class="link">session.use_only_cookies</a>=On
    </p>
    <p class="para">
     Aunque las cookies HTTP sufren de problemas técnicos, siguen siendo
     la forma preferida de gestionar los identificadores de sesiones.
     Utilice solo cookies para la gestión de identificadores de sesiones
     cuando sea posible. La mayoría de las aplicaciones deben utilizar
     una cookie para el identificador de sesión.
    </p>
    <p class="para">
     Si <a href="#ini.session.use-only-cookies" class="link">session.use_only_cookies</a>=Off,
     el módulo de sesión utilizará los valores del identificador
     de sesión definidos por las variables GET o POST proporcionadas,
     y la cookie del identificador de sesión no será inicializada.
    </p>
   </li>

   <li class="listitem">
    <p class="para">
     <a href="#ini.session.use-strict-mode" class="link">session.use_strict_mode</a>=On
    </p>
    <p class="para">
     Aunque la activación de <a href="#ini.session.use-strict-mode" class="link">session.use_strict_mode</a>
     es obligatoria para la seguridad de las sesiones, esta directiva está
     desactivada por defecto.
    </p>
    <p class="para">
     Este modo evita que el módulo de sesión utilice un identificador de sesión
     no inicializado. Dicho de otra forma, el módulo de sesión solo va a aceptar
     identificadores de sesiones válidos generados por el módulo de sesión.
     Rechazará todos los identificadores de sesión proporcionados por los usuarios.
    </p>
    <p class="para">
     Debido a la especificación de cookies, los atacantes son capaces
     de colocar cookies que contienen identificadores de sesiones configurando
     localmente una base de datos de cookies o mediante inyecciones Javascript.
     <a href="#ini.session.use-strict-mode" class="link">session.use_strict_mode</a> puede evitar que un atacante
     inicialice un identificador de sesión.
    </p>
    <blockquote class="note"><p><strong class="note">Nota</strong>: 
     </p><p class="para">
      Los atacantes pueden inicializar un identificador de sesión con su
      propio dispositivo, y pueden definir el identificador de sesión
      de su víctima. Deben entonces mantener el identificador de sesión
      activo para poder abusar de él.
      Los atacantes deben pasar por muchos otros pasos para tener éxito en su ataque
      en este escenario. También, el uso de la directiva
      <a href="#ini.session.use-strict-mode" class="link">session.use_strict_mode</a> permite limitar los riesgos.
     </p>
    </blockquote>
   </li>

   <li class="listitem">
    <p class="para">
     <a href="#ini.session.cookie-httponly" class="link">session.cookie_httponly</a>=On
    </p>
    <p class="para">
     Permite rechazar el acceso a una cookie de sesión desde javascript.
     Esta configuración evita que una cookie sea corrompida por una
     inyección Javascript.
    </p>
    <p class="para">
     Es posible utilizar un identificador de sesión como token CSRF, pero
     no es recomendado. Por ejemplo, fuentes HTML pueden ser
     guardadas y enviadas a otros usuarios.
     Los desarrolladores no deben escribir los identificadores de sesión en las
     páginas web por razones de seguridad. Todas las aplicaciones web deben
     utilizar el atributo httponly para la cookie que contiene el identificador de sesión.
    </p>
    <blockquote class="note"><p><strong class="note">Nota</strong>: 
     </p><p class="para">
      El token CSRF debe ser renovado periódicamente, al igual que el identificador
      de sesión.
     </p>
    </blockquote>
   </li>

   <li class="listitem">
    <p class="para">
     <a href="#ini.session.cookie-secure" class="link">session.cookie_secure</a>=On
    </p>
    <p class="para">
     Permite acceder a la cookie de identificador de sesión únicamente cuando
     el protocolo es HTTPS. Si un sitio web solo es accesible por HTTPS,
     esta directiva debe ser activada.
    </p>
    <p class="para">
     HSTS debe ser utilizado para los sitios web accesibles solo por HTTPS.
    </p>
   </li>

   <li class="listitem">
    <p class="para">
     <a href="#ini.session.cookie-samesite" class="link">session.cookie_samesite</a>="Lax" o
     <a href="#ini.session.cookie-samesite" class="link">session.cookie_samesite</a>="Strict"
    </p>
    <p class="para">
     Desde PHP 7.3, el atributo <code class="literal">"SameSite"</code> puede ser definido
     para la cookie de identificador de sesión. Este atributo es una forma de
     mitigar los ataques CSRF (Cross Site Request Forgery).
    </p>
    <p class="para">
     La diferencia entre Lax y Strict es la accesibilidad de la cookie en las peticiones
     originadas de otros dominios empleando el método HTTP GET.
     Las cookies utilizando Lax serán accesibles mediante una petición GET originada
     de otro dominio, mientras que las cookies utilizando Strict no lo serán.
    </p>
   </li>

   <li class="listitem">
    <p class="para">
     <a href="#ini.session.gc-maxlifetime" class="link">session.gc_maxlifetime</a>=[elija el más pequeño posible]
    </p>
    <p class="para">
     <a href="#ini.session.gc-maxlifetime" class="link">session.gc_maxlifetime</a> es una configuración para eliminar
     el identificador de sesión obsoleto. Confiar
     completamente en esta configuración <em>no es</em> recomendado.
     Los desarrolladores deben gestionar la duración de las sesiones con un timestamp
     por ellos mismos.
    </p>
    <p class="para">
     La GC de sesiones (recolección de basura) es mejor realizada utilizando
     la función <span class="function"><a href="#function.session-gc" class="function">session_gc()</a></span>.
     La función <span class="function"><a href="#function.session-gc" class="function">session_gc()</a></span> debe ser ejecutada por un gestor
     de tareas; por ejemplo, un cron en los sistemas Unix.
    </p>
    <p class="para">
     GC es ejecutado por probabilidad, por defecto. Esta configuración
     <em>no garantiza</em> que las sesiones antiguas sean
     eliminadas. Aunque los desarrolladores no deben basarse en este parámetro,
     se recomienda definirlo con el valor más pequeño posible.
     Debe ajustarse las directivas <a href="#ini.session.gc-probability" class="link">session.gc_probability</a>
     y <a href="#ini.session.gc-divisor" class="link">session.gc_divisor</a> de modo que
     las sesiones obsoletas sean eliminadas con la frecuencia apropiada.
     Si la funcionalidad de auto-identificación es necesaria, los desarrolladores
     deben implementar su propia funcionalidad de auto-identificación segura;
     consulte a continuación para más información. Nunca utilice el identificador
     de sesión de larga duración para realizar este tipo de funcionalidad.
    </p>
    <blockquote class="note"><p><strong class="note">Nota</strong>: 
     </p><p class="para">
      Algunos módulos de gestión de guardado de sesiones no utilizan esta
      funcionalidad basada en expiración y probabilidad; por ejemplo,
      memcached, memcache. Consulte la documentación de estos gestores
      de guardado de sesiones para más detalles.
     </p>
    </blockquote>
   </li>

   <li class="listitem">
    <p class="para">
     <a href="#ini.session.use-trans-sid" class="link">session.use_trans_sid</a>=Off
    </p>
    <p class="para">
     El uso de un gestor de identificadores de sesiones transparente
     no está prohibido. Los desarrolladores deben emplearlo cuando sea necesario.
     Sin embargo, la desactivación de la gestión de identificadores de sesión de
     forma transparente permite asegurar un poco más los identificadores de sesión
     eliminando la posibilidad de una inyección de identificador de sesión o
     fuga de este identificador.
    </p>
    <blockquote class="note"><p><strong class="note">Nota</strong>: 
     </p><p class="para">
      El identificador de sesión puede filtrarse desde URLs guardadas,
      URLs en emails, una fuente HTML guardada, etc...
     </p>
    </blockquote>
   </li>

   <li class="listitem">
    <p class="para">
     <a href="#ini.session.trans-sid-tags" class="link">session.trans_sid_tags</a>=[banderas limitadas]
    </p>
    <p class="para">
     (PHP 7.1.0 &gt;=) Los desarrolladores no deben reescribir banderas HTML
     innecesarias. El valor por defecto debe ser suficiente para
     la mayoría de los usos. Para versiones de PHP más antiguas,
     utilice en su lugar
     <a href="#ini.url-rewriter.tags" class="link">url_rewriter.tags</a>.
    </p>
   </li>

   <li class="listitem">
    <p class="para">
     <a href="#ini.session.trans-sid-hosts" class="link">session.trans_sid_hosts</a>=[hosts limitados]
    </p>
    <p class="para">
     (PHP 7.1.0 &gt;=) Este parámetro define una lista blanca de hosts que están
     autorizados a reescribir los identificadores de sesión transparentes. ¡Nunca
     añada hosts que no sean de confianza!
     El módulo de sesión solo autoriza <code class="literal">$_SERVER['HTTP_HOST']</code>
     cuando este parámetro está vacío.
    </p>
   </li>

   <li class="listitem">
    <p class="para">
     <a href="#ini.session.referer-check" class="link">session.referer_check</a>=[URL de origen]
    </p>
    <p class="para">
     Cuando el parámetro <a href="#ini.session.use-trans-sid" class="link">session.use_trans_sid</a>
     está activo.
     Este parámetro reduce los riesgos de inyección de identificador de sesión.
     Si un sitio web es <code class="literal">http://example.com/</code>,
     defina como valor para este parámetro <code class="literal">http://example.com/</code>.
     Tenga en cuenta que los navegadores HTTPS no envían el encabezado referrer.
     Los navegadores pueden no enviar el encabezado referrer debido
     a su propia configuración. Por lo tanto, este parámetro no puede ser
     considerado como una medida fiable de seguridad.
     A pesar de todo, su uso es recomendado.
    </p>
   </li>

   <li class="listitem">
    <p class="para">
     <a href="#ini.session.cache-limiter" class="link">session.cache_limiter</a>=nocache
    </p>
    <p class="para">
     Asegura que el contenido HTTP no sea almacenado en caché para las sesiones
     autenticadas. Permite el almacenamiento en caché solo para los contenidos
     que no son privados. De lo contrario, el contenido será expuesto.
     El valor <code class="literal">"private"</code> debe ser empleado si el contenido HTTP no incluye
     datos sensibles desde un punto de vista de seguridad. Tenga en cuenta que <code class="literal">"private"</code>
     puede transmitir datos privados almacenados en caché para los clientes
     compartidos. <code class="literal">"public"</code> solo debe ser utilizado cuando el contenido HTML
     no contiene ningún dato privado.
    </p>
   </li>

   <li class="listitem">
    <p class="para">
     <a href="#ini.session.hash-function" class="link">session.hash_function</a>="sha256"
    </p>
    <p class="para">
     (PHP 7.1.0 &lt;) Una función de hash fuerte generará un identificador
     de sesión fuerte. Aunque una colisión de hash es poco probable con algoritmos
     de hash MD5, los desarrolladores deben utilizar SHA-2 o un
     algoritmo de hash más fuerte como sha384 y sha512.
     Los desarrolladores deben asegurarse de una longitud suficiente de
     la <a href="#ini.session.entropy-length" class="link">entropía</a> para la
     función de hash utilizada.
    </p>
   </li>

   <li class="listitem">
    <p class="para">
     <a href="#ini.session.save-path" class="link">session.save_path</a>=[directorio no legible por todos]
    </p>
    <p class="para">
     Si este parámetro está definido a un directorio accesible en lectura por todos,
     como <var class="filename">/tmp</var> (por defecto), otros usuarios del servidor
     serán capaces de recuperar las sesiones listando los archivos presentes
     en este directorio.
    </p>
   </li>

  </ul>
 </div>
<hr>


</div>

<hr>




 




<div id="ref.session" class="reference"><hr>
 <h1 class="title">Funciones de sesión</h1>

 



<div id="function.session-abort" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">session_abort</h1>
  <p class="verinfo">(PHP 5 &gt;= 5.6.0, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">session_abort</span> — <span class="dc-title">Interrumpe los cambios en el array de sesión y finaliza la sesión</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-function.session-abort-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>session_abort</strong></span>(): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>

  <p class="para rdfs-comment">
   <span class="function"><strong>session_abort()</strong></span> finaliza la sesión sin guardar los
   datos. Los valores originales de la sesión se conservan.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.session-abort-parameters">
  <h3 class="title">Parámetros</h3>
  <p class="para">Esta función no contiene ningún parámetro.</p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.session-abort-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Esta función retorna <strong><code><a href="#constant.true">true</a></code></strong> en caso de éxito o <strong><code><a href="#constant.false">false</a></code></strong> si ocurre un error.
  </p>
 </div>


 <div class="refsect1 changelog" id="refsect1-function.session-abort-changelog">
  <h3 class="title">Historial de cambios</h3>
  <table class="doctable informaltable">
   
    <thead>
     <tr>
      <th>Versión</th>
      <th>Descripción</th>
     </tr>

    </thead>

    <tbody class="tbody">
     <tr>
      <td>7.2.0</td>
      <td>
       El tipo de retorno de esta función es ahora <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span>.
       Anteriormente, era <a href="#language.types.declarations.void" class="link">void</a>.
      </td>
     </tr>

    </tbody>
   
  </table>

 </div>


 <div class="refsect1 seealso" id="refsect1-function.session-abort-seealso">
  <h3 class="title">Ver también</h3>
  <p class="para">
   </p><ul class="simplelist">
    <li><var class="varname"><a href="#reserved.variables.session" class="classname">$_SESSION</a></var></li>
    <li>
     La directiva de configuración
     <a href="#ini.session.auto-start" class="link">session.auto_start</a>
    </li>
    <li><span class="function"><a href="#function.session-start" class="function" rel="rdfs-seeAlso">session_start()</a> - Inicia una nueva sesión o reanuda una sesión existente</span></li>
    <li><span class="function"><a href="#function.session-reset" class="function" rel="rdfs-seeAlso">session_reset()</a> - Restablece el array de sesión con los valores originales</span></li>
    <li><span class="function"><a href="#function.session-commit" class="function" rel="rdfs-seeAlso">session_commit()</a> - Alias de session_write_close</span></li>
   </ul>
  
 </div>


</div>
<hr>








<div id="function.session-cache-expire" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">session_cache_expire</h1>
  <p class="verinfo">(PHP 4 &gt;= 4.2.0, PHP 5, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">session_cache_expire</span> — <span class="dc-title">Obtiene y/o define el tiempo de expiración de la caché</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-function.session-cache-expire-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>session_cache_expire</strong></span>(<span class="methodparam"><span class="type"><span class="type"><a href="#language.types.null" class="type null">?</a></span><span class="type"><a href="#language.types.integer" class="type int">int</a></span></span> <code class="parameter">$value</code><span class="initializer"> = <strong><code><a href="#constant.null">null</a></code></strong></span></span>): <span class="type"><span class="type"><a href="#language.types.integer" class="type int">int</a></span>|<span class="type"><a href="#language.types.singleton" class="type false">false</a></span></span></div>

  <p class="para rdfs-comment">
   <span class="function"><strong>session_cache_expire()</strong></span> devuelve la configuración actual de
   <code class="literal">session.cache_expire</code>.
  </p>
  <p class="para">
   El tiempo de expiración de la caché se reestablece a su valor por omisión de
   180, almacenado en <a href="#ini.session.cache-expire" class="link">session.cache_limiter</a>,
   al inicio de la petición. Por lo tanto, debe llamarse
   <span class="function"><strong>session_cache_expire()</strong></span> en cada petición (y antes
   de que <span class="function"><a href="#function.session-start" class="function">session_start()</a></span> sea llamada).
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.session-cache-expire-parameters">
  <h3 class="title">Parámetros</h3>
  <p class="para">
   </p><dl>
    
     <dt><code class="parameter">value</code></dt>
     <dd>
      <p class="para">
       Si <code class="parameter">value</code> es proporcionado y no <strong><code><a href="#constant.null">null</a></code></strong>, la
       configuración actual de cache expire será reemplazada por
       <code class="parameter">value</code>.
      </p>
      <p class="para">
       </p><blockquote class="note"><p><strong class="note">Nota</strong>: 
        <span class="simpara">
         La directiva <code class="parameter">value</code> solo tiene efecto si
         <strong class="option unknown">session.cache_limiter</strong> tiene un valor
         <em>diferente</em> de <code class="literal">nocache</code>.
        </span>
       </p></blockquote>
      
     </dd>
    
   </dl>
  
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.session-cache-expire-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Devuelve la configuración actual de <code class="literal">session.cache_expire</code>.
   El valor devuelto debe leerse en minutos, y por omisión, es 180.
   En caso de fallo al modificar el valor, <strong><code><a href="#constant.false">false</a></code></strong> es devuelto.
  </p>
 </div>


 <div class="refsect1 changelog" id="refsect1-function.session-cache-expire-changelog">
  <h3 class="title">Historial de cambios</h3>
  <table class="doctable informaltable">
   
    <thead>
     <tr>
      <th>Versión</th>
      <th>Descripción</th>
     </tr>

    </thead>

    <tbody class="tbody">
     <tr>
      <td>8.0.0</td>
      <td>
       <code class="parameter">value</code> ahora es nullable.
      </td>
     </tr>

    </tbody>
   
  </table>

 </div>


 <div class="refsect1 examples" id="refsect1-function.session-cache-expire-examples">
  <h3 class="title">Ejemplos</h3>
  <p class="para">
   </p><div class="example" id="example-5012">
    <p><strong>Ejemplo #1 Ejemplo con <span class="function"><strong>session_cache_expire()</strong></span></strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br><br></span><span style="color: #FF8000">/* Configura el limitador de caché a 'private' */<br><br></span><span style="color: #0000BB">session_cache_limiter</span><span style="color: #007700">(</span><span style="color: #DD0000">'private'</span><span style="color: #007700">);<br></span><span style="color: #0000BB">$cache_limiter </span><span style="color: #007700">= </span><span style="color: #0000BB">session_cache_limiter</span><span style="color: #007700">();<br><br></span><span style="color: #FF8000">/* Configura el tiempo de expiración a 30 minutos */<br></span><span style="color: #0000BB">session_cache_expire</span><span style="color: #007700">(</span><span style="color: #0000BB">30</span><span style="color: #007700">);<br></span><span style="color: #0000BB">$cache_expire </span><span style="color: #007700">= </span><span style="color: #0000BB">session_cache_expire</span><span style="color: #007700">();<br><br></span><span style="color: #FF8000">/* Inicia la sesión */<br><br></span><span style="color: #0000BB">session_start</span><span style="color: #007700">();<br><br>echo </span><span style="color: #DD0000">"El limitador de caché ahora está fijado a </span><span style="color: #0000BB">$cache_limiter</span><span style="color: #DD0000">&lt;br /&gt;"</span><span style="color: #007700">;<br>echo </span><span style="color: #DD0000">"La sesión en caché expirará después de </span><span style="color: #0000BB">$cache_expire</span><span style="color: #DD0000"> minutos"</span><span style="color: #007700">;<br></span><span style="color: #0000BB">?&gt;</span></span></code></div>
    </div>

   </div>
  
 </div>


 <div class="refsect1 seealso" id="refsect1-function.session-cache-expire-seealso">
  <h3 class="title">Ver también</h3>
  <p class="para">
   </p><ul class="simplelist">
    <li><a href="#ini.session.cache-expire" class="link">session.cache_expire</a></li>
    <li><a href="#ini.session.cache-limiter" class="link">session.cache_limiter</a></li>
    <li><span class="function"><a href="#function.session-cache-limiter" class="function" rel="rdfs-seeAlso">session_cache_limiter()</a> - Lee y/o modifica el limitador de caché de sesión</span></li>
   </ul>
  
 </div>


</div>
<hr>







<div id="function.session-cache-limiter" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">session_cache_limiter</h1>
  <p class="verinfo">(PHP 4 &gt;= 4.0.3, PHP 5, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">session_cache_limiter</span> — <span class="dc-title">Lee y/o modifica el limitador de caché de sesión</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-function.session-cache-limiter-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>session_cache_limiter</strong></span>(<span class="methodparam"><span class="type"><span class="type"><a href="#language.types.null" class="type null">?</a></span><span class="type"><a href="#language.types.string" class="type string">string</a></span></span> <code class="parameter">$value</code><span class="initializer"> = <strong><code><a href="#constant.null">null</a></code></strong></span></span>): <span class="type"><span class="type"><a href="#language.types.string" class="type string">string</a></span>|<span class="type"><a href="#language.types.singleton" class="type false">false</a></span></span></div>

  <p class="para rdfs-comment">
   <span class="function"><strong>session_cache_limiter()</strong></span> devuelve la configuración
   actual del limitador de caché.
  </p>
  <p class="para">
   El limitador de caché controla los encabezados HTTP enviados al cliente.
   Algunos encabezados determinan las reglas de almacenamiento en caché de la página
   en el navegador. Al configurar este limitador a <code class="literal">nocache</code>,
   por ejemplo, el navegador no almacenará la página en su caché. El valor
   <code class="literal">public</code>, en cambio, permitirá el almacenamiento en caché. El valor
   <code class="literal">private</code> desactiva la caché para el proxy y autoriza al
   cliente a almacenar en caché el contenido.
  </p>
  <p class="para">
   En modo <code class="literal">private</code>, el encabezado Expire enviado al cliente
   puede causar problemas en algunos navegadores, como, por ejemplo,
   <span class="productname">Mozilla</span>. Este problema puede evitarse con el modo
   <code class="literal">private_no_expire</code>. El encabezado <code class="literal">Expire</code>
   nunca se envía al navegador para este modo.
  </p>
  <p class="para">
   El hecho de definir el limitador de caché a
   la valor <code class="literal">''</code> desactivará
   automáticamente y por completo el envío de los encabezados de caché.
  </p>
  <p class="para">
   El limitador de caché se restablece al valor por defecto de
   <a href="#ini.session.cache-limiter" class="link"><strong class="option unknown">session.cache_limiter</strong></a> en cada
   inicio de script PHP. Por lo tanto, deberá llamarse a <span class="function"><strong>session_cache_limiter()</strong></span> en
   cada página, y antes de <span class="function"><a href="#function.session-start" class="function">session_start()</a></span>.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.session-cache-limiter-parameters">
  <h3 class="title">Parámetros</h3>
  <p class="para">
   </p><dl>
    
     <dt><code class="parameter">value</code></dt>
     <dd>
      <p class="para">
       Si <code class="parameter">value</code> se proporciona y no es <strong><code><a href="#constant.null">null</a></code></strong>,
       el limitador de caché se reconfigura con este valor.
      </p>
      <table class="doctable table">
       <caption><strong>Valores posibles</strong></caption>
       
        <thead>
         <tr>
          <th>Valores</th>
          <th>Encabezados enviados</th>
         </tr>

        </thead>

        <tbody class="tbody">
         <tr>
          <td><code class="literal">public</code></td>
          <td>
           <div class="example-contents">
<div class="headercode"><pre class="headercode">Expires: (Algo en el futuro, según session.cache_expire)
Cache-Control: public, max-age=(Algo en el futuro, según session.cache_expire)
Last-Modified: (el timestamp correspondiente al último guardado de la sesión)</pre>
</div>
           </div>

          </td>
         </tr>

         <tr>
          <td><code class="literal">private_no_expire</code></td>
          <td>
           <div class="example-contents">
<div class="headercode"><pre class="headercode">Cache-Control: private, max-age=(session.cache_expire en el futuro)
Last-Modified: (el timestamp correspondiente al último guardado de la sesión)</pre>
</div>
           </div>

          </td>
         </tr>

         <tr>
          <td><code class="literal">private</code></td>
          <td>
           <div class="example-contents">
<div class="headercode"><pre class="headercode">Expires: Thu, 19 Nov 1981 08:52:00 GMT
Cache-Control: private, max-age=(session.cache_expire en el futuro)
Last-Modified: (el timestamp correspondiente al último guardado de la sesión)</pre>
</div>
           </div>

          </td>
         </tr>

         <tr>
          <td><code class="literal">nocache</code></td>
          <td>
           <div class="example-contents">
<div class="headercode"><pre class="headercode">Expires: Thu, 19 Nov 1981 08:52:00 GMT
Cache-Control: no-store, no-cache, must-revalidate
Pragma: no-cache</pre>
</div>
           </div>

          </td>
         </tr>

        </tbody>
       
      </table>

     </dd>
    
   </dl>
  
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.session-cache-limiter-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Devuelve el nombre del limitador de caché actual.
   En caso de error, se devuelve <strong><code><a href="#constant.false">false</a></code></strong>.
  </p>
 </div>


 <div class="refsect1 changelog" id="refsect1-function.session-cache-limiter-changelog">
  <h3 class="title">Historial de cambios</h3>
  <table class="doctable informaltable">
   
    <thead>
     <tr>
      <th>Versión</th>
      <th>Descripción</th>
     </tr>

    </thead>

    <tbody class="tbody">
     <tr>
      <td>8.0.0</td>
      <td>
       <code class="parameter">value</code> ahora es nullable.
      </td>
     </tr>

    </tbody>
   
  </table>

 </div>


 <div class="refsect1 examples" id="refsect1-function.session-cache-limiter-examples">
  <h3 class="title">Ejemplos</h3>
  <p class="para">
   </p><div class="example" id="example-5013">
    <p><strong>Ejemplo #1 Ejemplo con <span class="function"><strong>session_cache_limiter()</strong></span></strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br><br></span><span style="color: #FF8000">/* configura el limitador de caché a 'private' */<br><br></span><span style="color: #0000BB">session_cache_limiter</span><span style="color: #007700">(</span><span style="color: #DD0000">'private'</span><span style="color: #007700">);<br></span><span style="color: #0000BB">$cache_limiter </span><span style="color: #007700">= </span><span style="color: #0000BB">session_cache_limiter</span><span style="color: #007700">();<br><br>echo </span><span style="color: #DD0000">"El limitador de caché ahora vale </span><span style="color: #0000BB">$cache_limiter</span><span style="color: #DD0000">&lt;br /&gt;"</span><span style="color: #007700">;<br></span><span style="color: #0000BB">?&gt;</span></span></code></div>
    </div>

   </div>
  
 </div>


 <div class="refsect1 seealso" id="refsect1-function.session-cache-limiter-seealso">
  <h3 class="title">Ver también</h3>
  <p class="para">
   </p><ul class="simplelist">
    <li><a href="#ini.session.cache-limiter" class="link">session.cache_limiter</a></li>
   </ul>
  
 </div>


</div>
<hr>






<div id="function.session-commit" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">session_commit</h1>
  <p class="verinfo">(PHP 4 &gt;= 4.4.0, PHP 5, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">session_commit</span> — <span class="dc-title">Alias de <span class="function"><a href="#function.session-write-close" class="function">session_write_close()</a></span></span></p>

 </div>

 <div class="refsect1 description" id="refsect1-function.session-commit-description">
  <h3 class="title">Descripción</h3>
  <p class="simpara">
   Esta función es un alias de: 
   <span class="function"><a href="#function.session-write-close" class="function">session_write_close()</a></span>.
  </p>
 </div>


</div>
<hr>








<div id="function.session-create-id" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">session_create_id</h1>
  <p class="verinfo">(PHP 7 &gt;= 7.1.0, PHP 8)</p><p class="refpurpose"><span class="refname">session_create_id</span> — <span class="dc-title">Crear un nuevo ID de sesión</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-function.session-create-id-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>session_create_id</strong></span>(<span class="methodparam"><span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$prefix</code><span class="initializer"> = ""</span></span>): <span class="type"><span class="type"><a href="#language.types.string" class="type string">string</a></span>|<span class="type"><a href="#language.types.singleton" class="type false">false</a></span></span></div>

  <p class="para rdfs-comment">
   <span class="function"><strong>session_create_id()</strong></span> se utiliza para crear un nuevo
   ID de sesión para la sesión actual. Esto devuelve un ID de
   sesión sin colisión.
  </p>
  <p class="para">
   Si la sesión no está activa, la verificación de colisión se omite.
  </p>
  <p class="para">
   El ID de sesión se crea de acuerdo con los parámetros php.ini.
  </p>
  <p class="para">
   Es importante utilizar el mismo ID de usuario de su servidor web
   para el script de la tarea de Recogida de Basura (Garbage Collection).
   De lo contrario, se pueden tener problemas de permisos, especialmente
   con los gestores de guardado de ficheros.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.session-create-id-parameters">
  <h3 class="title">Parámetros</h3>
  <p class="para">
   </p><dl>
    
     <dt><code class="parameter">prefix</code></dt>
      <dd>
       <p class="para">
        Si <code class="parameter">prefix</code> está especificado, el nuevo ID de sesión
        se prefiere con <code class="parameter">prefix</code>. No todos
        los caracteres están permitidos en el ID de sesión. Los caracteres
        entre <code class="literal">[a-z A-Z 0-9]</code> están permitidos. La longitud máxima es de 256 caracteres.
       </p>
      </dd>
     
   </dl>
  
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.session-create-id-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   <span class="function"><strong>session_create_id()</strong></span> devuelve un nuevo ID de sesión
   sin colisión para la sesión actual. Si se utiliza sin una sesión
   activa, la verificación de colisión se omite.
   En caso de error, <strong><code><a href="#constant.false">false</a></code></strong> se devuelve.
  </p>
 </div>


 <div class="refsect1 examples" id="refsect1-function.session-create-id-examples">
  <h3 class="title">Ejemplos</h3>
  <p class="para">
   </p><div class="example" id="example-5014">
    <p><strong>Ejemplo #1 Ejemplo de <span class="function"><strong>session_create_id()</strong></span> con <span class="function"><a href="#function.session-regenerate-id" class="function">session_regenerate_id()</a></span></strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br></span><span style="color: #FF8000">// Mi función de inicio de sesión soporta la gestión de marcas de tiempo<br></span><span style="color: #007700">function </span><span style="color: #0000BB">my_session_start</span><span style="color: #007700">() {<br>    </span><span style="color: #0000BB">session_start</span><span style="color: #007700">();<br>    </span><span style="color: #FF8000">// No permite el uso de antiguos ID de sesión<br>    </span><span style="color: #007700">if (!empty(</span><span style="color: #0000BB">$_SESSION</span><span style="color: #007700">[</span><span style="color: #DD0000">'deleted_time'</span><span style="color: #007700">]) &amp;&amp; </span><span style="color: #0000BB">$_SESSION</span><span style="color: #007700">[</span><span style="color: #DD0000">'deleted_time'</span><span style="color: #007700">] &lt; </span><span style="color: #0000BB">time</span><span style="color: #007700">() - </span><span style="color: #0000BB">180</span><span style="color: #007700">) {<br>        </span><span style="color: #0000BB">session_destroy</span><span style="color: #007700">();<br>        </span><span style="color: #0000BB">session_start</span><span style="color: #007700">();<br>    }<br>}<br><br></span><span style="color: #FF8000">// Mi función de regeneración de ID<br></span><span style="color: #007700">function </span><span style="color: #0000BB">my_session_regenerate_id</span><span style="color: #007700">() {<br>    </span><span style="color: #FF8000">// Llamada a session_create_id() cuando la sesión está activa<br>    // para asegurarse de que no hay colisión.<br>    </span><span style="color: #007700">if (</span><span style="color: #0000BB">session_status</span><span style="color: #007700">() != </span><span style="color: #0000BB">PHP_SESSION_ACTIVE</span><span style="color: #007700">) {<br>        </span><span style="color: #0000BB">session_start</span><span style="color: #007700">();<br>    }<br>    </span><span style="color: #FF8000">// ADVERTENCIA: Nunca utilizar cadenas confidenciales como prefijo<br>    </span><span style="color: #0000BB">$newid </span><span style="color: #007700">= </span><span style="color: #0000BB">session_create_id</span><span style="color: #007700">(</span><span style="color: #DD0000">'myprefix-'</span><span style="color: #007700">);<br>    </span><span style="color: #FF8000">// Establece la marca de tiempo de eliminación.<br>    // Los datos de sesión no deben eliminarse inmediatamente por ciertas razones.<br>    </span><span style="color: #0000BB">$_SESSION</span><span style="color: #007700">[</span><span style="color: #DD0000">'deleted_time'</span><span style="color: #007700">] = </span><span style="color: #0000BB">time</span><span style="color: #007700">();<br>    </span><span style="color: #FF8000">// Termina la sesión<br>    </span><span style="color: #0000BB">session_commit</span><span style="color: #007700">();<br>    </span><span style="color: #FF8000">// Asegúrese de aceptar los ID de sesión definidos por el usuario<br>    // NOTA: Debe activar use_strict_mode para operaciones normales.<br>    </span><span style="color: #0000BB">ini_set</span><span style="color: #007700">(</span><span style="color: #DD0000">'session.use_strict_mode'</span><span style="color: #007700">, </span><span style="color: #0000BB">0</span><span style="color: #007700">);<br>    </span><span style="color: #FF8000">// Definir un nuevo ID de sesión personalizado<br>    </span><span style="color: #0000BB">session_id</span><span style="color: #007700">(</span><span style="color: #0000BB">$newid</span><span style="color: #007700">);<br>    </span><span style="color: #FF8000">// Inicio con un ID de sesión personalizado<br>    </span><span style="color: #0000BB">session_start</span><span style="color: #007700">();<br>}<br><br></span><span style="color: #FF8000">// Asegúrese de que use_strict_mode esté activado.<br>// use_strict_mode es obligatorio por razones de seguridad.<br></span><span style="color: #0000BB">ini_set</span><span style="color: #007700">(</span><span style="color: #DD0000">'session.use_strict_mode'</span><span style="color: #007700">, </span><span style="color: #0000BB">1</span><span style="color: #007700">);<br></span><span style="color: #0000BB">my_session_start</span><span style="color: #007700">();<br><br></span><span style="color: #FF8000">// El ID de sesión debe regenerarse cuando<br>//  - Un usuario se conecta<br>//  - Un usuario se desconecta<br>//  - Ha transcurrido un cierto período de tiempo<br></span><span style="color: #0000BB">my_session_regenerate_id</span><span style="color: #007700">();<br><br></span><span style="color: #FF8000">// Lógica de aplicación<br></span><span style="color: #0000BB">?&gt;</span></span></code></div>
    </div>

   </div>
  
 </div>


 <div class="refsect1 seealso" id="refsect1-function.session-create-id-seealso">
  <h3 class="title">Ver también</h3>
  <p class="para">
   </p><ul class="simplelist">
    <li><span class="function"><a href="#function.session-regenerate-id" class="function" rel="rdfs-seeAlso">session_regenerate_id()</a> - Reemplaza el identificador de sesión actual por uno nuevo</span></li>
    <li><span class="function"><a href="#function.session-start" class="function" rel="rdfs-seeAlso">session_start()</a> - Inicia una nueva sesión o reanuda una sesión existente</span></li>
    <li><a href="#ini.session.use-strict-mode" class="link">session.use_strict_mode</a></li>
    <li><span class="methodname"><a href="#sessionhandler.create-sid" class="methodname" rel="rdfs-seeAlso">SessionHandler::create_sid()</a> - Devuelve un nuevo ID de sesión</span></li>
   </ul>
  
 </div>

</div>
<hr>







<div id="function.session-decode" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">session_decode</h1>
  <p class="verinfo">(PHP 4, PHP 5, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">session_decode</span> — <span class="dc-title">Decodifica la información de sesión desde una cadena de sesión codificada</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-function.session-decode-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>session_decode</strong></span>(<span class="methodparam"><span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$data</code></span>): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>

  <p class="para rdfs-comment">
   <span class="function"><strong>session_decode()</strong></span> decodifica la información de sesión serializada proporcianda en
   <code class="parameter">$data</code>, y rellena la variable superglobal $_SESSION
   con el resultado.
  </p>
  <p class="para">
   Por defecto, el método de deserialización usado es interno a PHP, y no es el mismo que <span class="function"><a href="#function.unserialize" class="function">unserialize()</a></span>.
   El método de serialización se puede establecer con <a href="#ini.session.serialize-handler" class="link">session.serialize_handler</a>.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.session-decode-parameters">
  <h3 class="title">Parámetros</h3>
  <p class="para">
   </p><dl>
    
     <dt><code class="parameter">data</code></dt>
     <dd>
      <p class="para">
       Los datos codificados a alamcenar.
      </p>
     </dd>
    
   </dl>
  
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.session-decode-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Esta función retorna <strong><code><a href="#constant.true">true</a></code></strong> en caso de éxito o <strong><code><a href="#constant.false">false</a></code></strong> si ocurre un error.
  </p>
 </div>


 <div class="refsect1 seealso" id="refsect1-function.session-decode-seealso">
  <h3 class="title">Ver también</h3>
  <p class="para">
   </p><ul class="simplelist">
    <li><span class="function"><a href="#function.session-encode" class="function" rel="rdfs-seeAlso">session_encode()</a> - Codifica los datos de sesión</span></li>
    <li><a href="#ini.session.serialize-handler" class="link">session.serialize_handler</a></li>
   </ul>
  
 </div>


</div>
<hr>









<div id="function.session-destroy" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">session_destroy</h1>
  <p class="verinfo">(PHP 4, PHP 5, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">session_destroy</span> — <span class="dc-title">Destruye una sesión</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-function.session-destroy-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>session_destroy</strong></span>(): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>

  <p class="simpara">
   <span class="function"><strong>session_destroy()</strong></span> destruye todos los datos
   asociados a la sesión actual. Esta función no destruye
   las variables globales asociadas a la sesión, de igual manera, no
   destruye la cookie de sesión. Para acceder nuevamente a las variables
   de sesión, la función <span class="function"><a href="#function.session-start" class="function">session_start()</a></span> debe ser
   llamada nuevamente.
  </p>
  <blockquote class="note"><p><strong class="note">Nota</strong>: 
   <span class="simpara">
    No es necesario llamar a <span class="function"><strong>session_destroy()</strong></span>
    desde el programa generalmente.
    Limpiar el array $_SESSION en lugar de destruir los datos de sesión.
   </span>
  </p></blockquote>
  <p class="para">
   Para destruir completamente una sesión,
   el identificador de la sesión debe ser eliminado también. Si una cookie es utilizada
   para propagar el identificador de sesión (comportamiento por omisión), entonces la cookie
   de sesión debe ser eliminada. La función <span class="function"><a href="#function.setcookie" class="function">setcookie()</a></span>
   puede ser utilizada para esto.
  </p>
  <p class="para">
   Cuando <a href="#ini.session.use-strict-mode" class="link">session.use_strict_mode</a>
   está activado. No es necesario eliminar las cookies de ID de sesión
   obsoletas ya que el módulo de sesión no acepta las cookies de ID de sesiones
   cuando no hay datos asociados con estos ID de sesiones y definirá
   una nueva cookie de ID de sesión.
   Activar <a href="#ini.session.use-strict-mode" class="link">session.use_strict_mode</a>
   es recomendado para todos los sitios.
  </p>
  <div class="warning"><strong class="warning">Advertencia</strong>
   <p class="para">
    La eliminación inmediata de una sesión puede causar resultados inesperados.
    Cuando hay peticiones simultáneas, otras conexiones pueden
    perder repentinamente datos de sesión. Por ejemplo peticiones
    desde JavaScript y/o peticiones desde enlaces URL.
   </p>
   <p class="para">
    Aunque el módulo de sesión actual no acepta una cookie de ID de sesión
    vacía, la eliminación inmediata de sesión puede provocar una cookie
    de ID de sesión vacía debido a una condición de concurrencia lado-cliente
    (navegador). Esto provocará la creación de muchos ID de sesión
    innecesarios por el cliente.
   </p>
   <p class="para">
    Para evitar esto, se debe definir un timestamp en $_SESSION y
    rechazar el acceso a todas las fechas posteriores. O asegurarse de que su
    aplicación no tenga peticiones simultáneas. Esto también se aplica a
    <span class="function"><a href="#function.session-regenerate-id" class="function">session_regenerate_id()</a></span>.
   </p>
  </div>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.session-destroy-parameters">
  <h3 class="title">Parámetros</h3>
  <p class="para">Esta función no contiene ningún parámetro.</p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.session-destroy-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Esta función retorna <strong><code><a href="#constant.true">true</a></code></strong> en caso de éxito o <strong><code><a href="#constant.false">false</a></code></strong> si ocurre un error.
  </p>
 </div>


 <div class="refsect1 examples" id="refsect1-function.session-destroy-examples">
  <h3 class="title">Ejemplos</h3>
  <p class="para">
   </p><div class="example" id="example-5015">
    <p><strong>Ejemplo #1 Destrucción de una sesión con <var class="varname"><a href="#reserved.variables.session" class="classname">$_SESSION</a></var></strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br></span><span style="color: #FF8000">// Inicialización de la sesión.<br>// Si se utiliza otro nombre<br>// session_name("otroNombre")<br></span><span style="color: #0000BB">session_start</span><span style="color: #007700">();<br><br></span><span style="color: #FF8000">// Destruye todas las variables de sesión<br></span><span style="color: #0000BB">$_SESSION </span><span style="color: #007700">= array();<br><br></span><span style="color: #FF8000">// Si se quiere destruir completamente la sesión, también se debe eliminar<br>// la cookie de sesión.<br>// Nota: esto destruirá la sesión y no solo los datos de sesión !<br></span><span style="color: #007700">if (</span><span style="color: #0000BB">ini_get</span><span style="color: #007700">(</span><span style="color: #DD0000">"session.use_cookies"</span><span style="color: #007700">)) {<br>    </span><span style="color: #0000BB">$params </span><span style="color: #007700">= </span><span style="color: #0000BB">session_get_cookie_params</span><span style="color: #007700">();<br>    </span><span style="color: #0000BB">setcookie</span><span style="color: #007700">(</span><span style="color: #0000BB">session_name</span><span style="color: #007700">(), </span><span style="color: #DD0000">''</span><span style="color: #007700">, </span><span style="color: #0000BB">time</span><span style="color: #007700">() - </span><span style="color: #0000BB">42000</span><span style="color: #007700">,<br>        </span><span style="color: #0000BB">$params</span><span style="color: #007700">[</span><span style="color: #DD0000">"path"</span><span style="color: #007700">], </span><span style="color: #0000BB">$params</span><span style="color: #007700">[</span><span style="color: #DD0000">"domain"</span><span style="color: #007700">],<br>        </span><span style="color: #0000BB">$params</span><span style="color: #007700">[</span><span style="color: #DD0000">"secure"</span><span style="color: #007700">], </span><span style="color: #0000BB">$params</span><span style="color: #007700">[</span><span style="color: #DD0000">"httponly"</span><span style="color: #007700">]<br>    );<br>}<br><br></span><span style="color: #FF8000">// Finalmente, se destruye la sesión.<br></span><span style="color: #0000BB">session_destroy</span><span style="color: #007700">();<br></span><span style="color: #0000BB">?&gt;</span></span></code></div>
    </div>

   </div>
  
 </div>


 <div class="refsect1 seealso" id="refsect1-function.session-destroy-seealso">
  <h3 class="title">Ver también</h3>
  <p class="para">
   </p><ul class="simplelist">
    <li><a href="#ini.session.use-strict-mode" class="link">session.use_strict_mode</a></li>
    <li><span class="function"><a href="#function.session-reset" class="function" rel="rdfs-seeAlso">session_reset()</a> - Restablece el array de sesión con los valores originales</span></li>
    <li><span class="function"><a href="#function.session-regenerate-id" class="function" rel="rdfs-seeAlso">session_regenerate_id()</a> - Reemplaza el identificador de sesión actual por uno nuevo</span></li>
    <li><span class="function"><a href="#function.unset" class="function" rel="rdfs-seeAlso">unset()</a> - unset destruye una variable</span></li>
    <li><span class="function"><a href="#function.setcookie" class="function" rel="rdfs-seeAlso">setcookie()</a> - Envía una cookie</span></li>
   </ul>
  
 </div>


</div>
<hr>








<div id="function.session-encode" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">session_encode</h1>
  <p class="verinfo">(PHP 4, PHP 5, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">session_encode</span> — <span class="dc-title">Codifica los datos de sesión</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-function.session-encode-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>session_encode</strong></span>(): <span class="type"><span class="type"><a href="#language.types.string" class="type string">string</a></span>|<span class="type"><a href="#language.types.singleton" class="type false">false</a></span></span></div>

  <p class="para rdfs-comment">
   <span class="function"><strong>session_encode()</strong></span> devuelve un string serializado
   que contiene las variables de la sesión actual codificadas
   almacenadas en la variable superglobal $_SESSION.
  </p>
  <p class="para">
   Por omisión, el método de serialización utilizado es interno a PHP, y no es el mismo que <span class="function"><a href="#function.serialize" class="function">serialize()</a></span>.
   El método de serialización puede ser definido utilizando la opción de configuración
   <a href="#ini.session.serialize-handler" class="link">session.serialize_handler</a>.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.session-encode-parameters">
  <h3 class="title">Parámetros</h3>
  <p class="para">Esta función no contiene ningún parámetro.</p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.session-encode-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Devuelve el contenido codificado de la sesión actual,  o <strong><code><a href="#constant.false">false</a></code></strong> si ocurre un error.
  </p>
 </div>


 <div class="refsect1 notes" id="refsect1-function.session-encode-notes">
  <h3 class="title">Notas</h3>
  <div class="warning"><strong class="warning">Advertencia</strong>
   <p class="para">
    Se debe llamar a la función <span class="function"><a href="#function.session-start" class="function">session_start()</a></span>
    antes de utilizar la función <span class="function"><strong>session_encode()</strong></span>.
   </p>
  </div>
 </div>


 <div class="refsect1 seealso" id="refsect1-function.session-encode-seealso">
  <h3 class="title">Ver también</h3>
  <p class="para">
   </p><ul class="simplelist">
    <li><span class="function"><a href="#function.session-decode" class="function" rel="rdfs-seeAlso">session_decode()</a> - Decodifica la información de sesión desde una cadena de sesión codificada</span></li>
    <li><a href="#ini.session.serialize-handler" class="link">session.serialize_handler</a></li>
   </ul>
  
 </div>


</div>
<hr>







<div id="function.session-gc" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">session_gc</h1>
  <p class="verinfo">(PHP 7 &gt;= 7.1.0, PHP 8)</p><p class="refpurpose"><span class="refname">session_gc</span> — <span class="dc-title">Ejecuta la recolección de basura de los datos de sesión</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-function.session-gc-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>session_gc</strong></span>(): <span class="type"><span class="type"><a href="#language.types.integer" class="type int">int</a></span>|<span class="type"><a href="#language.types.singleton" class="type false">false</a></span></span></div>

  <p class="simpara">
   Por omisión, PHP utiliza <a href="#ini.session.gc-probability" class="link">session.gc_probability</a>
   para ejecutar el recolector de basura de sesión de forma probabilística en cada
   solicitud. Este enfoque presenta algunas limitaciones:
  </p>
  <ul class="simplelist">
   <li>Es posible que sitios con poco tráfico no eliminen sus datos de sesión dentro del plazo preferido.</li>
   <li>Sitios con mucho tráfico pueden hacer que el recolector de basura funcione con demasiada frecuencia, realizando trabajo extra innecesario.</li>
   <li>La recolección de basura se realiza a petición del usuario, y este puede experimentar una demora.</li>
  </ul>
  <p class="simpara">
   Para sistemas de producción, se recomienda deshabilitar la
   recolección de basura basada en probabilidad configurando
   <a href="#ini.session.gc-probability" class="link">session.gc_probability</a> en <code class="literal">0</code>
   y activar explícitamente el recolector de basura periódicamente, por ejemplo, utilizando "cron" en
   sistemas tipo UNIX para ejecutar un script que llame a <span class="function"><strong>session_gc()</strong></span>.
  </p>

  <blockquote class="note"><p><strong class="note">Nota</strong>: 
   <span class="simpara">
    Al llamar a <span class="function"><strong>session_gc()</strong></span> desde un script PHP de línea de comandos,
    <a href="#ini.session.save-path" class="link">session.save_path</a> debe tener
    el mismo valor que las solicitudes web, y el script debe tener permisos de acceso y eliminación
    para los archivos de sesión. Esto puede verse afectado por el usuario con el que se ejecuta el script
    y por características de contenedor o aislamiento, como la opción <code class="literal">PrivateTmp=</code>
    de systemd.
   </span>
  </p></blockquote>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.session-gc-parameters">
  <h3 class="title">Parámetros</h3>
  <p class="para">Esta función no contiene ningún parámetro.</p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.session-gc-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="simpara">
   <span class="function"><strong>session_gc()</strong></span> devuelve el número de datos de sesión eliminados
   en caso de éxito,  o <strong><code><a href="#constant.false">false</a></code></strong> si ocurre un error.
  </p>
  <blockquote class="note"><p><strong class="note">Nota</strong>: 
   <span class="simpara">
    Los antiguos gestores de almacenamiento de sesiones no devuelven el número de entradas de sesión eliminadas, sino
    solo un indicador de éxito/fracaso. En este caso, se devuelve <code class="literal">1</code> independientemente de
    cuántas entradas de sesión se hayan eliminado realmente.
   </span>
  </p></blockquote>
 </div>


 <div class="refsect1 examples" id="refsect1-function.session-gc-examples">
  <h3 class="title">Ejemplos</h3>
  <div class="example" id="example-5016">
   <p><strong>Ejemplo #1 Ejemplo de <span class="function"><strong>session_gc()</strong></span> para planificadores de tareas como cron</strong></p>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br></span><span style="color: #FF8000">// Nota: Este script debe ser ejecutado por el mismo usuario que el proceso del servidor web.<br><br>// Requiere la activación de las sesiones para inicializar el acceso al gestor de almacenamiento de sesiones<br></span><span style="color: #0000BB">session_start</span><span style="color: #007700">();<br><br></span><span style="color: #FF8000">// Ejecutar la recolección de basura inmediatamente<br></span><span style="color: #0000BB">session_gc</span><span style="color: #007700">();<br><br></span><span style="color: #FF8000">// Eliminar el ID de sesión creado por session_start()<br></span><span style="color: #0000BB">session_destroy</span><span style="color: #007700">();<br></span><span style="color: #0000BB">?&gt;</span></span></code></div>
   </div>

  </div>
  <div class="example" id="example-5017">
   <p><strong>Ejemplo #2 Ejemplo de <span class="function"><strong>session_gc()</strong></span> para scripts accesibles por el usuario</strong></p>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br></span><span style="color: #FF8000">// Nota: Se recomienda que session_gc() sea utilizado por un planificador de tareas,<br>// pero puede ser utilizado de la siguiente manera.<br><br>// Utilizado para verificar la hora del último uso de la recolección de basura<br></span><span style="color: #0000BB">$gc_time </span><span style="color: #007700">= </span><span style="color: #DD0000">'/tmp/php_session_last_gc'</span><span style="color: #007700">;<br></span><span style="color: #0000BB">$gc_period </span><span style="color: #007700">= </span><span style="color: #0000BB">1800</span><span style="color: #007700">;<br><br></span><span style="color: #0000BB">session_start</span><span style="color: #007700">();<br></span><span style="color: #FF8000">// Ejecutar la recolección de basura solo cuando haya transcurrido el período.<br>// Es decir, llamar a session_gc() en cada solicitud es un desperdicio de recursos.<br></span><span style="color: #007700">if (</span><span style="color: #0000BB">file_exists</span><span style="color: #007700">(</span><span style="color: #0000BB">$gc_time</span><span style="color: #007700">)) {<br>    if (</span><span style="color: #0000BB">filemtime</span><span style="color: #007700">(</span><span style="color: #0000BB">$gc_time</span><span style="color: #007700">) &lt; </span><span style="color: #0000BB">time</span><span style="color: #007700">() - </span><span style="color: #0000BB">$gc_period</span><span style="color: #007700">) {<br>        </span><span style="color: #0000BB">session_gc</span><span style="color: #007700">();<br>        </span><span style="color: #0000BB">touch</span><span style="color: #007700">(</span><span style="color: #0000BB">$gc_time</span><span style="color: #007700">);<br>    }<br>} else {<br>    </span><span style="color: #0000BB">touch</span><span style="color: #007700">(</span><span style="color: #0000BB">$gc_time</span><span style="color: #007700">);<br>}<br></span><span style="color: #0000BB">?&gt;</span></span></code></div>
   </div>

  </div>
 </div>


 <div class="refsect1 seealso" id="refsect1-function.session-gc-seealso">
  <h3 class="title">Ver también</h3>
  <ul class="simplelist">
   <li><span class="function"><a href="#function.session-start" class="function" rel="rdfs-seeAlso">session_start()</a> - Inicia una nueva sesión o reanuda una sesión existente</span></li>
   <li><span class="function"><a href="#function.session-destroy" class="function" rel="rdfs-seeAlso">session_destroy()</a> - Destruye una sesión</span></li>
   <li><a href="#ini.session.gc-probability" class="link">session.gc_probability</a></li>
  </ul>
 </div>

</div>
<hr>








<div id="function.session-get-cookie-params" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">session_get_cookie_params</h1>
  <p class="verinfo">(PHP 4, PHP 5, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">session_get_cookie_params</span> — <span class="dc-title">Lee la configuración del cookie de sesión</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-function.session-get-cookie-params-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>session_get_cookie_params</strong></span>(): <span class="type"><a href="#language.types.array" class="type array">array</a></span></div>

  <p class="para rdfs-comment">
   Lee la configuración del cookie de sesión.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.session-get-cookie-params-parameters">
  <h3 class="title">Parámetros</h3>
  <p class="para">Esta función no contiene ningún parámetro.</p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.session-get-cookie-params-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Devuelve un array, que contiene los siguientes elementos:
   </p><ul class="itemizedlist">
    <li class="listitem">
     <span class="simpara">
      <a href="#ini.session.cookie-lifetime" class="link">"<code class="literal">lifetime</code>"</a>:
      duración de vida del cookie.
     </span>
    </li>
    <li class="listitem">
     <span class="simpara">
      <a href="#ini.session.cookie-path" class="link">"<code class="literal">path</code>"</a>:
      la ruta donde se almacenan las informaciones.
     </span>
    </li>
    <li class="listitem">
     <span class="simpara">
      <a href="#ini.session.cookie-domain" class="link">"<code class="literal">domain</code>"</a>:
      el dominio del cookie.
     </span>
    </li>
    <li class="listitem">
     <span class="simpara">
      <a href="#ini.session.cookie-secure" class="link">"<code class="literal">secure</code>"</a>:
      el cookie debe ser enviado solo en conexiones seguras.
     </span>
    </li>
    <li class="listitem">
     <span class="simpara">
      <a href="#ini.session.cookie-httponly" class="link">"<code class="literal">httponly</code>"</a>:
      el cookie será accesible solo vía el protocolo HTTP.
     </span>
    </li>
    <li class="listitem">
     <span class="simpara">
      <a href="#ini.session.cookie-samesite" class="link">"<code class="literal">samesite</code>"</a>:
      Controla el envío entre dominio (cross-domain) del cookie.
     </span>
    </li>
   </ul>
  
 </div>


 <div class="refsect1 changelog" id="refsect1-function.session-get-cookie-params-changelog">
  <h3 class="title">Historial de cambios</h3>
  <p class="para">
   </p><table class="doctable informaltable">
    
     <thead>
      <tr>
       <th>Versión</th>
       <th>Descripción</th>
      </tr>

     </thead>

     <tbody class="tbody">
      <tr>
       <td>7.3.0</td>
       <td>
        La entrada "<code class="literal">samesite</code>" ha sido añadida en el array devuelto.
       </td>
      </tr>

     </tbody>
    
   </table>

  
 </div>


 <div class="refsect1 seealso" id="refsect1-function.session-get-cookie-params-seealso">
  <h3 class="title">Ver también</h3>
  <p class="para">
   </p><ul class="simplelist">
    <li>
     <a href="#ini.session.cookie-lifetime" class="link">session.cookie_lifetime</a>
    </li>
    <li>
     <a href="#ini.session.cookie-path" class="link">session.cookie_path</a>
    </li>
    <li>
     <a href="#ini.session.cookie-domain" class="link">session.cookie_domain</a>
    </li>
    <li>
     <a href="#ini.session.cookie-secure" class="link">session.cookie_secure</a>
    </li>
    <li>
     <a href="#ini.session.cookie-httponly" class="link">session.cookie_httponly</a>
    </li>
    <li>
     <a href="#ini.session.cookie-samesite" class="link">session.cookie_samesite</a>
    </li>
    <li>
     <span class="function"><a href="#function.session-set-cookie-params" class="function" rel="rdfs-seeAlso">session_set_cookie_params()</a> - Modifica los parámetros de la cookie de sesión</span>
    </li>
   </ul>
  
 </div>


</div>
<hr>








<div id="function.session-id" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">session_id</h1>
  <p class="verinfo">(PHP 4, PHP 5, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">session_id</span> — <span class="dc-title">Lee y/o modifica el identificador de sesión actual</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-function.session-id-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>session_id</strong></span>(<span class="methodparam"><span class="type"><span class="type"><a href="#language.types.null" class="type null">?</a></span><span class="type"><a href="#language.types.string" class="type string">string</a></span></span> <code class="parameter">$id</code><span class="initializer"> = <strong><code><a href="#constant.null">null</a></code></strong></span></span>): <span class="type"><span class="type"><a href="#language.types.string" class="type string">string</a></span>|<span class="type"><a href="#language.types.singleton" class="type false">false</a></span></span></div>

  <p class="para rdfs-comment">
   <span class="function"><strong>session_id()</strong></span> se utiliza para recuperar o definir
   el identificador de sesión para la sesión actual.
  </p>
  <p class="para">
   La constante <strong><code><a href="#constant.sid">SID</a></code></strong> también puede ser utilizada para
   leer el nombre de la sesión actual y el identificador de sesión a proporcionar
   en las URL. Véase también <a href="#ref.session" class="link">Gestión de sesión</a>.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.session-id-parameters">
  <h3 class="title">Parámetros</h3>
  <p class="para">
   </p><dl>
    
     <dt><code class="parameter">id</code></dt>
      <dd>
       <p class="para">
        Si <code class="parameter">id</code> es proporcionado y no es <strong><code><a href="#constant.null">null</a></code></strong>, reemplazará el identificador
        de sesión actual. <span class="function"><strong>session_id()</strong></span> debe ser
        llamado antes de <span class="function"><a href="#function.session-start" class="function">session_start()</a></span>. Dependiendo del gestor
        de sesiones que se utilice, no todos los caracteres serán aceptados
        en este valor. Por ejemplo, el gestor de sesiones por defecto,
        basado en archivos, solo acepta caracteres dentro del intervalo <code class="literal">[a-zA-Z0-9,-]</code>!
       </p>
       <blockquote class="note"><p><strong class="note">Nota</strong>: 
        <span class="simpara">
         Cuando se utilizan sesiones con cookies, el hecho de especificar un
         <code class="parameter">id</code> para <span class="function"><strong>session_id()</strong></span>
         hará que una nueva cookie siempre sea enviada al llamar a
         <span class="function"><a href="#function.session-start" class="function">session_start()</a></span>, independientemente de si el identificador de sesión
         actual es idéntico al que acaba de ser definido.
        </span>
       </p></blockquote>
      </dd>
     
   </dl>
  
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.session-id-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   <span class="function"><strong>session_id()</strong></span> devuelve el identificador de sesión para la sesión
   actual o una cadena vacía (<code class="literal">""</code>) si no hay sesión
   actual (ningún identificador de sesión existe).
   En caso de error, <strong><code><a href="#constant.false">false</a></code></strong> es devuelto.
  </p>
 </div>


 <div class="refsect1 changelog" id="refsect1-function.session-id-changelog">
  <h3 class="title">Historial de cambios</h3>
  <table class="doctable informaltable">
   
    <thead>
     <tr>
      <th>Versión</th>
      <th>Descripción</th>
     </tr>

    </thead>

    <tbody class="tbody">
     <tr>
      <td>8.0.0</td>
      <td>
       <code class="parameter">id</code> ahora es nullable.
      </td>
     </tr>

    </tbody>
   
  </table>

 </div>


 <div class="refsect1 seealso" id="refsect1-function.session-id-seealso">
  <h3 class="title">Ver también</h3>
  <p class="para">
   </p><ul class="simplelist">
    <li><span class="function"><a href="#function.session-regenerate-id" class="function" rel="rdfs-seeAlso">session_regenerate_id()</a> - Reemplaza el identificador de sesión actual por uno nuevo</span></li>
    <li><span class="function"><a href="#function.session-start" class="function" rel="rdfs-seeAlso">session_start()</a> - Inicia una nueva sesión o reanuda una sesión existente</span></li>
    <li><span class="function"><a href="#function.session-set-save-handler" class="function" rel="rdfs-seeAlso">session_set_save_handler()</a> - Configura las funciones de almacenamiento de sesiones</span></li>
    <li>
     <a href="#ini.session.save-handler" class="link">session.save_handler</a>
    </li>
   </ul>
  
 </div>

</div>
<hr>








<div id="function.session-module-name" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">session_module_name</h1>
  <p class="verinfo">(PHP 4, PHP 5, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">session_module_name</span> — <span class="dc-title">Lee y/o modifica el módulo de sesión actual</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-function.session-module-name-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>session_module_name</strong></span>(<span class="methodparam"><span class="type"><span class="type"><a href="#language.types.null" class="type null">?</a></span><span class="type"><a href="#language.types.string" class="type string">string</a></span></span> <code class="parameter">$module</code><span class="initializer"> = <strong><code><a href="#constant.null">null</a></code></strong></span></span>): <span class="type"><span class="type"><a href="#language.types.string" class="type string">string</a></span>|<span class="type"><a href="#language.types.singleton" class="type false">false</a></span></span></div>

  <p class="para rdfs-comment">
   <span class="function"><strong>session_module_name()</strong></span> recupera el nombre del
   módulo de sesión actual, que también es conocido como
   <a href="#ini.session.save-handler" class="link">session.save_handler</a>.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.session-module-name-parameters">
  <h3 class="title">Parámetros</h3>
  <p class="para">
   </p><dl>
    
     <dt><code class="parameter">module</code></dt>
     <dd>
      <p class="para">
       Si <code class="parameter">module</code> es proporcionado y no es <strong><code><a href="#constant.null">null</a></code></strong>, este valor
       será utilizado y reemplazará el valor actual.
       Pasar <code class="literal">"user"</code> a este argumento está prohibido.
       En su lugar, <span class="function"><a href="#function.session-set-save-handler" class="function">session_set_save_handler()</a></span> debe ser llamado para
       definir un manejador de sesión definido por el usuario.
      </p>
     </dd>
    
   </dl>
  
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.session-module-name-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Retorna el nombre del módulo de sesión actual,  o <strong><code><a href="#constant.false">false</a></code></strong> si ocurre un error.
  </p>
 </div>


 <div class="refsect1 changelog" id="refsect1-function.session-module-name-changelog">
  <h3 class="title">Historial de cambios</h3>
  <table class="doctable informaltable">
   
    <thead>
     <tr>
      <th>Versión</th>
      <th>Descripción</th>
     </tr>

    </thead>

    <tbody class="tbody">
     <tr>
      <td>8.0.0</td>
      <td>
       <code class="parameter">module</code> ahora es nullable.
      </td>
     </tr>

     <tr>
      <td>7.2.0</td>
      <td>
       Ahora está explícitamente prohibido definir el nombre del modo como
       <code class="literal">"user"</code>. Anteriormente, esto era ignorado silenciosamente.
      </td>
     </tr>

    </tbody>
   
  </table>

 </div>


</div>
<hr>







<div id="function.session-name" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">session_name</h1>
  <p class="verinfo">(PHP 4, PHP 5, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">session_name</span> — <span class="dc-title">Lee y/o modifica el nombre de la sesión</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-function.session-name-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>session_name</strong></span>(<span class="methodparam"><span class="type"><span class="type"><a href="#language.types.null" class="type null">?</a></span><span class="type"><a href="#language.types.string" class="type string">string</a></span></span> <code class="parameter">$name</code><span class="initializer"> = <strong><code><a href="#constant.null">null</a></code></strong></span></span>): <span class="type"><span class="type"><a href="#language.types.string" class="type string">string</a></span>|<span class="type"><a href="#language.types.singleton" class="type false">false</a></span></span></div>

  <p class="para rdfs-comment">
   <span class="function"><strong>session_name()</strong></span> devuelve el nombre de la sesión
   actual. Si se proporciona el argumento <code class="parameter">name</code>,
   <span class="function"><strong>session_name()</strong></span> modificará el nombre de la sesión
   y devolverá el <em>anterior</em> nombre de la sesión.
  </p>
  <p class="para">
   Si se proporciona un nuevo nombre de sesión <code class="parameter">name</code>,
   <span class="function"><strong>session_name()</strong></span> modifica la cookie HTTP
   (y el contenido de salida cuando <a href="#ini.session.use-trans-sid" class="link">session.transid</a> está
   activado). Una vez enviada la cookie HTTP,
   llamar a <span class="function"><strong>session_name()</strong></span> desencadena un <strong><code><a href="#constant.e-warning">E_WARNING</a></code></strong>.
   <span class="function"><strong>session_name()</strong></span> debe ser llamado
   antes de <span class="function"><a href="#function.session-start" class="function">session_start()</a></span> para que la sesión funcione
   correctamente.
  </p>
  <p class="para">
   El nombre de la sesión se reinicia al valor por defecto, almacenado en
   <code class="literal">session.name</code> al inicio. Por lo tanto, debe
   llamarse a <span class="function"><strong>session_name()</strong></span> para cada petición (y antes de que
   <span class="function"><a href="#function.session-start" class="function">session_start()</a></span> sea llamado).
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.session-name-parameters">
  <h3 class="title">Parámetros</h3>
  <p class="para">
   </p><dl>
    
     <dt><code class="parameter">name</code></dt>
     <dd>
      <p class="para">
       El nombre de sesión se utiliza como nombre para las cookies y las URLs
       (es decir, <code class="literal">PHPSESSID</code>). Solo debe contener caracteres alfanuméricos;
       debe ser corto y descriptivo (especialmente para los usuarios
       que tienen activada la alerta de cookies). Si <code class="parameter">name</code> se proporciona y no es <strong><code><a href="#constant.null">null</a></code></strong>,
       el nombre de la sesión actual será reemplazado por este valor.
      </p>
      <p class="para">
       </p><div class="warning"><strong class="warning">Advertencia</strong>
        <p class="para">
         Los nombres de sesión no pueden contener solo números, al menos una letra
         debe estar presente. De lo contrario, se generará un identificador de sesión cada vez.
        </p>
       </div>
      
     </dd>
    
   </dl>
  
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.session-name-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Devuelve el nombre de la sesión actual. Si se proporciona el argumento <code class="parameter">name</code>
   y la función actualiza el nombre de la sesión, entonces
   el <em>anterior</em> nombre de sesión será devuelto,  o <strong><code><a href="#constant.false">false</a></code></strong> si ocurre un error.
  </p>
 </div>


 <div class="refsect1 changelog" id="refsect1-function.session-name-changelog">
  <h3 class="title">Historial de cambios</h3>
  <p class="para">
   </p><table class="doctable informaltable">
    
     <thead>
      <tr>
       <th>Versión</th>
       <th>Descripción</th>
      </tr>

     </thead>

     <tbody class="tbody">
      <tr>
       <td>8.0.0</td>
       <td>
        <code class="parameter">name</code> ahora es nullable.
       </td>
      </tr>

      <tr>
       <td>7.2.0</td>
       <td>
        <span class="function"><strong>session_name()</strong></span> verifica el estado de la sesión,
        anteriormente solo verificaba el estado de la cookie. Por lo tanto,
        las versiones anteriores de <span class="function"><strong>session_name()</strong></span> permiten
        la llamada a <span class="function"><strong>session_name()</strong></span>
        después de <span class="function"><a href="#function.session-start" class="function">session_start()</a></span> lo que puede causar el fallo de PHP
        y puede dar lugar a comportamientos extraños.
       </td>
      </tr>

     </tbody>
    
   </table>

  
 </div>


 <div class="refsect1 examples" id="refsect1-function.session-name-examples">
  <h3 class="title">Ejemplos</h3>
  <p class="para">
   </p><div class="example" id="example-5018">
    <p><strong>Ejemplo #1 Ejemplo con <span class="function"><strong>session_name()</strong></span></strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br><br></span><span style="color: #FF8000">/* elige el nombre de sesión: WebsiteID */<br><br></span><span style="color: #0000BB">$previous_name </span><span style="color: #007700">= </span><span style="color: #0000BB">session_name</span><span style="color: #007700">(</span><span style="color: #DD0000">"WebsiteID"</span><span style="color: #007700">);<br><br>echo </span><span style="color: #DD0000">"El nombre anterior de la sesión era </span><span style="color: #0000BB">$previous_name</span><span style="color: #DD0000">&lt;br /&gt;"</span><span style="color: #007700">;<br></span><span style="color: #0000BB">?&gt;</span></span></code></div>
    </div>

   </div>
  
 </div>


 <div class="refsect1 seealso" id="refsect1-function.session-name-seealso">
  <h3 class="title">Ver también</h3>
  <p class="para">
   </p><ul class="simplelist">
    <li>
     La directiva de configuración <a href="#ini.session.name" class="link">session.name</a>
    </li>
   </ul>
  
 </div>


</div>
<hr>








<div id="function.session-regenerate-id" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">session_regenerate_id</h1>
  <p class="verinfo">(PHP 4 &gt;= 4.3.2, PHP 5, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">session_regenerate_id</span> — <span class="dc-title">
   Reemplaza el identificador de sesión actual por uno nuevo
  </span></p>

 </div>

 <div class="refsect1 description" id="refsect1-function.session-regenerate-id-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>session_regenerate_id</strong></span>(<span class="methodparam"><span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span> <code class="parameter">$delete_old_session</code><span class="initializer"> = <strong><code><a href="#constant.false">false</a></code></strong></span></span>): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>

  <p class="para rdfs-comment">
   <span class="function"><strong>session_regenerate_id()</strong></span> reemplazará el identificador
   de sesión actual por uno nuevo, generado automáticamente, manteniendo
   los valores de sesión.
  </p>
  <p class="para">
   Cuando la opción <a href="#ini.session.use-trans-sid" class="link">session.use_trans_sid</a>
   está activa, la salida para visualización debe comenzar después de la llamada a la función
   <span class="function"><strong>session_regenerate_id()</strong></span>. De lo contrario, se utilizará el antiguo ID de sesión.
  </p>
  <div class="warning"><strong class="warning">Advertencia</strong>
   <p class="para">
    Actualmente, session_regenerate_id no maneja adecuadamente una red inestable.
    Por ejemplo, redes móviles y WiFi. Por lo tanto, puede encontrarse una
    pérdida de sesión al llamar a session_regenerate_id.
   </p>
   <p class="para">
    No se deben destruir los antiguos datos de sesión inmediatamente,
    sino que se debe utilizar el timestamp de destrucción y controlar el acceso
    al antiguo ID de sesión. De lo contrario, el acceso simultáneo a la página puede provocar un
    estado inconsistente, o quizás se haya perdido la sesión, o puede
    provocar un acceso concurrente lado-cliente (navegador) y puede crear
    muchos ID de sesión innecesariamente. La eliminación inmediata de datos de
    sesión también desactiva la detección y prevención de ataques de secuestro de sesión.
   </p>
  </div>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.session-regenerate-id-parameters">
  <h3 class="title">Parámetros</h3>
  <p class="para">
   </p><dl>
    
     <dt><code class="parameter">delete_old_session</code></dt>
      <dd>
       <p class="para">
        Si se debe borrar el antiguo archivo de sesión asociado o no.
        No se debe eliminar la antigua sesión si se necesita
        evitar accesos concurrentes causados por la eliminación o detectar/evitar
        ataques de secuestro de sesión.
       </p>
      </dd>
     
   </dl>
  
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.session-regenerate-id-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Esta función retorna <strong><code><a href="#constant.true">true</a></code></strong> en caso de éxito o <strong><code><a href="#constant.false">false</a></code></strong> si ocurre un error.
  </p>
 </div>


 <div class="refsect1 examples" id="refsect1-function.session-regenerate-id-examples">
  <h3 class="title">Ejemplos</h3>
  <p class="para">
   </p><div class="example" id="example-5019">
    <p><strong>Ejemplo #1 Ejemplo con <span class="function"><strong>session_regenerate_id()</strong></span></strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br></span><span style="color: #FF8000">// Nota: este código no funciona completamente, es un ejemplo!<br><br></span><span style="color: #0000BB">session_start</span><span style="color: #007700">();<br><br></span><span style="color: #FF8000">// Verificar el timestamp de destrucción<br></span><span style="color: #007700">if (isset(</span><span style="color: #0000BB">$_SESSION</span><span style="color: #007700">[</span><span style="color: #DD0000">'destroyed'</span><span style="color: #007700">])<br>    &amp;&amp; </span><span style="color: #0000BB">$_SESSION</span><span style="color: #007700">[</span><span style="color: #DD0000">'destroyed'</span><span style="color: #007700">] &lt; </span><span style="color: #0000BB">time</span><span style="color: #007700">() - </span><span style="color: #0000BB">300</span><span style="color: #007700">) {<br>    </span><span style="color: #FF8000">// No debería ocurrir habitualmente. Esto podría ser una ataque<br>    // o debido a una red inestable. Elimine todo el estado de<br>    // autenticación de esta sesión de usuario.<br>    </span><span style="color: #0000BB">remove_all_authentication_flag_from_active_sessions</span><span style="color: #007700">(</span><span style="color: #0000BB">$_SESSION</span><span style="color: #007700">[</span><span style="color: #DD0000">'userid'</span><span style="color: #007700">]);<br>    throw(new </span><span style="color: #0000BB">DestroyedSessionAccessException</span><span style="color: #007700">);<br>}<br><br></span><span style="color: #0000BB">$old_sessionid </span><span style="color: #007700">= </span><span style="color: #0000BB">session_id</span><span style="color: #007700">();<br><br></span><span style="color: #FF8000">// Definir el timestamp de destrucción<br></span><span style="color: #0000BB">$_SESSION</span><span style="color: #007700">[</span><span style="color: #DD0000">'destroyed'</span><span style="color: #007700">] = </span><span style="color: #0000BB">time</span><span style="color: #007700">(); </span><span style="color: #FF8000">// session_regenerate_id () registra los antiguos datos de sesión<br><br>// Simplemente llamar a session_regenerate_id() puede provocar pérdida de sesión, etc.<br>// Ver el ejemplo siguiente.<br></span><span style="color: #0000BB">session_regenerate_id</span><span style="color: #007700">();<br><br></span><span style="color: #FF8000">// La nueva sesión no necesita el timestamp de destrucción<br></span><span style="color: #007700">unset(</span><span style="color: #0000BB">$_SESSION</span><span style="color: #007700">[</span><span style="color: #DD0000">'destroyed'</span><span style="color: #007700">]);<br><br></span><span style="color: #0000BB">$new_sessionid </span><span style="color: #007700">= </span><span style="color: #0000BB">session_id</span><span style="color: #007700">();<br><br>echo </span><span style="color: #DD0000">"Sesión antigua: </span><span style="color: #0000BB">$old_sessionid</span><span style="color: #DD0000">&lt;br /&gt;"</span><span style="color: #007700">;<br>echo </span><span style="color: #DD0000">"Sesión nueva: </span><span style="color: #0000BB">$new_sessionid</span><span style="color: #DD0000">&lt;br /&gt;"</span><span style="color: #007700">;<br><br></span><span style="color: #0000BB">print_r</span><span style="color: #007700">(</span><span style="color: #0000BB">$_SESSION</span><span style="color: #007700">);<br></span><span style="color: #0000BB">?&gt;</span></span></code></div>
    </div>

   </div>
  

  <p class="para">
   El módulo de sesión actual no maneja adecuadamente una red inestable. Se debe
   gestionar el ID de sesión para evitar la pérdida de sesión por session_regenerate_id.
  </p>

  <p class="para">
   </p><div class="example" id="example-5020">
    <p><strong>Ejemplo #2 Evitar la pérdida de sesión por <span class="function"><strong>session_regenerate_id()</strong></span></strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br></span><span style="color: #FF8000">// Nota: este código no funciona completamente, es un ejemplo!<br>// my_session_start() y my_session_regenerate_id() evitan sesiones perdidas<br>// por red inestable. Además, este código puede evitar la explotación de<br>// sesión robada por atacantes.<br><br></span><span style="color: #007700">function </span><span style="color: #0000BB">my_session_start</span><span style="color: #007700">() {<br>    </span><span style="color: #0000BB">session_start</span><span style="color: #007700">();<br>    if (isset(</span><span style="color: #0000BB">$_SESSION</span><span style="color: #007700">[</span><span style="color: #DD0000">'destroyed'</span><span style="color: #007700">])) {<br>       if (</span><span style="color: #0000BB">$_SESSION</span><span style="color: #007700">[</span><span style="color: #DD0000">'destroyed'</span><span style="color: #007700">] &lt; </span><span style="color: #0000BB">time</span><span style="color: #007700">()-</span><span style="color: #0000BB">300</span><span style="color: #007700">) {<br>           </span><span style="color: #FF8000">// No debería ocurrir habitualmente. Esto podría ser una<br>           // ataque o debido a una red inestable. Elimine todo el estado<br>           // de autenticación de esta sesión de usuario.<br>            </span><span style="color: #0000BB">remove_all_authentication_flag_from_active_sessions</span><span style="color: #007700">(</span><span style="color: #0000BB">$_SESSION</span><span style="color: #007700">[</span><span style="color: #DD0000">'userid'</span><span style="color: #007700">]);<br>           throw(new </span><span style="color: #0000BB">DestroyedSessionAccessException</span><span style="color: #007700">);<br>       }<br>       if (isset(</span><span style="color: #0000BB">$_SESSION</span><span style="color: #007700">[</span><span style="color: #DD0000">'new_session_id'</span><span style="color: #007700">])) {<br>           </span><span style="color: #FF8000">// No ha expirado completamente. Podría ser pérdida de cookie por red inestable.<br>           // Intente nuevamente definir la cookie de ID de sesión adecuada.<br>           // Nota: no intente redefinir el ID de sesión si<br>           // desea eliminar el estado de autenticación.<br>           </span><span style="color: #0000BB">session_commit</span><span style="color: #007700">();<br>           </span><span style="color: #0000BB">session_id</span><span style="color: #007700">(</span><span style="color: #0000BB">$_SESSION</span><span style="color: #007700">[</span><span style="color: #DD0000">'new_session_id'</span><span style="color: #007700">]);<br>           </span><span style="color: #FF8000">// El nuevo ID de sesión debe existir<br>           </span><span style="color: #0000BB">session_start</span><span style="color: #007700">();<br>           return;<br>       }<br>   }<br>}<br><br>function </span><span style="color: #0000BB">my_session_regenerate_id</span><span style="color: #007700">() {<br>    </span><span style="color: #FF8000">// El nuevo ID de sesión es requerido para definir el ID de sesión adecuado<br>    // cuando el ID de sesión no está definido debido a una red inestable.<br>    </span><span style="color: #0000BB">$new_session_id </span><span style="color: #007700">= </span><span style="color: #0000BB">session_create_id</span><span style="color: #007700">();<br>    </span><span style="color: #0000BB">$_SESSION</span><span style="color: #007700">[</span><span style="color: #DD0000">'new_session_id'</span><span style="color: #007700">] = </span><span style="color: #0000BB">$new_session_id</span><span style="color: #007700">;<br><br>    </span><span style="color: #FF8000">// Define el timestamp de destrucción<br>    </span><span style="color: #0000BB">$_SESSION</span><span style="color: #007700">[</span><span style="color: #DD0000">'destroyed'</span><span style="color: #007700">] = </span><span style="color: #0000BB">time</span><span style="color: #007700">();<br><br>    </span><span style="color: #FF8000">// Escribe y cierra la sesión actual<br>    </span><span style="color: #0000BB">session_commit</span><span style="color: #007700">();<br><br>    </span><span style="color: #FF8000">// Inicia la sesión con un nuevo ID<br>    </span><span style="color: #0000BB">session_id</span><span style="color: #007700">(</span><span style="color: #0000BB">$new_session_id</span><span style="color: #007700">);<br>    </span><span style="color: #0000BB">ini_set</span><span style="color: #007700">(</span><span style="color: #DD0000">'session.use_strict_mode'</span><span style="color: #007700">, </span><span style="color: #0000BB">0</span><span style="color: #007700">);<br>    </span><span style="color: #0000BB">session_start</span><span style="color: #007700">();<br>    </span><span style="color: #0000BB">ini_set</span><span style="color: #007700">(</span><span style="color: #DD0000">'session.use_strict_mode'</span><span style="color: #007700">, </span><span style="color: #0000BB">1</span><span style="color: #007700">);<br><br>    </span><span style="color: #FF8000">// La nueva sesión no lo necesita<br>    </span><span style="color: #007700">unset(</span><span style="color: #0000BB">$_SESSION</span><span style="color: #007700">[</span><span style="color: #DD0000">'destroyed'</span><span style="color: #007700">]);<br>    unset(</span><span style="color: #0000BB">$_SESSION</span><span style="color: #007700">[</span><span style="color: #DD0000">'new_session_id'</span><span style="color: #007700">]);<br>}<br></span><span style="color: #0000BB">?&gt;</span></span></code></div>
    </div>

   </div>
  

 </div>


 <div class="refsect1 seealso" id="refsect1-function.session-regenerate-id-seealso">
  <h3 class="title">Ver también</h3>
  <p class="para">
   </p><ul class="simplelist">
    <li><span class="function"><a href="#function.session-id" class="function" rel="rdfs-seeAlso">session_id()</a> - Lee y/o modifica el identificador de sesión actual</span></li>
    <li><span class="function"><a href="#function.session-create-id" class="function" rel="rdfs-seeAlso">session_create_id()</a> - Crear un nuevo ID de sesión</span></li>
    <li><span class="function"><a href="#function.session-start" class="function" rel="rdfs-seeAlso">session_start()</a> - Inicia una nueva sesión o reanuda una sesión existente</span></li>
    <li><span class="function"><a href="#function.session-destroy" class="function" rel="rdfs-seeAlso">session_destroy()</a> - Destruye una sesión</span></li>
    <li><span class="function"><a href="#function.session-reset" class="function" rel="rdfs-seeAlso">session_reset()</a> - Restablece el array de sesión con los valores originales</span></li>
    <li><span class="function"><a href="#function.session-name" class="function" rel="rdfs-seeAlso">session_name()</a> - Lee y/o modifica el nombre de la sesión</span></li>
   </ul>
  
 </div>


</div>
<hr>









<div id="function.session-register-shutdown" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">session_register_shutdown</h1>
  <p class="verinfo">(PHP 5 &gt;= 5.4.0, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">session_register_shutdown</span> — <span class="dc-title">Función de cierre de sesiones</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-function.session-register-shutdown-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>session_register_shutdown</strong></span>(): <span class="type"><a href="language.types.void.html" class="type void">void</a></span></div>

  <p class="para rdfs-comment">
   Registra <span class="function"><a href="#function.session-write-close" class="function">session_write_close()</a></span> como una función de cierre.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.session-register-shutdown-parameters">
  <h3 class="title">Parámetros</h3>
  <p class="para">Esta función no contiene ningún parámetro.</p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.session-register-shutdown-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   No se retorna ningún valor.
  </p>
 </div>


 <div class="refsect1 errors" id="refsect1-function.session-register-shutdown-errors">
  <h3 class="title">Errores/Excepciones</h3>
  <p class="para">
   Emite un error de nivel <strong><code><a href="#constant.e-warning">E_WARNING</a></code></strong> si la función de cierre
   falla.
  </p>
 </div>


</div>
<hr>









<div id="function.session-reset" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">session_reset</h1>
  <p class="verinfo">(PHP 5 &gt;= 5.6.0, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">session_reset</span> — <span class="dc-title">Restablece el array de sesión con los valores originales</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-function.session-reset-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>session_reset</strong></span>(): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>

  <p class="para rdfs-comment">
   <span class="function"><strong>session_reset()</strong></span> restablece una sesión con los valores
   originales almacenados en el almacenamiento de sesión. Esta función requiere
   una sesión activa y anula los cambios en $_SESSION.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.session-reset-parameters">
  <h3 class="title">Parámetros</h3>
  <p class="para">Esta función no contiene ningún parámetro.</p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.session-reset-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Esta función retorna <strong><code><a href="#constant.true">true</a></code></strong> en caso de éxito o <strong><code><a href="#constant.false">false</a></code></strong> si ocurre un error.
  </p>
 </div>


 <div class="refsect1 changelog" id="refsect1-function.session-reset-changelog">
  <h3 class="title">Historial de cambios</h3>
  <table class="doctable informaltable">
   
    <thead>
     <tr>
      <th>Versión</th>
      <th>Descripción</th>
     </tr>

    </thead>

    <tbody class="tbody">
     <tr>
      <td>7.2.0</td>
      <td>
       El tipo de retorno de esta función es ahora <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span>.
       Anteriormente, era <a href="#language.types.declarations.void" class="link">void</a>.
      </td>
     </tr>

    </tbody>
   
  </table>

 </div>


 <div class="refsect1 seealso" id="refsect1-function.session-reset-seealso">
  <h3 class="title">Ver también</h3>
  <p class="para">
   </p><ul class="simplelist">
    <li><var class="varname"><a href="#reserved.variables.session" class="classname">$_SESSION</a></var></li>
    <li>
     La directiva de configuración
     <a href="#ini.session.auto-start" class="link">session.auto_start</a>
    </li>
    <li><span class="function"><a href="#function.session-start" class="function" rel="rdfs-seeAlso">session_start()</a> - Inicia una nueva sesión o reanuda una sesión existente</span></li>
    <li><span class="function"><a href="#function.session-abort" class="function" rel="rdfs-seeAlso">session_abort()</a> - Interrumpe los cambios en el array de sesión y finaliza la sesión</span></li>
    <li><span class="function"><a href="#function.session-commit" class="function" rel="rdfs-seeAlso">session_commit()</a> - Alias de session_write_close</span></li>
   </ul>
  
 </div>


</div>
<hr>








<div id="function.session-save-path" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">session_save_path</h1>
  <p class="verinfo">(PHP 4, PHP 5, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">session_save_path</span> — <span class="dc-title">Lee y/o modifica la ruta de guardado de las sesiones</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-function.session-save-path-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>session_save_path</strong></span>(<span class="methodparam"><span class="type"><span class="type"><a href="#language.types.null" class="type null">?</a></span><span class="type"><a href="#language.types.string" class="type string">string</a></span></span> <code class="parameter">$path</code><span class="initializer"> = <strong><code><a href="#constant.null">null</a></code></strong></span></span>): <span class="type"><span class="type"><a href="#language.types.string" class="type string">string</a></span>|<span class="type"><a href="#language.types.singleton" class="type false">false</a></span></span></div>

  <p class="para rdfs-comment">
   <span class="function"><strong>session_save_path()</strong></span> devuelve la ruta del directorio
   actualmente utilizado para guardar los datos de las sesiones.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.session-save-path-parameters">
  <h3 class="title">Parámetros</h3>
  <p class="para">
   </p><dl>
    
     <dt><code class="parameter">path</code></dt>
     <dd>
      <p class="para">
       Ruta de los datos de sesión. Si <code class="parameter">path</code>
       está especificado y no es <strong><code><a href="#constant.null">null</a></code></strong>, la ruta del directorio será modificada.
       <span class="function"><strong>session_save_path()</strong></span> debe ser llamado
       antes que <span class="function"><a href="#function.session-start" class="function">session_start()</a></span>.
      </p>
      <p class="para">
       </p><blockquote class="note"><p><strong class="note">Nota</strong>: 
        </p><p class="para">
         En ciertos sistemas operativos, será necesario elegir una
         ruta hacia un directorio capaz de manejar un gran número de pequeños
         ficheros de manera eficiente.
        </p>
       </blockquote>
      
     </dd>
    
   </dl>
  
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.session-save-path-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Devuelve la ruta del directorio actual utilizado para almacenar los datos,  o <strong><code><a href="#constant.false">false</a></code></strong> si ocurre un error.
  </p>
 </div>


 <div class="refsect1 changelog" id="refsect1-function.session-save-path-changelog">
  <h3 class="title">Historial de cambios</h3>
  <table class="doctable informaltable">
   
    <thead>
     <tr>
      <th>Versión</th>
      <th>Descripción</th>
     </tr>

    </thead>

    <tbody class="tbody">
     <tr>
      <td>8.0.0</td>
      <td>
       <code class="parameter">path</code> ahora es nullable.
      </td>
     </tr>

    </tbody>
   
  </table>

 </div>


 <div class="refsect1 seealso" id="refsect1-function.session-save-path-seealso">
  <h3 class="title">Ver también</h3>
  <p class="para">
   </p><ul class="simplelist">
    <li>
     La directiva de configuración <a href="#ini.session.save-path" class="link">session.save_path</a>
    </li>
   </ul>
  
 </div>


</div>
<hr>







<div id="function.session-set-cookie-params" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">session_set_cookie_params</h1>
  <p class="verinfo">(PHP 4, PHP 5, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">session_set_cookie_params</span> — <span class="dc-title">Modifica los parámetros de la cookie de sesión</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-function.session-set-cookie-params-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>session_set_cookie_params</strong></span>(<br>    <span class="methodparam"><span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$lifetime_or_options</code></span>,<br>    <span class="methodparam"><span class="type"><span class="type"><a href="#language.types.null" class="type null">?</a></span><span class="type"><a href="#language.types.string" class="type string">string</a></span></span> <code class="parameter">$path</code><span class="initializer"> = <strong><code><a href="#constant.null">null</a></code></strong></span></span>,<br>    <span class="methodparam"><span class="type"><span class="type"><a href="#language.types.null" class="type null">?</a></span><span class="type"><a href="#language.types.string" class="type string">string</a></span></span> <code class="parameter">$domain</code><span class="initializer"> = <strong><code><a href="#constant.null">null</a></code></strong></span></span>,<br>    <span class="methodparam"><span class="type"><span class="type"><a href="#language.types.null" class="type null">?</a></span><span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></span> <code class="parameter">$secure</code><span class="initializer"> = <strong><code><a href="#constant.null">null</a></code></strong></span></span>,<br>    <span class="methodparam"><span class="type"><span class="type"><a href="#language.types.null" class="type null">?</a></span><span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></span> <code class="parameter">$httponly</code><span class="initializer"> = <strong><code><a href="#constant.null">null</a></code></strong></span></span><br>): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>

  <p class="para rdfs-comment">Firma alternativa disponible a partir de PHP 7.3.0:</p>
  <div class="methodsynopsis dc-description"><span class="methodname"><strong>session_set_cookie_params</strong></span>(<span class="methodparam"><span class="type"><a href="#language.types.array" class="type array">array</a></span> <code class="parameter">$lifetime_or_options</code></span>): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>

  <p class="para rdfs-comment">
   Modifica los parámetros de configuración de la cookie de sesión, que ha sido
   configurada en el archivo <var class="filename">php.ini</var>. El efecto de esta función solo dura
   durante la ejecución del script actual. Por lo tanto, debe llamarse
   a <span class="function"><strong>session_set_cookie_params()</strong></span> para cada script y antes
   de la llamada a <span class="function"><a href="#function.session-start" class="function">session_start()</a></span>.
  </p>
  <p class="para">
   Esta función modifica los parámetros ini correspondientes que pueden ser
   recuperados mediante <span class="function"><a href="#function.ini-get" class="function">ini_get()</a></span>.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.session-set-cookie-params-parameters">
  <h3 class="title">Parámetros</h3>
  <p class="para">
   </p><dl>
    
     <dt><code class="parameter">lifetime_or_options</code></dt>
     <dd>
      <p class="para">
       Al utilizar la primera firma, la duración de vida de la cookie, en segundos.
       Ver la directiva <a href="#ini.session.cookie-lifetime" class="link">lifetime</a>.
      </p>
      <p class="para">
       Al utilizar la segunda firma,
       un <span class="type"><a href="#language.types.array" class="type array">array</a></span> asociativo que puede tener como claves
       <code class="literal">lifetime</code>, <code class="literal">path</code>, <code class="literal">domain</code>,
       <code class="literal">secure</code>, <code class="literal">httponly</code> y <code class="literal">samesite</code>.
       Los valores tienen la misma significación que los descritos para los parámetros
       con el mismo nombre. El valor del elemento <code class="literal">samesite</code> debe ser
       <code class="literal">Lax</code> o <code class="literal">Strict</code>.
       Si una opción autorizada no es proporcionada, su valor por defecto será
       idéntico al valor por defecto de los parámetros explícitos. Si el elemento
       <code class="literal">samesite</code> es omitido, entonces el atributo SameSite de la cookie
       no será definido.
      </p>
     </dd>
    
    
     <dt><code class="parameter">path</code></dt>
     <dd>
      <p class="para">
       La ruta en el dominio donde la cookie será accesible. Utilice
       una barra simple ('/') para todos los caminos del dominio.
       Ver la directiva <a href="#ini.session.cookie-path" class="link">path</a>.
      </p>
     </dd>
    
    
     <dt><code class="parameter">domain</code></dt>
     <dd>
      <p class="para">
       El dominio de la cookie, por ejemplo 'www.php.net'. Para hacer visibles las cookies
       en todos los subdominios, el dominio debe ser prefijado con
       un punto, tal como '.php.net'.
       Ver la directiva <a href="#ini.session.cookie-domain" class="link">domain</a>.
      </p>
     </dd>
    
    
     <dt><code class="parameter">secure</code></dt>
     <dd>
      <p class="para">
       Si <strong><code><a href="#constant.true">true</a></code></strong>, la cookie solo será enviada en una conexión segura.
       Ver la directiva <a href="#ini.session.cookie-secure" class="link">secure</a>.
      </p>
     </dd>
    
    
     <dt><code class="parameter">httponly</code></dt>
     <dd>
      <p class="para">
       Si <strong><code><a href="#constant.true">true</a></code></strong>, PHP intentará enviar la opción httponly
       durante la configuración de la cookie.
       Ver la directiva <a href="#ini.session.cookie-httponly" class="link">httponly</a>.
      </p>
     </dd>
    
   </dl>
  
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.session-set-cookie-params-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Esta función retorna <strong><code><a href="#constant.true">true</a></code></strong> en caso de éxito o <strong><code><a href="#constant.false">false</a></code></strong> si ocurre un error.
  </p>
 </div>


 <div class="refsect1 changelog" id="refsect1-function.session-set-cookie-params-changelog">
  <h3 class="title">Historial de cambios</h3>
  <p class="para">
   </p><table class="doctable informaltable">
    
     <thead>
      <tr>
       <th>Versión</th>
       <th>Descripción</th>
      </tr>

     </thead>

     <tbody class="tbody">
      <tr>
       <td>8.0.0</td>
       <td>
        <code class="parameter">path</code>, <code class="parameter">domain</code>,
        <code class="parameter">secure</code> y <code class="parameter">httponly</code> ahora son nullable.
       </td>
      </tr>

      <tr>
       <td>7.3.0</td>
       <td>
        Se añadió una firma alternativa que soporta un <span class="type"><a href="#language.types.array" class="type array">array</a></span>
        de <code class="parameter">lifetime_or_options</code>. Esta firma soporta la definición
        del atributo SameSite de la cookie.
       </td>
      </tr>

      <tr>
       <td>7.2.0</td>
       <td>
        Esta función retorna <strong><code><a href="#constant.true">true</a></code></strong> en caso de éxito o <strong><code><a href="#constant.false">false</a></code></strong> si ocurre un error. Anteriormente la función retornaba <a href="#language.types.declarations.void" class="link">void</a>.
       </td>
      </tr>

     </tbody>
    
   </table>

  
 </div>


 <div class="refsect1 seealso" id="refsect1-function.session-set-cookie-params-seealso">
  <h3 class="title">Ver también</h3>
  <p class="para">
   </p><ul class="simplelist">
    <li>
     <a href="#ini.session.cookie-lifetime" class="link">session.cookie_lifetime</a>
    </li>
    <li>
     <a href="#ini.session.cookie-path" class="link">session.cookie_path</a>
    </li>
    <li>
     <a href="#ini.session.cookie-domain" class="link">session.cookie_domain</a>
    </li>
    <li>
     <a href="#ini.session.cookie-secure" class="link">session.cookie_secure</a>
    </li>
    <li>
     <a href="#ini.session.cookie-httponly" class="link">session.cookie_httponly</a>
    </li>
    <li>
     <a href="#ini.session.cookie-samesite" class="link">session.cookie_samesite</a>
    </li>
    <li>
     <span class="function"><a href="#function.session-get-cookie-params" class="function" rel="rdfs-seeAlso">session_get_cookie_params()</a> - Lee la configuración del cookie de sesión</span>
    </li>
   </ul>
  
 </div>


</div>
<hr>








<div id="function.session-set-save-handler" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">session_set_save_handler</h1>
  <p class="verinfo">(PHP 4, PHP 5, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">session_set_save_handler</span> — <span class="dc-title">Configura las funciones de almacenamiento de sesiones</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-function.session-set-save-handler-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>session_set_save_handler</strong></span>(<br>    <span class="methodparam"><span class="type"><a href="#language.types.callable" class="type callable">callable</a></span> <code class="parameter">$open</code></span>,<br>    <span class="methodparam"><span class="type"><a href="#language.types.callable" class="type callable">callable</a></span> <code class="parameter">$close</code></span>,<br>    <span class="methodparam"><span class="type"><a href="#language.types.callable" class="type callable">callable</a></span> <code class="parameter">$read</code></span>,<br>    <span class="methodparam"><span class="type"><a href="#language.types.callable" class="type callable">callable</a></span> <code class="parameter">$write</code></span>,<br>    <span class="methodparam"><span class="type"><a href="#language.types.callable" class="type callable">callable</a></span> <code class="parameter">$destroy</code></span>,<br>    <span class="methodparam"><span class="type"><a href="#language.types.callable" class="type callable">callable</a></span> <code class="parameter">$gc</code></span>,<br>    <span class="methodparam"><span class="type"><a href="#language.types.callable" class="type callable">callable</a></span> <code class="parameter">$create_sid</code><span class="initializer"> = ?</span></span>,<br>    <span class="methodparam"><span class="type"><a href="#language.types.callable" class="type callable">callable</a></span> <code class="parameter">$validate_sid</code><span class="initializer"> = ?</span></span>,<br>    <span class="methodparam"><span class="type"><a href="#language.types.callable" class="type callable">callable</a></span> <code class="parameter">$update_timestamp</code><span class="initializer"> = ?</span></span><br>): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>

  <p class="para rdfs-comment">
   Es posible registrar el siguiente prototipo:
  </p>
  <div class="methodsynopsis dc-description"><span class="methodname"><strong>session_set_save_handler</strong></span>(<span class="methodparam"><span class="type"><a href="#language.types.object" class="type object">object</a></span> <code class="parameter">$sessionhandler</code></span>, <span class="methodparam"><span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span> <code class="parameter">$register_shutdown</code><span class="initializer"> = <strong><code><a href="#constant.true">true</a></code></strong></span></span>): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>

  <p class="para rdfs-comment">
   <span class="function"><strong>session_set_save_handler()</strong></span> configura las funciones
   de almacenamiento de sesiones, y permite elegir funciones de usuario
   para guardar y leer todas las sesiones. Esta función es
   muy práctica cuando se necesita guardar los datos de sesión
   utilizando una técnica diferente al sistema de archivos proporcionado
   por defecto, por ejemplo, el almacenamiento en base de datos.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.session-set-save-handler-parameters">
  <h3 class="title">Parámetros</h3>
  <p class="para">
   Esta función tiene dos prototipos.
   </p><dl>
    
     <dt><code class="parameter">sessionhandler</code></dt>
     <dd>
      <p class="para">
       Una instancia de una clase que implementa una o más de las siguientes interfaces:
       <span class="interfacename"><a href="#class.sessionhandlerinterface" class="interfacename">SessionHandlerInterface</a></span>, y opcionalmente
       <span class="interfacename"><a href="#class.sessionidinterface" class="interfacename">SessionIdInterface</a></span>, y/o
       <span class="interfacename"><a href="#class.sessionupdatetimestamphandlerinterface" class="interfacename">SessionUpdateTimestampHandlerInterface</a></span>,
       como la clase <span class="classname"><a href="#class.sessionhandler" class="classname">SessionHandler</a></span>,
       para el registro como manejador de sesión.
      </p>
     </dd>
    
    
     <dt><code class="parameter">register_shutdown</code></dt>
     <dd>
      <p class="para">
       Registra la función <span class="function"><a href="#function.session-write-close" class="function">session_write_close()</a></span>
       como función <span class="function"><a href="#function.register-shutdown-function" class="function">register_shutdown_function()</a></span>.
      </p>
     </dd>
    
   </dl>

   o

   <dl>
    
     <dt><code class="parameter">open</code></dt>
     <dd>
      <p class="para">
       Una función de retorno con la siguiente firma:
       </p><div class="methodsynopsis dc-description">
        <span class="methodname"><span class="replaceable">open</span></span>(<span class="methodparam"><span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$savePath</code></span>, <span class="methodparam"><span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$sessionName</code></span>): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>

      
      <p class="para">
       La función de retorno <code class="literal">open</code> funciona como un constructor
       en una clase, y se ejecuta cuando la sesión se abre.
       Es la primera función de retorno ejecutada cuando la sesión
       comienza automáticamente o manualmente con la función
       <span class="function"><a href="#function.session-start" class="function">session_start()</a></span>. El valor devuelto
       es <strong><code><a href="#constant.true">true</a></code></strong> en caso de éxito o <strong><code><a href="#constant.false">false</a></code></strong> si ocurre un error.
      </p>
     </dd>
    
    
     <dt><code class="parameter">close</code></dt>
     <dd>
      <p class="para">
       Una función de retorno con la siguiente firma:
       </p><div class="methodsynopsis dc-description"><span class="methodname"><span class="replaceable">close</span></span>(): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>

      
      <p class="para">
       La función de retorno <code class="literal">close</code> funciona como un
       destructor en una clase, y se ejecuta una vez que la función
       de retorno write de la sesión ha terminado de ejecutarse. También
       es llamada cuando la función <span class="function"><a href="#function.session-write-close" class="function">session_write_close()</a></span> es llamada.
       El valor devuelto es <strong><code><a href="#constant.true">true</a></code></strong> en caso de éxito, o <strong><code><a href="#constant.false">false</a></code></strong> si ocurre un error.
      </p>
     </dd>
    
    
     <dt><code class="parameter">read</code></dt>
     <dd>
      <p class="para">
       Una función de retorno con la siguiente firma:
       </p><div class="methodsynopsis dc-description"><span class="methodname"><span class="replaceable">read</span></span>(<span class="methodparam"><span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$sessionId</code></span>): <span class="type"><a href="#language.types.string" class="type string">string</a></span></div>

      
      <p class="para">
       La función de retorno <code class="parameter">read</code> debe siempre devolver
       un string serializado que contenga los datos de sesión codificados
       o un string vacío si no hay datos que leer.
      </p>
      <p class="para">
       Esta función de retorno es llamada internamente por PHP cuando la sesión
       comienza o cuando la función <span class="function"><a href="#function.session-start" class="function">session_start()</a></span> es llamada.
       Antes de que esta función de retorno sea invocada, PHP invocará
       la función de retorno <code class="parameter">open</code>.
      </p>
      <p class="para">
       El valor devuelto por esta función de retorno debe ser exactamente del mismo
       formato de serialización que el pasado para el almacenamiento a la función
       de retorno <code class="parameter">write</code>. El valor devuelto será deserializado
       automáticamente por PHP y utilizado para poblar la variable superglobal
       <var class="varname"><a href="#reserved.variables.session" class="classname">$_SESSION</a></var>. Aunque los datos se asemejen fuertemente
       a los emitidos por la función <span class="function"><a href="#function.serialize" class="function">serialize()</a></span>, note que es un
       formato diferente, que es especificado mediante la opción de configuración
       <a href="#ini.session.serialize-handler" class="link">session.serialize_handler</a>.
      </p>
     </dd>
    
    
     <dt><code class="parameter">write</code></dt>
     <dd>
      <p class="para">
       Una función de retorno con la siguiente firma:
       </p><div class="methodsynopsis dc-description"><span class="methodname"><span class="replaceable">write</span></span>(<span class="methodparam"><span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$sessionId</code></span>, <span class="methodparam"><span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$data</code></span>): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>

      
      <p class="para">
       La función de retorno <code class="parameter">write</code> es llamada cuando la sesión
       debe ser guardada y cerrada. Esta función de retorno recibe el identificador de
       la sesión actual así como una versión serializada del contenido de la variable
       superglobal <var class="varname"><a href="#reserved.variables.session" class="classname">$_SESSION</a></var>. El método de serialización utilizado internamente
       por PHP es especificado mediante la opción de configuración
       <a href="#ini.session.serialize-handler" class="link">session.serialize_handler</a>.
      </p>
      <p class="para">
       Los datos de sesión serializados pasados a esta función de retorno deben ser
       almacenados utilizando el identificador de sesión proporcionado. Al recuperar
       estos datos, la función de retorno <code class="parameter">read</code> debe devolver
       el valor exacto, originalmente pasado a la función de retorno <code class="parameter">write</code>.
      </p>
      <p class="para">
       Esta función de retorno es invocada cuando PHP se detiene o explícitamente
       cuando la función <span class="function"><a href="#function.session-write-close" class="function">session_write_close()</a></span> es llamada.
       Note que después de la ejecución de esta función, PHP ejecutará internamente
       la función de retorno <code class="parameter">close</code>.
       </p><blockquote class="note"><p><strong class="note">Nota</strong>: 
        </p><p class="para">
         El manejador de escritura no se ejecuta hasta que el flujo de salida
         no haya sido cerrado. Por lo tanto, la salida de las peticiones de depuración
         del manejador "write" nunca será mostrada en el navegador.
         Si la salida de depuración es necesaria, se sugiere que sea dirigida a un archivo.
        </p>
       </blockquote>
      
     </dd>
    
    
     <dt><code class="parameter">destroy</code></dt>
     <dd>
      <p class="para">
       Una función de retorno con la siguiente firma:
       </p><div class="methodsynopsis dc-description">
        <span class="methodname"><span class="replaceable">destroy</span></span>(<span class="methodparam"><span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$sessionId</code></span>): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>

      
      <p class="para">
       Esta función de retorno es ejecutada cuando una sesión es destruida
       con la función <span class="function"><a href="#function.session-destroy" class="function">session_destroy()</a></span> o con
       <span class="function"><a href="#function.session-regenerate-id" class="function">session_regenerate_id()</a></span> con el parámetro de destrucción definido
       a <strong><code><a href="#constant.true">true</a></code></strong>. El valor devuelto debe ser <strong><code><a href="#constant.true">true</a></code></strong> en caso de éxito, o <strong><code><a href="#constant.false">false</a></code></strong> si ocurre un error.
      </p>
     </dd>
    
    
     <dt><code class="parameter">gc</code></dt>
     <dd>
      <p class="para">
       Una función de retorno con la siguiente firma:
       </p><div class="methodsynopsis dc-description"><span class="methodname"><span class="replaceable">gc</span></span>(<span class="methodparam"><span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$lifetime</code></span>): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>

      
      <p class="para">
       La función de retorno del recolector de basura es invocada internamente por PHP
       periódicamente para purgar los datos de sesión antiguos. La frecuencia
       es controlada por las opciones de configuración
       <a href="#ini.session.gc-probability" class="link">session.gc_probability</a> y
       <a href="#ini.session.gc-divisor" class="link">session.gc_divisor</a>.
       El valor de la duración de vida pasado a esta función de retorno puede ser
       definido mediante la opción de configuración <a href="#ini.session.gc-maxlifetime" class="link">session.gc_maxlifetime</a>.
       El valor devuelto debe ser <strong><code><a href="#constant.true">true</a></code></strong> en caso de éxito, o <strong><code><a href="#constant.false">false</a></code></strong> si ocurre un error.
      </p>
     </dd>
    
    
     <dt><code class="parameter">create_sid</code></dt>
     <dd>
      <p class="para">
       Una función de retorno con la siguiente firma:
       </p><div class="methodsynopsis dc-description"><span class="methodname"><span class="replaceable">create_sid</span></span>(): <span class="type"><a href="#language.types.string" class="type string">string</a></span></div>

      
      <p class="para">
       Esta función de retorno es ejecutada cuando se necesita un nuevo ID de sesión.
       No se proporcionan parámetros, y el valor devuelto debe ser un string que es un ID de sesión válido para su manejador.
      </p>
     </dd>
    
    
     <dt><code class="parameter">validate_sid</code></dt>
     <dd>
      <p class="para">
       Una función de retorno con la siguiente firma:
       </p><div class="methodsynopsis dc-description"><span class="methodname"><span class="replaceable">validate_sid</span></span>(<span class="methodparam"><span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$key</code></span>): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>

      
      <p class="para">
       Esta función de retorno es ejecutada cuando una sesión va a comenzar, un ID
       de sesión es proporcionado y
       <a href="#ini.session.use-strict-mode" class="link">session.use_strict_mode</a>
       está activado.
       <code class="parameter">key</code> es el ID de sesión a validar.
       Un ID de sesión es válido, si una sesión con este ID ya existe.
       El valor de retorno debe ser <strong><code><a href="#constant.true">true</a></code></strong> en caso de éxito, <strong><code><a href="#constant.false">false</a></code></strong> en caso de fallo.
      </p>
     </dd>
    
    
     <dt><code class="parameter">update_timestamp</code></dt>
     <dd>
      <p class="para">
       Una función de retorno con la siguiente firma:
       </p><div class="methodsynopsis dc-description"><span class="methodname"><span class="replaceable">update_timestamp</span></span>(<span class="methodparam"><span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$key</code></span>, <span class="methodparam"><span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$val</code></span>): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>

      
      <p class="para">
       Esta función de retorno es ejecutada cuando una sesión es actualizada.
       <code class="parameter">key</code> es el ID de sesión, <code class="parameter">val</code>
       son los datos de sesión.
       El valor de retorno debe ser <strong><code><a href="#constant.true">true</a></code></strong> en caso de éxito, <strong><code><a href="#constant.false">false</a></code></strong> en caso de fallo.
      </p>
     </dd>
    
   </dl>
  
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.session-set-save-handler-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Esta función retorna <strong><code><a href="#constant.true">true</a></code></strong> en caso de éxito o <strong><code><a href="#constant.false">false</a></code></strong> si ocurre un error.
  </p>
 </div>


 <div class="refsect1 examples" id="refsect1-function.session-set-save-handler-examples">
  <h3 class="title">Ejemplos</h3>
  <p class="para">
   </p><div class="example" id="example-5021">
    <p><strong>Ejemplo #1 
     Manejador de sesión personalizado: ver el código completo
     en la documentación sobre la interfaz <span class="classname"><a href="#class.sessionhandlerinterface" class="classname">SessionHandlerInterface</a></span>.
    </strong></p>
    <div class="example-contents"><p>
     Solo mostramos la invocación aquí, el ejemplo completo puede verse en
     la documentación de la interfaz
     <span class="classname"><a href="#class.sessionhandlerinterface" class="classname">SessionHandlerInterface</a></span>.
    </p></div>
    <div class="example-contents"><p>
     Note que aquí utilizamos el prototipo orientado a objetos con
     <span class="function"><strong>session_set_save_handler()</strong></span> y registramos la función de cierre
     utilizando el flag en el parámetro de la función. Esto es generalmente
     preferible al registrar objetos como manejadores de guardado de sesión.
    </p></div>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br></span><span style="color: #007700">class </span><span style="color: #0000BB">MySessionHandler </span><span style="color: #007700">implements </span><span style="color: #0000BB">SessionHandlerInterface<br></span><span style="color: #007700">{<br>    </span><span style="color: #FF8000">// implementación de la interfaz aquí<br></span><span style="color: #007700">}<br><br></span><span style="color: #0000BB">$handler </span><span style="color: #007700">= new </span><span style="color: #0000BB">MySessionHandler</span><span style="color: #007700">();<br></span><span style="color: #0000BB">session_set_save_handler</span><span style="color: #007700">(</span><span style="color: #0000BB">$handler</span><span style="color: #007700">, </span><span style="color: #0000BB">true</span><span style="color: #007700">);<br></span><span style="color: #0000BB">session_start</span><span style="color: #007700">();<br><br></span><span style="color: #FF8000">// proceso para definir y recuperar los valores por sus claves desde $_SESSION</span></span></code></div>
    </div>

   </div>
  
 </div>


 <div class="refsect1 notes" id="refsect1-function.session-set-save-handler-notes">
  <h3 class="title">Notas</h3>
  <div class="warning"><strong class="warning">Advertencia</strong>
   <p class="para">
    Los manejadores de escritura <code class="parameter">write</code> y cierre
    <code class="parameter">close</code> son llamados después de la destrucción de los objetos,
    y por lo tanto, no pueden utilizar los objetos ni lanzar excepciones.
    Las excepciones no pueden ser atrapadas ni mostradas,
    y la ejecución solo se detendrá de manera inesperada.
   </p>
   <p class="para">
    Es posible llamar a <span class="function"><a href="#function.session-write-close" class="function">session_write_close()</a></span> desde
    el destructor para resolver este problema pero la forma más elegante
    es registrar la función de cierre tal como se describe arriba.
   </p>
  </div>
  <div class="warning"><strong class="warning">Advertencia</strong>
   <p class="para">
    El directorio de trabajo actual cambia según las SAPIs si la sesión
    es cerrada al final del script. Es posible cerrar la sesión más tarde,
    gracias a la función <span class="function"><a href="#function.session-write-close" class="function">session_write_close()</a></span>.
   </p>
  </div>
 </div>


 <div class="refsect1 seealso" id="refsect1-function.session-set-save-handler-seealso">
  <h3 class="title">Ver también</h3>
  <p class="para">
   </p><ul class="simplelist">
    <li>
     La directiva de configuración <a href="#ini.session.save-handler" class="link">session.save_handler</a>
    </li>
    <li>
     La directiva de configuración
     <a href="#ini.session.serialize-handler" class="link">session.serialize_handler</a>.
    </li>
    <li><span class="function"><a href="#function.register-shutdown-function" class="function" rel="rdfs-seeAlso">register_shutdown_function()</a> - Registra una función de retrollamada para ejecución al cierre</span></li>
    <li><span class="function"><a href="#function.session-register-shutdown" class="function" rel="rdfs-seeAlso">session_register_shutdown()</a> - Función de cierre de sesiones</span></li>
    <li>
     Ver <a href="https://github.com/php/php-src/blob/master/ext/session/tests/save_handler.inc" class="link external">» save_handler.inc</a>
     para una implementación procedimental completa
    </li>
   </ul>
  
 </div>


</div>
<hr>








<div id="function.session-start" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">session_start</h1>
  <p class="verinfo">(PHP 4, PHP 5, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">session_start</span> — <span class="dc-title">Inicia una nueva sesión o reanuda una sesión existente</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-function.session-start-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>session_start</strong></span>(<span class="methodparam"><span class="type"><a href="#language.types.array" class="type array">array</a></span> <code class="parameter">$options</code><span class="initializer"> = []</span></span>): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>

  <p class="para rdfs-comment">
   <span class="function"><strong>session_start()</strong></span> crea una sesión o
   restaura la encontrada en el servidor, mediante el identificador
   de sesión pasado en una petición GET, POST o mediante una cookie.
  </p>
  <p class="para">
   Cuando <span class="function"><strong>session_start()</strong></span> es llamada o cuando una sesión comienza
   automáticamente, PHP va a llamar a los gestores de apertura y lectura. Estos son
   gestores internos proporcionados por PHP (como archivos, SQLite o Memcached) o bien
   gestores personalizados definidos mediante
   <span class="function"><a href="#function.session-set-save-handler" class="function">session_set_save_handler()</a></span>. La función de lectura va a recuperar toda
   sesión existente (almacenada en forma serializada) y va a deserializar los datos para poblar
   $_SESSION.
  </p>
  <p class="para">
   Para utilizar una sesión nombrada, debe
   llamarse a <span class="function"><a href="#function.session-name" class="function">session_name()</a></span> antes de llamar
   a <span class="function"><strong>session_start()</strong></span>.
  </p>
  <p class="para">
   Cuando <a href="#ini.session.use-trans-sid" class="link">session.use_trans_sid</a>
   está activada, la función <span class="function"><strong>session_start()</strong></span> registrará un
   gestor interno de salida para la reescritura de URLs.
  </p>
  <p class="para">
   Si un usuario utiliza <code class="literal">ob_gzhandler</code> o el equivalente
   <span class="function"><a href="#function.ob-start" class="function">ob_start()</a></span>, el orden de llamada de las funciones es importante
   para una salida correcta. Por ejemplo,
   <code class="literal">ob_gzhandler</code> debe ser registrado antes de iniciar la sesión.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.session-start-parameters">
  <h3 class="title">Parámetros</h3>
  <dl>
   
    <dt><code class="parameter">options</code></dt>
    <dd>
     <p class="para">
      Si se proporciona, se trata de un array asociativo de opciones que reemplazará
      <a href="#session.configuration" class="link">las directivas de configuración de sesión</a>
      actualmente definidas.
      Las claves no deben incluir el prefijo <code class="literal">session.</code>.
     </p>
     <p class="para">
      Además del conjunto normal de directivas de configuración, una opción
      <code class="literal">read_and_close</code> puede también ser proporcionada. Si la
      valor es definido como <strong><code><a href="#constant.true">true</a></code></strong>, esto provoca el cierre inmediato de
      la sesión después de la lectura, lo que evita cualquier bloqueo innecesario si los
      datos de sesión no son modificados.
     </p>
    </dd>
   
  </dl>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.session-start-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Devuelve <strong><code><a href="#constant.true">true</a></code></strong> si una sesión pudo ser iniciada con éxito, y <strong><code><a href="#constant.false">false</a></code></strong> en caso contrario.
  </p>
 </div>


 <div class="refsect1 changelog" id="refsect1-function.session-start-changelog">
  <h3 class="title">Historial de cambios</h3>
  <p class="para">
   </p><table class="doctable informaltable">
    
     <thead>
      <tr>
       <th>Versión</th>
       <th>Descripción</th>
      </tr>

     </thead>

     <tbody class="tbody">
      <tr>
       <td>7.1.0</td>
       <td>
        <span class="function"><strong>session_start()</strong></span> ahora devuelve <strong><code><a href="#constant.false">false</a></code></strong> y
        ya no inicializa <var class="varname"><a href="#reserved.variables.session" class="classname">$_SESSION</a></var> cuando no ha podido
        iniciar la sesión.
       </td>
      </tr>

     </tbody>
    
   </table>

  
 </div>


 <div class="refsect1 examples" id="refsect1-function.session-start-examples">
  <h3 class="title">Ejemplos</h3>
  <div class="refsect2 unknown-36" id="refsect2-function.session-start-unknown-36">
   <h4 class="title">Un ejemplo de sesión básica</h4>

  <p class="para">
   </p><div class="example" id="example-5022">
    <p><strong>Ejemplo #1 <var class="filename">page1.php</var></strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br></span><span style="color: #FF8000">// page1.php<br><br></span><span style="color: #0000BB">session_start</span><span style="color: #007700">();<br><br>echo </span><span style="color: #DD0000">'Bienvenido a la página número 1'</span><span style="color: #007700">;<br><br></span><span style="color: #0000BB">$_SESSION</span><span style="color: #007700">[</span><span style="color: #DD0000">'favcolor'</span><span style="color: #007700">] = </span><span style="color: #DD0000">'green'</span><span style="color: #007700">;<br></span><span style="color: #0000BB">$_SESSION</span><span style="color: #007700">[</span><span style="color: #DD0000">'animal'</span><span style="color: #007700">]   = </span><span style="color: #DD0000">'cat'</span><span style="color: #007700">;<br></span><span style="color: #0000BB">$_SESSION</span><span style="color: #007700">[</span><span style="color: #DD0000">'time'</span><span style="color: #007700">]     = </span><span style="color: #0000BB">time</span><span style="color: #007700">();<br><br></span><span style="color: #FF8000">// Funciona si la cookie ha sido aceptada<br></span><span style="color: #007700">echo </span><span style="color: #DD0000">'&lt;br /&gt;&lt;a href="page2.php"&gt;página 2&lt;/a&gt;'</span><span style="color: #007700">;<br><br></span><span style="color: #FF8000">// O bien, indicando explícitamente el identificador de sesión<br></span><span style="color: #007700">echo </span><span style="color: #DD0000">'&lt;br /&gt;&lt;a href="page2.php?' </span><span style="color: #007700">. </span><span style="color: #0000BB">SID </span><span style="color: #007700">. </span><span style="color: #DD0000">'"&gt;página 2&lt;/a&gt;'</span><span style="color: #007700">;<br></span><span style="color: #0000BB">?&gt;</span></span></code></div>
    </div>

   </div>
  
  <p class="para">
   Después de ver la página <var class="filename">page1.php</var> con un navegador,
   la segunda página <var class="filename">page2.php</var> (cuyo código sigue) va a mostrar
   mágicamente los datos de sesión. Consulte la referencia sobre
   las <a href="#ref.session" class="link">sesiones</a> para obtener información
   sobre la <a href="#session.idpassing" class="link">propagación de identificadores de sesión</a>,
   y el uso de la constante <strong><code><a href="#constant.sid">SID</a></code></strong>.
  </p>
  <p class="para">
   </p><div class="example" id="example-5023">
    <p><strong>Ejemplo #2 Recuperación de la sesión: <var class="filename">page2.php</var></strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br></span><span style="color: #FF8000">// page2.php<br><br></span><span style="color: #0000BB">session_start</span><span style="color: #007700">();<br><br>echo </span><span style="color: #DD0000">'Bienvenido a la página número 2&lt;br /&gt;'</span><span style="color: #007700">;<br><br>echo </span><span style="color: #0000BB">$_SESSION</span><span style="color: #007700">[</span><span style="color: #DD0000">'favcolor'</span><span style="color: #007700">]; </span><span style="color: #FF8000">// green<br></span><span style="color: #007700">echo </span><span style="color: #0000BB">$_SESSION</span><span style="color: #007700">[</span><span style="color: #DD0000">'animal'</span><span style="color: #007700">];   </span><span style="color: #FF8000">// cat<br></span><span style="color: #007700">echo </span><span style="color: #0000BB">date</span><span style="color: #007700">(</span><span style="color: #DD0000">'Y m d H:i:s'</span><span style="color: #007700">, </span><span style="color: #0000BB">$_SESSION</span><span style="color: #007700">[</span><span style="color: #DD0000">'time'</span><span style="color: #007700">]);<br><br></span><span style="color: #FF8000">// Podría utilizarse la constante SID aquí, al igual que en la página page1.php<br></span><span style="color: #007700">echo </span><span style="color: #DD0000">'&lt;br /&gt;&lt;a href="page1.php"&gt;página 1&lt;/a&gt;'</span><span style="color: #007700">;<br></span><span style="color: #0000BB">?&gt;</span></span></code></div>
    </div>

   </div>
  
  </div>

  <div class="refsect2 unknown-39" id="refsect2-function.session-start-unknown-39">
   <h4 class="title">Proporcionar opciones a <span class="function"><strong>session_start()</strong></span></h4>

   <div class="example" id="example-5024">
    <p><strong>Ejemplo #3 Reemplazo de la duración del cookie</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br></span><span style="color: #FF8000">// Esto envía un cookie persistente que dura un día.<br></span><span style="color: #0000BB">session_start</span><span style="color: #007700">([<br>    </span><span style="color: #DD0000">'cookie_lifetime' </span><span style="color: #007700">=&gt; </span><span style="color: #0000BB">86400</span><span style="color: #007700">,<br>]);<br></span><span style="color: #0000BB">?&gt;</span></span></code></div>
    </div>

   </div>

   <div class="example" id="example-5025">
    <p><strong>Ejemplo #4 Lectura de la sesión y cierre</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br></span><span style="color: #FF8000">// Si sabemos que no necesitamos cambiar<br>// nada en la sesión, podemos simplemente<br>// leer y cerrar de inmediato para evitar bloquear<br>// el archivo de sesión y bloquear otras páginas<br></span><span style="color: #0000BB">session_start</span><span style="color: #007700">([<br>    </span><span style="color: #DD0000">'cookie_lifetime' </span><span style="color: #007700">=&gt; </span><span style="color: #0000BB">86400</span><span style="color: #007700">,<br>    </span><span style="color: #DD0000">'read_and_close'  </span><span style="color: #007700">=&gt; </span><span style="color: #0000BB">true</span><span style="color: #007700">,<br>]);</span></span></code></div>
    </div>

   </div>
  </div>

 </div>


 <div class="refsect1 notes" id="refsect1-function.session-start-notes">
  <h3 class="title">Notas</h3>
  <blockquote class="note"><p><strong class="note">Nota</strong>: 
   </p><p class="para">
    Para utilizar sesiones basadas en cookies, <span class="function"><strong>session_start()</strong></span>
    debe ser llamada antes de mostrar cualquier cosa en el navegador.
   </p>
  </blockquote>
  <blockquote class="note"><p><strong class="note">Nota</strong>: 
   </p><p class="para">
    El uso de
    <a href="#ini.zlib.output-compression" class="link"><strong class="option unknown">zlib.output_compression</strong></a>
    es recomendado, en lugar de <span class="function"><a href="#function.ob-gzhandler" class="function">ob_gzhandler()</a></span>.
   </p>
  </blockquote>
  <blockquote class="note"><p><strong class="note">Nota</strong>: 
   </p><p class="para">
    Esta función va a emitir varios encabezados HTTP, dependiendo
    de la configuración. Consulte <span class="function"><a href="#function.session-cache-limiter" class="function">session_cache_limiter()</a></span> para
    personalizar estos encabezados.
   </p>
  </blockquote>
 </div>


 <div class="refsect1 seealso" id="refsect1-function.session-start-seealso">
  <h3 class="title">Ver también</h3>
  <p class="para">
   </p><ul class="simplelist">
    <li><var class="varname"><a href="#reserved.variables.session" class="classname">$_SESSION</a></var></li>
    <li>
     La directiva de configuración <a href="#ini.session.auto-start" class="link">session.auto_start</a>
    </li>
    <li><span class="function"><a href="#function.session-id" class="function" rel="rdfs-seeAlso">session_id()</a> - Lee y/o modifica el identificador de sesión actual</span></li>
   </ul>
  
 </div>


</div>
<hr>







<div id="function.session-status" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">session_status</h1>
  <p class="verinfo">(PHP 5 &gt;= 5.4.0, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">session_status</span> — <span class="dc-title">Determina el estado de la sesión actual</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-function.session-status-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>session_status</strong></span>(): <span class="type"><a href="#language.types.integer" class="type int">int</a></span></div>

  <p class="para rdfs-comment">
   <span class="function"><strong>session_status()</strong></span> se utiliza para conocer el estado de la sesión actual.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.session-status-parameters">
  <h3 class="title">Parámetros</h3>
  <p class="para">Esta función no contiene ningún parámetro.</p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.session-status-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   </p><ul class="itemizedlist">
    <li class="listitem">
     <span class="simpara"><strong><code><a href="#constant.php-session-disabled">PHP_SESSION_DISABLED</a></code></strong> si las sesiones están desactivadas.</span>
    </li>
    <li class="listitem">
     <span class="simpara"><strong><code><a href="#constant.php-session-none">PHP_SESSION_NONE</a></code></strong> si las sesiones están activadas, pero no existe ninguna.</span>
    </li>
    <li class="listitem">
     <span class="simpara"><strong><code><a href="#constant.php-session-active">PHP_SESSION_ACTIVE</a></code></strong> si las sesiones están activadas y existe una.</span>
    </li>
   </ul>
  
 </div>


 <div class="refsect1 seealso" id="refsect1-function.session-status-seealso">
  <h3 class="title">Ver también</h3>
  <ul class="simplelist">
   <li><span class="function"><a href="#function.session-start" class="function" rel="rdfs-seeAlso">session_start()</a> - Inicia una nueva sesión o reanuda una sesión existente</span></li>
  </ul>
 </div>


</div>
<hr>








<div id="function.session-unset" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">session_unset</h1>
  <p class="verinfo">(PHP 4, PHP 5, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">session_unset</span> — <span class="dc-title">Destruye todas las variables de una sesión</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-function.session-unset-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>session_unset</strong></span>(): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>

  <p class="para rdfs-comment">
   <span class="function"><strong>session_unset()</strong></span> destruye todas las variables
   de la sesión actual.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.session-unset-parameters">
  <h3 class="title">Parámetros</h3>
  <p class="para">Esta función no contiene ningún parámetro.</p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.session-unset-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Esta función retorna <strong><code><a href="#constant.true">true</a></code></strong> en caso de éxito o <strong><code><a href="#constant.false">false</a></code></strong> si ocurre un error.
  </p>
 </div>


 <div class="refsect1 changelog" id="refsect1-function.session-unset-changelog">
  <h3 class="title">Historial de cambios</h3>
  <table class="doctable informaltable">
   
    <thead>
     <tr>
      <th>Versión</th>
      <th>Descripción</th>
     </tr>

    </thead>

    <tbody class="tbody">
     <tr>
      <td>7.2.0</td>
      <td>
       El tipo de retorno de esta función es ahora <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span>.
       Anteriormente, era <a href="#language.types.declarations.void" class="link">void</a>.
      </td>
     </tr>

    </tbody>
   
  </table>

 </div>


 <div class="refsect1 notes" id="refsect1-function.session-unset-notes">
  <h3 class="title">Notas</h3>
  <blockquote class="note"><p><strong class="note">Nota</strong>: 
   </p><p class="para">
    Si se utiliza <var class="varname"><a href="#reserved.variables.session" class="classname">$_SESSION</a></var>
    utilice <span class="function"><a href="#function.unset" class="function">unset()</a></span> para destruir una variable de
    sesión, es decir <code class="code">unset($_SESSION['nomvariable']);</code>.
   </p>
  </blockquote>
  <div class="caution"><strong class="caution">Precaución</strong>
   <p class="para">
    No se debe destruir <var class="varname"><a href="#reserved.variables.session" class="classname">$_SESSION</a></var> con
    <code class="code">unset($_SESSION)</code> ya que esto desactivará
    la posibilidad de almacenar variables de sesión a partir del
    array superglobal <var class="varname"><a href="#reserved.variables.session" class="classname">$_SESSION</a></var>.
   </p>
  </div>
  <blockquote class="note"><p><strong class="note">Nota</strong>: 
   </p><p class="para">
    Únicamente <span class="function"><strong>session_unset()</strong></span> debe utilizarse para código antiguo
    que no utiliza <var class="varname"><a href="#reserved.variables.session" class="classname">$_SESSION</a></var>.
   </p>
   <div class="caution"><strong class="caution">Precaución</strong>
   <p class="para">
    Esta función solo funciona si una sesión está activa. No vaciará el
    array <var class="varname"><a href="#reserved.variables.session" class="classname">$_SESSION</a></var> si la sesión no ha sido iniciada
    o si ya ha sido destruida. Utilice <code class="code">$_SESSION = []</code> para eliminar
    todas las variables de sesión incluso si la sesión no está activa.
   </p>
</div>
  </blockquote>
 </div>


</div>
<hr>









<div id="function.session-write-close" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">session_write_close</h1>
  <p class="verinfo">(PHP 4 &gt;= 4.0.4, PHP 5, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">session_write_close</span> — <span class="dc-title">Escribe los datos de sesión y cierra la sesión</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-function.session-write-close-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>session_write_close</strong></span>(): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>

  <p class="para rdfs-comment">
   Finaliza la sesión actual, después de almacenar los datos.
  </p>
  <p class="para">
   Los datos de sesión se almacenan generalmente al final
   del script, automáticamente, sin necesidad de llamar explícitamente
   a <span class="function"><strong>session_write_close()</strong></span>. Pero durante toda la ejecución
   del script, los datos de sesión están bloqueados en escritura,
   y un solo script puede operar sobre la sesión a la vez. Cuando
   se utilizan frames con sesiones, esto se nota al ver cómo las frames
   se actualizan una tras otra. Puede reducirse el tiempo de cálculo de estas páginas
   cerrando la sesión tan pronto como sea posible, lo que libera los datos
   para otros scripts.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.session-write-close-parameters">
  <h3 class="title">Parámetros</h3>
  <p class="para">Esta función no contiene ningún parámetro.</p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.session-write-close-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Esta función retorna <strong><code><a href="#constant.true">true</a></code></strong> en caso de éxito o <strong><code><a href="#constant.false">false</a></code></strong> si ocurre un error.
  </p>
 </div>


 <div class="refsect1 changelog" id="refsect1-function.session-write-close-changelog">
  <h3 class="title">Historial de cambios</h3>
  <table class="doctable informaltable">
   
    <thead>
     <tr>
      <th>Versión</th>
      <th>Descripción</th>
     </tr>

    </thead>

    <tbody class="tbody">
     <tr>
      <td>7.2.0</td>
      <td>
       El tipo de retorno de esta función es ahora <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span>.
       Anteriormente, era <a href="#language.types.declarations.void" class="link">void</a>.
      </td>
     </tr>

    </tbody>
   
  </table>

 </div>


 <div class="refsect1 seealso" id="refsect1-function.session-write-close-seealso">
  <h3 class="title">Ver también</h3>
  <p class="para">
   </p><ul class="simplelist">
    <li>
     <span class="function"><a href="#function.session-register-shutdown" class="function" rel="rdfs-seeAlso">session_register_shutdown()</a> - Función de cierre de sesiones</span>
    </li>
   </ul>
  
 </div>


</div>
<hr>





<h2>Tabla de contenidos</h2><ul class="chunklist chunklist_reference"><li><a href="#function.session-abort">session_abort</a> — Interrumpe los cambios en el array de sesión y finaliza la sesión</li><li><a href="#function.session-cache-expire">session_cache_expire</a> — Obtiene y/o define el tiempo de expiración de la caché</li><li><a href="#function.session-cache-limiter">session_cache_limiter</a> — Lee y/o modifica el limitador de caché de sesión</li><li><a href="#function.session-commit">session_commit</a> — Alias de session_write_close</li><li><a href="#function.session-create-id">session_create_id</a> — Crear un nuevo ID de sesión</li><li><a href="#function.session-decode">session_decode</a> — Decodifica la información de sesión desde una cadena de sesión codificada</li><li><a href="#function.session-destroy">session_destroy</a> — Destruye una sesión</li><li><a href="#function.session-encode">session_encode</a> — Codifica los datos de sesión</li><li><a href="#function.session-gc">session_gc</a> — Ejecuta la recolección de basura de los datos de sesión</li><li><a href="#function.session-get-cookie-params">session_get_cookie_params</a> — Lee la configuración del cookie de sesión</li><li><a href="#function.session-id">session_id</a> — Lee y/o modifica el identificador de sesión actual</li><li><a href="#function.session-module-name">session_module_name</a> — Lee y/o modifica el módulo de sesión actual</li><li><a href="#function.session-name">session_name</a> — Lee y/o modifica el nombre de la sesión</li><li><a href="#function.session-regenerate-id">session_regenerate_id</a> — Reemplaza el identificador de sesión actual por uno nuevo</li><li><a href="#function.session-register-shutdown">session_register_shutdown</a> — Función de cierre de sesiones</li><li><a href="#function.session-reset">session_reset</a> — Restablece el array de sesión con los valores originales</li><li><a href="#function.session-save-path">session_save_path</a> — Lee y/o modifica la ruta de guardado de las sesiones</li><li><a href="#function.session-set-cookie-params">session_set_cookie_params</a> — Modifica los parámetros de la cookie de sesión</li><li><a href="#function.session-set-save-handler">session_set_save_handler</a> — Configura las funciones de almacenamiento de sesiones</li><li><a href="#function.session-start">session_start</a> — Inicia una nueva sesión o reanuda una sesión existente</li><li><a href="#function.session-status">session_status</a> — Determina el estado de la sesión actual</li><li><a href="#function.session-unset">session_unset</a> — Destruye todas las variables de una sesión</li><li><a href="#function.session-write-close">session_write_close</a> — Escribe los datos de sesión y cierra la sesión</li></ul>
</div>

<hr>





 


<div id="class.sessionhandler" class="reference"><hr>

 <h1 class="title">La clase SessionHandler</h1>
 

 <div class="partintro"><p class="verinfo">(PHP 5 &gt;= 5.4.0, PHP 7, PHP 8)</p>

  
  <div class="section" id="sessionhandler.intro">
   <h2 class="title">Introducción</h2>
   <p class="para">
    <span class="classname"><strong class="classname">SessionHandler</strong></span> es una clase especial que puede usarse
    para exponer el gestor de almacenamiento de sesiones interno actual de PHP por herencia.
    Existen siete métodos que envuelven las sietes retrollamadas del gestor de almacenamiento
    de sesiones (<code class="parameter">open</code>, <code class="parameter">close</code>,
    <code class="parameter">read</code>, <code class="parameter">write</code>,
    <code class="parameter">destroy</code>, <code class="parameter">gc</code> y
    <code class="parameter">create_sid</code>). Por defecto, esta clase envolverá
    cualquier gestor de almacenamiento que esté establecido como está definido por la
    directiva de configuración <a href="#ini.session.save-handler" class="link">session.save_handler</a>,
    el cual normalmente es <code class="parameter">files</code> por
    omisión. Otros gestores de almacenamiento de sesión internos son proporcionados por
    extensiones de PHP tales como SQLite (como <code class="parameter">sqlite</code>), Memcache (como
    <code class="parameter">memcache</code>), y Memcached (como
    <code class="parameter">Memcached</code>).
   </p>
   <p class="para">
    Cuando se establece una simple instancia de <span class="classname"><strong class="classname">SessionHandler</strong></span> como el gestor de almacenamiento usando
    <span class="function"><a href="#function.session-set-save-handler" class="function">session_set_save_handler()</a></span>, envolverá los gestores de almacenamiento actuales.
    Una clase que extienda de <span class="classname"><strong class="classname">SessionHandler</strong></span> permite sobrescribir
    los métodos o interceptarlos o filtrarlos llamando a los métodos de la clase madre, los cuales en última instancia envolverán
    los gestores de sesiones de PHP internos.
   </p>
   <p class="para">
    Esto permite, por ejemplo, interceptar los métodos <code class="parameter">read</code> y <code class="parameter">write</code>
    para encriptar/desencriptar la información de sesión y luego pasar el resultado hacia y desde la clase madre.
    De forma alternativa se podría elegir sobrescribir por completo un método como la llamada de retorno del recolector de basura
    <code class="parameter">gc</code>.
   </p>
   <p class="para">
    Ya que <span class="classname"><strong class="classname">SessionHandler</strong></span> envuelve los métodos del gestor de almacenamiento interno
    actual, el ejemplo de arriba de encriptación puede aplicarse a cualquier gestor de almacenamiento interno sin
    tener que conocer los entresijos de los gestores.
   </p>
   <p class="para">
    Para usar esta clase, primero establezca el gestor de almacenamiento que desee exponer usando
    <a href="#ini.session.save-handler" class="link">session.save_handler</a> y luego pasar una instancia de
    <span class="classname"><strong class="classname">SessionHandler</strong></span> o una que la extienda a <span class="function"><a href="#function.session-set-save-handler" class="function">session_set_save_handler()</a></span>.
   </p>
   <p class="para">
    Observe que los métodos de llamda de retorno de esta clase están diseñados para ser llamados internamente por
    PHP y no para ser llamados desde código de espacio de usuario. Los valores devueltos son igualmente procesados internamente
    por PHP. Para más información sobre el flujo de trabajo de sesiones consulte <span class="function"><a href="#function.session-set-save-handler" class="function">session_set_save_handler()</a></span>.
   </p>
  </div>
  

  <div class="section" id="sessionhandler.synopsis">
   <h2 class="title">Sinopsis de la Clase</h2>

   
   <div class="classsynopsis"><div class="classsynopsisinfo">
    
     <span class="modifier">class</span> <strong class="classname"><strong class="classname">SessionHandler</strong></strong>
    

    
     <span class="modifier">implements</span>
      <a href="#class.sessionhandlerinterface" class="interfacename">SessionHandlerInterface</a>,

     <a href="#class.sessionidinterface" class="interfacename">SessionIdInterface</a> {</div>

    <div class="classsynopsisinfo classsynopsisinfo_comment">/* Métodos */</div>
    <div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="methodname"><a href="#sessionhandler.close" class="methodname">close</a></span>(): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname"><a href="#sessionhandler.create-sid" class="methodname">create_sid</a></span>(): <span class="type"><a href="#language.types.string" class="type string">string</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname"><a href="#sessionhandler.destroy" class="methodname">destroy</a></span>(<span class="methodparam"><span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$id</code></span>): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname"><a href="#sessionhandler.gc" class="methodname">gc</a></span>(<span class="methodparam"><span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$max_lifetime</code></span>): <span class="type"><span class="type"><a href="#language.types.integer" class="type int">int</a></span>|<span class="type"><a href="#language.types.singleton" class="type false">false</a></span></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname"><a href="#sessionhandler.open" class="methodname">open</a></span>(<span class="methodparam"><span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$path</code></span>, <span class="methodparam"><span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$name</code></span>): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname"><a href="#sessionhandler.read" class="methodname">read</a></span>(<span class="methodparam"><span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$id</code></span>): <span class="type"><span class="type"><a href="#language.types.string" class="type string">string</a></span>|<span class="type"><a href="#language.types.singleton" class="type false">false</a></span></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname"><a href="#sessionhandler.write" class="methodname">write</a></span>(<span class="methodparam"><span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$id</code></span>, <span class="methodparam"><span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$data</code></span>): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>

   }</div>
   

  </div>

  <div class="section" id="session.notes">
   <h2 class="title">Notas</h2>
   <div class="warning"><strong class="warning">Advertencia</strong>
    <p class="para">
     Esta clase está diseñada para exponer el gestor de almacenamiento de sesiones interno de PHP, si quiere
     escribir sus propios gestores de almacenamiento, implemente la interfaz <span class="classname"><a href="#class.sessionhandlerinterface" class="classname">SessionHandlerInterface</a></span>
     en lugar de extender desde <span class="classname"><strong class="classname">SessionHandler</strong></span>.
    </p>
   </div>
  </div>

  <div class="section" id="sessionhandler.examples">
   <h2 class="title">Ejemplos</h2>
   <div class="example" id="example-5026">
    <p><strong>Ejemplo #1 
     Usar <span class="classname"><strong class="classname">SessionHandler</strong></span> para añadir encriptación a los gestores de almacenamiento internos de PHP.
    </strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br><br> </span><span style="color: #FF8000">/**<br>  * decrypt AES 256<br>  *<br>  * @param data $edata<br>  * @param string $password<br>  * @return decrypted data<br>  */<br></span><span style="color: #007700">function </span><span style="color: #0000BB">decrypt</span><span style="color: #007700">(</span><span style="color: #0000BB">$edata</span><span style="color: #007700">, </span><span style="color: #0000BB">$password</span><span style="color: #007700">) {<br>    </span><span style="color: #0000BB">$data </span><span style="color: #007700">= </span><span style="color: #0000BB">base64_decode</span><span style="color: #007700">(</span><span style="color: #0000BB">$edata</span><span style="color: #007700">);<br>    </span><span style="color: #0000BB">$salt </span><span style="color: #007700">= </span><span style="color: #0000BB">substr</span><span style="color: #007700">(</span><span style="color: #0000BB">$data</span><span style="color: #007700">, </span><span style="color: #0000BB">0</span><span style="color: #007700">, </span><span style="color: #0000BB">16</span><span style="color: #007700">);<br>    </span><span style="color: #0000BB">$ct </span><span style="color: #007700">= </span><span style="color: #0000BB">substr</span><span style="color: #007700">(</span><span style="color: #0000BB">$data</span><span style="color: #007700">, </span><span style="color: #0000BB">16</span><span style="color: #007700">);<br><br>    </span><span style="color: #0000BB">$rounds </span><span style="color: #007700">= </span><span style="color: #0000BB">3</span><span style="color: #007700">; </span><span style="color: #FF8000">// depends on key length<br>    </span><span style="color: #0000BB">$data00 </span><span style="color: #007700">= </span><span style="color: #0000BB">$password</span><span style="color: #007700">.</span><span style="color: #0000BB">$salt</span><span style="color: #007700">;<br>    </span><span style="color: #0000BB">$hash </span><span style="color: #007700">= array();<br>    </span><span style="color: #0000BB">$hash</span><span style="color: #007700">[</span><span style="color: #0000BB">0</span><span style="color: #007700">] = </span><span style="color: #0000BB">hash</span><span style="color: #007700">(</span><span style="color: #DD0000">'sha256'</span><span style="color: #007700">, </span><span style="color: #0000BB">$data00</span><span style="color: #007700">, </span><span style="color: #0000BB">true</span><span style="color: #007700">);<br>    </span><span style="color: #0000BB">$result </span><span style="color: #007700">= </span><span style="color: #0000BB">$hash</span><span style="color: #007700">[</span><span style="color: #0000BB">0</span><span style="color: #007700">];<br>    for (</span><span style="color: #0000BB">$i </span><span style="color: #007700">= </span><span style="color: #0000BB">1</span><span style="color: #007700">; </span><span style="color: #0000BB">$i </span><span style="color: #007700">&lt; </span><span style="color: #0000BB">$rounds</span><span style="color: #007700">; </span><span style="color: #0000BB">$i</span><span style="color: #007700">++) {<br>        </span><span style="color: #0000BB">$hash</span><span style="color: #007700">[</span><span style="color: #0000BB">$i</span><span style="color: #007700">] = </span><span style="color: #0000BB">hash</span><span style="color: #007700">(</span><span style="color: #DD0000">'sha256'</span><span style="color: #007700">, </span><span style="color: #0000BB">$hash</span><span style="color: #007700">[</span><span style="color: #0000BB">$i </span><span style="color: #007700">- </span><span style="color: #0000BB">1</span><span style="color: #007700">].</span><span style="color: #0000BB">$data00</span><span style="color: #007700">, </span><span style="color: #0000BB">true</span><span style="color: #007700">);<br>        </span><span style="color: #0000BB">$result </span><span style="color: #007700">.= </span><span style="color: #0000BB">$hash</span><span style="color: #007700">[</span><span style="color: #0000BB">$i</span><span style="color: #007700">];<br>    }<br>    </span><span style="color: #0000BB">$key </span><span style="color: #007700">= </span><span style="color: #0000BB">substr</span><span style="color: #007700">(</span><span style="color: #0000BB">$result</span><span style="color: #007700">, </span><span style="color: #0000BB">0</span><span style="color: #007700">, </span><span style="color: #0000BB">32</span><span style="color: #007700">);<br>    </span><span style="color: #0000BB">$iv  </span><span style="color: #007700">= </span><span style="color: #0000BB">substr</span><span style="color: #007700">(</span><span style="color: #0000BB">$result</span><span style="color: #007700">, </span><span style="color: #0000BB">32</span><span style="color: #007700">,</span><span style="color: #0000BB">16</span><span style="color: #007700">);<br><br>    return </span><span style="color: #0000BB">openssl_decrypt</span><span style="color: #007700">(</span><span style="color: #0000BB">$ct</span><span style="color: #007700">, </span><span style="color: #DD0000">'AES-256-CBC'</span><span style="color: #007700">, </span><span style="color: #0000BB">$key</span><span style="color: #007700">, </span><span style="color: #0000BB">true</span><span style="color: #007700">, </span><span style="color: #0000BB">$iv</span><span style="color: #007700">);<br>  }<br><br></span><span style="color: #FF8000">/**<br> * crypt AES 256<br> *<br> * @param data $data<br> * @param string $password<br> * @return base64 encrypted data<br> */<br></span><span style="color: #007700">function </span><span style="color: #0000BB">encrypt</span><span style="color: #007700">(</span><span style="color: #0000BB">$data</span><span style="color: #007700">, </span><span style="color: #0000BB">$password</span><span style="color: #007700">) {<br>    </span><span style="color: #FF8000">// Generate a cryptographically secure random salt using random_bytes()<br>    </span><span style="color: #0000BB">$salt </span><span style="color: #007700">= </span><span style="color: #0000BB">random_bytes</span><span style="color: #007700">(</span><span style="color: #0000BB">16</span><span style="color: #007700">);<br><br>    </span><span style="color: #0000BB">$salted </span><span style="color: #007700">= </span><span style="color: #DD0000">''</span><span style="color: #007700">;<br>    </span><span style="color: #0000BB">$dx </span><span style="color: #007700">= </span><span style="color: #DD0000">''</span><span style="color: #007700">;<br>    </span><span style="color: #FF8000">// Salt the key(32) and iv(16) = 48<br>    </span><span style="color: #007700">while (</span><span style="color: #0000BB">strlen</span><span style="color: #007700">(</span><span style="color: #0000BB">$salted</span><span style="color: #007700">) &lt; </span><span style="color: #0000BB">48</span><span style="color: #007700">) {<br>      </span><span style="color: #0000BB">$dx </span><span style="color: #007700">= </span><span style="color: #0000BB">hash</span><span style="color: #007700">(</span><span style="color: #DD0000">'sha256'</span><span style="color: #007700">, </span><span style="color: #0000BB">$dx</span><span style="color: #007700">.</span><span style="color: #0000BB">$password</span><span style="color: #007700">.</span><span style="color: #0000BB">$salt</span><span style="color: #007700">, </span><span style="color: #0000BB">true</span><span style="color: #007700">);<br>      </span><span style="color: #0000BB">$salted </span><span style="color: #007700">.= </span><span style="color: #0000BB">$dx</span><span style="color: #007700">;<br>    }<br><br>    </span><span style="color: #0000BB">$key </span><span style="color: #007700">= </span><span style="color: #0000BB">substr</span><span style="color: #007700">(</span><span style="color: #0000BB">$salted</span><span style="color: #007700">, </span><span style="color: #0000BB">0</span><span style="color: #007700">, </span><span style="color: #0000BB">32</span><span style="color: #007700">);<br>    </span><span style="color: #0000BB">$iv  </span><span style="color: #007700">= </span><span style="color: #0000BB">substr</span><span style="color: #007700">(</span><span style="color: #0000BB">$salted</span><span style="color: #007700">, </span><span style="color: #0000BB">32</span><span style="color: #007700">,</span><span style="color: #0000BB">16</span><span style="color: #007700">);<br><br>    </span><span style="color: #0000BB">$encrypted_data </span><span style="color: #007700">= </span><span style="color: #0000BB">openssl_encrypt</span><span style="color: #007700">(</span><span style="color: #0000BB">$data</span><span style="color: #007700">, </span><span style="color: #DD0000">'AES-256-CBC'</span><span style="color: #007700">, </span><span style="color: #0000BB">$key</span><span style="color: #007700">, </span><span style="color: #0000BB">true</span><span style="color: #007700">, </span><span style="color: #0000BB">$iv</span><span style="color: #007700">);<br>    return </span><span style="color: #0000BB">base64_encode</span><span style="color: #007700">(</span><span style="color: #0000BB">$salt </span><span style="color: #007700">. </span><span style="color: #0000BB">$encrypted_data</span><span style="color: #007700">);<br>}<br><br>class </span><span style="color: #0000BB">EncryptedSessionHandler </span><span style="color: #007700">extends </span><span style="color: #0000BB">SessionHandler<br></span><span style="color: #007700">{<br>    private </span><span style="color: #0000BB">$key</span><span style="color: #007700">;<br><br>    public function </span><span style="color: #0000BB">__construct</span><span style="color: #007700">(</span><span style="color: #0000BB">$key</span><span style="color: #007700">)<br>    {<br>        </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">key </span><span style="color: #007700">= </span><span style="color: #0000BB">$key</span><span style="color: #007700">;<br>    }<br><br>    public function </span><span style="color: #0000BB">read</span><span style="color: #007700">(</span><span style="color: #0000BB">$id</span><span style="color: #007700">)<br>    {<br>        </span><span style="color: #0000BB">$data </span><span style="color: #007700">= </span><span style="color: #0000BB">parent</span><span style="color: #007700">::</span><span style="color: #0000BB">read</span><span style="color: #007700">(</span><span style="color: #0000BB">$id</span><span style="color: #007700">);<br><br>        if (!</span><span style="color: #0000BB">$data</span><span style="color: #007700">) {<br>            return </span><span style="color: #DD0000">""</span><span style="color: #007700">;<br>        } else {<br>            return </span><span style="color: #0000BB">decrypt</span><span style="color: #007700">(</span><span style="color: #0000BB">$data</span><span style="color: #007700">, </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">key</span><span style="color: #007700">);<br>        }<br>    }<br><br>    public function </span><span style="color: #0000BB">write</span><span style="color: #007700">(</span><span style="color: #0000BB">$id</span><span style="color: #007700">, </span><span style="color: #0000BB">$data</span><span style="color: #007700">)<br>    {<br>        </span><span style="color: #0000BB">$data </span><span style="color: #007700">= </span><span style="color: #0000BB">encrypt</span><span style="color: #007700">(</span><span style="color: #0000BB">$data</span><span style="color: #007700">, </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">key</span><span style="color: #007700">);<br><br>        return </span><span style="color: #0000BB">parent</span><span style="color: #007700">::</span><span style="color: #0000BB">write</span><span style="color: #007700">(</span><span style="color: #0000BB">$id</span><span style="color: #007700">, </span><span style="color: #0000BB">$data</span><span style="color: #007700">);<br>    }<br>}<br><br></span><span style="color: #FF8000">// interceptaremos el manejador nativo 'files', pero funcionaría igualmente<br>// con otros manejadores nativos internos como 'sqlite', 'memcache' o 'memcached'<br>// que son proporcionados por extensiones de PHP.<br></span><span style="color: #0000BB">ini_set</span><span style="color: #007700">(</span><span style="color: #DD0000">'session.save_handler'</span><span style="color: #007700">, </span><span style="color: #DD0000">'files'</span><span style="color: #007700">);<br><br></span><span style="color: #0000BB">$key </span><span style="color: #007700">= </span><span style="color: #DD0000">'secret_string'</span><span style="color: #007700">;<br></span><span style="color: #0000BB">$handler </span><span style="color: #007700">= new </span><span style="color: #0000BB">EncryptedSessionHandler</span><span style="color: #007700">(</span><span style="color: #0000BB">$key</span><span style="color: #007700">);<br></span><span style="color: #0000BB">session_set_save_handler</span><span style="color: #007700">(</span><span style="color: #0000BB">$handler</span><span style="color: #007700">, </span><span style="color: #0000BB">true</span><span style="color: #007700">);<br></span><span style="color: #0000BB">session_start</span><span style="color: #007700">();<br><br></span><span style="color: #FF8000">// proceder para establecer y recuperar valores por clave desde $_SESSION</span></span></code></div>
    </div>

   </div>
   <blockquote class="note"><p><strong class="note">Nota</strong>: 
    </p><p class="para">
     Ya que los métodos de esta clase están diseñados para se llamados internamente por PHP como parte del flujo de trabajo normal,
     las llamadas de las clases hijas a los métodos padre (es decir, los gestores nativos internos reales) devolverán <strong><code><a href="#constant.false">false</a></code></strong> a menos que
     la sesión haya sido iniciada realmente (automáticamente o explícitamente mediante <span class="function"><a href="#function.session-start" class="function">session_start()</a></span>).
     Es importante considerar esto cuando se escriben unidades de pruebas donde los métodos de la clase podrían ser invocados manualmente.
    </p>
   </blockquote>
  </div>

 </div>

 


<div id="sessionhandler.close" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">SessionHandler::close</h1>
  <p class="verinfo">(PHP 5 &gt;= 5.4.0, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">SessionHandler::close</span> — <span class="dc-title">Cerrar la sesión</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-sessionhandler.close-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="methodname"><strong>SessionHandler::close</strong></span>(): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>

  <p class="para rdfs-comment">
   Cierra la sesión actual. Este método es ejecutado de forma automática internamente por PHP al
   cerrar la sesión, o explícitamente mediante la función <span class="function"><a href="#function.session-write-close" class="function">session_write_close()</a></span> (la cual
   llama primero a la función <span class="function"><a href="#sessionhandler.write" class="function">SessionHandler::write()</a></span>).
  </p>
  <p class="para">
   Este método envuelve el gestor de almacenamiento interno de PHP definido en el
   ajuste ini <a href="#ini.session.save-handler" class="link">session.save_handler</a> que fue establecido
   antes de que este gestor fuese activado mediante <span class="function"><a href="#function.session-set-save-handler" class="function">session_set_save_handler()</a></span>.
  </p>
  <p class="para">
   Si esta clase se extiende por herencia, al llamar al método padre <code class="parameter">close</code> invocará a la
   envoltura para este método y así invocará a la llamada de retorno interna asociada. Esto permite que el método sea
   sobrescrito y/o interceptado.
  </p>
  <p class="para">
   Para más información sobre lo que se espera que haga este método, consulte la documentación de
   <span class="function"><a href="#sessionhandlerinterface.close" class="function">SessionHandlerInterface::close()</a></span>.
  </p>

 </div>


 <div class="refsect1 parameters" id="refsect1-sessionhandler.close-parameters">
  <h3 class="title">Parámetros</h3>
  <p class="para">Esta función no contiene ningún parámetro.</p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-sessionhandler.close-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   El valor devuelto (habitualmente <strong><code><a href="#constant.true">true</a></code></strong> en caso de éxito, <strong><code><a href="#constant.false">false</a></code></strong> si ocurre un error).
        Tenga en cuenta que este valor es devuelto internamente a PHP para análisis.
  </p>
 </div>


</div>
<hr>






<div id="sessionhandler.create-sid" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">SessionHandler::create_sid</h1>
  <p class="verinfo">(PHP 5 &gt;= 5.5.1, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">SessionHandler::create_sid</span> — <span class="dc-title">Devuelve un nuevo ID de sesión</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-sessionhandler.create-sid-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="methodname"><strong>SessionHandler::create_sid</strong></span>(): <span class="type"><a href="#language.types.string" class="type string">string</a></span></div>

  <p class="para rdfs-comment">
   Genera y devuelve un nuevo ID de sesión
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-sessionhandler.create-sid-parameters">
  <h3 class="title">Parámetros</h3>
  <p class="para">Esta función no contiene ningún parámetro.</p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-sessionhandler.create-sid-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Un ID de sesión válido para el manejador de sesión predeterminado.
  </p>
 </div>


 <div class="refsect1 seealso" id="refsect1-sessionhandler.create-sid-seealso">
  <h3 class="title">Ver también</h3>
  <p class="para">
   </p><ul class="simplelist">
    <li><span class="function"><a href="#function.session-id" class="function" rel="rdfs-seeAlso">session_id()</a> - Lee y/o modifica el identificador de sesión actual</span></li>
    <li><span class="function"><a href="#function.session-create-id" class="function" rel="rdfs-seeAlso">session_create_id()</a> - Crear un nuevo ID de sesión</span></li>
   </ul>
  
 </div>

</div>
<hr>






<div id="sessionhandler.destroy" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">SessionHandler::destroy</h1>
  <p class="verinfo">(PHP 5 &gt;= 5.4.0, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">SessionHandler::destroy</span> — <span class="dc-title">Destruir una sesión</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-sessionhandler.destroy-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="methodname"><strong>SessionHandler::destroy</strong></span>(<span class="methodparam"><span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$id</code></span>): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>

  <p class="para rdfs-comment">
   Destruye una sesión. Llamado internamente por PHP con <span class="function"><a href="#function.session-regenerate-id" class="function">session_regenerate_id()</a></span> (se asume
   que <code class="parameter">$destroy</code> está establecido a <strong><code><a href="#constant.true">true</a></code></strong>, mediante <span class="function"><a href="#function.session-destroy" class="function">session_destroy()</a></span> o cuando
   <span class="function"><a href="#function.session-decode" class="function">session_decode()</a></span> falla.
  </p>
  <p class="para">
   Este método envuelve el gestor de almacenamiento interno de PHP definido en el
   ajuste ini <a href="#ini.session.save-handler" class="link">session.save_handler</a> que fue establecido
   antes de que este gestor fuese establecido mediante <span class="function"><a href="#function.session-set-save-handler" class="function">session_set_save_handler()</a></span>.
  </p>
  <p class="para">
   Si esta clase se extiende por herencia, al llamar al método padre <code class="parameter">destroy</code> invocará a la
   envoltura para este método y así invocará a la llamada de retorno interna asociada. Esto permite que este método sea
   sobrescrito y/o interceptado y filtrado.
  </p>
  <p class="para">
   Para más información sobre lo que se espera que haga este método, consulte la documentación
   de <span class="function"><a href="#sessionhandlerinterface.destroy" class="function">SessionHandlerInterface::destroy()</a></span>.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-sessionhandler.destroy-parameters">
  <h3 class="title">Parámetros</h3>
  <p class="para">
   </p><dl>
    
     <dt><code class="parameter">id</code></dt>
     <dd>
      <p class="para">
       El ID de sesión a ser destruido.
      </p>
     </dd>
    
   </dl>
  
 </div>


 <div class="refsect1 returnvalues" id="refsect1-sessionhandler.destroy-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   El valor devuelto (habitualmente <strong><code><a href="#constant.true">true</a></code></strong> en caso de éxito, <strong><code><a href="#constant.false">false</a></code></strong> si ocurre un error).
        Tenga en cuenta que este valor es devuelto internamente a PHP para análisis.
  </p>
 </div>



</div>
<hr>






<div id="sessionhandler.gc" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">SessionHandler::gc</h1>
  <p class="verinfo">(PHP 5 &gt;= 5.4.0, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">SessionHandler::gc</span> — <span class="dc-title">Limpia las sesiones antiguas</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-sessionhandler.gc-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="methodname"><strong>SessionHandler::gc</strong></span>(<span class="methodparam"><span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$max_lifetime</code></span>): <span class="type"><span class="type"><a href="#language.types.integer" class="type int">int</a></span>|<span class="type"><a href="#language.types.singleton" class="type false">false</a></span></span></div>

  <p class="para rdfs-comment">
   Limpia las sesiones expiradas. Se llama aleatoriamente en el interior de PHP cuando una
   sesión comienza o cuando se llama a la función <span class="function"><a href="#function.session-start" class="function">session_start()</a></span>.
   La frecuencia de llamada se basa en las directivas de configuración
   <a href="#ini.session.gc-divisor" class="link">session.gc_divisor</a> y
   <a href="#ini.session.gc-probability" class="link">session.gc_probability</a>.
  </p>
  <p class="para">
   Este método reemplaza al gestor interno de almacenamiento de PHP definido a través de la opción
   de configuración <a href="#ini.session.save-handler" class="link">session.save_handler</a>
   que se ha definido antes de que este último se defina a través de la función
   <span class="function"><a href="#function.session-set-save-handler" class="function">session_set_save_handler()</a></span>.
  </p>
  <p class="para">
   Si esta clase se extiende por herencia, la llamada al método padre <code class="parameter">gc</code>
   invocará el envoltorio para este método, pero también invocará internamente la función de devolución de llamada
   asociada. Este comportamiento permite que este método se sobreescriba o bien se intercepte y filtre.
  </p>
  <p class="para">
   Para más información sobre lo esperado de este método, consulte la documentación
   sobre la función <span class="function"><a href="#sessionhandlerinterface.gc" class="function">SessionHandlerInterface::gc()</a></span>.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-sessionhandler.gc-parameters">
  <h3 class="title">Parámetros</h3>
  <dl>
   
    <dt><code class="parameter">max_lifetime</code></dt>
    <dd>
     <p class="para">
      Las sesiones que no se hayan actualizado durante las últimas
      <code class="parameter">max_lifetime</code> segundos serán eliminadas.
     </p>
    </dd>
   
  </dl>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-sessionhandler.gc-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Devuelve el número de sesiones eliminadas en caso de éxito,  o <strong><code><a href="#constant.false">false</a></code></strong> si ocurre un error.
   Nota que este valor se devuelve internamente a PHP para su procesamiento.
  </p>
 </div>


 <div class="refsect1 changelog" id="refsect1-sessionhandler.gc-changelog">
  <h3 class="title">Historial de cambios</h3>
  <table class="doctable informaltable">
   
    <thead>
     <tr>
      <th>Versión</th>
      <th>Descripción</th>
     </tr>

    </thead>

    <tbody class="tbody">
     <tr>
      <td>7.1.0</td>
      <td>
       Antes de esta versión, esta función devolvía <strong><code><a href="#constant.true">true</a></code></strong> en caso de éxito.
      </td>
     </tr>

    </tbody>
   
  </table>

 </div>


</div>
<hr>






<div id="sessionhandler.open" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">SessionHandler::open</h1>
  <p class="verinfo">(PHP 5 &gt;= 5.4.0, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">SessionHandler::open</span> — <span class="dc-title">Inicializar una sesión</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-sessionhandler.open-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="methodname"><strong>SessionHandler::open</strong></span>(<span class="methodparam"><span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$path</code></span>, <span class="methodparam"><span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$name</code></span>): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>

  <p class="para rdfs-comment">
   Crea una nueva sesión, o reinicializa una sesión existente. Es llamado internamente por PHP cuando
   se inicia una sesión automáticamente o cuando se invoca a <span class="function"><a href="#function.session-start" class="function">session_start()</a></span>.
  </p>
  <p class="para">
   Este método envuelve el gestor de almacenamiento interno de PHP definido en el
   ajuste ini <a href="#ini.session.save-handler" class="link">session.save_handler</a> que fue establecido
   antes de que este gestor fuese establecido mediante <span class="function"><a href="#function.session-set-save-handler" class="function">session_set_save_handler()</a></span>.
  </p>
  <p class="para">
   Si esta clase se extiende por herencia, al llamar al método padre <code class="parameter">open</code> invocará a la
   envoltura para este método y así invocará a la llamada de retorno interna asociada. Esto permite que este método sea
   sobrescrito y/o interceptado.
  </p>
  <p class="para">
   Para más información sobre lo que puede hacer este método, consulte la documentación de
   <span class="function"><a href="#sessionhandlerinterface.open" class="function">SessionHandlerInterface::open()</a></span>.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-sessionhandler.open-parameters">
  <h3 class="title">Parámetros</h3>
  <dl>
   
    <dt><code class="parameter">path</code></dt>
    <dd>
     <p class="para">
      La ruta donde almacenar/recuperar la sesión.
     </p>
    </dd>
   
   
    <dt><code class="parameter">name</code></dt>
    <dd>
     <p class="para">
      El nombre de la sesión.
     </p>
    </dd>
   
  </dl>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-sessionhandler.open-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   El valor devuelto (habitualmente <strong><code><a href="#constant.true">true</a></code></strong> en caso de éxito, <strong><code><a href="#constant.false">false</a></code></strong> si ocurre un error).
        Tenga en cuenta que este valor es devuelto internamente a PHP para análisis.
  </p>
 </div>


 <div class="refsect1 seealso" id="refsect1-sessionhandler.open-seealso">
  <h3 class="title">Ver también</h3>
  <p class="para">
   </p><ul class="simplelist">
    <li>
     La directiva de configuración
     <a href="#ini.session.auto-start" class="link">session.auto-start</a>.
    </li>
   </ul>
  
 </div>



</div>
<hr>






<div id="sessionhandler.read" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">SessionHandler::read</h1>
  <p class="verinfo">(PHP 5 &gt;= 5.4.0, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">SessionHandler::read</span> — <span class="dc-title">Leer información de la sesión</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-sessionhandler.read-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="methodname"><strong>SessionHandler::read</strong></span>(<span class="methodparam"><span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$id</code></span>): <span class="type"><span class="type"><a href="#language.types.string" class="type string">string</a></span>|<span class="type"><a href="#language.types.singleton" class="type false">false</a></span></span></div>

  <p class="para rdfs-comment">
   Lee la información de la sesión desde el almacén de sesiones, y devuelve los resultados a PHP para su procesamiento interno.
   Este método es llamado automáticamente por PHP cuando se inicia una sesión (automáticamente o explícitamente
   con <span class="function"><a href="#function.session-start" class="function">session_start()</a></span>) y está precedido por una llamada interna a la función
   <span class="function"><a href="#sessionhandler.open" class="function">SessionHandler::open()</a></span>.
  </p>
  <p class="para">
   Este método envuelve el gestor de almacenamiento interno de PHP definido en el
   ajuste ini <a href="#ini.session.save-handler" class="link">session.save_handler</a> que fue establecido
   antes de que este gestor fuese establecido mediante <span class="function"><a href="#function.session-set-save-handler" class="function">session_set_save_handler()</a></span>.
  </p>
  <p class="para">
   Si esta clase se extiende por herencia, al llamar al método padre <code class="parameter">read</code> invocará a la
   envoltura para este método y así invocará a la llamada de retorno interna asociada. Esto permite que el método sea
   sobrescrito y/o interceptado y filtrado (por ejemplo, desencriptando el valor de <code class="parameter">$data</code>
   devuelto por el método padre <code class="parameter">read</code>).
  </p>
  <p class="para">
   Para más información sobre lo que se espera que haga este método, consulte la documentación de
   <span class="function"><a href="#sessionhandlerinterface.close" class="function">SessionHandlerInterface::close()</a></span>.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-sessionhandler.read-parameters">
  <h3 class="title">Parámetros</h3>
  <dl>
   
    <dt><code class="parameter">id</code></dt>
    <dd>
     <p class="para">
      El id de sesión de donde leer la información.
     </p>
    </dd>
   
  </dl>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-sessionhandler.read-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Devuelve una cadena codificada de la información leída. Si no se leyó nada, debe devolver <strong><code><a href="#constant.false">false</a></code></strong>. Observe que este valor es devuelto internamente a PHP para su procesamiento.
  </p>
 </div>


 <div class="refsect1 seealso" id="refsect1-sessionhandler.read-seealso">
  <h3 class="title">Ver también</h3>
  <p class="para">
   </p><ul class="simplelist">
    <li>
     La directiva de configuración
     <a href="#ini.session.serialize-handler" class="link">session.serialize_handler</a>.
    </li>
   </ul>
  
 </div>



</div>
<hr>






<div id="sessionhandler.write" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">SessionHandler::write</h1>
  <p class="verinfo">(PHP 5 &gt;= 5.4.0, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">SessionHandler::write</span> — <span class="dc-title">Escribir información de sesión</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-sessionhandler.write-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="methodname"><strong>SessionHandler::write</strong></span>(<span class="methodparam"><span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$id</code></span>, <span class="methodparam"><span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$data</code></span>): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>

  <p class="para rdfs-comment">
   Escribe la información de la sesión en el almacén de sesiones. Es llamado por el cierre normal de PHP, por
   <span class="function"><a href="#function.session-write-close" class="function">session_write_close()</a></span>, o cuando <span class="function"><a href="#function.session-register-shutdown" class="function">session_register_shutdown()</a></span> falla.
   PHP llamará a <span class="function"><a href="#sessionhandler.close" class="function">SessionHandler::close()</a></span> inmediatamente después de que este método devuelva.
  </p>
  <p class="para">
   Este método envuelve el gestor de almacenamiento interno de PHP definido en el
   ajuste ini <a href="#ini.session.save-handler" class="link">session.save_handler</a> que fue establecido
   antes de que este gestor fuese establecido mediante <span class="function"><a href="#function.session-set-save-handler" class="function">session_set_save_handler()</a></span>.
  </p>
  <p class="para">
   Si esta clase se extiende por herencia, al llamar al método padre <code class="parameter">write</code> invocará a la
   envoltura para este método y así invocará a la llamada de retorno interna asociada. Esto permite que este método sea
   sobrescrito y/o interceptado y filtrado (por ejemplo, encriptando el valor de <code class="parameter">$data</code>
   antes de enviarlo al método padre <code class="parameter">write</code>).
  </p>
  <p class="para">
   Para más información sobre lo que se espera que haga este método, consulte la documentación de
   <span class="function"><a href="#sessionhandlerinterface.write" class="function">SessionHandlerInterface::write()</a></span>.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-sessionhandler.write-parameters">
  <h3 class="title">Parámetros</h3>
  <dl>
   
    <dt><code class="parameter">id</code></dt>
    <dd>
     <p class="para">
      El id de la sesión.
     </p>
    </dd>
   
   
    <dt><code class="parameter">data</code></dt>
    <dd>
     <p class="para">
      La información de sesión codificada. Esta información es el resultado de codificar internamente la variable superglobal <var class="varname"><a href="#reserved.variables.session" class="classname">$_SESSION</a></var> a una cadena
      serializada y pasarla como este parámetro. Observe que las sesiones usan un método de serialización alternativo.
     </p>
    </dd>
   
  </dl>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-sessionhandler.write-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   El valor devuelto (habitualmente <strong><code><a href="#constant.true">true</a></code></strong> en caso de éxito, <strong><code><a href="#constant.false">false</a></code></strong> si ocurre un error).
        Tenga en cuenta que este valor es devuelto internamente a PHP para análisis.
  </p>
 </div>


 <div class="refsect1 seealso" id="refsect1-sessionhandler.write-seealso">
  <h3 class="title">Ver también</h3>
  <p class="para">
   </p><ul class="simplelist">
    <li>
     La directiva de configuración
     <a href="#ini.session.serialize-handler" class="link">session.serialize_handler</a>.
    </li>
   </ul>
  
 </div>



</div>
<hr>




<h2>Tabla de contenidos</h2><ul class="chunklist chunklist_reference"><li><a href="#sessionhandler.close">SessionHandler::close</a> — Cerrar la sesión</li><li><a href="#sessionhandler.create-sid">SessionHandler::create_sid</a> — Devuelve un nuevo ID de sesión</li><li><a href="#sessionhandler.destroy">SessionHandler::destroy</a> — Destruir una sesión</li><li><a href="#sessionhandler.gc">SessionHandler::gc</a> — Limpia las sesiones antiguas</li><li><a href="#sessionhandler.open">SessionHandler::open</a> — Inicializar una sesión</li><li><a href="#sessionhandler.read">SessionHandler::read</a> — Leer información de la sesión</li><li><a href="#sessionhandler.write">SessionHandler::write</a> — Escribir información de sesión</li></ul>
</div>

<hr>



 


<div id="class.sessionhandlerinterface" class="reference"><hr>

 <h1 class="title">La clase SessionHandlerInterface</h1>
 

 <div class="partintro"><p class="verinfo">(PHP 5 &gt;= 5.4.0, PHP 7, PHP 8)</p>

  
  <div class="section" id="sessionhandlerinterface.intro">
   <h2 class="title">Introducción</h2>
   <p class="para">
    <span class="classname"><strong class="classname">SessionHandlerInterface</strong></span> es una interfaz que define un
    prototipo para crear un gestor de sesiones personalizado. Para pasar un gestor de
    sesiones personalizado a <span class="function"><a href="#function.session-set-save-handler" class="function">session_set_save_handler()</a></span> usando su
    invocación de <code class="literal">POO</code>, la clase debe implementar esta interfaz.
   </p>
   <p class="para">
    Observe que los métodos de llamada de retorno de esta clase están diseñados para ser llamados internamente por
    PHP y no para ser llamados desde código de espacio de usuario.
   </p>
  </div>
  

  <div class="section" id="sessionhandlerinterface.synopsis">
   <h2 class="title">Sinopsis de la Interfaz</h2>

   
   <div class="classsynopsis"><div class="classsynopsisinfo">
    
     <span class="modifier">interface</span> <strong class="interfacename"><strong class="interfacename">SessionHandlerInterface</strong></strong> {</div>

    <div class="classsynopsisinfo classsynopsisinfo_comment">/* Métodos */</div>
    <div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="methodname"><a href="#sessionhandlerinterface.close" class="methodname">close</a></span>(): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname"><a href="#sessionhandlerinterface.destroy" class="methodname">destroy</a></span>(<span class="methodparam"><span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$id</code></span>): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname"><a href="#sessionhandlerinterface.gc" class="methodname">gc</a></span>(<span class="methodparam"><span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$max_lifetime</code></span>): <span class="type"><span class="type"><a href="#language.types.integer" class="type int">int</a></span>|<span class="type"><a href="#language.types.singleton" class="type false">false</a></span></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname"><a href="#sessionhandlerinterface.open" class="methodname">open</a></span>(<span class="methodparam"><span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$path</code></span>, <span class="methodparam"><span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$name</code></span>): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname"><a href="#sessionhandlerinterface.read" class="methodname">read</a></span>(<span class="methodparam"><span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$id</code></span>): <span class="type"><span class="type"><a href="#language.types.string" class="type string">string</a></span>|<span class="type"><a href="#language.types.singleton" class="type false">false</a></span></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname"><a href="#sessionhandlerinterface.write" class="methodname">write</a></span>(<span class="methodparam"><span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$id</code></span>, <span class="methodparam"><span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$data</code></span>): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>

   }</div>
   

  </div>

  <div class="section" id="sessionhandlerinterface.examples">
   <h2 class="title">Ejemplos</h2>
   <div class="example" id="example-5027">
    <p><strong>Ejemplo #1 
     Ejemplo usando <span class="classname"><strong class="classname">SessionHandlerInterface</strong></span>
    </strong></p>
    <div class="example-contents"><p>
     El siguiente ejemplo proporciona almacenamiento de sesiones basado en ficheros similar al
     gestor de almacenamiento de sesiones predeterminado de PHP <code class="parameter">files</code>. Este
     ejemplo podría fácilmente ser extendido para cubrir almacenamiento de bases de datos usando su
     motor de bases de datos favorito soportado por PHP.
    </p></div>
    <div class="example-contents"><p>
     Observe que usamos el prototipo de POO con <span class="function"><a href="#function.session-set-save-handler" class="function">session_set_save_handler()</a></span> y
     registramos la función de cierre usando la bandera de parámetro de la función. Esto normalmente es
     aconsejable al registrar objetos como gestores de almacenamiento de sesiones.
    </p></div>
    <div class="caution"><strong class="caution">Precaución</strong>
     <p class="para">
      Por razones de brevedad, este ejemplo omite la validación de entradas. Sin embargo,
      los parámetros <code class="literal">$id</code> son en realidad valores suministrados por el usuario
      que requieren una validación/sanitización adecuada para evitar vulnerabilidades, como
      problemas de recorrido o cruce en la ruta de acceso. <em>Así que no utilice este ejemplo
      sin modificar en entornos de producción.</em>
     </p>
    </div>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br></span><span style="color: #007700">class </span><span style="color: #0000BB">MySessionHandler </span><span style="color: #007700">implements </span><span style="color: #0000BB">SessionHandlerInterface<br></span><span style="color: #007700">{<br>    private </span><span style="color: #0000BB">$savePath</span><span style="color: #007700">;<br><br>    public function </span><span style="color: #0000BB">open</span><span style="color: #007700">(</span><span style="color: #0000BB">$savePath</span><span style="color: #007700">, </span><span style="color: #0000BB">$sessionName</span><span style="color: #007700">): </span><span style="color: #0000BB">bool<br>    </span><span style="color: #007700">{<br>        </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">savePath </span><span style="color: #007700">= </span><span style="color: #0000BB">$savePath</span><span style="color: #007700">;<br>        if (!</span><span style="color: #0000BB">is_dir</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">savePath</span><span style="color: #007700">)) {<br>            </span><span style="color: #0000BB">mkdir</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">savePath</span><span style="color: #007700">, </span><span style="color: #0000BB">0777</span><span style="color: #007700">);<br>        }<br><br>        return </span><span style="color: #0000BB">true</span><span style="color: #007700">;<br>    }<br><br>    public function </span><span style="color: #0000BB">close</span><span style="color: #007700">(): </span><span style="color: #0000BB">bool<br>    </span><span style="color: #007700">{<br>        return </span><span style="color: #0000BB">true</span><span style="color: #007700">;<br>    }<br><br>    #[</span><span style="color: #0000BB">\ReturnTypeWillChange</span><span style="color: #007700">]<br>    public function </span><span style="color: #0000BB">read</span><span style="color: #007700">(</span><span style="color: #0000BB">$id</span><span style="color: #007700">)<br>    {<br>        return (string) @</span><span style="color: #0000BB">file_get_contents</span><span style="color: #007700">(</span><span style="color: #DD0000">"</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">savePath</span><span style="color: #DD0000">/sess_</span><span style="color: #0000BB">$id</span><span style="color: #DD0000">"</span><span style="color: #007700">);<br>    }<br><br>    public function </span><span style="color: #0000BB">write</span><span style="color: #007700">(</span><span style="color: #0000BB">$id</span><span style="color: #007700">, </span><span style="color: #0000BB">$data</span><span style="color: #007700">): </span><span style="color: #0000BB">bool<br>    </span><span style="color: #007700">{<br>        return </span><span style="color: #0000BB">file_put_contents</span><span style="color: #007700">(</span><span style="color: #DD0000">"</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">savePath</span><span style="color: #DD0000">/sess_</span><span style="color: #0000BB">$id</span><span style="color: #DD0000">"</span><span style="color: #007700">, </span><span style="color: #0000BB">$data</span><span style="color: #007700">) === </span><span style="color: #0000BB">false </span><span style="color: #007700">? </span><span style="color: #0000BB">false </span><span style="color: #007700">: </span><span style="color: #0000BB">true</span><span style="color: #007700">;<br>    }<br><br>    public function </span><span style="color: #0000BB">destroy</span><span style="color: #007700">(</span><span style="color: #0000BB">$id</span><span style="color: #007700">): </span><span style="color: #0000BB">bool<br>    </span><span style="color: #007700">{<br>        </span><span style="color: #0000BB">$file </span><span style="color: #007700">= </span><span style="color: #DD0000">"</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">savePath</span><span style="color: #DD0000">/sess_</span><span style="color: #0000BB">$id</span><span style="color: #DD0000">"</span><span style="color: #007700">;<br>        if (</span><span style="color: #0000BB">file_exists</span><span style="color: #007700">(</span><span style="color: #0000BB">$file</span><span style="color: #007700">)) {<br>            </span><span style="color: #0000BB">unlink</span><span style="color: #007700">(</span><span style="color: #0000BB">$file</span><span style="color: #007700">);<br>        }<br><br>        return </span><span style="color: #0000BB">true</span><span style="color: #007700">;<br>    }<br><br>    #[</span><span style="color: #0000BB">\ReturnTypeWillChange</span><span style="color: #007700">]<br>    public function </span><span style="color: #0000BB">gc</span><span style="color: #007700">(</span><span style="color: #0000BB">$maxlifetime</span><span style="color: #007700">)<br>    {<br>        foreach (</span><span style="color: #0000BB">glob</span><span style="color: #007700">(</span><span style="color: #DD0000">"</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">savePath</span><span style="color: #DD0000">/sess_*"</span><span style="color: #007700">) as </span><span style="color: #0000BB">$file</span><span style="color: #007700">) {<br>            if (</span><span style="color: #0000BB">filemtime</span><span style="color: #007700">(</span><span style="color: #0000BB">$file</span><span style="color: #007700">) + </span><span style="color: #0000BB">$maxlifetime </span><span style="color: #007700">&lt; </span><span style="color: #0000BB">time</span><span style="color: #007700">() &amp;&amp; </span><span style="color: #0000BB">file_exists</span><span style="color: #007700">(</span><span style="color: #0000BB">$file</span><span style="color: #007700">)) {<br>                </span><span style="color: #0000BB">unlink</span><span style="color: #007700">(</span><span style="color: #0000BB">$file</span><span style="color: #007700">);<br>            }<br>        }<br><br>        return </span><span style="color: #0000BB">true</span><span style="color: #007700">;<br>    }<br>}<br><br></span><span style="color: #0000BB">$handler </span><span style="color: #007700">= new </span><span style="color: #0000BB">MySessionHandler</span><span style="color: #007700">();<br></span><span style="color: #0000BB">session_set_save_handler</span><span style="color: #007700">(</span><span style="color: #0000BB">$handler</span><span style="color: #007700">, </span><span style="color: #0000BB">true</span><span style="color: #007700">);<br></span><span style="color: #0000BB">session_start</span><span style="color: #007700">();<br><br></span><span style="color: #FF8000">// proceed to set and retrieve values by key from $_SESSION</span></span></code></div>
    </div>

   </div>
  </div>

 </div>

 


<div id="sessionhandlerinterface.close" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">SessionHandlerInterface::close</h1>
  <p class="verinfo">(PHP 5 &gt;= 5.4.0, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">SessionHandlerInterface::close</span> — <span class="dc-title">Cerrar la sesión</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-sessionhandlerinterface.close-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="methodname"><strong>SessionHandlerInterface::close</strong></span>(): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>

  <p class="para rdfs-comment">
   Cierra la sesión actual. Esta función se ejecuta automáticamente al
   cerrar la sesión, o explícitamente mediante <span class="function"><a href="#function.session-write-close" class="function">session_write_close()</a></span>.
  </p>

 </div>


 <div class="refsect1 parameters" id="refsect1-sessionhandlerinterface.close-parameters">
  <h3 class="title">Parámetros</h3>
  <p class="para">Esta función no contiene ningún parámetro.</p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-sessionhandlerinterface.close-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   El valor devuelto (habitualmente <strong><code><a href="#constant.true">true</a></code></strong> en caso de éxito, <strong><code><a href="#constant.false">false</a></code></strong> si ocurre un error).
        Tenga en cuenta que este valor es devuelto internamente a PHP para análisis.
  </p>
 </div>


</div>
<hr>






<div id="sessionhandlerinterface.destroy" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">SessionHandlerInterface::destroy</h1>
  <p class="verinfo">(PHP 5 &gt;= 5.4.0, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">SessionHandlerInterface::destroy</span> — <span class="dc-title">Destruir una sesión</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-sessionhandlerinterface.destroy-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="methodname"><strong>SessionHandlerInterface::destroy</strong></span>(<span class="methodparam"><span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$id</code></span>): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>

  <p class="para rdfs-comment">
   Destruye una sesión. Llamado por <span class="function"><a href="#function.session-regenerate-id" class="function">session_regenerate_id()</a></span> (con $destroy = <strong><code><a href="#constant.true">true</a></code></strong>),
   <span class="function"><a href="#function.session-destroy" class="function">session_destroy()</a></span> y cuando <span class="function"><a href="#function.session-decode" class="function">session_decode()</a></span> falla.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-sessionhandlerinterface.destroy-parameters">
  <h3 class="title">Parámetros</h3>
  <p class="para">
   </p><dl>
    
     <dt><code class="parameter">id</code></dt>
     <dd>
      <p class="para">
       El ID de sesión a ser destruido.
      </p>
     </dd>
    
   </dl>
  
 </div>


 <div class="refsect1 returnvalues" id="refsect1-sessionhandlerinterface.destroy-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   El valor devuelto (habitualmente <strong><code><a href="#constant.true">true</a></code></strong> en caso de éxito, <strong><code><a href="#constant.false">false</a></code></strong> si ocurre un error).
        Tenga en cuenta que este valor es devuelto internamente a PHP para análisis.
  </p>
 </div>


</div>
<hr>






<div id="sessionhandlerinterface.gc" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">SessionHandlerInterface::gc</h1>
  <p class="verinfo">(PHP 5 &gt;= 5.4.0, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">SessionHandlerInterface::gc</span> — <span class="dc-title">Limpia las sesiones antiguas</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-sessionhandlerinterface.gc-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="methodname"><strong>SessionHandlerInterface::gc</strong></span>(<span class="methodparam"><span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$max_lifetime</code></span>): <span class="type"><span class="type"><a href="#language.types.integer" class="type int">int</a></span>|<span class="type"><a href="#language.types.singleton" class="type false">false</a></span></span></div>

  <p class="para rdfs-comment">
   Limpia las sesiones antiguas expiradas. Es llamada por <span class="function"><a href="#function.session-start" class="function">session_start()</a></span>,
   en función de <a href="#ini.session.gc-divisor" class="link">session.gc_divisor</a>,
   <a href="#ini.session.gc-probability" class="link">session.gc_probability</a> y
   <a href="#ini.session.gc-maxlifetime" class="link">session.gc_maxlifetime</a>.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-sessionhandlerinterface.gc-parameters">
  <h3 class="title">Parámetros</h3>
  <dl>
   
    <dt><code class="parameter">max_lifetime</code></dt>
    <dd>
     <p class="para">
      Las sesiones que no han sido actualizadas durante las últimas <code class="parameter">max_lifetime</code> segundos serán eliminadas.
     </p>
    </dd>
   
  </dl>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-sessionhandlerinterface.gc-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Devuelve el número de sesiones eliminadas en caso de éxito,  o <strong><code><a href="#constant.false">false</a></code></strong> si ocurre un error.
   Nota que este valor se devuelve internamente a PHP para su procesamiento.
  </p>
 </div>


 <div class="refsect1 changelog" id="refsect1-sessionhandlerinterface.gc-changelog">
  <h3 class="title">Historial de cambios</h3>
  <table class="doctable informaltable">
   
    <thead>
     <tr>
      <th>Versión</th>
      <th>Descripción</th>
     </tr>

    </thead>

    <tbody class="tbody">
     <tr>
      <td>7.1.0</td>
      <td>
       Antes de esta versión, la función devolvía <strong><code><a href="#constant.true">true</a></code></strong> en caso de éxito.
      </td>
     </tr>

    </tbody>
   
  </table>

 </div>


</div>
<hr>






<div id="sessionhandlerinterface.open" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">SessionHandlerInterface::open</h1>
  <p class="verinfo">(PHP 5 &gt;= 5.4.0, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">SessionHandlerInterface::open</span> — <span class="dc-title">Inicializar una sesión</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-sessionhandlerinterface.open-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="methodname"><strong>SessionHandlerInterface::open</strong></span>(<span class="methodparam"><span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$path</code></span>, <span class="methodparam"><span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$name</code></span>): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>

  <p class="para rdfs-comment">
   Reinicializa una sesión existente, o crea una nueva. Llamado cuando una sesión se inicia o cuando
   se invoca a <span class="function"><a href="#function.session-start" class="function">session_start()</a></span>.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-sessionhandlerinterface.open-parameters">
  <h3 class="title">Parámetros</h3>
  <dl>
   
    <dt><code class="parameter">path</code></dt>
    <dd>
     <p class="para">
      La ruta donde almacenar/recuperar la sesión.
     </p>
    </dd>
   
   
    <dt><code class="parameter">name</code></dt>
    <dd>
     <p class="para">
      El nombre de la sesión.
     </p>
    </dd>
   
  </dl>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-sessionhandlerinterface.open-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   El valor devuelto (habitualmente <strong><code><a href="#constant.true">true</a></code></strong> en caso de éxito, <strong><code><a href="#constant.false">false</a></code></strong> si ocurre un error).
        Tenga en cuenta que este valor es devuelto internamente a PHP para análisis.
  </p>
 </div>


 <div class="refsect1 seealso" id="refsect1-sessionhandlerinterface.open-seealso">
  <h3 class="title">Ver también</h3>
  <p class="para">
   </p><ul class="simplelist">
    <li><span class="function"><a href="#function.session-name" class="function" rel="rdfs-seeAlso">session_name()</a> - Lee y/o modifica el nombre de la sesión</span></li>
    <li>
     La directiva de configuración
     <a href="#ini.session.auto-start" class="link">session.auto-start</a>.
    </li>
   </ul>
  
 </div>


</div>
<hr>






<div id="sessionhandlerinterface.read" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">SessionHandlerInterface::read</h1>
  <p class="verinfo">(PHP 5 &gt;= 5.4.0, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">SessionHandlerInterface::read</span> — <span class="dc-title">Leer información de sesión</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-sessionhandlerinterface.read-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="methodname"><strong>SessionHandlerInterface::read</strong></span>(<span class="methodparam"><span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$id</code></span>): <span class="type"><span class="type"><a href="#language.types.string" class="type string">string</a></span>|<span class="type"><a href="#language.types.singleton" class="type false">false</a></span></span></div>

  <p class="para rdfs-comment">
   Lee la información de sesión desde el almacenamiento de sesiones, y devuelve el resultado.
   Llamado justo después de iniciarse una sesión o cuando es llamada <span class="function"><a href="#function.session-start" class="function">session_start()</a></span>.
   Observe que antes de que este método sea llamado <span class="function"><a href="#sessionhandlerinterface.open" class="function">SessionHandlerInterface::open()</a></span> es invocado.
  </p>
  <p class="para">
   Este método es llmado por PHP cuando la sesión es iniciada.
   Este método debería recuperar la información de sesión desde el almacenamiento mediante el
   ID de sesión proporcionado. La cadena devuelta por este método debe estar en el mismo
   formato serializado que el orgibal pasado a <span class="function"><a href="#sessionhandlerinterface.write" class="function">SessionHandlerInterface::write()</a></span>
   Si no se encuentra el registro, devuelve <strong><code><a href="#constant.false">false</a></code></strong>.
  </p>
  <p class="para">
   La información devuelta por este método será decodificada internamente por PHP usando el
   método de deserialización especificado en <a href="#ini.session.serialize-handler" class="link">session.serialize_handler</a>.
   La información resultante será usada para rellenar la variable superglobal <var class="varname"><a href="#reserved.variables.session" class="classname">$_SESSION</a></var>.
  </p>
  <p class="para">
   Observe que el esquema de serialización no es el mismo que <span class="function"><a href="#function.unserialize" class="function">unserialize()</a></span>
   y pudede accederse a él mediante <span class="function"><a href="#function.session-decode" class="function">session_decode()</a></span>.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-sessionhandlerinterface.read-parameters">
  <h3 class="title">Parámetros</h3>
  <dl>
   
    <dt><code class="parameter">id</code></dt>
    <dd>
     <p class="para">
      El ID de sesión.
     </p>
    </dd>
   
  </dl>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-sessionhandlerinterface.read-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Devuelve una cadena codificada de la información leída. Si no se leyó nada, debe devolver <strong><code><a href="#constant.false">false</a></code></strong>. Observe que este valor es devuelto internamente por PHP para procesamiento.
  </p>
 </div>


 <div class="refsect1 seealso" id="refsect1-sessionhandlerinterface.read-seealso">
  <h3 class="title">Ver también</h3>
  <p class="para">
   </p><ul class="simplelist">
    <li>
     La directiva de configuración
     <a href="#ini.session.serialize-handler" class="link">session.serialize_handler</a>.
    </li>
   </ul>
  
 </div>


</div>
<hr>






<div id="sessionhandlerinterface.write" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">SessionHandlerInterface::write</h1>
  <p class="verinfo">(PHP 5 &gt;= 5.4.0, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">SessionHandlerInterface::write</span> — <span class="dc-title">Escribir información de sesión</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-sessionhandlerinterface.write-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="methodname"><strong>SessionHandlerInterface::write</strong></span>(<span class="methodparam"><span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$id</code></span>, <span class="methodparam"><span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$data</code></span>): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>

  <p class="para rdfs-comment">
   Escribe información de sesión al almacenamiento de sesiones. Llamado por
   <span class="function"><a href="#function.session-write-close" class="function">session_write_close()</a></span>, cuando <span class="function"><a href="#function.session-register-shutdown" class="function">session_register_shutdown()</a></span> falla, o durante un cierre normal.
   Nota: <span class="function"><a href="#sessionhandlerinterface.close" class="function">SessionHandlerInterface::close()</a></span> es llamado inmediantamente después de esta función.
  </p>
  <p class="para">
   PHP llamará a este método cuando la sesión esté lista para ser almacenada y cerrada. Codifica
   la información de sesión desde la variable superglobal <var class="varname"><a href="#reserved.variables.session" class="classname">$_SESSION</a></var> a una cadena serializada y la pasa
   junto con el ID de sersión a este método para el almacenamiento. El método de serialización usado
   está especificado en la configuración <a href="#ini.session.serialize-handler" class="link">session.serialize_handler</a>.
  </p>
  <p class="para">
   Observe que este método normalmente es llamado por PHP después de que los buffers de salida hayan sido cerrados a menos que se llame
   explícitamente a <span class="function"><a href="#function.session-write-close" class="function">session_write_close()</a></span>
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-sessionhandlerinterface.write-parameters">
  <h3 class="title">Parámetros</h3>
  <dl>
   
    <dt><code class="parameter">id</code></dt>
    <dd>
     <p class="para">
      El ID de sesión.
     </p>
    </dd>
   
   
    <dt><code class="parameter">data</code></dt>
    <dd>
     <p class="para">
      La información de sesión codificada. Esta información es el resultado de que PHP codifique internamente la variable supergobal <var class="varname"><a href="#reserved.variables.session" class="classname">$_SESSION</a></var> a una cadena
      serializada y pasarla a este parámetro. Observe que las sesiones usan un método de serialización alternativo.
     </p>
    </dd>
   
  </dl>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-sessionhandlerinterface.write-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   El valor devuelto (habitualmente <strong><code><a href="#constant.true">true</a></code></strong> en caso de éxito, <strong><code><a href="#constant.false">false</a></code></strong> si ocurre un error).
        Tenga en cuenta que este valor es devuelto internamente a PHP para análisis.
  </p>
 </div>


 <div class="refsect1 seealso" id="refsect1-sessionhandlerinterface.write-seealso">
  <h3 class="title">Ver también</h3>
  <p class="para">
   </p><ul class="simplelist">
    <li>
     La directiva de configuración
     <a href="#ini.session.serialize-handler" class="link">session.serialize_handler</a>.
    </li>
   </ul>
  
 </div>


</div>
<hr>




<h2>Tabla de contenidos</h2><ul class="chunklist chunklist_reference"><li><a href="#sessionhandlerinterface.close">SessionHandlerInterface::close</a> — Cerrar la sesión</li><li><a href="#sessionhandlerinterface.destroy">SessionHandlerInterface::destroy</a> — Destruir una sesión</li><li><a href="#sessionhandlerinterface.gc">SessionHandlerInterface::gc</a> — Limpia las sesiones antiguas</li><li><a href="#sessionhandlerinterface.open">SessionHandlerInterface::open</a> — Inicializar una sesión</li><li><a href="#sessionhandlerinterface.read">SessionHandlerInterface::read</a> — Leer información de sesión</li><li><a href="#sessionhandlerinterface.write">SessionHandlerInterface::write</a> — Escribir información de sesión</li></ul>
</div>

<hr>



 


<div id="class.sessionidinterface" class="reference"><hr>

 <h1 class="title">La interfaz SessionIdInterface</h1>
 

 <div class="partintro"><p class="verinfo">(PHP 5 &gt;= 5.5.1, PHP 7, PHP 8)</p>


  <div class="section" id="sessionidinterface.intro">
   <h2 class="title">Introducción</h2>
   <p class="para">
    <span class="classname"><strong class="classname">SessionIdInterface</strong></span> es una interfaz que define
    métodos opcionales para la creación de un gestor
    de sesión personalizado. Con el fin de pasar un gestor
    de sesión personalizado a la función <span class="function"><a href="#function.session-set-save-handler" class="function">session_set_save_handler()</a></span>
    utilizando su invocación <abbr class="abbrev">OOP</abbr>, la clase puede implementar
    esta interfaz.
   </p>
   <p class="para">
    Se debe tener en cuenta que estos métodos están destinados a ser llamados de manera interna por PHP, y no
    desde el espacio de usuario.
   </p>
  </div>


  <div class="section" id="sessionidinterface.synopsis">
   <h2 class="title">Sinopsis de la Interfaz</h2>


   <div class="classsynopsis"><div class="classsynopsisinfo">
    
     <span class="modifier">interface</span> <strong class="interfacename"><strong class="interfacename">SessionIdInterface</strong></strong> {</div>

    <div class="classsynopsisinfo classsynopsisinfo_comment">/* Métodos */</div>
    <div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="methodname"><a href="#sessionidinterface.create-sid" class="methodname">create_sid</a></span>(): <span class="type"><a href="#language.types.string" class="type string">string</a></span></div>

   }</div>


  </div>

 </div>

 


<div id="sessionidinterface.create-sid" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">SessionIdInterface::create_sid</h1>
  <p class="verinfo">(PHP 5 &gt;= 5.5.1, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">SessionIdInterface::create_sid</span> — <span class="dc-title">Crear un ID de sesión</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-sessionidinterface.create-sid-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="methodname"><strong>SessionIdInterface::create_sid</strong></span>(): <span class="type"><a href="#language.types.string" class="type string">string</a></span></div>

  <p class="para rdfs-comment">
   Crea un nuevo ID de sesión. Esta función se ejecuta automáticamente
   cuando debe crearse un nuevo ID de sesión.
  </p>

 </div>


 <div class="refsect1 parameters" id="refsect1-sessionidinterface.create-sid-parameters">
  <h3 class="title">Parámetros</h3>
  <p class="para">Esta función no contiene ningún parámetro.</p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-sessionidinterface.create-sid-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   El nuevo ID de sesión.
   Cabe señalar que este valor se devuelve internamente a PHP para su
   procesamiento.
  </p>
 </div>


 <div class="refsect1 seealso" id="refsect1-sessionidinterface.create-sid-seealso">
  <h3 class="title">Ver también</h3>
  <p class="para">
   </p><ul class="simplelist">
    <li><span class="methodname"><a href="#sessionhandler.create-sid" class="methodname" rel="rdfs-seeAlso">SessionHandler::create_sid()</a> - Devuelve un nuevo ID de sesión</span></li>
   </ul>
  
 </div>


</div>
<hr>




<h2>Tabla de contenidos</h2><ul class="chunklist chunklist_reference"><li><a href="#sessionidinterface.create-sid">SessionIdInterface::create_sid</a> — Crear un ID de sesión</li></ul>
</div>

<hr>




 



<div id="class.sessionupdatetimestamphandlerinterface" class="reference"><hr>

 <h1 class="title">La interfaz SessionUpdateTimestampHandlerInterface</h1>
 

 <div class="partintro"><p class="verinfo">(PHP 7, PHP 8)</p>


  <div class="section" id="sessionupdatetimestamphandlerinterface.intro">
   <h2 class="title">Introducción</h2>
   <p class="para">
    <span class="classname"><strong class="classname">SessionUpdateTimestampHandlerInterface</strong></span> es una interfaz que define
    métodos opcionales para la creación de un gestor
    de sesión personalizado. Con el fin de pasar un gestor
    de sesión personalizado a la función <span class="function"><a href="#function.session-set-save-handler" class="function">session_set_save_handler()</a></span>
    utilizando su invocación <abbr class="abbrev">OOP</abbr>, la clase puede implementar
    esta interfaz.
   </p>
   <p class="para">
    Se debe tener en cuenta que estos métodos están destinados a ser llamados de manera interna por PHP, y no
    desde el espacio de usuario.
   </p>
  </div>


  <div class="section" id="sessionupdatetimestamphandlerinterface.synopsis">
   <h2 class="title">Sinopsis de la Clase</h2>


   <div class="classsynopsis"><div class="classsynopsisinfo">
    
     <span class="modifier">interface</span> <strong class="interfacename"><strong class="interfacename">SessionUpdateTimestampHandlerInterface</strong></strong> {</div>

    <div class="classsynopsisinfo classsynopsisinfo_comment">/* Métodos */</div>
    <div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="methodname"><a href="#sessionupdatetimestamphandlerinterface.updatetimestamp" class="methodname">updateTimestamp</a></span>(<span class="methodparam"><span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$id</code></span>, <span class="methodparam"><span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$data</code></span>): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname"><a href="#sessionupdatetimestamphandlerinterface.validateid" class="methodname">validateId</a></span>(<span class="methodparam"><span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$id</code></span>): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>

   }</div>


  </div>

 </div>

 


<div id="sessionupdatetimestamphandlerinterface.updatetimestamp" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">SessionUpdateTimestampHandlerInterface::updateTimestamp</h1>
  <p class="verinfo">(PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">SessionUpdateTimestampHandlerInterface::updateTimestamp</span> — <span class="dc-title">Actualizar la marca de tiempo</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-sessionupdatetimestamphandlerinterface.updatetimestamp-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="methodname"><strong>SessionUpdateTimestampHandlerInterface::updateTimestamp</strong></span>(<span class="methodparam"><span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$id</code></span>, <span class="methodparam"><span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$data</code></span>): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>

  <p class="para rdfs-comment">
   Actualiza la marca de tiempo de última modificación de la sesión.
   Esta función se ejecuta automáticamente cuando una sesión es actualizada.
  </p>

 </div>


 <div class="refsect1 parameters" id="refsect1-sessionupdatetimestamphandlerinterface.updatetimestamp-parameters">
  <h3 class="title">Parámetros</h3>
  <dl>
   
    <dt><code class="parameter">id</code></dt>
    <dd>
     <p class="para">
      El ID de sesión.
     </p>
    </dd>
   
   
    <dt><code class="parameter">data</code></dt>
    <dd>
     <p class="para">
      Los datos de sesión.
     </p>
    </dd>
   
  </dl>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-sessionupdatetimestamphandlerinterface.updatetimestamp-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Devuelve <strong><code><a href="#constant.true">true</a></code></strong> si la marca de tiempo ha sido actualizada, <strong><code><a href="#constant.false">false</a></code></strong> en caso contrario.
   Se debe tener en cuenta que este valor es devuelto internamente a PHP para su
   procesamiento.
  </p>
 </div>


</div>
<hr>






<div id="sessionupdatetimestamphandlerinterface.validateid" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">SessionUpdateTimestampHandlerInterface::validateId</h1>
  <p class="verinfo">(PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">SessionUpdateTimestampHandlerInterface::validateId</span> — <span class="dc-title">Validar el ID</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-sessionupdatetimestamphandlerinterface.validateid-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="methodname"><strong>SessionUpdateTimestampHandlerInterface::validateId</strong></span>(<span class="methodparam"><span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$id</code></span>): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>

  <p class="para rdfs-comment">
   Valida un ID de sesión dado. Un ID de sesión es válido, si una sesión
   con este ID ya existe.
   Esta función se ejecuta automáticamente cuando se inicia una sesión, se
   proporciona un ID de sesión y
   <a href="#ini.session.use-strict-mode" class="link">session.use_strict_mode</a>
   está activado.
  </p>

 </div>


 <div class="refsect1 parameters" id="refsect1-sessionupdatetimestamphandlerinterface.validateid-parameters">
  <h3 class="title">Parámetros</h3>
  <dl>
   
    <dt><code class="parameter">id</code></dt>
    <dd>
     <p class="para">
      El ID de sesión
     </p>
    </dd>
   
  </dl>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-sessionupdatetimestamphandlerinterface.validateid-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Devuelve <strong><code><a href="#constant.true">true</a></code></strong> para un ID válido, <strong><code><a href="#constant.false">false</a></code></strong> en caso contrario.
   Se debe tener en cuenta que este valor se devuelve internamente a PHP para su
   procesamiento.
  </p>
 </div>


</div>
<hr>




<h2>Tabla de contenidos</h2><ul class="chunklist chunklist_reference"><li><a href="#sessionupdatetimestamphandlerinterface.updatetimestamp">SessionUpdateTimestampHandlerInterface::updateTimestamp</a> — Actualizar la marca de tiempo</li><li><a href="#sessionupdatetimestamphandlerinterface.validateid">SessionUpdateTimestampHandlerInterface::validateId</a> — Validar el ID</li></ul>
</div>

<hr>




<ul class="chunklist chunklist_book"><li><a href="#intro.session">Introducción</a></li><li><a href="#session.setup">Instalación/Configuración</a><ul class="chunklist chunklist_book chunklist_children"><li><a href="#session.requirements">Requerimientos</a></li><li><a href="#session.installation">Instalación</a></li><li><a href="#session.configuration">Configuración en tiempo de ejecución</a></li></ul></li><li><a href="#session.constants">Constantes predefinidas</a></li><li><a href="#session.examples">Ejemplos</a><ul class="chunklist chunklist_book chunklist_children"><li><a href="#session.examples.basic">Uso básico</a></li><li><a href="#session.idpassing">Pasar el identificador de sesión (session ID)</a></li><li><a href="#session.customhandler">Gestión personalizada de sesiones</a></li></ul></li><li><a href="#session.upload-progress">Progresión de una subida (upload) en sesión</a></li><li><a href="#session.security">Sesiones y Seguridad</a><ul class="chunklist chunklist_book chunklist_children"><li><a href="#features.session.security.management">Gestión básica de sesiones</a></li><li><a href="#session.security.ini">Seguridad de las configuraciones INI de sesión</a></li></ul></li><li><a href="#ref.session">Funciones de sesión</a><ul class="chunklist chunklist_book chunklist_children"><li><a href="#function.session-abort">session_abort</a> — Interrumpe los cambios en el array de sesión y finaliza la sesión</li><li><a href="#function.session-cache-expire">session_cache_expire</a> — Obtiene y/o define el tiempo de expiración de la caché</li><li><a href="#function.session-cache-limiter">session_cache_limiter</a> — Lee y/o modifica el limitador de caché de sesión</li><li><a href="#function.session-commit">session_commit</a> — Alias de session_write_close</li><li><a href="#function.session-create-id">session_create_id</a> — Crear un nuevo ID de sesión</li><li><a href="#function.session-decode">session_decode</a> — Decodifica la información de sesión desde una cadena de sesión codificada</li><li><a href="#function.session-destroy">session_destroy</a> — Destruye una sesión</li><li><a href="#function.session-encode">session_encode</a> — Codifica los datos de sesión</li><li><a href="#function.session-gc">session_gc</a> — Ejecuta la recolección de basura de los datos de sesión</li><li><a href="#function.session-get-cookie-params">session_get_cookie_params</a> — Lee la configuración del cookie de sesión</li><li><a href="#function.session-id">session_id</a> — Lee y/o modifica el identificador de sesión actual</li><li><a href="#function.session-module-name">session_module_name</a> — Lee y/o modifica el módulo de sesión actual</li><li><a href="#function.session-name">session_name</a> — Lee y/o modifica el nombre de la sesión</li><li><a href="#function.session-regenerate-id">session_regenerate_id</a> — Reemplaza el identificador de sesión actual por uno nuevo</li><li><a href="#function.session-register-shutdown">session_register_shutdown</a> — Función de cierre de sesiones</li><li><a href="#function.session-reset">session_reset</a> — Restablece el array de sesión con los valores originales</li><li><a href="#function.session-save-path">session_save_path</a> — Lee y/o modifica la ruta de guardado de las sesiones</li><li><a href="#function.session-set-cookie-params">session_set_cookie_params</a> — Modifica los parámetros de la cookie de sesión</li><li><a href="#function.session-set-save-handler">session_set_save_handler</a> — Configura las funciones de almacenamiento de sesiones</li><li><a href="#function.session-start">session_start</a> — Inicia una nueva sesión o reanuda una sesión existente</li><li><a href="#function.session-status">session_status</a> — Determina el estado de la sesión actual</li><li><a href="#function.session-unset">session_unset</a> — Destruye todas las variables de una sesión</li><li><a href="#function.session-write-close">session_write_close</a> — Escribe los datos de sesión y cierra la sesión</li></ul></li><li><a href="#class.sessionhandler">SessionHandler</a> — La clase SessionHandler<ul class="chunklist chunklist_book chunklist_children"><li><a href="#sessionhandler.close">SessionHandler::close</a> — Cerrar la sesión</li><li><a href="#sessionhandler.create-sid">SessionHandler::create_sid</a> — Devuelve un nuevo ID de sesión</li><li><a href="#sessionhandler.destroy">SessionHandler::destroy</a> — Destruir una sesión</li><li><a href="#sessionhandler.gc">SessionHandler::gc</a> — Limpia las sesiones antiguas</li><li><a href="#sessionhandler.open">SessionHandler::open</a> — Inicializar una sesión</li><li><a href="#sessionhandler.read">SessionHandler::read</a> — Leer información de la sesión</li><li><a href="#sessionhandler.write">SessionHandler::write</a> — Escribir información de sesión</li></ul></li><li><a href="#class.sessionhandlerinterface">SessionHandlerInterface</a> — La clase SessionHandlerInterface<ul class="chunklist chunklist_book chunklist_children"><li><a href="#sessionhandlerinterface.close">SessionHandlerInterface::close</a> — Cerrar la sesión</li><li><a href="#sessionhandlerinterface.destroy">SessionHandlerInterface::destroy</a> — Destruir una sesión</li><li><a href="#sessionhandlerinterface.gc">SessionHandlerInterface::gc</a> — Limpia las sesiones antiguas</li><li><a href="#sessionhandlerinterface.open">SessionHandlerInterface::open</a> — Inicializar una sesión</li><li><a href="#sessionhandlerinterface.read">SessionHandlerInterface::read</a> — Leer información de sesión</li><li><a href="#sessionhandlerinterface.write">SessionHandlerInterface::write</a> — Escribir información de sesión</li></ul></li><li><a href="#class.sessionidinterface">SessionIdInterface</a> — La interfaz SessionIdInterface<ul class="chunklist chunklist_book chunklist_children"><li><a href="#sessionidinterface.create-sid">SessionIdInterface::create_sid</a> — Crear un ID de sesión</li></ul></li><li><a href="#class.sessionupdatetimestamphandlerinterface">SessionUpdateTimestampHandlerInterface</a> — La interfaz SessionUpdateTimestampHandlerInterface<ul class="chunklist chunklist_book chunklist_children"><li><a href="#sessionupdatetimestamphandlerinterface.updatetimestamp">SessionUpdateTimestampHandlerInterface::updateTimestamp</a> — Actualizar la marca de tiempo</li><li><a href="#sessionupdatetimestamphandlerinterface.validateid">SessionUpdateTimestampHandlerInterface::validateId</a> — Validar el ID</li></ul></li></ul></div>
<div id="book.mail" class="book"><hr>
 
 <h1 class="title">Mail</h1>

 
 <div id="intro.mail" class="preface"><hr>
  <h1 class="title">Introducción</h1>
  <p class="para">
   La función <span class="function"><a href="#function.mail" class="function">mail()</a></span> permite enviar correos.
  </p>
 </div>
<hr>

 

 




<div id="mail.setup" class="chapter"><hr>
 <h1 class="title">Instalación/Configuración</h1>
<h2>Tabla de contenidos</h2><ul class="chunklist chunklist_chapter"><li><a href="#mail.requirements">Requerimientos</a></li><li><a href="#mail.configuration">Configuración en tiempo de ejecución</a></li></ul>


 
 <div id="mail.requirements" class="section"><hr>
  <h2 class="title">Requerimientos</h2>
  <p class="para">
   Para que la función <span class="function"><a href="#function.mail" class="function">mail()</a></span> esté disponible,
   es necesario que PHP tenga acceso al servicio <code class="literal">sendmail</code>
   en el servidor durante la compilación. Si se utiliza otro programa de correo,
   como <span class="productname">qmail</span> o <span class="productname">postfix</span>,
   asegúrese de utilizar las API correctas. PHP comenzará a buscar sendmail en el <var class="envar">PATH</var>,
   y luego, en los siguientes directorios:
   <code class="literal">/usr/bin:/usr/sbin:/usr/etc:/etc:/usr/ucblib:/usr/lib</code>.
   Se recomienda encarecidamente tener sendmail disponible en el <var class="envar">PATH</var>. Además,
   el usuario que compile PHP debe tener los permisos necesarios para acceder al ejecutable sendmail.
  </p>
 </div>
<hr>

 

 
 




<div id="mail.configuration" class="section"><hr>
 <h2 class="title">Configuración en tiempo de ejecución</h2>
 <p class="simpara">El comportamiento de estas funciones es
afectado por la configuración en el archivo <var class="filename">php.ini</var>.</p>
 <p class="para">
  </p><table class="doctable table">
   <caption><strong>Opciones de configuración para el correo</strong></caption>
   
    <thead>
     <tr>
      <th>Nombre</th>
      <th>Por defecto</th>
      <th>Cambiable</th>
      <th>Historial de cambios</th>
     </tr>

    </thead>

    <tbody class="tbody">
     <tr>
      <td><a href="#ini.mail.add-x-header" class="link">mail.add_x_header</a></td>
      <td>"0"</td>
      <td><strong><code><a href="#constant.ini-perdir">INI_PERDIR</a></code></strong></td>
      <td class="empty"> </td>
     </tr>

     <tr>
      <td><a href="#ini.mail.mixed_lf_and_crlf" class="link">mail.mixed_lf_and_crlf</a></td>
      <td>"0"</td>
      <td><strong><code><a href="#constant.ini-system">INI_SYSTEM</a></code></strong>|<strong><code><a href="#constant.ini-perdir">INI_PERDIR</a></code></strong></td>
      <td>Disponible a partir de PHP 8.2.4</td>
     </tr>

     <tr>
      <td><a href="#ini.mail.log" class="link">mail.log</a></td>
      <td>NULL</td>
      <td><strong><code><a href="#constant.ini-system">INI_SYSTEM</a></code></strong>|<strong><code><a href="#constant.ini-perdir">INI_PERDIR</a></code></strong></td>
      <td class="empty"> </td>
     </tr>

     <tr>
     <td><a href="#ini.mail.force_extra_parameters" class="link">mail.force_extra_parameters</a></td>
     <td>NULL</td>
     <td><strong><code><a href="#constant.ini-system">INI_SYSTEM</a></code></strong>|<strong><code><a href="#constant.ini-perdir">INI_PERDIR</a></code></strong></td>
     <td class="empty"> </td>
    </tr>

     <tr>
      <td><a href="#ini.smtp" class="link">SMTP</a></td>
      <td>"localhost"</td>
      <td><strong><code><a href="#constant.ini-all">INI_ALL</a></code></strong></td>
      <td class="empty"> </td>
     </tr>

     <tr>
      <td><a href="#ini.smtp-port" class="link">smtp_port</a></td>
      <td>"25"</td>
      <td><strong><code><a href="#constant.ini-all">INI_ALL</a></code></strong></td>
      <td class="empty"> </td>
     </tr>

     <tr>
      <td><a href="#ini.sendmail-from" class="link">sendmail_from</a></td>
      <td>NULL</td>
      <td><strong><code><a href="#constant.ini-all">INI_ALL</a></code></strong></td>
      <td class="empty"> </td>
     </tr>

     <tr>
      <td><a href="#ini.sendmail-path" class="link">sendmail_path</a></td>
      <td>"/usr/sbin/sendmail -t -i"</td>
      <td><strong><code><a href="#constant.ini-system">INI_SYSTEM</a></code></strong></td>
      <td class="empty"> </td>
     </tr>

    </tbody>
   
  </table>

  Para más detalles sobre los modos INI_*,
        refiérase a <a href="#configuration.changes.modes" class="xref">Dónde una directiva de configuración puede ser modificada</a>.
 

 <p class="para">Aquí hay una aclaración sobre
el uso de las directivas de configuración.</p>

 <p class="para">
  </p><dl>
   
    <dt id="ini.mail.add-x-header">
     <code class="parameter">mail.add_x_header</code>
     <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span>
    </dt>
    <dd>
     <p class="para">
      Se añade un encabezado <code class="literal">X-PHP-Originating-Script</code> que incluye
      el UID del script, seguido por el nombre del fichero.
     </p>
    </dd>
   

   
    <dt id="ini.mail.log">
     <code class="parameter">mail.log</code>
     <span class="type"><a href="#language.types.string" class="type string">string</a></span>
    </dt>
    <dd>
     <p class="para">
      La ruta del registro de todos los llamados a la función <span class="function"><a href="#function.mail" class="function">mail()</a></span>.
      Las entradas del registro incluyen la ruta completa hacia el script, el número de la línea,
      las direcciones <code class="literal">To</code> así como los encabezados.
     </p>
    </dd>
   

   
    <dt id="ini.mail.mixed_lf_and_crlf">
     <code class="parameter">mail.mixed_lf_and_crlf</code>
     <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span>
    </dt>
    <dd>
     <p class="para">
      Permite volver al indicador de fin de línea para los encabezados de correo electrónico y los cuerpos de mensaje en LF (Line Feed),
      imitando el comportamiento no conforme de PHP 7. Se proporciona como medida de compatibilidad
      para ciertos Agentes de Transferencia de Correo (MTA) no conformes que fallan al tratar correctamente CRLF
      (Retorno de carro + Line Feed) como indicador de fin de línea en los encabezados de correo electrónico y el contenido de los mensajes.
     </p>
    </dd>
   

   
    <dt id="ini.mail.force_extra_parameters">
     <code class="parameter">mail.force_extra_parameters</code>
     <span class="type"><a href="#language.types.string" class="type string">string</a></span>
    </dt>
    <dd>
     <p class="para">
      Permite forzar la adición del parámetro especificado como
      parámetro adicional para sendmail. Estos parámetros reemplazarán
      al quinto parámetro de la función <span class="function"><a href="#function.mail" class="function">mail()</a></span>.
     </p>
    </dd>
   

   
    <dt id="ini.smtp">
     <code class="parameter">smtp</code>
     <span class="type"><a href="#language.types.string" class="type string">string</a></span>
    </dt>
    <dd>
     <p class="para">
      Solo en Windows: nombre del host o dirección IP del SMTP que PHP debe utilizar
      para enviar un correo con la función <span class="function"><a href="#function.mail" class="function">mail()</a></span>.
     </p>
    </dd>
   

   
    <dt id="ini.smtp-port">
     <code class="parameter">smtp_port</code>
     <span class="type"><a href="#language.types.integer" class="type int">int</a></span>
    </dt>
    <dd>
     <p class="para">
      Solo en Windows: número de puerto a utilizar para conectarse
      al servidor <code class="literal">SMTP</code> al enviar correo con
      la función <span class="function"><a href="#function.mail" class="function">mail()</a></span>; por omisión, es 25.
     </p>
    </dd>
   

   
    <dt id="ini.sendmail-from">
     <code class="parameter">sendmail_from</code>
     <span class="type"><a href="#language.types.string" class="type string">string</a></span>
    </dt>
    <dd>
     <p class="para">
      Solo en Windows: valor del campo <code class="literal">"From:"</code> que
      debe ser utilizado al enviar correo vía SMTP (solo en Windows).
      Esta directiva definirá también el encabezado <code class="literal">"Return-Path:"</code>.
     </p>
    </dd>
   

   
    <dt id="ini.sendmail-path">
     <code class="parameter">sendmail_path</code>
     <span class="type"><a href="#language.types.string" class="type string">string</a></span>
    </dt>
    <dd>
     <p class="para">
      Localización del programa <strong class="command">sendmail</strong>: habitualmente
      <var class="filename">/usr/sbin/sendmail</var> o <var class="filename">/usr/lib/sendmail</var>.
      <strong class="command">configure</strong> intenta detectar la presencia de sendmail
      por sí mismo, y asigna este resultado por omisión. En caso de
      problemas de localización, puede establecerse un nuevo valor por omisión aquí.
     </p>
     <p class="para">
      Todo sistema que no utilice <strong class="command">sendmail</strong> debe establecer esta
      directiva al camino del programa de sustitución que reemplaza al servidor de correo, si aquel existe. Por ejemplo, los usuarios de
      <a href="http://cr.yp.to/qmail.html" class="link external">» Qmail</a> pueden definirla a
     <var class="filename">/var/qmail/bin/sendmail</var> o <var class="filename">
     /var/qmail/bin/qmail-inject</var>.
     </p>
     <p class="para">
      <strong class="command">qmail-inject</strong> no requiere opciones para
      tratar correctamente el correo.
     </p>
     <p class="para">
      Esta directiva funciona también en Windows. Si está definida, <var class="varname">smtp</var>,
      <var class="varname">smtp_port</var> y <var class="varname">sendmail_from</var> son
      ignorados y se ejecuta el comando especificado.
     </p>
    </dd>
   
  </dl>

 
</div>
<hr>




 

</div>

<hr>




 



 <div id="ref.mail" class="reference"><hr>
  <h1 class="title">Funciones de mail</h1>




<div id="function.ezmlm-hash" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">ezmlm_hash</h1>
  <p class="verinfo">(PHP 4 &gt;= 4.0.2, PHP 5, PHP 7)</p><p class="refpurpose"><span class="refname">ezmlm_hash</span> — <span class="dc-title">Calcula el hash solicitado por EZMLM</span></p>

 </div>

 <div id="function.ezmlm-hash-refsynopsisdiv">
   <div class="warning"><strong class="warning">Advertencia</strong><p class="simpara">Esta función está
<em>OBSOLETA</em> a partir de PHP 7.4.0, y ha sido <em>ELIMINADA</em> a partir de PHP 8.0.0. Depender de esta función
está altamente desaconsejado.</p></div>
 </div>

 <div class="refsect1 description" id="refsect1-function.ezmlm-hash-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>ezmlm_hash</strong></span>(<span class="methodparam"><span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$addr</code></span>): <span class="type"><a href="#language.types.integer" class="type int">int</a></span></div>

  <p class="simpara">
   <span class="function"><strong>ezmlm_hash()</strong></span> calcula el hash necesario
   durante la gestión de listas de difusión EZMLM con una base
   de datos MySQL.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.ezmlm-hash-parameters">
  <h3 class="title">Parámetros</h3>
  <p class="para">
   </p><dl>
    
     <dt><code class="parameter">addr</code></dt>
     <dd>
      <p class="para">
       La dirección de correo electrónico que debe ser hasheada.
      </p>
     </dd>
    
   </dl>
  
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.ezmlm-hash-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   El valor del hash de <code class="parameter">addr</code>.
  </p>
 </div>


 <div class="refsect1 changelog" id="refsect1-function.ezmlm-hash-changelog">
  <h3 class="title">Historial de cambios</h3>
   <table class="doctable informaltable">
   
    <thead>
     <tr>
      <th>Versión</th>
      <th>Descripción</th>
     </tr>

    </thead>

    <tbody class="tbody">
     <tr>
      <td>8.0.0</td>
      <td>
       Esta función ha sido eliminada.
      </td>
     </tr>

     <tr>
      <td>7.2.0</td>
      <td>
       Esta función está obsoleta.
      </td>
     </tr>

    </tbody>
   
  </table>

 </div>


 <div class="refsect1 examples" id="refsect1-function.ezmlm-hash-examples">
  <h3 class="title">Ejemplos</h3>
  <p class="para">
   </p><div class="example" id="example-3264">
    <p><strong>Ejemplo #1 Cálculo del hash y registro de un usuario de lista de
      difusión</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br><br>     $user </span><span style="color: #007700">= </span><span style="color: #DD0000">"joecool@example.com"</span><span style="color: #007700">;<br>     </span><span style="color: #0000BB">$hash </span><span style="color: #007700">= </span><span style="color: #0000BB">ezmlm_hash</span><span style="color: #007700">(</span><span style="color: #0000BB">$user</span><span style="color: #007700">);<br>     </span><span style="color: #0000BB">$query </span><span style="color: #007700">= </span><span style="color: #0000BB">sprintf</span><span style="color: #007700">(</span><span style="color: #DD0000">"INSERT INTO sample VALUES (%s, '%s')"</span><span style="color: #007700">, </span><span style="color: #0000BB">$hash</span><span style="color: #007700">, </span><span style="color: #0000BB">$user</span><span style="color: #007700">);<br>     </span><span style="color: #0000BB">$db</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">query</span><span style="color: #007700">(</span><span style="color: #0000BB">$query</span><span style="color: #007700">); </span><span style="color: #FF8000">// utilización de la interfaz PHPLIB<br><br></span><span style="color: #0000BB">?&gt;</span></span></code></div>
    </div>

   </div>
  
 </div>

</div>
<hr>








<div id="function.mail" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">mail</h1>
  <p class="verinfo">(PHP 4, PHP 5, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">mail</span> — <span class="dc-title">Envío de correo</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-function.mail-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>mail</strong></span>(<br>    <span class="methodparam"><span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$to</code></span>,<br>    <span class="methodparam"><span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$subject</code></span>,<br>    <span class="methodparam"><span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$message</code></span>,<br>    <span class="methodparam"><span class="type"><span class="type"><a href="#language.types.array" class="type array">array</a></span>|<span class="type"><a href="#language.types.string" class="type string">string</a></span></span> <code class="parameter">$additional_headers</code><span class="initializer"> = []</span></span>,<br>    <span class="methodparam"><span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$additional_params</code><span class="initializer"> = ""</span></span><br>): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>

  <p class="para rdfs-comment">
   Envía un correo.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.mail-parameters">
  <h3 class="title">Parámetros</h3>
  <p class="para">
   </p><dl>
    
     <dt><code class="parameter">to</code></dt>
     <dd>
      <p class="para">
       El o los destinatarios del correo.
      </p>
      <p class="para">
       El formato de esta cadena debe corresponder con la
       <a href="https://datatracker.ietf.org/doc/html/rfc2822" class="link external">» RFC 2822</a>. A continuación se muestran algunos ejemplos:
       </p><ul class="simplelist">
        <li>destinatario@example.com</li>
        <li>destinatario@example.com, otro_destinatario@example.com</li>
        <li>Destinatario <destinatario></destinatario></li>
        <li>Destinatario <destinatario>, Otro destinatario <otro_destinatario></otro_destinatario></destinatario></li>
       </ul>
      
     </dd>
    
    
     <dt><code class="parameter">subject</code></dt>
     <dd>
      <p class="para">
       Asunto del correo a enviar.
      </p>
      <div class="caution"><strong class="caution">Precaución</strong>
       <p class="para">
        El asunto debe cumplir con la <a href="https://datatracker.ietf.org/doc/html/rfc2047" class="link external">» RFC 2047</a>.
       </p>
      </div>
     </dd>
    
    
     <dt><code class="parameter">message</code></dt>
     <dd>
      <p class="para">
       Mensaje a enviar.
      </p>
      <p class="para">
       Cada línea debe estar separada por un carácter <code class="literal">CRLF</code>
       (<code class="literal">\r\n</code>). Las líneas no deben contener más de 70 caracteres.
      </p>
      <div class="caution"><strong class="caution">Precaución</strong>
       <p class="para">
        (Solo Windows) Cuando PHP se comunica directamente con un servidor
        SMTP, si se encuentra un punto al inicio de una línea, será eliminado.
        Para evitar este comportamiento, reemplace estas ocurrencias con dos puntos.
        </p><div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br>     $text </span><span style="color: #007700">= </span><span style="color: #0000BB">str_replace</span><span style="color: #007700">(</span><span style="color: #DD0000">"\n."</span><span style="color: #007700">, </span><span style="color: #DD0000">"\n.."</span><span style="color: #007700">, </span><span style="color: #0000BB">$text</span><span style="color: #007700">);<br></span><span style="color: #0000BB">?&gt;</span></span></code></div>
        </div>

       
      </div>
     </dd>
    
    
     <dt><code class="parameter">additional_headers</code> (opcional)</dt>
     <dd>
      <p class="para">
       <span class="type"><a href="#language.types.string" class="type String">String</a></span> o <span class="type"><a href="#language.types.array" class="type array">array</a></span> a insertar al final de los encabezados del correo.
      </p>
      <p class="para">
       Este parámetro se utiliza típicamente para añadir encabezados adicionales
       (From, Cc y Bcc). Los encabezados adicionales deben estar
       separados por un carácter <code class="literal">CRLF</code> (<code class="literal">\r\n</code>).
       Si se utilizan datos externos para componer este encabezado, deben
       ser limpiados primero para evitar la inyección de datos no deseados
       en los encabezados.
      </p>
      <p class="para">
       Si se pasa un <span class="type"><a href="#language.types.array" class="type array">array</a></span>, sus claves son los nombres de los encabezados y
       sus valores son los valores de los encabezados respectivos.
      </p>
      <blockquote class="note"><p><strong class="note">Nota</strong>: 
       </p><p class="para">
        Al enviar un correo, el correo <em>debe</em>
        contener un encabezado <code class="literal">From</code>. Puede ser
        definido por el parámetro <code class="parameter">additional_headers</code>,
        o puede ser un valor predeterminado definido en el <var class="filename">php.ini</var>.
       </p>
       <p class="para">
        No hacerlo causará un mensaje de error similar a
        <code class="literal">Warning: mail(): "sendmail_from" not
         set in php.ini or custom "From:" header missing</code>.
        El encabezado <code class="literal">From</code> también define el encabezado
        <code class="literal">Return-Path</code> al enviar directamente vía SMTP (solo Windows).
       </p>
      </blockquote>
      <blockquote class="note"><p><strong class="note">Nota</strong>: 
       </p><p class="para">
        Si el mensaje no es recibido, intente utilizar únicamente un carácter
        <code class="literal">LF</code> (<code class="literal">\n</code>).
        Algunos agentes de transferencia de correo Unix (por ejemplo
        <a href="http://cr.yp.to/qmail.html" class="link external">» qmail</a>)
        reemplazan automáticamente el carácter <code class="literal">LF</code> por el
        carácter <code class="literal">CRLF</code>
        (lo que equivale a duplicar el carácter <code class="literal">CR</code>
        si se utiliza el carácter <code class="literal">CRLF</code>).
        Esto debe ser un último recurso ya que no cumple
        con la <a href="https://datatracker.ietf.org/doc/html/rfc2822" class="link external">» RFC 2822</a>.
       </p>
      </blockquote>
     </dd>
    
    
     <dt><code class="parameter">additional_params</code> (opcional)</dt>
     <dd>
      <p class="para">
       El parámetro <code class="parameter">additional_params</code>
       puede ser utilizado para pasar banderas adicionales como opciones
       a la línea de comandos configurada para ser utilizada para enviar los
       correos utilizando el parámetro de configuración <code class="literal">sendmail_path</code>.
       Por ejemplo, esto puede ser utilizado para definir la dirección
       del remitente del sobre al utilizar sendmail con la opción
       <code class="literal">-f</code>.
      </p>
      <p class="para">
       Este parámetro es escapado por la función <span class="function"><a href="#function.escapeshellcmd" class="function">escapeshellcmd()</a></span> internamente
       para prevenir la ejecución de un comando. La función <span class="function"><a href="#function.escapeshellcmd" class="function">escapeshellcmd()</a></span>
       previene la ejecución de un comando, pero permite añadir parámetros adicionales.
       Por razones de seguridad, se recomienda al usuario limpiar este parámetro
       para evitar añadir parámetros no deseados al comando shell.
      </p>
      <p class="para">
       Dado que la función <span class="function"><a href="#function.escapeshellcmd" class="function">escapeshellcmd()</a></span> se aplica automáticamente,
       algunos caracteres permitidos en las direcciones de correo por las RFCs de internet ya no pueden
       ser utilizados. La función <span class="function"><strong>mail()</strong></span> no puede permitir estos caracteres,
       por lo tanto, en los programas donde su utilización es necesaria, debería utilizarse
       un método alternativo para el envío de correos (como el uso de un framework
       o una biblioteca.
      </p>
      <p class="para">
       El usuario bajo el cual se ejecuta el servidor web debe ser añadido como usuario de confianza
       en la configuración de sendmail para que el encabezado <code class="literal">X-Warning</code>
       no sea añadido al mensaje cuando el remitente del sobre (-f) es
       definido utilizando este método. Para los usuarios de sendmail, este archivo es
       <var class="filename">/etc/mail/trusted-users</var>.
      </p>
     </dd>
    
   </dl>
  
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.mail-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Devuelve <strong><code><a href="#constant.true">true</a></code></strong> si el correo ha sido aceptado para su entrega, <strong><code><a href="#constant.false">false</a></code></strong> en caso contrario.
  </p>
  <p class="para">
   Es importante tener en cuenta que el hecho de que el correo haya sido aceptado para su entrega
   no garantiza que llegue a su destino.
  </p>
 </div>


 <div class="refsect1 changelog" id="refsect1-function.mail-changelog">
  <h3 class="title">Historial de cambios</h3>
  <p class="para">
   </p><table class="doctable informaltable">
    
     <thead>
      <tr>
       <th>Versión</th>
       <th>Descripción</th>
      </tr>

     </thead>

     <tbody class="tbody">
      <tr>
       <td>7.2.0</td>
       <td>
        El parámetro <code class="parameter">additional_headers</code> ahora acepta
        <span class="type"><a href="#language.types.array" class="type array">array</a></span>.
       </td>
      </tr>

     </tbody>
    
   </table>

  
 </div>


 <div class="refsect1 examples" id="refsect1-function.mail-examples">
  <h3 class="title">Ejemplos</h3>
  <p class="para">
   </p><div class="example" id="example-3265">
    <p><strong>Ejemplo #1 Envío de un correo</strong></p>
    <div class="example-contents"><p>
     Uso de la función <span class="function"><strong>mail()</strong></span> para enviar un correo simple:
    </p></div>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br></span><span style="color: #FF8000">// El mensaje<br></span><span style="color: #0000BB">$message </span><span style="color: #007700">= </span><span style="color: #DD0000">"Line 1\r\nLine 2\r\nLine 3"</span><span style="color: #007700">;<br><br></span><span style="color: #FF8000">// En caso de que nuestras líneas contengan más de 70 caracteres, las cortamos utilizando wordwrap()<br></span><span style="color: #0000BB">$message </span><span style="color: #007700">= </span><span style="color: #0000BB">wordwrap</span><span style="color: #007700">(</span><span style="color: #0000BB">$message</span><span style="color: #007700">, </span><span style="color: #0000BB">70</span><span style="color: #007700">, </span><span style="color: #DD0000">"\r\n"</span><span style="color: #007700">);<br><br></span><span style="color: #FF8000">// Envío del correo<br></span><span style="color: #0000BB">mail</span><span style="color: #007700">(</span><span style="color: #DD0000">'caffeinated@example.com'</span><span style="color: #007700">, </span><span style="color: #DD0000">'Mi Asunto'</span><span style="color: #007700">, </span><span style="color: #0000BB">$message</span><span style="color: #007700">);<br></span><span style="color: #0000BB">?&gt;</span></span></code></div>
    </div>

   </div>
   <div class="example" id="example-3266">
    <p><strong>Ejemplo #2 Envío de un correo con encabezados adicionales</strong></p>
    <div class="example-contents"><p>
     Añadir encabezados simples, especificando al MUA las direcciones
     <code class="literal">"From"</code> y <code class="literal">"Reply-To"</code>:
    </p></div>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br>     $to      </span><span style="color: #007700">= </span><span style="color: #DD0000">'persona@example.com'</span><span style="color: #007700">;<br>     </span><span style="color: #0000BB">$subject </span><span style="color: #007700">= </span><span style="color: #DD0000">'el asunto'</span><span style="color: #007700">;<br>     </span><span style="color: #0000BB">$message </span><span style="color: #007700">= </span><span style="color: #DD0000">'¡Hola!'</span><span style="color: #007700">;<br>     </span><span style="color: #0000BB">$headers </span><span style="color: #007700">= </span><span style="color: #DD0000">'From: webmaster@example.com' </span><span style="color: #007700">. </span><span style="color: #DD0000">"\r\n" </span><span style="color: #007700">.<br>     </span><span style="color: #DD0000">'Reply-To: webmaster@example.com' </span><span style="color: #007700">. </span><span style="color: #DD0000">"\r\n" </span><span style="color: #007700">.<br>     </span><span style="color: #DD0000">'X-Mailer: PHP/' </span><span style="color: #007700">. </span><span style="color: #0000BB">phpversion</span><span style="color: #007700">();<br><br>     </span><span style="color: #0000BB">mail</span><span style="color: #007700">(</span><span style="color: #0000BB">$to</span><span style="color: #007700">, </span><span style="color: #0000BB">$subject</span><span style="color: #007700">, </span><span style="color: #0000BB">$message</span><span style="color: #007700">, </span><span style="color: #0000BB">$headers</span><span style="color: #007700">);<br> </span><span style="color: #0000BB">?&gt;</span></span></code></div>
    </div>

   </div>
   <div class="example" id="example-3267">
    <p><strong>Ejemplo #3 Envío de un correo con un <span class="type"><a href="#language.types.array" class="type array">array</a></span> de encabezados adicionales</strong></p>
    <div class="example-contents"><p>
     Este ejemplo envía el mismo correo que el ejemplo anterior, pero pasa
     los encabezados adicionales como un array (disponible desde PHP
     7.2.0).
    </p></div>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br>$to      </span><span style="color: #007700">= </span><span style="color: #DD0000">'nadie@example.com'</span><span style="color: #007700">;<br></span><span style="color: #0000BB">$subject </span><span style="color: #007700">= </span><span style="color: #DD0000">'el asunto'</span><span style="color: #007700">;<br></span><span style="color: #0000BB">$message </span><span style="color: #007700">= </span><span style="color: #DD0000">'hola'</span><span style="color: #007700">;<br></span><span style="color: #0000BB">$headers </span><span style="color: #007700">= array(<br>    </span><span style="color: #DD0000">'From' </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">'webmaster@example.com'</span><span style="color: #007700">,<br>    </span><span style="color: #DD0000">'Reply-To' </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">'webmaster@example.com'</span><span style="color: #007700">,<br>    </span><span style="color: #DD0000">'X-Mailer' </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">'PHP/' </span><span style="color: #007700">. </span><span style="color: #0000BB">phpversion</span><span style="color: #007700">()<br>);<br><br></span><span style="color: #0000BB">mail</span><span style="color: #007700">(</span><span style="color: #0000BB">$to</span><span style="color: #007700">, </span><span style="color: #0000BB">$subject</span><span style="color: #007700">, </span><span style="color: #0000BB">$message</span><span style="color: #007700">, </span><span style="color: #0000BB">$headers</span><span style="color: #007700">);<br></span><span style="color: #0000BB">?&gt;</span></span></code></div>
    </div>

   </div>
   <div class="example" id="example-3268">
    <p><strong>Ejemplo #4 Envío de un correo con un parámetro adicional de línea de comandos</strong></p>
    <div class="example-contents"><p>
     El parámetro <code class="parameter">additional_params</code>
     puede ser utilizado para pasar un parámetro adicional al programa configurado
     para ser utilizado para enviar los correos utilizando <code class="literal">sendmail_path</code>.
    </p></div>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br>     mail</span><span style="color: #007700">(</span><span style="color: #DD0000">'persona@example.com'</span><span style="color: #007700">, </span><span style="color: #DD0000">'el asunto'</span><span style="color: #007700">, </span><span style="color: #DD0000">'el mensaje'</span><span style="color: #007700">, </span><span style="color: #0000BB">null</span><span style="color: #007700">,<br>     </span><span style="color: #DD0000">'-fwebmaster@example.com'</span><span style="color: #007700">);<br></span><span style="color: #0000BB">?&gt;</span></span></code></div>
    </div>

   </div>
   <div class="example" id="example-3269">
    <p><strong>Ejemplo #5 Envío de correo HTML</strong></p>
    <div class="example-contents"><p>
     También es posible enviar correos HTML con la función
     <span class="function"><strong>mail()</strong></span>.
    </p></div>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br>     </span><span style="color: #FF8000">// Varios destinatarios<br>     </span><span style="color: #0000BB">$to  </span><span style="color: #007700">= </span><span style="color: #DD0000">'johny@example.com, sally@example.com'</span><span style="color: #007700">; </span><span style="color: #FF8000">// note la coma<br><br>     // Asunto<br>     </span><span style="color: #0000BB">$subject </span><span style="color: #007700">= </span><span style="color: #DD0000">'Calendario de cumpleaños para Agosto'</span><span style="color: #007700">;<br><br>     </span><span style="color: #FF8000">// mensaje<br>     </span><span style="color: #0000BB">$message </span><span style="color: #007700">= </span><span style="color: #DD0000">'<br>     &lt;html&gt;<br>      &lt;head&gt;<br>       &lt;title&gt;Calendario de cumpleaños para Agosto&lt;/title&gt;<br>      &lt;/head&gt;<br>      &lt;body&gt;<br>       &lt;p&gt;¡Aquí están los cumpleaños que se avecinan en el mes de Agosto!&lt;/p&gt;<br>       &lt;table&gt;<br>        &lt;tr&gt;<br>         &lt;th&gt;Persona&lt;/th&gt;&lt;th&gt;Día&lt;/th&gt;&lt;th&gt;Mes&lt;/th&gt;&lt;th&gt;Año&lt;/th&gt;<br>        &lt;/tr&gt;<br>        &lt;tr&gt;<br>         &lt;td&gt;Josiane&lt;/td&gt;&lt;td&gt;3&lt;/td&gt;&lt;td&gt;Agosto&lt;/td&gt;&lt;td&gt;1970&lt;/td&gt;<br>        &lt;/tr&gt;<br>        &lt;tr&gt;<br>         &lt;td&gt;Emma&lt;/td&gt;&lt;td&gt;26&lt;/td&gt;&lt;td&gt;Agosto&lt;/td&gt;&lt;td&gt;1973&lt;/td&gt;<br>        &lt;/tr&gt;<br>       &lt;/table&gt;<br>      &lt;/body&gt;<br>     &lt;/html&gt;<br>     '</span><span style="color: #007700">;<br><br>     </span><span style="color: #FF8000">// Para enviar un correo HTML, el encabezado Content-type debe ser definido<br>     </span><span style="color: #0000BB">$headers</span><span style="color: #007700">[] = </span><span style="color: #DD0000">'MIME-Version: 1.0'</span><span style="color: #007700">;<br>     </span><span style="color: #0000BB">$headers</span><span style="color: #007700">[] = </span><span style="color: #DD0000">'Content-type: text/html; charset=iso-8859-1'</span><span style="color: #007700">;<br><br>     </span><span style="color: #FF8000">// Encabezados adicionales<br>     </span><span style="color: #0000BB">$headers</span><span style="color: #007700">[] = </span><span style="color: #DD0000">'To: Mary &lt;mary@example.com&gt;, Kelly &lt;kelly@example.com&gt;'</span><span style="color: #007700">;<br>     </span><span style="color: #0000BB">$headers</span><span style="color: #007700">[] = </span><span style="color: #DD0000">'From: Cumpleaños &lt;cumpleanos@example.com&gt;'</span><span style="color: #007700">;<br>     </span><span style="color: #0000BB">$headers</span><span style="color: #007700">[] = </span><span style="color: #DD0000">'Cc: cumpleanos_archivo@example.com'</span><span style="color: #007700">;<br>     </span><span style="color: #0000BB">$headers</span><span style="color: #007700">[] = </span><span style="color: #DD0000">'Bcc: cumpleanos_verif@example.com'</span><span style="color: #007700">;<br><br>     </span><span style="color: #FF8000">// Envío<br>     </span><span style="color: #0000BB">mail</span><span style="color: #007700">(</span><span style="color: #0000BB">$to</span><span style="color: #007700">, </span><span style="color: #0000BB">$subject</span><span style="color: #007700">, </span><span style="color: #0000BB">$message</span><span style="color: #007700">, </span><span style="color: #0000BB">implode</span><span style="color: #007700">(</span><span style="color: #DD0000">"\r\n"</span><span style="color: #007700">, </span><span style="color: #0000BB">$headers</span><span style="color: #007700">));<br></span><span style="color: #0000BB">?&gt;</span></span></code></div>
    </div>

   </div>
  
  <p class="para">
   </p><blockquote class="note"><p><strong class="note">Nota</strong>: 
    </p><p class="para">
     Si se planea enviar correos HTML u otros más complejos,
     se recomienda utilizar el paquete PEAR <a href="https://pear.php.net/package/Mail_Mime" class="link external">» PEAR::Mail_Mime</a>.
    </p>
   </blockquote>
  
 </div>


 <div class="refsect1 notes" id="refsect1-function.mail-notes">
  <h3 class="title">Notas</h3>
  <blockquote class="note"><p><strong class="note">Nota</strong>: 
   </p><p class="para">
    La implementación SMTP (solo en Windows) de la función
    <span class="function"><strong>mail()</strong></span> difiere significativamente de
    la implementación de sendmail. En primer lugar, no utiliza
    un programa local para componer los mensajes, sino que opera únicamente y
    directamente sobre los sockets, lo que significa que un <code class="literal">MTA</code>
    está necesariamente escuchando en un socket de red (que puede estar en la red local o en una máquina remota).
   </p>
   <p class="para">
    En segundo lugar, los encabezados personalizados como
    <code class="literal">From:</code>,
    <code class="literal">Cc:</code>,
    <code class="literal">Bcc:</code> y
    <code class="literal">Date:</code> no son
    <strong>interpretados</strong> por el
    <code class="literal">MTA</code> en primer lugar, sino que son analizados por PHP.
   </p>
   <p class="para">
    Además, el parámetro <code class="parameter">to</code> no debe ser una dirección en el formato <code class="literal">"Algo &lt;alguien@example.com&gt;"</code>.
    El comando mail no analizará correctamente esto al comunicarse con el MTA.
   </p>
  </blockquote>

  <blockquote class="note"><p><strong class="note">Nota</strong>: 
   </p><p class="para">
    Es importante tener en cuenta que la función <span class="function"><strong>mail()</strong></span>
    no está recomendada para manejar grandes volúmenes de correos en un bucle.
    Esta función abre y cierra un socket SMTP para cada correo, lo que no es muy eficiente.
   </p>
   <p class="para">
    Para enviar grandes volúmenes de correos, consulte los paquetes
    <a href="https://pear.php.net/package/Mail" class="link external">» PEAR::Mail</a> y
    <a href="https://pear.php.net/package/Mail_Queue" class="link external">» PEAR::Mail_Queue</a>.
   </p>
  </blockquote>

  <blockquote class="note"><p><strong class="note">Nota</strong>: 
   </p><p class="para">
    Las siguientes RFC pueden ser útiles:
    <a href="https://datatracker.ietf.org/doc/html/rfc1896" class="link external">» RFC 1896</a>,
    <a href="https://datatracker.ietf.org/doc/html/rfc2045" class="link external">» RFC 2045</a>,
    <a href="https://datatracker.ietf.org/doc/html/rfc2046" class="link external">» RFC 2046</a>,
    <a href="https://datatracker.ietf.org/doc/html/rfc2047" class="link external">» RFC 2047</a>,
    <a href="https://datatracker.ietf.org/doc/html/rfc2048" class="link external">» RFC 2048</a>,
    <a href="https://datatracker.ietf.org/doc/html/rfc2049" class="link external">» RFC 2049</a> y
    <a href="https://datatracker.ietf.org/doc/html/rfc2822" class="link external">» RFC 2822</a>.
   </p>
  </blockquote>
 </div>


 <div class="refsect1 seealso" id="refsect1-function.mail-seealso">
  <h3 class="title">Ver también</h3>
  <p class="para">
   </p><ul class="simplelist">
    <li><span class="function"><a href="#function.mb-send-mail" class="function" rel="rdfs-seeAlso">mb_send_mail()</a> - Envía un correo electrónico codificado</span></li>
    <li><span class="function"><a href="#function.imap-mail" class="function" rel="rdfs-seeAlso">imap_mail()</a> - Envía un mensaje de correo electrónico</span></li>
    <li><a href="https://pear.php.net/package/Mail" class="link external">» PEAR::Mail</a></li>
    <li><a href="https://pear.php.net/package/Mail_Mime" class="link external">» PEAR::Mail_Mime</a></li>
   </ul>
  
 </div>

</div>
<hr>




 <h2>Tabla de contenidos</h2><ul class="chunklist chunklist_reference"><li><a href="#function.ezmlm-hash">ezmlm_hash</a> — Calcula el hash solicitado por EZMLM</li><li><a href="#function.mail">mail</a> — Envío de correo</li></ul>
</div>

<hr>




<ul class="chunklist chunklist_book"><li><a href="#intro.mail">Introducción</a></li><li><a href="#mail.setup">Instalación/Configuración</a><ul class="chunklist chunklist_book chunklist_children"><li><a href="#mail.requirements">Requerimientos</a></li><li><a href="#mail.configuration">Configuración en tiempo de ejecución</a></li></ul></li><li><a href="#ref.mail">Funciones de mail</a><ul class="chunklist chunklist_book chunklist_children"><li><a href="#function.ezmlm-hash">ezmlm_hash</a> — Calcula el hash solicitado por EZMLM</li><li><a href="#function.mail">mail</a> — Envío de correo</li></ul></li></ul></div>
<div id="book.luasandbox" class="book"><hr>
 
 <h1 class="title">LuaSandbox</h1>
 

 <div id="intro.luasandbox" class="preface"><hr>
  <h1 class="title">Introducción</h1>
  <p class="para">
   LuaSandbox es una extensión para PHP 7 y PHP 8 que permite ejecutar de manera segura código Lua 5.1 no confiable desde PHP.
  </p>
  <p class="para">
   Las diferencias con respecto a la extensión <a href="#book.lua" class="link">Lua</a> :
   </p><ul class="itemizedlist">
    <li class="listitem">
     <p class="para">
      LuaSandbox tiene soporte para límites de tiempo y memoria.
     </p>
    </li>
    <li class="listitem">
     <p class="para">
      LuaSandbox proporciona un entorno seguro por omisión para la ejecución de código no confiable.
      Las funciones estándar de Lua han sido examinadas para la seguridad, y varias han sido corregidas en
      consecuencia.
     </p>
    </li>
    <li class="listitem">
     <p class="para">
      LuaSandbox tiene una interfaz PHP más compleja, precisa y potente,
      pero es menos práctica para los desarrolladores.
     </p>
    </li>
    <li class="listitem">
     <p class="para">
      LuaSandbox solo soporta Lua 5.1. Es difícil cambiar esto, ya que
      LuaSandbox utiliza bibliotecas estándar de Lua fuertemente modificadas, y
      debido a la falta de compatibilidad ascendente entre las principales versiones de Lua.
      LuaSandbox tiene como objetivo maximizar la compatibilidad ascendente con los scripts proporcionados
      por el usuario.
     </p>
    </li>
   </ul>
  
 </div>
<hr>


 


<div id="luasandbox.setup" class="chapter"><hr>
 <h1 class="title">Instalación/Configuración</h1>
<h2>Tabla de contenidos</h2><ul class="chunklist chunklist_chapter"><li><a href="#luasandbox.requirements">Requerimientos</a></li><li><a href="#luasandbox.installation">Instalación</a></li></ul>


 <div id="luasandbox.requirements" class="section"><hr>
  <h2 class="title">Requerimientos</h2>
  <p class="para">
   Para utilizar esta extensión, Lua 5.1 debe estar instalado, disponible en la <a href="http://www.lua.org/" class="link external">» página de inicio de Lua</a>.
  </p>
  <p class="para">
   Para utilizar las funcionalidades de temporizador, LuaSandbox debe estar instalado en
   Linux.
  </p>
  <p class="para">
   Si se utiliza FreeBSD o Mac OS X, solo se soporta el tiempo real (reloj de pared), las funciones que pretenden devolver el tiempo de CPU devolverán
   en realidad el tiempo del reloj de pared.
  </p>
  <p class="para">
   Si se utiliza Windows, ninguna función de temporizador será soportada. Los límites de tiempo
   serán inoperantes.
  </p>
 </div>
<hr>


 <div id="luasandbox.installation" class="section"><hr>
  <h2 class="title">Instalación</h2>
  <p class="para">
   Esta extensión <a href="https://pecl.php.net/" class="link external">» PECL</a> no está integrada en PHP.
  </p>
  <p class="para">
   Información sobre la instalación de estas extensiones PECL
        puede ser encontrada en el capítulo del manual titulado <a href="#install.pecl" class="link">Instalación
de extensiones PECL</a>. Otra información como notas sobre nuevas
        versiones, descargas, fuentes de archivos, información sobre los mantenedores
        así como un CHANGELOG, pueden ser encontradas aquí:
   <a href="https://pecl.php.net/package/luasandbox" class="link external">» https://pecl.php.net/package/luasandbox</a>.
  </p>
  <p class="para">
   Si el sistema operativo es Debian 10 o más reciente, o Ubuntu 18.04 o más reciente, entonces
   LuaSandbox debería ser típicamente instalado desde el paquete
   <code class="literal">php-luasandbox</code>:
   </p><div class="example-contents screen">
<div class="cdata"><pre>
sudo apt-get install php-luasandbox
</pre></div>
   </div>
  
 </div>
<hr>


</div>

<hr>




 


<div id="reference.luasandbox.differences" class="chapter"><hr>
 <h1 class="title">Diferencias con Lua estándar</h1>

 <p class="para">
  LuaSandbox proporciona un entorno seguro que difiere en algunos aspectos de Lua 5.1 estándar.
 </p>

 <div class="simplesect" id="reference.luasandbox.differences.unavailable">
  <h3 class="title">Funcionalidades no disponibles</h3>
  <p class="para">
   </p><ul class="itemizedlist">
    <li class="listitem">
     <p class="para">
      Los paquetes <code class="literal">dofile()</code>, <code class="literal">loadfile()</code>, y <code class="literal">io</code>, ya que permiten acceso directo al sistema de ficheros. Si es necesario, el acceso al sistema de ficheros debe realizarse a través de funciones de retrollamada PHP.
     </p>
    </li>
    <li class="listitem">
     <p class="para">
      El paquete <code class="literal">package</code>, incluyendo <code class="literal">require()</code> y <code class="literal">module()</code>, ya que depende en gran medida del acceso directo al sistema de ficheros. Una reescritura pura de Lua como la utilizada en la extensión MediaWiki Scribunto puede ser utilizada en su lugar.
     </p>
    </li>
    <li class="listitem">
     <p class="para">
      <code class="literal">load()</code> y <code class="literal">loadstring()</code>, para permitir el análisis estático del código Lua.
     </p>
    </li>
    <li class="listitem">
     <p class="para">
      <code class="literal">print()</code>, ya que escribe en la salida estándar. Si es necesario, la salida debe realizarse a través de funciones de retrollamada PHP.
     </p>
    </li>
    <li class="listitem">
     <p class="para">
      La mayoría del paquete <code class="literal">os</code>, ya que permite la manipulación del proceso y la ejecución de otros procesos.
     </p>
     <p class="para">
      </p><ul class="itemizedlist">
       <li class="listitem">
        <p class="para">
         <code class="literal">os.clock()</code>, <code class="literal">os.date()</code>, <code class="literal">os.difftime()</code>, y <code class="literal">os.time()</code> siguen estando disponibles.
        </p>
       </li>
      </ul>
     
    </li>
    <li class="listitem">
     <p class="para">
      La mayoría del paquete <code class="literal">debug</code>, ya que permite la manipulación del estado Lua y de los metadatos de manera que puede romper el aislamiento.
     </p>
     <p class="para">
      </p><ul class="itemizedlist">
       <li class="listitem">
        <p class="para">
         <code class="literal">debug.traceback()</code> sigue estando disponible.
         </p>
       </li>
      </ul>
     
    </li>
    <li class="listitem">
     <p class="para">
      <code class="literal">string.dump()</code>, ya que puede exponer datos internos.
     </p>
    </li>
    <li class="listitem">
     <p class="para">
      El paquete <code class="literal">collectgarbage()</code>, <code class="literal">gcinfo()</code>, y <code class="literal">coroutine</code> no han sido examinados en cuanto a seguridad.
     </p>
    </li>
   </ul>
  
 </div>

 <div class="simplesect" id="reference.luasandbox.differences.modified">
  <h3 class="title">Funcionalidades que han sido modificadas</h3>
  <p class="para">
   </p><ul class="itemizedlist">
    <li class="listitem">
     <p class="para">
      <code class="literal">pcall()</code> y <code class="literal">xpcall()</code> no pueden capturar ciertos errores, en particular los errores de tiempo límite.
     </p>
    </li>
    <li class="listitem">
     <p class="para">
      <code class="literal">tostring()</code> no incluye las direcciones de puntero.
     </p>
    </li>
    <li class="listitem">
     <p class="para">
      <code class="literal">string.match()</code> ha sido parcheado para limitar la profundidad de recursión y para verificar periódicamente un tiempo límite.
     </p>
    </li>
    <li class="listitem">
     <p class="para">
      <code class="literal">math.random()</code> y <code class="literal">math.randomseed()</code> son reemplazados por versiones que no comparten el estado con <code class="literal">rand()</code> de PHP.
     </p>
    </li>
    <li class="listitem">
     <p class="para">
      Las meta métodos de Lua 5.2 <code class="literal">__pairs</code> y <code class="literal">__ipairs</code> son soportadas por <code class="literal">pairs()</code> y <code class="literal">ipairs()</code>.
     </p>
    </li>
   </ul>
  
 </div>

</div>

<hr>




 


<div id="luasandbox.examples" class="chapter"><hr>
 <h1 class="title">Ejemplos</h1>
<h2>Tabla de contenidos</h2><ul class="chunklist chunklist_chapter"><li><a href="#luasandbox.examples-basic">Uso básico de LuaSandbox</a></li></ul>

 
 
 <div id="luasandbox.examples-basic" class="section"><hr>
  <h2 class="title">Uso básico de LuaSandbox</h2>
  <p class="para">
   Una vez que se ha compilado PHP con soporte para LuaSandbox, se puede comenzar a utilizar LuaSandbox para ejecutar de manera segura el código Lua proporcionado por el usuario.
  </p>
  <p class="para">
   </p><div class="example" id="example-3739">
    <p><strong>Ejemplo #1 Ejecutar código Lua</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br><br>$sandbox </span><span style="color: #007700">= new </span><span style="color: #0000BB">LuaSandbox</span><span style="color: #007700">;<br></span><span style="color: #0000BB">$sandbox</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setMemoryLimit</span><span style="color: #007700">( </span><span style="color: #0000BB">50 </span><span style="color: #007700">* </span><span style="color: #0000BB">1024 </span><span style="color: #007700">* </span><span style="color: #0000BB">1024 </span><span style="color: #007700">);<br></span><span style="color: #0000BB">$sandbox</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setCPULimit</span><span style="color: #007700">( </span><span style="color: #0000BB">10 </span><span style="color: #007700">);<br><br></span><span style="color: #FF8000">// Registrar algunas funciones en el entorno Lua<br><br></span><span style="color: #007700">function </span><span style="color: #0000BB">frobnosticate</span><span style="color: #007700">( </span><span style="color: #0000BB">$v </span><span style="color: #007700">) {<br>    return [ </span><span style="color: #0000BB">$v </span><span style="color: #007700">+ </span><span style="color: #0000BB">42 </span><span style="color: #007700">];<br>}<br><br></span><span style="color: #0000BB">$sandbox</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">registerLibrary</span><span style="color: #007700">( </span><span style="color: #DD0000">'php'</span><span style="color: #007700">, [<br>    </span><span style="color: #DD0000">'frobnosticate' </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">'frobnosticate'</span><span style="color: #007700">,<br>    </span><span style="color: #DD0000">'output' </span><span style="color: #007700">=&gt; function ( </span><span style="color: #0000BB">$string </span><span style="color: #007700">) {<br>        echo </span><span style="color: #DD0000">"</span><span style="color: #0000BB">$string</span><span style="color: #DD0000">\n"</span><span style="color: #007700">;<br>    },<br>    </span><span style="color: #DD0000">'error' </span><span style="color: #007700">=&gt; function () {<br>        throw new </span><span style="color: #0000BB">LuaSandboxRuntimeError</span><span style="color: #007700">( </span><span style="color: #DD0000">"Something is wrong" </span><span style="color: #007700">);<br>    }<br>] );<br><br></span><span style="color: #FF8000">// Ejecutar código Lua, incluyendo funciones de retrollamada en PHP y en Lua<br><br></span><span style="color: #0000BB">$luaCode </span><span style="color: #007700">= &lt;&lt;&lt;EOF<br></span><span style="color: #DD0000">php.output( "Hello, world" );<br><br>return "Hi", function ( v )<br>    return php.frobnosticate( v + 200 )<br>end<br></span><span style="color: #007700">EOF;<br><br>list( </span><span style="color: #0000BB">$hi</span><span style="color: #007700">, </span><span style="color: #0000BB">$frob </span><span style="color: #007700">) = </span><span style="color: #0000BB">$sandbox</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">loadString</span><span style="color: #007700">( </span><span style="color: #0000BB">$luaCode </span><span style="color: #007700">)-&gt;</span><span style="color: #0000BB">call</span><span style="color: #007700">();<br></span><span style="color: #0000BB">assert</span><span style="color: #007700">( </span><span style="color: #0000BB">$frob</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">call</span><span style="color: #007700">( </span><span style="color: #0000BB">4000 </span><span style="color: #007700">) === [ </span><span style="color: #0000BB">4242 </span><span style="color: #007700">] );<br><br></span><span style="color: #FF8000">// Las excepciones LuaSandboxRuntimeError lanzadas por PHP pueden ser capturadas en PHP<br><br></span><span style="color: #007700">list( </span><span style="color: #0000BB">$ok</span><span style="color: #007700">, </span><span style="color: #0000BB">$message </span><span style="color: #007700">) = </span><span style="color: #0000BB">$sandbox</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">loadString</span><span style="color: #007700">( </span><span style="color: #DD0000">'return pcall( php.error )' </span><span style="color: #007700">)-&gt;</span><span style="color: #0000BB">call</span><span style="color: #007700">();<br></span><span style="color: #0000BB">assert</span><span style="color: #007700">( !</span><span style="color: #0000BB">$ok </span><span style="color: #007700">);<br></span><span style="color: #0000BB">assert</span><span style="color: #007700">( </span><span style="color: #0000BB">$message </span><span style="color: #007700">=== </span><span style="color: #DD0000">'Something is wrong' </span><span style="color: #007700">);<br><br></span><span style="color: #0000BB">?&gt;</span></span></code></div>
    </div>

   </div>
  
 </div>
<hr>


</div>

<hr>





 

 


<div id="class.luasandbox" class="reference"><hr>
 <h1 class="title">La clase LuaSandbox</h1>
 

 <div class="partintro"><p class="verinfo">(PECL luasandbox &gt;= 1.0.0)</p>


  <div class="section" id="luasandbox.intro">
   <h2 class="title">Introducción</h2>
   <p class="para">
    La clase LuaSandbox crea un entorno Lua y permite la ejecución de
    código Lua.
   </p>
  </div>


  <div class="section" id="luasandbox.synopsis">
   <h2 class="title">Sinopsis de la Clase</h2>


   <div class="classsynopsis">
    <span class="ooclass"><strong class="classname"></strong></span>


    <div class="classsynopsisinfo">
     <span class="ooclass">
      <span class="modifier">class</span> <strong class="classname">LuaSandbox</strong>
     </span>
     {</div>

    <div class="classsynopsisinfo classsynopsisinfo_comment">/* Constantes */</div>
    <div class="fieldsynopsis">
     <span class="modifier">const</span>
     <span class="type"><a href="#language.types.integer" class="type int">int</a></span>
      <var class="fieldsynopsis_varname"><a href="#luasandbox.constants.samples"><var class="varname">SAMPLES</var></a></var><span class="initializer"> = 0</span>;</div>

    <div class="fieldsynopsis"><span class="modifier">const</span>
     <span class="type"><a href="#language.types.integer" class="type int">int</a></span>
      <var class="fieldsynopsis_varname"><a href="#luasandbox.constants.seconds"><var class="varname">SECONDS</var></a></var><span class="initializer"> = 1</span>;</div>

    <div class="fieldsynopsis"><span class="modifier">const</span>
     <span class="type"><a href="#language.types.integer" class="type int">int</a></span>
      <var class="fieldsynopsis_varname"><a href="#luasandbox.constants.percent"><var class="varname">PERCENT</var></a></var><span class="initializer"> = 2</span>;</div>


    <div class="classsynopsisinfo classsynopsisinfo_comment">/* Métodos */</div>
    <div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="methodname"><a href="#luasandbox.callfunction" class="methodname">callFunction</a></span>(<span class="methodparam"><span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$name</code></span>, <span class="methodparam"><span class="type"><a href="#language.types.mixed" class="type mixed">mixed</a></span> <code class="parameter">...$args</code></span>): <span class="type"><span class="type"><a href="#language.types.array" class="type array">array</a></span>|<span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname"><a href="#luasandbox.disableprofiler" class="methodname">disableProfiler</a></span>(): <span class="type"><a href="language.types.void.html" class="type void">void</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname"><a href="#luasandbox.enableprofiler" class="methodname">enableProfiler</a></span>(<span class="methodparam"><span class="type"><a href="#language.types.float" class="type float">float</a></span> <code class="parameter">$period</code><span class="initializer"> = 0.02</span></span>): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname"><a href="#luasandbox.getcpuusage" class="methodname">getCPUUsage</a></span>(): <span class="type"><a href="#language.types.float" class="type float">float</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname"><a href="#luasandbox.getmemoryusage" class="methodname">getMemoryUsage</a></span>(): <span class="type"><a href="#language.types.integer" class="type int">int</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname"><a href="#luasandbox.getpeakmemoryusage" class="methodname">getPeakMemoryUsage</a></span>(): <span class="type"><a href="#language.types.integer" class="type int">int</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname"><a href="#luasandbox.getprofilerfunctionreport" class="methodname">getProfilerFunctionReport</a></span>(<span class="methodparam"><span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$units</code><span class="initializer"> = LuaSandbox::SECONDS</span></span>): <span class="type"><a href="#language.types.array" class="type array">array</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="modifier">static</span> <span class="methodname"><a href="#luasandbox.getversioninfo" class="methodname">getVersionInfo</a></span>(): <span class="type"><a href="#language.types.array" class="type array">array</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname"><a href="#luasandbox.loadbinary" class="methodname">loadBinary</a></span>(<span class="methodparam"><span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$code</code></span>, <span class="methodparam"><span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$chunkName</code><span class="initializer"> = ''</span></span>): <span class="type"><a href="#class.luasandboxfunction" class="type LuaSandboxFunction">LuaSandboxFunction</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname"><a href="#luasandbox.loadstring" class="methodname">loadString</a></span>(<span class="methodparam"><span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$code</code></span>, <span class="methodparam"><span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$chunkName</code><span class="initializer"> = ''</span></span>): <span class="type"><a href="#class.luasandboxfunction" class="type LuaSandboxFunction">LuaSandboxFunction</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname"><a href="#luasandbox.pauseusagetimer" class="methodname">pauseUsageTimer</a></span>(): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname"><a href="#luasandbox.registerlibrary" class="methodname">registerLibrary</a></span>(<span class="methodparam"><span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$libname</code></span>, <span class="methodparam"><span class="type"><a href="#language.types.array" class="type array">array</a></span> <code class="parameter">$functions</code></span>): <span class="type"><a href="language.types.void.html" class="type void">void</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname"><a href="#luasandbox.setcpulimit" class="methodname">setCPULimit</a></span>(<span class="methodparam"><span class="type"><span class="type"><a href="#language.types.float" class="type float">float</a></span>|<span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></span> <code class="parameter">$limit</code></span>): <span class="type"><a href="language.types.void.html" class="type void">void</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname"><a href="#luasandbox.setmemorylimit" class="methodname">setMemoryLimit</a></span>(<span class="methodparam"><span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$limit</code></span>): <span class="type"><a href="language.types.void.html" class="type void">void</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname"><a href="#luasandbox.unpauseusagetimer" class="methodname">unpauseUsageTimer</a></span>(): <span class="type"><a href="language.types.void.html" class="type void">void</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname"><a href="#luasandbox.wrapphpfunction" class="methodname">wrapPhpFunction</a></span>(<span class="methodparam"><span class="type"><a href="#language.types.callable" class="type callable">callable</a></span> <code class="parameter">$function</code></span>): <span class="type"><a href="#class.luasandboxfunction" class="type LuaSandboxFunction">LuaSandboxFunction</a></span></div>

   }</div>


  </div>


  <div class="section" id="luasandbox.constants">
   <h2 class="title">Constantes predefinidas</h2>
   <dl>

    
     <dt id="luasandbox.constants.samples"><strong><code><a href="#luasandbox.constants.samples">LuaSandbox::SAMPLES</a></code></strong></dt>
     <dd>
      <p class="para">
       Utilizado con <span class="methodname"><a href="#luasandbox.getprofilerfunctionreport" class="methodname">LuaSandbox::getProfilerFunctionReport()</a></span> para devolver las duraciones en muestras.
      </p>
     </dd>
    

    
     <dt id="luasandbox.constants.seconds"><strong><code><a href="#luasandbox.constants.seconds">LuaSandbox::SECONDS</a></code></strong></dt>
     <dd>
      <p class="para">
       Utilizado con <span class="methodname"><a href="#luasandbox.getprofilerfunctionreport" class="methodname">LuaSandbox::getProfilerFunctionReport()</a></span> para devolver las duraciones en segundos.
      </p>
     </dd>
    

    
     <dt id="luasandbox.constants.percent"><strong><code><a href="#luasandbox.constants.percent">LuaSandbox::PERCENT</a></code></strong></dt>
     <dd>
      <p class="para">
       Utilizado con <span class="methodname"><a href="#luasandbox.getprofilerfunctionreport" class="methodname">LuaSandbox::getProfilerFunctionReport()</a></span> para devolver las duraciones en porcentajes del total.
      </p>
     </dd>
    

   </dl>
  </div>


 </div>

 


<div id="luasandbox.callfunction" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">LuaSandbox::callFunction</h1>
  <p class="verinfo">(PECL luasandbox &gt;= 1.0.0)</p><p class="refpurpose"><span class="refname">LuaSandbox::callFunction</span> — <span class="dc-title">Llama a una función en una variable global Lua</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-luasandbox.callfunction-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="methodname"><strong>LuaSandbox::callFunction</strong></span>(<span class="methodparam"><span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$name</code></span>, <span class="methodparam"><span class="type"><a href="#language.types.mixed" class="type mixed">mixed</a></span> <code class="parameter">...$args</code></span>): <span class="type"><span class="type"><a href="#language.types.array" class="type array">array</a></span>|<span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></span></div>

  <p class="para rdfs-comment">
   Llama a una función en una variable global Lua.
  </p>
  <p class="para">
   Si el nombre contiene caracteres ".", la función se localiza a través
   de accesos recursivos a la tabla, como si el nombre fuera una expresión Lua.
  </p>
  <p class="para">
   Si la variable no existe, o no es una función, se devolverá false y se emitirá un aviso.
  </p>
  <p class="para">
   Para más información sobre la llamada de funciones Lua y los valores de retorno,
   ver <span class="methodname"><a href="#luasandboxfunction.call" class="methodname">LuaSandboxFunction::call()</a></span>.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-luasandbox.callfunction-parameters">
  <h3 class="title">Parámetros</h3>
  <dl>
   
    <dt><code class="parameter">name</code></dt>
    <dd>
     <p class="para">
      Nombre de la variable Lua.
     </p>
    </dd>
   
   
    <dt><code class="parameter">args</code></dt>
    <dd>
     <p class="para">
      Argumentos de la función.
     </p>
    </dd>
   
  </dl>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-luasandbox.callfunction-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Devuelve un <span class="type"><a href="#language.types.array" class="type array">array</a></span> de los valores devueltos por la función Lua, que puede estar vacío,  o <strong><code><a href="#constant.false">false</a></code></strong> si ocurre un error.
  </p>
 </div>


 <div class="refsect1 examples" id="refsect1-luasandbox.callfunction-examples">
  <h3 class="title">Ejemplos</h3>
  <p class="para">
   </p><div class="example" id="example-3740">
    <p><strong>Ejemplo #1 Llamada a una función Lua</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br><br></span><span style="color: #FF8000">// crear un nuevo LuaSandbox<br></span><span style="color: #0000BB">$sandbox </span><span style="color: #007700">= new </span><span style="color: #0000BB">LuaSandbox</span><span style="color: #007700">();<br><br></span><span style="color: #FF8000">// Llamar a la función Lua string.match<br></span><span style="color: #0000BB">$captures </span><span style="color: #007700">= </span><span style="color: #0000BB">$sandbox</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">callFunction</span><span style="color: #007700">( </span><span style="color: #DD0000">'string.match'</span><span style="color: #007700">, </span><span style="color: #0000BB">$string</span><span style="color: #007700">, </span><span style="color: #0000BB">$pattern </span><span style="color: #007700">);<br><br></span><span style="color: #0000BB">?&gt;</span></span></code></div>
    </div>

   </div>
  
 </div>


</div>
<hr>







<div id="luasandbox.disableprofiler" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">LuaSandbox::disableProfiler</h1>
  <p class="verinfo">(PECL luasandbox &gt;= 1.1.0)</p><p class="refpurpose"><span class="refname">LuaSandbox::disableProfiler</span> — <span class="dc-title">Desactiva el perfilador</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-luasandbox.disableprofiler-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="methodname"><strong>LuaSandbox::disableProfiler</strong></span>(): <span class="type"><a href="language.types.void.html" class="type void">void</a></span></div>

  <p class="para rdfs-comment">
   Desactiva el perfilador.
  </p>

 </div>


 <div class="refsect1 parameters" id="refsect1-luasandbox.disableprofiler-parameters">
  <h3 class="title">Parámetros</h3>
  <p class="para">Esta función no contiene ningún parámetro.</p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-luasandbox.disableprofiler-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   No se retorna ningún valor.
  </p>
 </div>


 <div class="refsect1 seealso" id="refsect1-luasandbox.disableprofiler-seealso">
  <h3 class="title">Ver también</h3>
  <p class="para">
   </p><ul class="simplelist">
    <li><span class="methodname"><a href="#luasandbox.enableprofiler" class="methodname" rel="rdfs-seeAlso">LuaSandbox::enableProfiler()</a> - Activa el perfilador</span></li>
    <li><span class="methodname"><a href="#luasandbox.getprofilerfunctionreport" class="methodname" rel="rdfs-seeAlso">LuaSandbox::getProfilerFunctionReport()</a> - Recupera los datos del perfilador</span></li>
   </ul>
  
 </div>


</div>
<hr>







<div id="luasandbox.enableprofiler" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">LuaSandbox::enableProfiler</h1>
  <p class="verinfo">(PECL luasandbox &gt;= 1.1.0)</p><p class="refpurpose"><span class="refname">LuaSandbox::enableProfiler</span> — <span class="dc-title">Activa el perfilador</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-luasandbox.enableprofiler-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="methodname"><strong>LuaSandbox::enableProfiler</strong></span>(<span class="methodparam"><span class="type"><a href="#language.types.float" class="type float">float</a></span> <code class="parameter">$period</code><span class="initializer"> = 0.02</span></span>): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>

  <p class="para rdfs-comment">
   Activa el perfilador. El perfilado comenzará cuando se ingrese código Lua.
  </p>
  <p class="para">
   El perfilador muestrea periódicamente el entorno Lua para registrar la función en ejecución. Las pruebas indican que, al menos en Linux, un período inferior a 1ms resultará en un número elevado de desbordamientos, pero sin problemas de rendimiento.
  </p>

 </div>


 <div class="refsect1 parameters" id="refsect1-luasandbox.enableprofiler-parameters">
  <h3 class="title">Parámetros</h3>
  <dl>
   
    <dt><code class="parameter">period</code></dt>
    <dd>
     <p class="para">
      Muestreo en segundos.
     </p>
    </dd>
   
  </dl>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-luasandbox.enableprofiler-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Devuelve un bool indicando si el perfilador está activado.
  </p>
 </div>


 <div class="refsect1 seealso" id="refsect1-luasandbox.enableprofiler-seealso">
  <h3 class="title">Ver también</h3>
  <p class="para">
   </p><ul class="simplelist">
    <li><span class="methodname"><a href="#luasandbox.disableprofiler" class="methodname" rel="rdfs-seeAlso">LuaSandbox::disableProfiler()</a> - Desactiva el perfilador</span></li>
    <li><span class="methodname"><a href="#luasandbox.getprofilerfunctionreport" class="methodname" rel="rdfs-seeAlso">LuaSandbox::getProfilerFunctionReport()</a> - Recupera los datos del perfilador</span></li>
   </ul>
  
 </div>


</div>
<hr>







<div id="luasandbox.getcpuusage" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">LuaSandbox::getCPUUsage</h1>
  <p class="verinfo">(PECL luasandbox &gt;= 1.0.0)</p><p class="refpurpose"><span class="refname">LuaSandbox::getCPUUsage</span> — <span class="dc-title">Recupera el uso actual del tiempo de CPU del entorno Lua</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-luasandbox.getcpuusage-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="methodname"><strong>LuaSandbox::getCPUUsage</strong></span>(): <span class="type"><a href="#language.types.float" class="type float">float</a></span></div>

  <p class="para rdfs-comment">
   Recupera el uso actual del tiempo de CPU del entorno Lua.
  </p>
  <p class="para">
   Esto incluye el tiempo pasado en las funciones de retrollamada PHP.
  </p>

 </div>


 <div class="refsect1 parameters" id="refsect1-luasandbox.getcpuusage-parameters">
  <h3 class="title">Parámetros</h3>
  <p class="para">Esta función no contiene ningún parámetro.</p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-luasandbox.getcpuusage-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Devuelve el uso actual del tiempo de CPU en segundos.
  </p>
  <blockquote class="note"><p><strong class="note">Nota</strong>: 
   </p><p class="para">
    En Windows, esta función siempre devuelve cero. En los sistemas operativos que no soportan <strong><code><a href="#constant.clock-thread-cputime-id">CLOCK_THREAD_CPUTIME_ID</a></code></strong>,
    como FreeBSD y Mac OS X, esta función devolverá el tiempo transcurrido en el reloj, no el tiempo de CPU.
   </p>
  </blockquote>
 </div>


 <div class="refsect1 seealso" id="refsect1-luasandbox.getcpuusage-seealso">
  <h3 class="title">Ver también</h3>
  <p class="para">
   </p><ul class="simplelist">
    <li><span class="methodname"><a href="#luasandbox.getmemoryusage" class="methodname" rel="rdfs-seeAlso">LuaSandbox::getMemoryUsage()</a> - Recupera el uso actual de la memoria del entorno Lua</span></li>
    <li><span class="methodname"><a href="#luasandbox.getpeakmemoryusage" class="methodname" rel="rdfs-seeAlso">LuaSandbox::getPeakMemoryUsage()</a> - Recupera el pico de uso de memoria del entorno Lua</span></li>
    <li><span class="methodname"><a href="#luasandbox.setcpulimit" class="methodname" rel="rdfs-seeAlso">LuaSandbox::setCPULimit()</a> - Define la limitación de tiempo CPU para el entorno Lua</span></li>
   </ul>
  
 </div>


</div>
<hr>







<div id="luasandbox.getmemoryusage" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">LuaSandbox::getMemoryUsage</h1>
  <p class="verinfo">(PECL luasandbox &gt;= 1.0.0)</p><p class="refpurpose"><span class="refname">LuaSandbox::getMemoryUsage</span> — <span class="dc-title">Recupera el uso actual de la memoria del entorno Lua</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-luasandbox.getmemoryusage-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="methodname"><strong>LuaSandbox::getMemoryUsage</strong></span>(): <span class="type"><a href="#language.types.integer" class="type int">int</a></span></div>

  <p class="para rdfs-comment">
   Recupera el uso actual de la memoria del entorno Lua.
  </p>

 </div>


 <div class="refsect1 parameters" id="refsect1-luasandbox.getmemoryusage-parameters">
  <h3 class="title">Parámetros</h3>
  <p class="para">Esta función no contiene ningún parámetro.</p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-luasandbox.getmemoryusage-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Devuelve el uso actual de la memoria en bytes.
  </p>
 </div>


 <div class="refsect1 seealso" id="refsect1-luasandbox.getmemoryusage-seealso">
  <h3 class="title">Ver también</h3>
  <p class="para">
   </p><ul class="simplelist">
    <li><span class="methodname"><a href="#luasandbox.getpeakmemoryusage" class="methodname" rel="rdfs-seeAlso">LuaSandbox::getPeakMemoryUsage()</a> - Recupera el pico de uso de memoria del entorno Lua</span></li>
    <li><span class="methodname"><a href="#luasandbox.getcpuusage" class="methodname" rel="rdfs-seeAlso">LuaSandbox::getCPUUsage()</a> - Recupera el uso actual del tiempo de CPU del entorno Lua</span></li>
    <li><span class="methodname"><a href="#luasandbox.setmemorylimit" class="methodname" rel="rdfs-seeAlso">LuaSandbox::setMemoryLimit()</a> - Define el límite de memoria para el entorno Lua</span></li>
   </ul>
  
 </div>


</div>
<hr>







<div id="luasandbox.getpeakmemoryusage" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">LuaSandbox::getPeakMemoryUsage</h1>
  <p class="verinfo">(PECL luasandbox &gt;= 1.0.0)</p><p class="refpurpose"><span class="refname">LuaSandbox::getPeakMemoryUsage</span> — <span class="dc-title">Recupera el pico de uso de memoria del entorno Lua</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-luasandbox.getpeakmemoryusage-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="methodname"><strong>LuaSandbox::getPeakMemoryUsage</strong></span>(): <span class="type"><a href="#language.types.integer" class="type int">int</a></span></div>

  <p class="para rdfs-comment">
   Recupera el pico de uso de memoria del entorno Lua.
  </p>

 </div>


 <div class="refsect1 parameters" id="refsect1-luasandbox.getpeakmemoryusage-parameters">
  <h3 class="title">Parámetros</h3>
  <p class="para">Esta función no contiene ningún parámetro.</p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-luasandbox.getpeakmemoryusage-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Devuelve el pico de uso de memoria en bytes.
  </p>
 </div>


 <div class="refsect1 seealso" id="refsect1-luasandbox.getpeakmemoryusage-seealso">
  <h3 class="title">Ver también</h3>
  <p class="para">
   </p><ul class="simplelist">
    <li><span class="methodname"><a href="#luasandbox.getmemoryusage" class="methodname" rel="rdfs-seeAlso">LuaSandbox::getMemoryUsage()</a> - Recupera el uso actual de la memoria del entorno Lua</span></li>
    <li><span class="methodname"><a href="#luasandbox.getcpuusage" class="methodname" rel="rdfs-seeAlso">LuaSandbox::getCPUUsage()</a> - Recupera el uso actual del tiempo de CPU del entorno Lua</span></li>
    <li><span class="methodname"><a href="#luasandbox.setmemorylimit" class="methodname" rel="rdfs-seeAlso">LuaSandbox::setMemoryLimit()</a> - Define el límite de memoria para el entorno Lua</span></li>
   </ul>
  
 </div>


</div>
<hr>







<div id="luasandbox.getprofilerfunctionreport" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">LuaSandbox::getProfilerFunctionReport</h1>
  <p class="verinfo">(PECL luasandbox &gt;= 1.1.0)</p><p class="refpurpose"><span class="refname">LuaSandbox::getProfilerFunctionReport</span> — <span class="dc-title">Recupera los datos del perfilador</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-luasandbox.getprofilerfunctionreport-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="methodname"><strong>LuaSandbox::getProfilerFunctionReport</strong></span>(<span class="methodparam"><span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$units</code><span class="initializer"> = LuaSandbox::SECONDS</span></span>): <span class="type"><a href="#language.types.array" class="type array">array</a></span></div>

  <p class="para rdfs-comment">
   Para una instancia de perfilado previamente iniciada por
   <span class="methodname"><a href="#luasandbox.enableprofiler" class="methodname">LuaSandbox::enableProfiler()</a></span>, recupera un
   informe del costo de cada función.
  </p>
  <p class="para">
   La medición del costo se determina por el argumento
   <var class="varname">$units</var>:
  </p>
  <p class="para">
   </p><dl>
    
     <dt><strong><code><a href="#luasandbox.constants.samples">LuaSandbox::SAMPLES</a></code></strong></dt>
     <dd><p class="para">Medición en número de muestras.</p></dd>
    
    
     <dt><strong><code><a href="#luasandbox.constants.seconds">LuaSandbox::SECONDS</a></code></strong></dt>
     <dd><p class="para">Medición en segundos de tiempo CPU.</p></dd>
    
    
     <dt><strong><code><a href="#luasandbox.constants.percent">LuaSandbox::PERCENT</a></code></strong></dt>
     <dd><p class="para">Medición en porcentaje de tiempo CPU.</p></dd>
    
   </dl>
  
 </div>


 <div class="refsect1 parameters" id="refsect1-luasandbox.getprofilerfunctionreport-parameters">
  <h3 class="title">Parámetros</h3>
  <dl>
   
    <dt><code class="parameter">units</code></dt>
    <dd>
     <p class="para">
      La unidad de medida constante.
     </p>
    </dd>
   
  </dl>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-luasandbox.getprofilerfunctionreport-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Devuelve las mediciones del perfilador, ordenadas en orden descendente, en forma
   de un array asociativo. Las claves son los nombres de las funciones Lua (con el fichero fuente y la línea
   definidos entre corchetes angulares), los valores son las mediciones en <span class="type"><a href="#language.types.integer" class="type int">int</a></span>
   o <span class="type"><a href="#language.types.float" class="type float">float</a></span>.
  </p>
  <blockquote class="note"><p><strong class="note">Nota</strong>: 
   </p><p class="para">
    En Windows, esta función siempre devuelve cero. En los sistemas operativos que no soportan <strong><code><a href="#constant.clock-thread-cputime-id">CLOCK_THREAD_CPUTIME_ID</a></code></strong>,
    como FreeBSD y Mac OS X, esta función devolverá el tiempo transcurrido
    en el reloj, no el tiempo CPU.
   </p>
  </blockquote>
 </div>


 <div class="refsect1 examples" id="refsect1-luasandbox.getprofilerfunctionreport-examples">
  <h3 class="title">Ejemplos</h3>
  <p class="para">
   </p><div class="example" id="example-3741">
    <p><strong>Ejemplo #1 Perfilado de código Lua</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br><br></span><span style="color: #FF8000">// crear un nuevo LuaSandbox<br></span><span style="color: #0000BB">$sandbox </span><span style="color: #007700">= new </span><span style="color: #0000BB">LuaSandbox</span><span style="color: #007700">();<br><br></span><span style="color: #FF8000">// Inicia el perfilador<br></span><span style="color: #0000BB">$sandbox</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">enableProfiler</span><span style="color: #007700">( </span><span style="color: #0000BB">0.01 </span><span style="color: #007700">);<br><br></span><span style="color: #FF8000">// ... Ejecute código Lua aquí ...<br><br>// Recupera los datos del perfilador<br></span><span style="color: #0000BB">$data </span><span style="color: #007700">= </span><span style="color: #0000BB">$sandbox</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getProfilerFunctionReport</span><span style="color: #007700">();<br><br></span><span style="color: #0000BB">?&gt;</span></span></code></div>
    </div>

   </div>
  
 </div>


</div>
<hr>







<div id="luasandbox.getversioninfo" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">LuaSandbox::getVersionInfo</h1>
  <p class="verinfo">(PECL luasandbox &gt;= 1.6.0)</p><p class="refpurpose"><span class="refname">LuaSandbox::getVersionInfo</span> — <span class="dc-title">Devuelve las versiones de LuaSandbox y Lua</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-luasandbox.getversioninfo-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="modifier">static</span> <span class="methodname"><strong>LuaSandbox::getVersionInfo</strong></span>(): <span class="type"><a href="#language.types.array" class="type array">array</a></span></div>

  <p class="para rdfs-comment">
   Devuelve las versiones de LuaSandbox y Lua.
  </p>

 </div>


 <div class="refsect1 parameters" id="refsect1-luasandbox.getversioninfo-parameters">
  <h3 class="title">Parámetros</h3>
  <p class="para">Esta función no contiene ningún parámetro.</p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-luasandbox.getversioninfo-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Devuelve un array con dos claves:
  </p>
  <p class="para">
   </p><table class="doctable informaltable">
    
     <thead>
      <tr><th>element</th><th>type</th><th>description</th></tr>

     </thead>

     <tbody class="tbody">
      <tr>
       <td>LuaSandbox</td>
       <td><span class="type"><a href="#language.types.string" class="type string">string</a></span></td>
       <td>La versión de la extensión LuaSandbox.</td>
      </tr>

      <tr>
       <td>Lua</td>
       <td><span class="type"><a href="#language.types.string" class="type string">string</a></span></td>
       <td>El nombre y la versión de la biblioteca Lua, tal como se define por la macro LUA_RELEASE, por ejemplo, "Lua 5.1.5".</td>
      </tr>

     </tbody>
    
   </table>

  
 </div>


</div>
<hr>







<div id="luasandbox.loadbinary" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">LuaSandbox::loadBinary</h1>
  <p class="verinfo">(PECL luasandbox &gt;= 1.0.0)</p><p class="refpurpose"><span class="refname">LuaSandbox::loadBinary</span> — <span class="dc-title">Carga un fragmento binario precompilado en el entorno Lua</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-luasandbox.loadbinary-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="methodname"><strong>LuaSandbox::loadBinary</strong></span>(<span class="methodparam"><span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$code</code></span>, <span class="methodparam"><span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$chunkName</code><span class="initializer"> = ''</span></span>): <span class="type"><a href="#class.luasandboxfunction" class="type LuaSandboxFunction">LuaSandboxFunction</a></span></div>

  <p class="para rdfs-comment">
   Carga los datos generados por <span class="methodname"><a href="#luasandboxfunction.dump" class="methodname">LuaSandboxFunction::dump()</a></span>.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-luasandbox.loadbinary-parameters">
  <h3 class="title">Parámetros</h3>
  <dl>
   
    <dt><code class="parameter">code</code></dt>
    <dd>
     <p class="para">
      Los datos de <span class="methodname"><a href="#luasandboxfunction.dump" class="methodname">LuaSandboxFunction::dump()</a></span>.
     </p>
    </dd>
   
   
    <dt><code class="parameter">chunkName</code></dt>
    <dd>
     <p class="para">
      El nombre del fragmento para la función cargada.
     </p>
    </dd>
   
  </dl>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-luasandbox.loadbinary-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Devuelve una <span class="classname"><a href="#class.luasandboxfunction" class="classname">LuaSandboxFunction</a></span>.
  </p>
 </div>


 <div class="refsect1 seealso" id="refsect1-luasandbox.loadbinary-seealso">
  <h3 class="title">Ver también</h3>
  <p class="para">
   </p><ul class="simplelist">
    <li><span class="methodname"><a href="#luasandbox.loadstring" class="methodname" rel="rdfs-seeAlso">LuaSandbox::loadString()</a> - Carga código Lua en el entorno Lua</span></li>
   </ul>
  
 </div>


</div>
<hr>







<div id="luasandbox.loadstring" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">LuaSandbox::loadString</h1>
  <p class="verinfo">(PECL luasandbox &gt;= 1.0.0)</p><p class="refpurpose"><span class="refname">LuaSandbox::loadString</span> — <span class="dc-title">Carga código Lua en el entorno Lua</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-luasandbox.loadstring-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="methodname"><strong>LuaSandbox::loadString</strong></span>(<span class="methodparam"><span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$code</code></span>, <span class="methodparam"><span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$chunkName</code><span class="initializer"> = ''</span></span>): <span class="type"><a href="#class.luasandboxfunction" class="type LuaSandboxFunction">LuaSandboxFunction</a></span></div>

  <p class="para rdfs-comment">
   Carga código Lua en el entorno Lua.
  </p>
  <p class="para">
   Esto es equivalente a la función <code class="literal">loadstring()</code> de Lua estándar.
  </p>

 </div>


 <div class="refsect1 parameters" id="refsect1-luasandbox.loadstring-parameters">
  <h3 class="title">Parámetros</h3>
  <dl>
   
    <dt><code class="parameter">code</code></dt>
    <dd>
     <p class="para">
      El código Lua.
     </p>
    </dd>
   
   
    <dt><code class="parameter">chunkName</code></dt>
    <dd>
     <p class="para">
      El nombre del fragmento cargado, para su uso en los rastros de error.
     </p>
    </dd>
   
  </dl>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-luasandbox.loadstring-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Devuelve una <span class="classname"><a href="#class.luasandboxfunction" class="classname">LuaSandboxFunction</a></span> que, al ejecutarse, ejecutará el <var class="varname">$code</var> pasado.
  </p>
 </div>


 <div class="refsect1 examples" id="refsect1-luasandbox.loadstring-examples">
  <h3 class="title">Ejemplos</h3>
  <p class="para">
   </p><div class="example" id="example-3742">
    <p><strong>Ejemplo #1 Carga de código en Lua</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br><br></span><span style="color: #FF8000">// Crear un nuevo LuaSandbox<br></span><span style="color: #0000BB">$sandbox </span><span style="color: #007700">= new </span><span style="color: #0000BB">LuaSandbox</span><span style="color: #007700">();<br><br></span><span style="color: #FF8000">// Carga el código<br></span><span style="color: #0000BB">$function </span><span style="color: #007700">= </span><span style="color: #0000BB">$sandbox</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">loadString</span><span style="color: #007700">(<br>&lt;&lt;&lt;CODE<br></span><span style="color: #DD0000">    return "Hello, world"<br></span><span style="color: #007700">CODE<br>);<br><br></span><span style="color: #FF8000">// Ejecuta el código cargado<br></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">( </span><span style="color: #0000BB">$function</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">call</span><span style="color: #007700">() );<br><br></span><span style="color: #0000BB">?&gt;</span></span></code></div>
    </div>

    <div class="example-contents"><p>El ejemplo anterior mostrará:</p></div>
    <div class="example-contents screen">
<div class="examplescode"><pre class="examplescode">array(1) {
  [0]=&gt;
  string(12) "Hello, world"
}</pre>
</div>
    </div>
   </div>
  
 </div>


 <div class="refsect1 seealso" id="refsect1-luasandbox.loadstring-seealso">
  <h3 class="title">Ver también</h3>
  <p class="para">
   </p><ul class="simplelist">
    <li><span class="methodname"><a href="#luasandbox.registerlibrary" class="methodname" rel="rdfs-seeAlso">LuaSandbox::registerLibrary()</a> - Registra un conjunto de funciones PHP como una biblioteca Lua</span></li>
    <li><span class="methodname"><a href="#luasandbox.wrapphpfunction" class="methodname" rel="rdfs-seeAlso">LuaSandbox::wrapPhpFunction()</a> - Envuelve una función PHP en una LuaSandboxFunction</span></li>
   </ul>
  
 </div>


</div>
<hr>







<div id="luasandbox.pauseusagetimer" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">LuaSandbox::pauseUsageTimer</h1>
  <p class="verinfo">(PECL luasandbox &gt;= 1.4.0)</p><p class="refpurpose"><span class="refname">LuaSandbox::pauseUsageTimer</span> — <span class="dc-title">Pausa el temporizador de uso de la CPU</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-luasandbox.pauseusagetimer-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="methodname"><strong>LuaSandbox::pauseUsageTimer</strong></span>(): <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></div>

  <p class="para rdfs-comment">
   Pausa el temporizador de uso de la CPU.
  </p>
  <p class="para">
   Esto solo tiene efecto cuando se llama desde una retrollamada de Lua. Cuando
   la ejecución vuelve a Lua, el temporizador se reiniciará automáticamente.
   Si se realiza una nueva llamada a Lua, el temporizador se reiniciará
   durante la duración de esa llamada.
  </p>
  <p class="para">
   Si una retrollamada PHP llama nuevamente a Lua con el temporizador sin pausar, y
   esa función Lua llama nuevamente a PHP, la segunda llamada PHP no podrá
   pausar el temporizador. La lógica es que incluso si la segunda llamada PHP
   evita contar el uso de la CPU contra el límite, la primera
   llamada sigue contándolo.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-luasandbox.pauseusagetimer-parameters">
  <h3 class="title">Parámetros</h3>
  <p class="para">Esta función no contiene ningún parámetro.</p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-luasandbox.pauseusagetimer-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Devuelve un <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span> indicando si el temporizador está ahora en pausa.
  </p>
 </div>


 <div class="refsect1 examples" id="refsect1-luasandbox.pauseusagetimer-examples">
  <h3 class="title">Ejemplos</h3>
  <p class="para">
   </p><div class="example" id="example-3743">
    <p><strong>Ejemplo #1 Manipulando el temporizador de uso</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br><br></span><span style="color: #FF8000">// Crear un nuevo LuaSandbox y definir un límite de CPU<br></span><span style="color: #0000BB">$sandbox </span><span style="color: #007700">= new </span><span style="color: #0000BB">LuaSandbox</span><span style="color: #007700">();<br></span><span style="color: #0000BB">$sandbox</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setCPULimit</span><span style="color: #007700">( </span><span style="color: #0000BB">1 </span><span style="color: #007700">);<br><br>function </span><span style="color: #0000BB">doWait</span><span style="color: #007700">( </span><span style="color: #0000BB">$t </span><span style="color: #007700">) {<br>    </span><span style="color: #0000BB">$end </span><span style="color: #007700">= </span><span style="color: #0000BB">microtime</span><span style="color: #007700">( </span><span style="color: #0000BB">true </span><span style="color: #007700">) + </span><span style="color: #0000BB">$t</span><span style="color: #007700">;<br>    while ( </span><span style="color: #0000BB">microtime</span><span style="color: #007700">( </span><span style="color: #0000BB">true </span><span style="color: #007700">) &lt; </span><span style="color: #0000BB">$end </span><span style="color: #007700">) {<br>        </span><span style="color: #FF8000">// waste CPU cycles<br>    </span><span style="color: #007700">}<br>}<br><br></span><span style="color: #FF8000">// Registrar una función de retrollamada PHP<br></span><span style="color: #0000BB">$sandbox</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">registerLibrary</span><span style="color: #007700">( </span><span style="color: #DD0000">'php'</span><span style="color: #007700">, [<br>    </span><span style="color: #DD0000">'test' </span><span style="color: #007700">=&gt; function () use ( </span><span style="color: #0000BB">$sandbox </span><span style="color: #007700">) {<br>        </span><span style="color: #0000BB">$sandbox</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">pauseUsageTimer</span><span style="color: #007700">();<br>        </span><span style="color: #0000BB">doWait</span><span style="color: #007700">( </span><span style="color: #0000BB">5 </span><span style="color: #007700">);<br><br>        </span><span style="color: #0000BB">$sandbox</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">unpauseUsageTimer</span><span style="color: #007700">();<br>        </span><span style="color: #0000BB">doWait</span><span style="color: #007700">( </span><span style="color: #0000BB">0.1 </span><span style="color: #007700">);<br>    },<br>    </span><span style="color: #DD0000">'test2' </span><span style="color: #007700">=&gt; function () use ( </span><span style="color: #0000BB">$sandbox </span><span style="color: #007700">) {<br>        </span><span style="color: #0000BB">$sandbox</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">pauseUsageTimer</span><span style="color: #007700">();<br>        </span><span style="color: #0000BB">$sandbox</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">unpauseUsageTimer</span><span style="color: #007700">();<br>        </span><span style="color: #0000BB">doWait</span><span style="color: #007700">( </span><span style="color: #0000BB">1.1 </span><span style="color: #007700">);<br>    }<br>] );<br><br>echo </span><span style="color: #DD0000">"Esto no debería agotar el tiempo...\n"</span><span style="color: #007700">;<br></span><span style="color: #0000BB">$sandbox</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">loadString</span><span style="color: #007700">( </span><span style="color: #DD0000">'php.test()' </span><span style="color: #007700">)-&gt;</span><span style="color: #0000BB">call</span><span style="color: #007700">();<br><br>echo </span><span style="color: #DD0000">"Esto debería agotar el tiempo.\n"</span><span style="color: #007700">;<br>try {<br>    </span><span style="color: #0000BB">$sandbox</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">loadString</span><span style="color: #007700">( </span><span style="color: #DD0000">'php.test2()' </span><span style="color: #007700">)-&gt;</span><span style="color: #0000BB">call</span><span style="color: #007700">();<br>    echo </span><span style="color: #DD0000">"¿No lo hizo?\n"</span><span style="color: #007700">;<br>} catch ( </span><span style="color: #0000BB">LuaSandboxTimeoutError $ex </span><span style="color: #007700">) {<br>    echo </span><span style="color: #DD0000">"¡Lo hizo! " </span><span style="color: #007700">. </span><span style="color: #0000BB">$ex</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getMessage</span><span style="color: #007700">() . </span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br>}<br><br></span><span style="color: #0000BB">?&gt;</span></span></code></div>
    </div>

    <div class="example-contents"><p>El ejemplo anterior mostrará:</p></div>
    <div class="example-contents screen">
<div class="examplescode"><pre class="examplescode">Esto no debería agotar el tiempo...
Esto debería agotar el tiempo.
¡Lo hizo! El tiempo máximo de ejecución para este script fue excedido</pre>
</div>
    </div>
   </div>
  
 </div>


 <div class="refsect1 seealso" id="refsect1-luasandbox.pauseusagetimer-seealso">
  <h3 class="title">Ver también</h3>
  <p class="para">
   </p><ul class="simplelist">
    <li><span class="methodname"><a href="#luasandbox.setcpulimit" class="methodname" rel="rdfs-seeAlso">LuaSandbox::setCPULimit()</a> - Define la limitación de tiempo CPU para el entorno Lua</span></li>
    <li><span class="methodname"><a href="#luasandbox.unpauseusagetimer" class="methodname" rel="rdfs-seeAlso">LuaSandbox::unpauseUsageTimer()</a> - Reanuda el temporizador de uso pausado por LuaSandbox::pauseUsageTimer</span></li>
   </ul>
  
 </div>


</div>
<hr>







<div id="luasandbox.registerlibrary" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">LuaSandbox::registerLibrary</h1>
  <p class="verinfo">(PECL luasandbox &gt;= 1.0.0)</p><p class="refpurpose"><span class="refname">LuaSandbox::registerLibrary</span> — <span class="dc-title">Registra un conjunto de funciones PHP como una biblioteca Lua</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-luasandbox.registerlibrary-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="methodname"><strong>LuaSandbox::registerLibrary</strong></span>(<span class="methodparam"><span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">$libname</code></span>, <span class="methodparam"><span class="type"><a href="#language.types.array" class="type array">array</a></span> <code class="parameter">$functions</code></span>): <span class="type"><a href="language.types.void.html" class="type void">void</a></span></div>

  <p class="para rdfs-comment">
   Registra un conjunto de funciones PHP como una biblioteca Lua, de modo que Lua pueda
   llamar al código PHP correspondiente.
  </p>
  <p class="para">
   Para más información sobre la llamada de funciones Lua y los valores de retorno,
   ver <span class="methodname"><a href="#luasandboxfunction.call" class="methodname">LuaSandboxFunction::call()</a></span>.
  </p>

 </div>


 <div class="refsect1 parameters" id="refsect1-luasandbox.registerlibrary-parameters">
  <h3 class="title">Parámetros</h3>
  <dl>
   
    <dt><code class="parameter">libname</code></dt>
    <dd>
     <p class="para">
      El nombre de la biblioteca. En el estado Lua, la variable global de este
      nombre se definirá en la tabla de funciones. Si la tabla ya existe,
      las nuevas funciones se añadirán a ella.
     </p>
    </dd>
   
   
    <dt><code class="parameter">functions</code></dt>
    <dd>
     <p class="para">
      Un <span class="type"><a href="#language.types.array" class="type array">array</a></span>, donde cada clave es un nombre de función, y cada valor es un
      <span class="type"><a href="#language.types.callable" class="type callable">callable</a></span> PHP correspondiente.
     </p>
    </dd>
   
  </dl>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-luasandbox.registerlibrary-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   No se retorna ningún valor.
  </p>
 </div>


 <div class="refsect1 examples" id="refsect1-luasandbox.registerlibrary-examples">
  <h3 class="title">Ejemplos</h3>
  <p class="para">
   </p><div class="example" id="example-3744">
    <p><strong>Ejemplo #1 Registro de funciones PHP para ser llamadas desde Lua</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br><br></span><span style="color: #FF8000">// crear un nuevo LuaSandbox<br></span><span style="color: #0000BB">$sandbox </span><span style="color: #007700">= new </span><span style="color: #0000BB">LuaSandbox</span><span style="color: #007700">();<br><br></span><span style="color: #FF8000">// Registrar algunas funciones en el entorno Lua<br><br></span><span style="color: #007700">function </span><span style="color: #0000BB">frobnosticate</span><span style="color: #007700">( </span><span style="color: #0000BB">$v </span><span style="color: #007700">) {<br>    return [ </span><span style="color: #0000BB">$v </span><span style="color: #007700">+ </span><span style="color: #0000BB">42 </span><span style="color: #007700">];<br>}<br><br></span><span style="color: #0000BB">$sandbox</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">registerLibrary</span><span style="color: #007700">( </span><span style="color: #DD0000">'php'</span><span style="color: #007700">, [<br>    </span><span style="color: #DD0000">'frobnosticate' </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">'frobnosticate'</span><span style="color: #007700">,<br>    </span><span style="color: #DD0000">'output' </span><span style="color: #007700">=&gt; function ( </span><span style="color: #0000BB">$string </span><span style="color: #007700">) {<br>        echo </span><span style="color: #DD0000">"</span><span style="color: #0000BB">$string</span><span style="color: #DD0000">\n"</span><span style="color: #007700">;<br>    },<br>    </span><span style="color: #DD0000">'error' </span><span style="color: #007700">=&gt; function () {<br>        throw new </span><span style="color: #0000BB">LuaSandboxRuntimeError</span><span style="color: #007700">( </span><span style="color: #DD0000">"Something is wrong" </span><span style="color: #007700">);<br>    }<br>] );<br><br></span><span style="color: #0000BB">?&gt;</span></span></code></div>
    </div>

   </div>
  
 </div>


 <div class="refsect1 seealso" id="refsect1-luasandbox.registerlibrary-seealso">
  <h3 class="title">Ver también</h3>
  <p class="para">
   </p><ul class="simplelist">
    <li><span class="methodname"><a href="#luasandbox.loadstring" class="methodname" rel="rdfs-seeAlso">LuaSandbox::loadString()</a> - Carga código Lua en el entorno Lua</span></li>
    <li><span class="methodname"><a href="#luasandbox.wrapphpfunction" class="methodname" rel="rdfs-seeAlso">LuaSandbox::wrapPhpFunction()</a> - Envuelve una función PHP en una LuaSandboxFunction</span></li>
   </ul>
  
 </div>


</div>
<hr>







<div id="luasandbox.setcpulimit" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">LuaSandbox::setCPULimit</h1>
  <p class="verinfo">(PECL luasandbox &gt;= 1.0.0)</p><p class="refpurpose"><span class="refname">LuaSandbox::setCPULimit</span> — <span class="dc-title">Define la limitación de tiempo CPU para el entorno Lua</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-luasandbox.setcpulimit-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="methodname"><strong>LuaSandbox::setCPULimit</strong></span>(<span class="methodparam"><span class="type"><span class="type"><a href="#language.types.float" class="type float">float</a></span>|<span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></span> <code class="parameter">$limit</code></span>): <span class="type"><a href="language.types.void.html" class="type void">void</a></span></div>

  <p class="para rdfs-comment">
   Define la limitación de tiempo CPU para el entorno Lua.
  </p>
  <p class="para">
   Si el tiempo total de usuario y sistema utilizado por el entorno después
   de la llamada a este método excede este límite, se lanza una excepción
   <span class="classname"><a href="#class.luasandboxtimeouterror" class="classname">LuaSandboxTimeoutError</a></span>.
  </p>
  <p class="para">
   El tiempo utilizado en las funciones de retrollamada PHP se incluye en el límite.
  </p>
  <p class="para">
   Definir el tiempo límite a una función de retrollamada Lua en ejecución provoca
   que el temporizador se reinicie, o se inicie si no estaba ya en ejecución.
  </p>
  <blockquote class="note"><p><strong class="note">Nota</strong>: 
   </p><p class="para">
    En Windows, la limitación de tiempo CPU será ignorada. En los sistemas operativos
    que no soportan <strong><code><a href="#constant.clock-thread-cputime-id">CLOCK_THREAD_CPUTIME_ID</a></code></strong>, como FreeBSD y Mac OS X, el tiempo transcurrido en el muro, en lugar del tiempo CPU, será limitado.
   </p>
  </blockquote>
 </div>


 <div class="refsect1 parameters" id="refsect1-luasandbox.setcpulimit-parameters">
  <h3 class="title">Parámetros</h3>
  <dl>
   
    <dt><code class="parameter">limit</code></dt>
    <dd>
     <p class="para">
      El límite como <span class="type"><a href="#language.types.float" class="type float">float</a></span> en segundos, o <strong><code><a href="#constant.false">false</a></code></strong> para ningún límite.
     </p>
    </dd>
   
  </dl>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-luasandbox.setcpulimit-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   No se retorna ningún valor.
  </p>
 </div>


 <div class="refsect1 examples" id="refsect1-luasandbox.setcpulimit-examples">
  <h3 class="title">Ejemplos</h3>
  <p class="para">
   </p><div class="example" id="example-3745">
    <p><strong>Ejemplo #1 Llamada a una función Lua</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br><br></span><span style="color: #FF8000">// crear un nuevo LuaSandbox<br></span><span style="color: #0000BB">$sandbox </span><span style="color: #007700">= new </span><span style="color: #0000BB">LuaSandbox</span><span style="color: #007700">();<br><br></span><span style="color: #FF8000">// definir un límite de tiempo<br></span><span style="color: #0000BB">$sandbox</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setCPULimit</span><span style="color: #007700">( </span><span style="color: #0000BB">2 </span><span style="color: #007700">);<br><br></span><span style="color: #FF8000">// lanza el código Lua<br></span><span style="color: #0000BB">$sandbox</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">loadString</span><span style="color: #007700">( </span><span style="color: #DD0000">'while true do end' </span><span style="color: #007700">)-&gt;</span><span style="color: #0000BB">call</span><span style="color: #007700">();<br><br></span><span style="color: #0000BB">?&gt;</span></span></code></div>
    </div>

    <div class="example-contents"><p>Resultado del ejemplo anterior es similar a:</p></div>
    <div class="example-contents screen">
<div class="examplescode"><pre class="examplescode">PHP Fatal error:  Uncaught LuaSandboxTimeoutError: The maximum execution time for this script was exceeded</pre>
</div>
    </div>
   </div>
  
 </div>


 <div class="refsect1 seealso" id="refsect1-luasandbox.setcpulimit-seealso">
  <h3 class="title">Ver también</h3>
  <p class="para">
   </p><ul class="simplelist">
    <li><span class="methodname"><a href="#luasandbox.getcpuusage" class="methodname" rel="rdfs-seeAlso">LuaSandbox::getCPUUsage()</a> - Recupera el uso actual del tiempo de CPU del entorno Lua</span></li>
    <li><span class="methodname"><a href="#luasandbox.setmemorylimit" class="methodname" rel="rdfs-seeAlso">LuaSandbox::setMemoryLimit()</a> - Define el límite de memoria para el entorno Lua</span></li>
   </ul>
  
 </div>


</div>
<hr>







<div id="luasandbox.setmemorylimit" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">LuaSandbox::setMemoryLimit</h1>
  <p class="verinfo">(PECL luasandbox &gt;= 1.0.0)</p><p class="refpurpose"><span class="refname">LuaSandbox::setMemoryLimit</span> — <span class="dc-title">Define el límite de memoria para el entorno Lua</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-luasandbox.setmemorylimit-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="methodname"><strong>LuaSandbox::setMemoryLimit</strong></span>(<span class="methodparam"><span class="type"><a href="#language.types.integer" class="type int">int</a></span> <code class="parameter">$limit</code></span>): <span class="type"><a href="language.types.void.html" class="type void">void</a></span></div>

  <p class="para rdfs-comment">
   Define el límite de memoria para el entorno Lua.
  </p>
  <p class="para">
   Si se supera este límite, se lanza una
   excepción <span class="classname"><a href="#class.luasandboxmemoryerror" class="classname">LuaSandboxMemoryError</a></span>.
  </p>

 </div>


 <div class="refsect1 parameters" id="refsect1-luasandbox.setmemorylimit-parameters">
  <h3 class="title">Parámetros</h3>
  <dl>
   
    <dt><code class="parameter">limit</code></dt>
    <dd>
     <p class="para">
      El límite de memoria en bytes.
     </p>
    </dd>
   
  </dl>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-luasandbox.setmemorylimit-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   No se retorna ningún valor.
  </p>
 </div>


 <div class="refsect1 examples" id="refsect1-luasandbox.setmemorylimit-examples">
  <h3 class="title">Ejemplos</h3>
  <p class="para">
   </p><div class="example" id="example-3746">
    <p><strong>Ejemplo #1 Llamando a una función Lua</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br><br></span><span style="color: #FF8000">// crear un nuevo LuaSandbox<br></span><span style="color: #0000BB">$sandbox </span><span style="color: #007700">= new </span><span style="color: #0000BB">LuaSandbox</span><span style="color: #007700">();<br><br></span><span style="color: #FF8000">// define un límite de memoria<br></span><span style="color: #0000BB">$sandbox</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setMemoryLimit</span><span style="color: #007700">( </span><span style="color: #0000BB">50 </span><span style="color: #007700">* </span><span style="color: #0000BB">1024 </span><span style="color: #007700">* </span><span style="color: #0000BB">1024 </span><span style="color: #007700">);<br><br></span><span style="color: #FF8000">// ejecuta el código Lua<br></span><span style="color: #0000BB">$sandbox</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">loadString</span><span style="color: #007700">( </span><span style="color: #DD0000">'local x = "x"; while true do x = x .. x; end' </span><span style="color: #007700">)-&gt;</span><span style="color: #0000BB">call</span><span style="color: #007700">();<br><br></span><span style="color: #0000BB">?&gt;</span></span></code></div>
    </div>

    <div class="example-contents"><p>Resultado del ejemplo anterior es similar a:</p></div>
    <div class="example-contents screen">
<div class="examplescode"><pre class="examplescode">PHP Fatal error:  Uncaught LuaSandboxMemoryError: not enough memory</pre>
</div>
    </div>
   </div>
  
 </div>


 <div class="refsect1 seealso" id="refsect1-luasandbox.setmemorylimit-seealso">
  <h3 class="title">Ver también</h3>
  <p class="para">
   </p><ul class="simplelist">
    <li><span class="methodname"><a href="#luasandbox.getmemoryusage" class="methodname" rel="rdfs-seeAlso">LuaSandbox::getMemoryUsage()</a> - Recupera el uso actual de la memoria del entorno Lua</span></li>
    <li><span class="methodname"><a href="#luasandbox.getpeakmemoryusage" class="methodname" rel="rdfs-seeAlso">LuaSandbox::getPeakMemoryUsage()</a> - Recupera el pico de uso de memoria del entorno Lua</span></li>
    <li><span class="methodname"><a href="#luasandbox.setcpulimit" class="methodname" rel="rdfs-seeAlso">LuaSandbox::setCPULimit()</a> - Define la limitación de tiempo CPU para el entorno Lua</span></li>
   </ul>
  
 </div>


</div>
<hr>







<div id="luasandbox.unpauseusagetimer" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">LuaSandbox::unpauseUsageTimer</h1>
  <p class="verinfo">(PECL luasandbox &gt;= 1.4.0)</p><p class="refpurpose"><span class="refname">LuaSandbox::unpauseUsageTimer</span> — <span class="dc-title">Reanuda el temporizador de uso pausado por <span class="methodname"><a href="#luasandbox.pauseusagetimer" class="methodname">LuaSandbox::pauseUsageTimer()</a></span></span></p>

 </div>

 <div class="refsect1 description" id="refsect1-luasandbox.unpauseusagetimer-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname"><strong>LuaSandbox::unpauseUsageTimer</strong></span>(): <span class="type"><a href="language.types.void.html" class="type void">void</a></span></div>

  <p class="para rdfs-comment">
   Reanuda el temporizador de uso pausado por <span class="methodname"><a href="#luasandbox.pauseusagetimer" class="methodname">LuaSandbox::pauseUsageTimer()</a></span>.
  </p>

 </div>


 <div class="refsect1 parameters" id="refsect1-luasandbox.unpauseusagetimer-parameters">
  <h3 class="title">Parámetros</h3>
  <p class="para">Esta función no contiene ningún parámetro.</p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-luasandbox.unpauseusagetimer-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   No se retorna ningún valor.
  </p>
 </div>


 <div class="refsect1 seealso" id="refsect1-luasandbox.unpauseusagetimer-seealso">
  <h3 class="title">Ver también</h3>
  <p class="para">
   </p><ul class="simplelist">
    <li><span class="methodname"><a href="#luasandbox.pauseusagetimer" class="methodname" rel="rdfs-seeAlso">LuaSandbox::pauseUsageTimer()</a> - Pausa el temporizador de uso de la CPU</span></li>
    <li><span class="methodname"><a href="#luasandbox.setcpulimit" class="methodname" rel="rdfs-seeAlso">LuaSandbox::setCPULimit()</a> - Define la limitación de tiempo CPU para el entorno Lua</span></li>
   </ul>
  
 </div>


</div>
<hr>







<div id="luasandbox.wrapphpfunction" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">LuaSandbox::wrapPhpFunction</h1>
  <p class="verinfo">(PECL luasandbox &gt;= 1.2.0)</p><p class="refpurpose"><span class="refname">LuaSandbox::wrapPhpFunction</span> — <span class="dc-title">Envuelve una función PHP en una <span class="classname"><a href="#class.luasandboxfunction" class="classname">LuaSandboxFunction</a></span></span></p>

 </div>

 <div class="refsect1 description" id="refsect1-luasandbox.wrapphpfunction-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="methodname"><strong>LuaSandbox::wrapPhpFunction</strong></span>(<span class="methodparam"><span class="type"><a href="#language.types.callable" class="type callable">callable</a></span> <code class="parameter">$function</code></span>): <span class="type"><a href="#class.luasandboxfunction" class="type LuaSandboxFunction">LuaSandboxFunction</a></span></div>

  <p class="para rdfs-comment">
   Envuelve una función PHP en una <span class="classname"><a href="#class.luasandboxfunction" class="classname">LuaSandboxFunction</a></span>, de modo
   que pueda ser pasada a Lua como una función anónima.
  </p>
  <p class="para">
   La función debe devolver un array de valores (que puede estar vacío),
   o <strong><code><a href="#constant.null">null</a></code></strong> que es equivalente a devolver el array vacío.
  </p>
  <p class="para">
   Las excepciones serán lanzadas como errores en Lua, sin embargo, solo las
   excepciones <span class="classname"><a href="#class.luasandboxruntimeerror" class="classname">LuaSandboxRuntimeError</a></span> pueden ser capturadas
   dentro de Lua con <code class="literal">pcall()</code> o <code class="literal">xpcall()</code>.
  </p>
  <p class="para">
   Para más información sobre la llamada de funciones Lua y los valores de retorno,
   ver <span class="methodname"><a href="#luasandboxfunction.call" class="methodname">LuaSandboxFunction::call()</a></span>.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-luasandbox.wrapphpfunction-parameters">
  <h3 class="title">Parámetros</h3>
  <dl>
   
    <dt><code class="parameter">function</code></dt>
    <dd>
     <p class="para">
      La función de retrollamada a envolver.
     </p>
    </dd>
   
  </dl>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-luasandbox.wrapphpfunction-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Devuelve un <span class="classname"><a href="#class.luasandboxfunction" class="classname">LuaSandboxFunction</a></span>.
  </p>
 </div>


 <div class="refsect1 seealso" id="refsect1-luasandbox.wrapphpfunction-seealso">
  <h3 class="title">Ver también</h3>
  <p class="para">
   </p><ul class="simplelist">
    <li><span class="methodname"><a href="#luasandbox.loadstring" class="methodname" rel="rdfs-seeAlso">LuaSandbox::loadString()</a> - Carga código Lua en el entorno Lua</span></li>
    <li><span class="methodname"><a href="#luasandbox.registerlibrary" class="methodname" rel="rdfs-seeAlso">LuaSandbox::registerLibrary()</a> - Registra un conjunto de funciones PHP como una biblioteca Lua</span></li>
   </ul>
  
 </div>


</div>
<hr>





<h2>Tabla de contenidos</h2><ul class="chunklist chunklist_reference"><li><a href="#luasandbox.callfunction">LuaSandbox::callFunction</a> — Llama a una función en una variable global Lua</li><li><a href="#luasandbox.disableprofiler">LuaSandbox::disableProfiler</a> — Desactiva el perfilador</li><li><a href="#luasandbox.enableprofiler">LuaSandbox::enableProfiler</a> — Activa el perfilador</li><li><a href="#luasandbox.getcpuusage">LuaSandbox::getCPUUsage</a> — Recupera el uso actual del tiempo de CPU del entorno Lua</li><li><a href="#luasandbox.getmemoryusage">LuaSandbox::getMemoryUsage</a> — Recupera el uso actual de la memoria del entorno Lua</li><li><a href="#luasandbox.getpeakmemoryusage">LuaSandbox::getPeakMemoryUsage</a> — Recupera el pico de uso de memoria del entorno Lua</li><li><a href="#luasandbox.getprofilerfunctionreport">LuaSandbox::getProfilerFunctionReport</a> — Recupera los datos del perfilador</li><li><a href="#luasandbox.getversioninfo">LuaSandbox::getVersionInfo</a> — Devuelve las versiones de LuaSandbox y Lua</li><li><a href="#luasandbox.loadbinary">LuaSandbox::loadBinary</a> — Carga un fragmento binario precompilado en el entorno Lua</li><li><a href="#luasandbox.loadstring">LuaSandbox::loadString</a> — Carga código Lua en el entorno Lua</li><li><a href="#luasandbox.pauseusagetimer">LuaSandbox::pauseUsageTimer</a> — Pausa el temporizador de uso de la CPU</li><li><a href="#luasandbox.registerlibrary">LuaSandbox::registerLibrary</a> — Registra un conjunto de funciones PHP como una biblioteca Lua</li><li><a href="#luasandbox.setcpulimit">LuaSandbox::setCPULimit</a> — Define la limitación de tiempo CPU para el entorno Lua</li><li><a href="#luasandbox.setmemorylimit">LuaSandbox::setMemoryLimit</a> — Define el límite de memoria para el entorno Lua</li><li><a href="#luasandbox.unpauseusagetimer">LuaSandbox::unpauseUsageTimer</a> — Reanuda el temporizador de uso pausado por LuaSandbox::pauseUsageTimer</li><li><a href="#luasandbox.wrapphpfunction">LuaSandbox::wrapPhpFunction</a> — Envuelve una función PHP en una LuaSandboxFunction</li></ul>
</div>

<hr>




 


<div id="class.luasandboxfunction" class="reference"><hr>
 <h1 class="title">La clase LuaSandboxFunction</h1>
 

 <div class="partintro"><p class="verinfo">(PECL luasandbox &gt;= 1.0.0)</p>


  <div class="section" id="luasandboxfunction.intro">
   <h2 class="title">Introducción</h2>
   <p class="para">
    Representa una función Lua, permitiendo llamarla desde PHP.
   </p>
   <p class="para">
    Una LuaSandboxFunction puede ser obtenida como valor de retorno desde Lua, como argumento
    pasado a una retrollamada desde Lua, o utilizando
    <span class="methodname"><a href="#luasandbox.wrapphpfunction" class="methodname">LuaSandbox::wrapPhpFunction()</a></span>,
    <span class="methodname"><a href="#luasandbox.loadstring" class="methodname">LuaSandbox::loadString()</a></span>, o
    <span class="methodname"><a href="#luasandbox.loadbinary" class="methodname">LuaSandbox::loadBinary()</a></span>.
   </p>
  </div>


  <div class="section" id="luasandboxfunction.synopsis">
   <h2 class="title">Sinopsis de la Clase</h2>


   <div class="classsynopsis">
    <span class="ooclass"><strong class="classname"></strong></span>


    <div class="classsynopsisinfo">
     <span class="ooclass">
      <span class="modifier">class</span> <strong class="classname">LuaSandboxFunction</strong>
     </span>
     {</div>


    <div class="classsynopsisinfo classsynopsisinfo_comment">/* Métodos */</div>
    <div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="methodname"><a href="#luasandboxfunction.call" class="methodname">call</a></span>(<span class="methodparam"><span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">...$args</code></span>): <span class="type"><span class="type"><a href="#language.types.array" class="type array">array</a></span>|<span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname"><a href="#luasandboxfunction.dump" class="methodname">dump</a></span>(): <span class="type"><a href="#language.types.string" class="type string">string</a></span></div>

   }</div>


  </div>

 </div>

 


<div id="luasandboxfunction.call" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">LuaSandboxFunction::call</h1>
  <p class="verinfo">(PECL luasandbox &gt;= 1.0.0)</p><p class="refpurpose"><span class="refname">LuaSandboxFunction::call</span> — <span class="dc-title">Llama a una función Lua</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-luasandboxfunction.call-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="methodname"><strong>LuaSandboxFunction::call</strong></span>(<span class="methodparam"><span class="type"><a href="#language.types.string" class="type string">string</a></span> <code class="parameter">...$args</code></span>): <span class="type"><span class="type"><a href="#language.types.array" class="type array">array</a></span>|<span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span></span></div>

  <p class="para rdfs-comment">
   Llama a una función Lua.
  </p>
  <p class="para">
   Los errores considerados como culpa del código PHP harán que la función devuelva el valor <strong><code><a href="#constant.false">false</a></code></strong> y emita <strong><code><a href="#constant.e-warning">E_WARNING</a></code></strong>, por ejemplo, un tipo <span class="type"><a href="#language.types.resource" class="type resource">resource</a></span> utilizado como argumento. Los errores Lua lanzarán una excepción <span class="classname"><a href="#class.luasandboxruntimeerror" class="classname">LuaSandboxRuntimeError</a></span>.
  </p>
  <p class="para">
   Los tipos PHP y Lua se convierten de la siguiente manera:
  </p>
  <p class="para">
   </p><ul class="itemizedlist">
    <li class="listitem">
     <p class="para">Los <strong><code><a href="#constant.null">null</a></code></strong> de PHP son Lua <code class="literal">nil</code>, y viceversa.</p>
    </li>
    <li class="listitem">
     <p class="para">
      Los <span class="type"><a href="#language.types.integer" class="type int">int</a></span>s de PHP y <span class="type"><a href="#language.types.float" class="type float">float</a></span>s se convierten en números Lua. El infinito y <strong><code><a href="#constant.nan">NAN</a></code></strong> son soportados.
     </p>
    </li>
    <li class="listitem">
     <p class="para">
      Los números Lua sin parte fraccionaria entre aproximadamente <code class="literal">-2**53</code> y <code class="literal">2**53</code> se convierten en <span class="type"><a href="#language.types.integer" class="type int">int</a></span>s PHP, los demás se convierten en <span class="type"><a href="#language.types.float" class="type float">float</a></span>s PHP.
     </p>
    </li>
    <li class="listitem">
     <p class="para">Los <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span>s de PHP son booleanos Lua, y viceversa.</p>
    </li>
    <li class="listitem">
     <p class="para">Los <span class="type"><a href="#language.types.string" class="type string">string</a></span>s de PHP son cadenas Lua, y viceversa.</p>
    </li>
    <li class="listitem">
     <p class="para">
      Las funciones Lua son objetos PHP <span class="classname"><a href="#class.luasandboxfunction" class="classname">LuaSandboxFunction</a></span>, y viceversa. Los <span class="type"><a href="#language.types.callable" class="type callable">callable</a></span>s PHP generales no son soportados.
     </p>
    </li>
    <li class="listitem">
     <p class="para">
      Los <span class="type"><a href="#language.types.array" class="type array">array</a></span>s de PHP se convierten en tablas Lua, y viceversa.
     </p>
     <p class="para">
      </p><ul class="itemizedlist">
       <li class="listitem">
        <p class="para">
         Se debe tener en cuenta que Lua indexa típicamente los arrays a partir de 1, mientras que PHP indexa los arrays a partir de 0. No se hace ningún ajuste para estas diferentes convenciones.
        </p>
       </li>
       <li class="listitem">
        <p class="para">Los arrays auto-referenciales no son soportados en ambos sentidos.</p>
       </li>
       <li class="listitem">
        <p class="para">Las referencias PHP son desreferenciadas.</p>
       </li>
       <li class="listitem">
        <p class="para">
         Los <code class="literal">__pairs</code> y <code class="literal">__ipairs</code> de Lua son tratados. <code class="literal">__index</code> es ignorado.
        </p>
       </li>
       <li class="listitem">
        <p class="para">
         Al convertir de PHP a Lua, las claves enteras entre <code class="literal">-2**53</code> y <code class="literal">2**53</code> se representan como números Lua. Todas las demás claves se representan como cadenas Lua.
        </p>
       </li>
       <li class="listitem">
        <p class="para">
         Al convertir de Lua a PHP, las claves distintas de las cadenas y los números enteros resultarán en un error, así como las colisiones al convertir números en cadenas o viceversa (ya que PHP considera cosas como <code class="literal">$a[0]</code> y <code class="literal">$a["0"]</code> como equivalentes).
        </p>
       </li>
      </ul>
     
    </li>
    <li class="listitem">
     <p class="para">
      Todos los demás tipos no son soportados y resultarán en un error/excepción, incluyendo los <span class="type"><a href="#language.types.object" class="type object">object</a></span>s PHP generales y los tipos userdata y thread Lua.
     </p>
    </li>
   </ul>
  
  <p class="para">
   Las funciones Lua devuelven intrínsecamente una lista de resultados. Por lo tanto, en caso de éxito, este método devuelve un <span class="type"><a href="#language.types.array" class="type array">array</a></span> que contiene todos los valores devueltos por Lua, con claves <span class="type"><a href="#language.types.integer" class="type int">int</a></span> comenzando en cero. Lua puede no devolver ningún resultado, en cuyo caso se devuelve un array vacío.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-luasandboxfunction.call-parameters">
  <h3 class="title">Parámetros</h3>
  <dl>
   
    <dt><code class="parameter">args</code></dt>
    <dd>
     <p class="para">
      Los argumentos pasados a la función.
     </p>
    </dd>
   
  </dl>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-luasandboxfunction.call-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Devuelve un <span class="type"><a href="#language.types.array" class="type array">array</a></span> de los valores devueltos por la función, que puede estar vacío,  o <strong><code><a href="#constant.false">false</a></code></strong> si ocurre un error.
  </p>
 </div>


</div>
<hr>







<div id="luasandboxfunction.construct" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">LuaSandboxFunction::__construct</h1>
  <p class="verinfo">(PECL luasandbox &gt;= 1.0.0)</p><p class="refpurpose"><span class="refname">LuaSandboxFunction::__construct</span> — <span class="dc-title">No utilizado</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-luasandboxfunction.construct-description">
  <h3 class="title">Descripción</h3>
  <div class="constructorsynopsis dc-description">
   <span class="modifier">final</span> <span class="modifier">private</span> <span class="methodname"><strong>LuaSandboxFunction::__construct</strong></span>()</div>

  <p class="para rdfs-comment">
   Los <span class="classname"><a href="#class.luasandboxfunction" class="classname">LuaSandboxFunction</a></span> se obtienen como valor de retorno de Lua,
   como argumento pasado a una retrollamada desde Lua, o utilizando
   <span class="methodname"><a href="#luasandbox.wrapphpfunction" class="methodname">LuaSandbox::wrapPhpFunction()</a></span>,
   <span class="methodname"><a href="#luasandbox.loadstring" class="methodname">LuaSandbox::loadString()</a></span>, o
   <span class="methodname"><a href="#luasandbox.loadbinary" class="methodname">LuaSandbox::loadBinary()</a></span>. No pueden ser construidos directamente.
  </p>

 </div>


 <div class="refsect1 parameters" id="refsect1-luasandboxfunction.construct-parameters">
  <h3 class="title">Parámetros</h3>
  <p class="para">Esta función no contiene ningún parámetro.</p>
 </div>


</div>
<hr>







<div id="luasandboxfunction.dump" class="refentry"><hr>
 <div class="refnamediv">
  <h1 class="refname">LuaSandboxFunction::dump</h1>
  <p class="verinfo">(PECL luasandbox &gt;= 1.0.0)</p><p class="refpurpose"><span class="refname">LuaSandboxFunction::dump</span> — <span class="dc-title">Muestra la función como un blob binario</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-luasandboxfunction.dump-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname"><strong>LuaSandboxFunction::dump</strong></span>(): <span class="type"><a href="#language.types.string" class="type string">string</a></span></div>

  <p class="para rdfs-comment">
   Muestra la función como un blob binario.
  </p>

 </div>


 <div class="refsect1 parameters" id="refsect1-luasandboxfunction.dump-parameters">
  <h3 class="title">Parámetros</h3>
  <p class="para">Esta función no contiene ningún parámetro.</p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-luasandboxfunction.dump-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Devuelve un string que puede ser pasado a <span class="methodname"><a href="#luasandbox.loadbinary" class="methodname">LuaSandbox::loadBinary()</a></span>.
  </p>
 </div>


</div>
<hr>





<h2>Tabla de contenidos</h2><ul class="chunklist chunklist_reference"><li><a href="#luasandboxfunction.call">LuaSandboxFunction::call</a> — Llama a una función Lua</li><li><a href="#luasandboxfunction.construct">LuaSandboxFunction::__construct</a> — No utilizado</li><li><a href="#luasandboxfunction.dump">LuaSandboxFunction::dump</a> — Muestra la función como un blob binario</li></ul>
</div>

<hr>




 


<div id="class.luasandboxerror" class="reference"><hr>
 <h1 class="title">La clase LuaSandboxError</h1>
 

 <div class="partintro"><p class="verinfo">(PECL luasandbox &gt;= 1.0.0)</p>


  <div class="section" id="luasandboxerror.intro">
   <h2 class="title">Introducción</h2>
   <p class="para">
    La clase base para las excepciones LuaSandbox
   </p>
  </div>


  <div class="section" id="luasandboxerror.synopsis">
   <h2 class="title">Sinopsis de la Clase</h2>


   <div class="classsynopsis">
    <span class="ooclass"><strong class="classname"></strong></span>


    <div class="classsynopsisinfo">
     <span class="ooclass">
      <span class="modifier">class</span> <strong class="classname">LuaSandboxError</strong>
     </span>

     <span class="ooclass">
      <span class="modifier">extends</span>
       <a href="#class.exception" class="classname">Exception</a>
     </span>
     {</div>

    <div class="classsynopsisinfo classsynopsisinfo_comment">/* Constantes */</div>
    <div class="fieldsynopsis">
     <span class="modifier">const</span>
     <span class="type"><a href="#language.types.integer" class="type int">int</a></span>
      <var class="fieldsynopsis_varname"><a href="#luasandboxerror.constants.run"><var class="varname">RUN</var></a></var><span class="initializer"> = 2</span>;</div>

    <div class="fieldsynopsis"><span class="modifier">const</span>
     <span class="type"><a href="#language.types.integer" class="type int">int</a></span>
      <var class="fieldsynopsis_varname"><a href="#luasandboxerror.constants.syntax"><var class="varname">SYNTAX</var></a></var><span class="initializer"> = 3</span>;</div>

    <div class="fieldsynopsis"><span class="modifier">const</span>
     <span class="type"><a href="#language.types.integer" class="type int">int</a></span>
      <var class="fieldsynopsis_varname"><a href="#luasandboxerror.constants.mem"><var class="varname">MEM</var></a></var><span class="initializer"> = 4</span>;</div>

    <div class="fieldsynopsis"><span class="modifier">const</span>
     <span class="type"><a href="#language.types.integer" class="type int">int</a></span>
      <var class="fieldsynopsis_varname"><a href="#luasandboxerror.constants.err"><var class="varname">ERR</var></a></var><span class="initializer"> = 5</span>;</div>


    <div class="classsynopsisinfo classsynopsisinfo_comment">/* Propiedades heredadas */</div>
    <div class="fieldsynopsis"><span class="modifier">protected</span>
     <span class="type"><a href="#language.types.string" class="type string">string</a></span>
      <var class="varname"><a href="#exception.props.message">$<var class="varname">message</var></a></var><span class="initializer"> = ""</span>;</div>
<div class="fieldsynopsis"><span class="modifier">private</span>
     <span class="type"><a href="#language.types.string" class="type string">string</a></span>
      <var class="varname"><a href="#exception.props.string">$<var class="varname">string</var></a></var><span class="initializer"> = ""</span>;</div>
<div class="fieldsynopsis"><span class="modifier">protected</span>
     <span class="type"><a href="#language.types.integer" class="type int">int</a></span>
      <var class="varname"><a href="#exception.props.code">$<var class="varname">code</var></a></var>;</div>
<div class="fieldsynopsis"><span class="modifier">protected</span>
     <span class="type"><a href="#language.types.string" class="type string">string</a></span>
      <var class="varname"><a href="#exception.props.file">$<var class="varname">file</var></a></var><span class="initializer"> = ""</span>;</div>
<div class="fieldsynopsis"><span class="modifier">protected</span>
     <span class="type"><a href="#language.types.integer" class="type int">int</a></span>
      <var class="varname"><a href="#exception.props.line">$<var class="varname">line</var></a></var>;</div>
<div class="fieldsynopsis"><span class="modifier">private</span>
     <span class="type"><a href="#language.types.array" class="type array">array</a></span>
      <var class="varname"><a href="#exception.props.trace">$<var class="varname">trace</var></a></var><span class="initializer"> = []</span>;</div>
<div class="fieldsynopsis"><span class="modifier">private</span>
     <span class="type">?</span><span class="type"><span class="type"><a href="#class.throwable" class="type Throwable">Throwable</a></span><span class="type"></span></span>
      <var class="varname"><a href="#exception.props.previous">$<var class="varname">previous</var></a></var><span class="initializer"> = null</span>;</div>


    

    <div class="classsynopsisinfo classsynopsisinfo_comment">/* Métodos heredados */</div>
    <div class="methodsynopsis dc-description">
   <span class="modifier">final</span> <span class="modifier">public</span> <span class="methodname"><a href="#exception.getmessage" class="methodname">Exception::getMessage</a></span>(): <span class="type"><a href="#language.types.string" class="type string">string</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">final</span> <span class="modifier">public</span> <span class="methodname"><a href="#exception.getprevious" class="methodname">Exception::getPrevious</a></span>(): <span class="type"><span class="type"><a href="#language.types.null" class="type null">?</a></span><span class="type"><a href="#class.throwable" class="type Throwable">Throwable</a></span></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">final</span> <span class="modifier">public</span> <span class="methodname"><a href="#exception.getcode" class="methodname">Exception::getCode</a></span>(): <span class="type"><a href="#language.types.integer" class="type int">int</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">final</span> <span class="modifier">public</span> <span class="methodname"><a href="#exception.getfile" class="methodname">Exception::getFile</a></span>(): <span class="type"><a href="#language.types.string" class="type string">string</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">final</span> <span class="modifier">public</span> <span class="methodname"><a href="#exception.getline" class="methodname">Exception::getLine</a></span>(): <span class="type"><a href="#language.types.integer" class="type int">int</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">final</span> <span class="modifier">public</span> <span class="methodname"><a href="#exception.gettrace" class="methodname">Exception::getTrace</a></span>(): <span class="type"><a href="#language.types.array" class="type array">array</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">final</span> <span class="modifier">public</span> <span class="methodname"><a href="#exception.gettraceasstring" class="methodname">Exception::getTraceAsString</a></span>(): <span class="type"><a href="#language.types.string" class="type string">string</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname"><a href="#exception.tostring" class="methodname">Exception::__toString</a></span>(): <span class="type"><a href="#language.types.string" class="type string">string</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">private</span> <span class="methodname"><a href="#exception.clone" class="methodname">Exception::__clone</a></span>(): <span class="type"><a href="language.types.void.html" class="type void">void</a></span></div>


   }</div>


  </div>


  <div class="section" id="luasandboxerror.constants">
   <h2 class="title">Constantes predefinidas</h2>
   <dl>

    
     <dt id="luasandboxerror.constants.run"><strong><code><a href="#luasandboxerror.constants.run">LuaSandboxError::RUN</a></code></strong></dt>
     <dd>
      <p class="para"></p>
     </dd>
    

    
     <dt id="luasandboxerror.constants.syntax"><strong><code><a href="#luasandboxerror.constants.syntax">LuaSandboxError::SYNTAX</a></code></strong></dt>
     <dd>
      <p class="para"></p>
     </dd>
    

    
     <dt id="luasandboxerror.constants.mem"><strong><code><a href="#luasandboxerror.constants.mem">LuaSandboxError::MEM</a></code></strong></dt>
     <dd>
      <p class="para"></p>
     </dd>
    

    
     <dt id="luasandboxerror.constants.err"><strong><code><a href="#luasandboxerror.constants.err">LuaSandboxError::ERR</a></code></strong></dt>
     <dd>
      <p class="para"></p>
     </dd>
    

   </dl>
  </div>


 </div>

 

</div>

<hr>




 


<div id="class.luasandboxerrorerror" class="reference"><hr>
 <h1 class="title">La clase LuaSandboxErrorError</h1>
 

 <div class="partintro"><p class="verinfo">(PECL luasandbox &gt;= 1.0.0)</p>


  <div class="section" id="luasandboxerrorerror.intro">
   <h2 class="title">Introducción</h2>
   <p class="para">
    Excepción lanzada cuando Lua encuentra un error dentro de un gestor de errores.
   </p>
  </div>


  <div class="section" id="luasandboxerrorerror.synopsis">
   <h2 class="title">Sinopsis de la Clase</h2>


   <div class="classsynopsis">
    <span class="ooclass"><strong class="classname"></strong></span>


    <div class="classsynopsisinfo">
     <span class="ooclass">
      <span class="modifier">class</span> <strong class="classname">LuaSandboxErrorError</strong>
     </span>

     <span class="ooclass">
      <span class="modifier">extends</span>
       <a href="#class.luasandboxfatalerror" class="classname">LuaSandboxFatalError</a>
     </span>
     {</div>


    <div class="classsynopsisinfo classsynopsisinfo_comment">/* Propiedades heredadas */</div>
    <div class="fieldsynopsis">
     <span class="modifier">protected</span>
     <span class="type"><a href="#language.types.string" class="type string">string</a></span>
      <var class="varname"><a href="#exception.props.message">$<var class="varname">message</var></a></var><span class="initializer"> = ""</span>;</div>
<div class="fieldsynopsis"><span class="modifier">private</span>
     <span class="type"><a href="#language.types.string" class="type string">string</a></span>
      <var class="varname"><a href="#exception.props.string">$<var class="varname">string</var></a></var><span class="initializer"> = ""</span>;</div>
<div class="fieldsynopsis"><span class="modifier">protected</span>
     <span class="type"><a href="#language.types.integer" class="type int">int</a></span>
      <var class="varname"><a href="#exception.props.code">$<var class="varname">code</var></a></var>;</div>
<div class="fieldsynopsis"><span class="modifier">protected</span>
     <span class="type"><a href="#language.types.string" class="type string">string</a></span>
      <var class="varname"><a href="#exception.props.file">$<var class="varname">file</var></a></var><span class="initializer"> = ""</span>;</div>
<div class="fieldsynopsis"><span class="modifier">protected</span>
     <span class="type"><a href="#language.types.integer" class="type int">int</a></span>
      <var class="varname"><a href="#exception.props.line">$<var class="varname">line</var></a></var>;</div>
<div class="fieldsynopsis"><span class="modifier">private</span>
     <span class="type"><a href="#language.types.array" class="type array">array</a></span>
      <var class="varname"><a href="#exception.props.trace">$<var class="varname">trace</var></a></var><span class="initializer"> = []</span>;</div>
<div class="fieldsynopsis"><span class="modifier">private</span>
     <span class="type">?</span><span class="type"><span class="type"><a href="#class.throwable" class="type Throwable">Throwable</a></span><span class="type"></span></span>
      <var class="varname"><a href="#exception.props.previous">$<var class="varname">previous</var></a></var><span class="initializer"> = null</span>;</div>


    

    <div class="classsynopsisinfo classsynopsisinfo_comment">/* Métodos heredados */</div>
    <div class="methodsynopsis dc-description">
   <span class="modifier">final</span> <span class="modifier">public</span> <span class="methodname"><a href="#exception.getmessage" class="methodname">Exception::getMessage</a></span>(): <span class="type"><a href="#language.types.string" class="type string">string</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">final</span> <span class="modifier">public</span> <span class="methodname"><a href="#exception.getprevious" class="methodname">Exception::getPrevious</a></span>(): <span class="type"><span class="type"><a href="#language.types.null" class="type null">?</a></span><span class="type"><a href="#class.throwable" class="type Throwable">Throwable</a></span></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">final</span> <span class="modifier">public</span> <span class="methodname"><a href="#exception.getcode" class="methodname">Exception::getCode</a></span>(): <span class="type"><a href="#language.types.integer" class="type int">int</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">final</span> <span class="modifier">public</span> <span class="methodname"><a href="#exception.getfile" class="methodname">Exception::getFile</a></span>(): <span class="type"><a href="#language.types.string" class="type string">string</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">final</span> <span class="modifier">public</span> <span class="methodname"><a href="#exception.getline" class="methodname">Exception::getLine</a></span>(): <span class="type"><a href="#language.types.integer" class="type int">int</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">final</span> <span class="modifier">public</span> <span class="methodname"><a href="#exception.gettrace" class="methodname">Exception::getTrace</a></span>(): <span class="type"><a href="#language.types.array" class="type array">array</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">final</span> <span class="modifier">public</span> <span class="methodname"><a href="#exception.gettraceasstring" class="methodname">Exception::getTraceAsString</a></span>(): <span class="type"><a href="#language.types.string" class="type string">string</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname"><a href="#exception.tostring" class="methodname">Exception::__toString</a></span>(): <span class="type"><a href="#language.types.string" class="type string">string</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">private</span> <span class="methodname"><a href="#exception.clone" class="methodname">Exception::__clone</a></span>(): <span class="type"><a href="language.types.void.html" class="type void">void</a></span></div>


   }</div>


  </div>

 </div>

 

</div>

<hr>




 


<div id="class.luasandboxfatalerror" class="reference"><hr>
 <h1 class="title">La clase LuaSandboxFatalError</h1>
 

 <div class="partintro"><p class="verinfo">(PECL luasandbox &gt;= 1.0.0)</p>


  <div class="section" id="luasandboxfatalerror.intro">
   <h2 class="title">Introducción</h2>
   <p class="para">
    Las excepciones LuaSandbox que no pueden ser atrapadas.
   </p>
   <p class="para">
    Estas excepciones no pueden ser atrapadas en Lua utilizando
    <code class="literal">pcall()</code> o <code class="literal">xpcall()</code>.
   </p>
  </div>


  <div class="section" id="luasandboxfatalerror.synopsis">
   <h2 class="title">Sinopsis de la Clase</h2>


   <div class="classsynopsis">
    <span class="ooclass"><strong class="classname"></strong></span>


    <div class="classsynopsisinfo">
     <span class="ooclass">
      <span class="modifier">class</span> <strong class="classname">LuaSandboxFatalError</strong>
     </span>

     <span class="ooclass">
      <span class="modifier">extends</span>
       <a href="#class.luasandboxerror" class="classname">LuaSandboxError</a>
     </span>
     {</div>


    <div class="classsynopsisinfo classsynopsisinfo_comment">/* Propiedades heredadas */</div>
    <div class="fieldsynopsis">
     <span class="modifier">protected</span>
     <span class="type"><a href="#language.types.string" class="type string">string</a></span>
      <var class="varname"><a href="#exception.props.message">$<var class="varname">message</var></a></var><span class="initializer"> = ""</span>;</div>
<div class="fieldsynopsis"><span class="modifier">private</span>
     <span class="type"><a href="#language.types.string" class="type string">string</a></span>
      <var class="varname"><a href="#exception.props.string">$<var class="varname">string</var></a></var><span class="initializer"> = ""</span>;</div>
<div class="fieldsynopsis"><span class="modifier">protected</span>
     <span class="type"><a href="#language.types.integer" class="type int">int</a></span>
      <var class="varname"><a href="#exception.props.code">$<var class="varname">code</var></a></var>;</div>
<div class="fieldsynopsis"><span class="modifier">protected</span>
     <span class="type"><a href="#language.types.string" class="type string">string</a></span>
      <var class="varname"><a href="#exception.props.file">$<var class="varname">file</var></a></var><span class="initializer"> = ""</span>;</div>
<div class="fieldsynopsis"><span class="modifier">protected</span>
     <span class="type"><a href="#language.types.integer" class="type int">int</a></span>
      <var class="varname"><a href="#exception.props.line">$<var class="varname">line</var></a></var>;</div>
<div class="fieldsynopsis"><span class="modifier">private</span>
     <span class="type"><a href="#language.types.array" class="type array">array</a></span>
      <var class="varname"><a href="#exception.props.trace">$<var class="varname">trace</var></a></var><span class="initializer"> = []</span>;</div>
<div class="fieldsynopsis"><span class="modifier">private</span>
     <span class="type">?</span><span class="type"><span class="type"><a href="#class.throwable" class="type Throwable">Throwable</a></span><span class="type"></span></span>
      <var class="varname"><a href="#exception.props.previous">$<var class="varname">previous</var></a></var><span class="initializer"> = null</span>;</div>


    

    <div class="classsynopsisinfo classsynopsisinfo_comment">/* Métodos heredados */</div>
    <div class="methodsynopsis dc-description">
   <span class="modifier">final</span> <span class="modifier">public</span> <span class="methodname"><a href="#exception.getmessage" class="methodname">Exception::getMessage</a></span>(): <span class="type"><a href="#language.types.string" class="type string">string</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">final</span> <span class="modifier">public</span> <span class="methodname"><a href="#exception.getprevious" class="methodname">Exception::getPrevious</a></span>(): <span class="type"><span class="type"><a href="#language.types.null" class="type null">?</a></span><span class="type"><a href="#class.throwable" class="type Throwable">Throwable</a></span></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">final</span> <span class="modifier">public</span> <span class="methodname"><a href="#exception.getcode" class="methodname">Exception::getCode</a></span>(): <span class="type"><a href="#language.types.integer" class="type int">int</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">final</span> <span class="modifier">public</span> <span class="methodname"><a href="#exception.getfile" class="methodname">Exception::getFile</a></span>(): <span class="type"><a href="#language.types.string" class="type string">string</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">final</span> <span class="modifier">public</span> <span class="methodname"><a href="#exception.getline" class="methodname">Exception::getLine</a></span>(): <span class="type"><a href="#language.types.integer" class="type int">int</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">final</span> <span class="modifier">public</span> <span class="methodname"><a href="#exception.gettrace" class="methodname">Exception::getTrace</a></span>(): <span class="type"><a href="#language.types.array" class="type array">array</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">final</span> <span class="modifier">public</span> <span class="methodname"><a href="#exception.gettraceasstring" class="methodname">Exception::getTraceAsString</a></span>(): <span class="type"><a href="#language.types.string" class="type string">string</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname"><a href="#exception.tostring" class="methodname">Exception::__toString</a></span>(): <span class="type"><a href="#language.types.string" class="type string">string</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">private</span> <span class="methodname"><a href="#exception.clone" class="methodname">Exception::__clone</a></span>(): <span class="type"><a href="language.types.void.html" class="type void">void</a></span></div>


   }</div>


  </div>

 </div>

 

</div>

<hr>




 


<div id="class.luasandboxmemoryerror" class="reference"><hr>
 <h1 class="title">La clase LuaSandboxMemoryError</h1>
 

 <div class="partintro"><p class="verinfo">(PECL luasandbox &gt;= 1.0.0)</p>


  <div class="section" id="luasandboxmemoryerror.intro">
   <h2 class="title">Introducción</h2>
   <p class="para">
    Excepción lanzada cuando Lua no puede asignar memoria.
   </p>
  </div>


  <div class="section" id="luasandboxmemoryerror.synopsis">
   <h2 class="title">Sinopsis de la Clase</h2>


   <div class="classsynopsis">
    <span class="ooclass"><strong class="classname"></strong></span>


    <div class="classsynopsisinfo">
     <span class="ooclass">
      <span class="modifier">class</span> <strong class="classname">LuaSandboxMemoryError</strong>
     </span>

     <span class="ooclass">
      <span class="modifier">extends</span>
       <a href="#class.luasandboxfatalerror" class="classname">LuaSandboxFatalError</a>
     </span>
     {</div>


    <div class="classsynopsisinfo classsynopsisinfo_comment">/* Propiedades heredadas */</div>
    <div class="fieldsynopsis">
     <span class="modifier">protected</span>
     <span class="type"><a href="#language.types.string" class="type string">string</a></span>
      <var class="varname"><a href="#exception.props.message">$<var class="varname">message</var></a></var><span class="initializer"> = ""</span>;</div>
<div class="fieldsynopsis"><span class="modifier">private</span>
     <span class="type"><a href="#language.types.string" class="type string">string</a></span>
      <var class="varname"><a href="#exception.props.string">$<var class="varname">string</var></a></var><span class="initializer"> = ""</span>;</div>
<div class="fieldsynopsis"><span class="modifier">protected</span>
     <span class="type"><a href="#language.types.integer" class="type int">int</a></span>
      <var class="varname"><a href="#exception.props.code">$<var class="varname">code</var></a></var>;</div>
<div class="fieldsynopsis"><span class="modifier">protected</span>
     <span class="type"><a href="#language.types.string" class="type string">string</a></span>
      <var class="varname"><a href="#exception.props.file">$<var class="varname">file</var></a></var><span class="initializer"> = ""</span>;</div>
<div class="fieldsynopsis"><span class="modifier">protected</span>
     <span class="type"><a href="#language.types.integer" class="type int">int</a></span>
      <var class="varname"><a href="#exception.props.line">$<var class="varname">line</var></a></var>;</div>
<div class="fieldsynopsis"><span class="modifier">private</span>
     <span class="type"><a href="#language.types.array" class="type array">array</a></span>
      <var class="varname"><a href="#exception.props.trace">$<var class="varname">trace</var></a></var><span class="initializer"> = []</span>;</div>
<div class="fieldsynopsis"><span class="modifier">private</span>
     <span class="type">?</span><span class="type"><span class="type"><a href="#class.throwable" class="type Throwable">Throwable</a></span><span class="type"></span></span>
      <var class="varname"><a href="#exception.props.previous">$<var class="varname">previous</var></a></var><span class="initializer"> = null</span>;</div>


    

    <div class="classsynopsisinfo classsynopsisinfo_comment">/* Métodos heredados */</div>
    <div class="methodsynopsis dc-description">
   <span class="modifier">final</span> <span class="modifier">public</span> <span class="methodname"><a href="#exception.getmessage" class="methodname">Exception::getMessage</a></span>(): <span class="type"><a href="#language.types.string" class="type string">string</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">final</span> <span class="modifier">public</span> <span class="methodname"><a href="#exception.getprevious" class="methodname">Exception::getPrevious</a></span>(): <span class="type"><span class="type"><a href="#language.types.null" class="type null">?</a></span><span class="type"><a href="#class.throwable" class="type Throwable">Throwable</a></span></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">final</span> <span class="modifier">public</span> <span class="methodname"><a href="#exception.getcode" class="methodname">Exception::getCode</a></span>(): <span class="type"><a href="#language.types.integer" class="type int">int</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">final</span> <span class="modifier">public</span> <span class="methodname"><a href="#exception.getfile" class="methodname">Exception::getFile</a></span>(): <span class="type"><a href="#language.types.string" class="type string">string</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">final</span> <span class="modifier">public</span> <span class="methodname"><a href="#exception.getline" class="methodname">Exception::getLine</a></span>(): <span class="type"><a href="#language.types.integer" class="type int">int</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">final</span> <span class="modifier">public</span> <span class="methodname"><a href="#exception.gettrace" class="methodname">Exception::getTrace</a></span>(): <span class="type"><a href="#language.types.array" class="type array">array</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">final</span> <span class="modifier">public</span> <span class="methodname"><a href="#exception.gettraceasstring" class="methodname">Exception::getTraceAsString</a></span>(): <span class="type"><a href="#language.types.string" class="type string">string</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname"><a href="#exception.tostring" class="methodname">Exception::__toString</a></span>(): <span class="type"><a href="#language.types.string" class="type string">string</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">private</span> <span class="methodname"><a href="#exception.clone" class="methodname">Exception::__clone</a></span>(): <span class="type"><a href="language.types.void.html" class="type void">void</a></span></div>


   }</div>


  </div>

  <div class="section" id="luasandboxmemoryerror.seealso">
   <h2 class="title">Ver también</h2>
   <p class="para">
    </p><ul class="simplelist">
     <li><span class="methodname"><a href="#luasandbox.setmemorylimit" class="methodname">LuaSandbox::setMemoryLimit()</a></span></li>
    </ul>
   
  </div>

 </div>

 

</div>

<hr>




 


<div id="class.luasandboxruntimeerror" class="reference"><hr>
 <h1 class="title">La clase LuaSandboxRuntimeError</h1>
 

 <div class="partintro"><p class="verinfo">(PECL luasandbox &gt;= 1.0.0)</p>


  <div class="section" id="luasandboxruntimeerror.intro">
   <h2 class="title">Introducción</h2>
   <p class="para">
    Las excepciones de ejecución LuaSandbox que pueden ser capturadas.
   </p>
   <p class="para">
    Estas excepciones pueden ser capturadas en Lua utilizando
    <code class="literal">pcall()</code> o <code class="literal">xpcall()</code>.
   </p>
  </div>


  <div class="section" id="luasandboxruntimeerror.synopsis">
   <h2 class="title">Sinopsis de la Clase</h2>


   <div class="classsynopsis">
    <span class="ooclass"><strong class="classname"></strong></span>


    <div class="classsynopsisinfo">
     <span class="ooclass">
      <span class="modifier">class</span> <strong class="classname">LuaSandboxRuntimeError</strong>
     </span>

     <span class="ooclass">
      <span class="modifier">extends</span>
       <a href="#class.luasandboxerror" class="classname">LuaSandboxError</a>
     </span>
     {</div>


    <div class="classsynopsisinfo classsynopsisinfo_comment">/* Propiedades heredadas */</div>
    <div class="fieldsynopsis">
     <span class="modifier">protected</span>
     <span class="type"><a href="#language.types.string" class="type string">string</a></span>
      <var class="varname"><a href="#exception.props.message">$<var class="varname">message</var></a></var><span class="initializer"> = ""</span>;</div>
<div class="fieldsynopsis"><span class="modifier">private</span>
     <span class="type"><a href="#language.types.string" class="type string">string</a></span>
      <var class="varname"><a href="#exception.props.string">$<var class="varname">string</var></a></var><span class="initializer"> = ""</span>;</div>
<div class="fieldsynopsis"><span class="modifier">protected</span>
     <span class="type"><a href="#language.types.integer" class="type int">int</a></span>
      <var class="varname"><a href="#exception.props.code">$<var class="varname">code</var></a></var>;</div>
<div class="fieldsynopsis"><span class="modifier">protected</span>
     <span class="type"><a href="#language.types.string" class="type string">string</a></span>
      <var class="varname"><a href="#exception.props.file">$<var class="varname">file</var></a></var><span class="initializer"> = ""</span>;</div>
<div class="fieldsynopsis"><span class="modifier">protected</span>
     <span class="type"><a href="#language.types.integer" class="type int">int</a></span>
      <var class="varname"><a href="#exception.props.line">$<var class="varname">line</var></a></var>;</div>
<div class="fieldsynopsis"><span class="modifier">private</span>
     <span class="type"><a href="#language.types.array" class="type array">array</a></span>
      <var class="varname"><a href="#exception.props.trace">$<var class="varname">trace</var></a></var><span class="initializer"> = []</span>;</div>
<div class="fieldsynopsis"><span class="modifier">private</span>
     <span class="type">?</span><span class="type"><span class="type"><a href="#class.throwable" class="type Throwable">Throwable</a></span><span class="type"></span></span>
      <var class="varname"><a href="#exception.props.previous">$<var class="varname">previous</var></a></var><span class="initializer"> = null</span>;</div>


    

    <div class="classsynopsisinfo classsynopsisinfo_comment">/* Métodos heredados */</div>
    <div class="methodsynopsis dc-description">
   <span class="modifier">final</span> <span class="modifier">public</span> <span class="methodname"><a href="#exception.getmessage" class="methodname">Exception::getMessage</a></span>(): <span class="type"><a href="#language.types.string" class="type string">string</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">final</span> <span class="modifier">public</span> <span class="methodname"><a href="#exception.getprevious" class="methodname">Exception::getPrevious</a></span>(): <span class="type"><span class="type"><a href="#language.types.null" class="type null">?</a></span><span class="type"><a href="#class.throwable" class="type Throwable">Throwable</a></span></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">final</span> <span class="modifier">public</span> <span class="methodname"><a href="#exception.getcode" class="methodname">Exception::getCode</a></span>(): <span class="type"><a href="#language.types.integer" class="type int">int</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">final</span> <span class="modifier">public</span> <span class="methodname"><a href="#exception.getfile" class="methodname">Exception::getFile</a></span>(): <span class="type"><a href="#language.types.string" class="type string">string</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">final</span> <span class="modifier">public</span> <span class="methodname"><a href="#exception.getline" class="methodname">Exception::getLine</a></span>(): <span class="type"><a href="#language.types.integer" class="type int">int</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">final</span> <span class="modifier">public</span> <span class="methodname"><a href="#exception.gettrace" class="methodname">Exception::getTrace</a></span>(): <span class="type"><a href="#language.types.array" class="type array">array</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">final</span> <span class="modifier">public</span> <span class="methodname"><a href="#exception.gettraceasstring" class="methodname">Exception::getTraceAsString</a></span>(): <span class="type"><a href="#language.types.string" class="type string">string</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname"><a href="#exception.tostring" class="methodname">Exception::__toString</a></span>(): <span class="type"><a href="#language.types.string" class="type string">string</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">private</span> <span class="methodname"><a href="#exception.clone" class="methodname">Exception::__clone</a></span>(): <span class="type"><a href="language.types.void.html" class="type void">void</a></span></div>


   }</div>


  </div>

 </div>

 

</div>

<hr>




 


<div id="class.luasandboxsyntaxerror" class="reference"><hr>
 <h1 class="title">La clase LuaSandboxSyntaxError</h1>
 

 <div class="partintro"><p class="verinfo">(PECL luasandbox &gt;= 1.0.0)</p>


  <div class="section" id="luasandboxsyntaxerror.intro">
   <h2 class="title">Introducción</h2>
   <p class="para">
    Excepción lanzada cuando el código Lua no puede ser analizado.
   </p>
  </div>


  <div class="section" id="luasandboxsyntaxerror.synopsis">
   <h2 class="title">Sinopsis de la Clase</h2>


   <div class="classsynopsis">
    <span class="ooclass"><strong class="classname"></strong></span>


    <div class="classsynopsisinfo">
     <span class="ooclass">
      <span class="modifier">class</span> <strong class="classname">LuaSandboxSyntaxError</strong>
     </span>

     <span class="ooclass">
      <span class="modifier">extends</span>
       <a href="#class.luasandboxfatalerror" class="classname">LuaSandboxFatalError</a>
     </span>
     {</div>


    <div class="classsynopsisinfo classsynopsisinfo_comment">/* Propiedades heredadas */</div>
    <div class="fieldsynopsis">
     <span class="modifier">protected</span>
     <span class="type"><a href="#language.types.string" class="type string">string</a></span>
      <var class="varname"><a href="#exception.props.message">$<var class="varname">message</var></a></var><span class="initializer"> = ""</span>;</div>
<div class="fieldsynopsis"><span class="modifier">private</span>
     <span class="type"><a href="#language.types.string" class="type string">string</a></span>
      <var class="varname"><a href="#exception.props.string">$<var class="varname">string</var></a></var><span class="initializer"> = ""</span>;</div>
<div class="fieldsynopsis"><span class="modifier">protected</span>
     <span class="type"><a href="#language.types.integer" class="type int">int</a></span>
      <var class="varname"><a href="#exception.props.code">$<var class="varname">code</var></a></var>;</div>
<div class="fieldsynopsis"><span class="modifier">protected</span>
     <span class="type"><a href="#language.types.string" class="type string">string</a></span>
      <var class="varname"><a href="#exception.props.file">$<var class="varname">file</var></a></var><span class="initializer"> = ""</span>;</div>
<div class="fieldsynopsis"><span class="modifier">protected</span>
     <span class="type"><a href="#language.types.integer" class="type int">int</a></span>
      <var class="varname"><a href="#exception.props.line">$<var class="varname">line</var></a></var>;</div>
<div class="fieldsynopsis"><span class="modifier">private</span>
     <span class="type"><a href="#language.types.array" class="type array">array</a></span>
      <var class="varname"><a href="#exception.props.trace">$<var class="varname">trace</var></a></var><span class="initializer"> = []</span>;</div>
<div class="fieldsynopsis"><span class="modifier">private</span>
     <span class="type">?</span><span class="type"><span class="type"><a href="#class.throwable" class="type Throwable">Throwable</a></span><span class="type"></span></span>
      <var class="varname"><a href="#exception.props.previous">$<var class="varname">previous</var></a></var><span class="initializer"> = null</span>;</div>


    

    <div class="classsynopsisinfo classsynopsisinfo_comment">/* Métodos heredados */</div>
    <div class="methodsynopsis dc-description">
   <span class="modifier">final</span> <span class="modifier">public</span> <span class="methodname"><a href="#exception.getmessage" class="methodname">Exception::getMessage</a></span>(): <span class="type"><a href="#language.types.string" class="type string">string</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">final</span> <span class="modifier">public</span> <span class="methodname"><a href="#exception.getprevious" class="methodname">Exception::getPrevious</a></span>(): <span class="type"><span class="type"><a href="#language.types.null" class="type null">?</a></span><span class="type"><a href="#class.throwable" class="type Throwable">Throwable</a></span></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">final</span> <span class="modifier">public</span> <span class="methodname"><a href="#exception.getcode" class="methodname">Exception::getCode</a></span>(): <span class="type"><a href="#language.types.integer" class="type int">int</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">final</span> <span class="modifier">public</span> <span class="methodname"><a href="#exception.getfile" class="methodname">Exception::getFile</a></span>(): <span class="type"><a href="#language.types.string" class="type string">string</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">final</span> <span class="modifier">public</span> <span class="methodname"><a href="#exception.getline" class="methodname">Exception::getLine</a></span>(): <span class="type"><a href="#language.types.integer" class="type int">int</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">final</span> <span class="modifier">public</span> <span class="methodname"><a href="#exception.gettrace" class="methodname">Exception::getTrace</a></span>(): <span class="type"><a href="#language.types.array" class="type array">array</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">final</span> <span class="modifier">public</span> <span class="methodname"><a href="#exception.gettraceasstring" class="methodname">Exception::getTraceAsString</a></span>(): <span class="type"><a href="#language.types.string" class="type string">string</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname"><a href="#exception.tostring" class="methodname">Exception::__toString</a></span>(): <span class="type"><a href="#language.types.string" class="type string">string</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">private</span> <span class="methodname"><a href="#exception.clone" class="methodname">Exception::__clone</a></span>(): <span class="type"><a href="language.types.void.html" class="type void">void</a></span></div>


   }</div>


  </div>

 </div>

 

</div>

<hr>




 


<div id="class.luasandboxtimeouterror" class="reference"><hr>
 <h1 class="title">La clase LuaSandboxTimeoutError</h1>
 

 <div class="partintro"><p class="verinfo">(PECL luasandbox &gt;= 1.0.0)</p>


  <div class="section" id="luasandboxtimeouterror.intro">
   <h2 class="title">Introducción</h2>
   <p class="para">
    Excepción lanzada cuando se supera el límite de tiempo de CPU configurado.
   </p>
  </div>


  <div class="section" id="luasandboxtimeouterror.synopsis">
   <h2 class="title">Sinopsis de la Clase</h2>


   <div class="classsynopsis">
    <span class="ooclass"><strong class="classname"></strong></span>


    <div class="classsynopsisinfo">
     <span class="ooclass">
      <span class="modifier">class</span> <strong class="classname">LuaSandboxTimeoutError</strong>
     </span>

     <span class="ooclass">
      <span class="modifier">extends</span>
       <a href="#class.luasandboxfatalerror" class="classname">LuaSandboxFatalError</a>
     </span>
     {</div>


    <div class="classsynopsisinfo classsynopsisinfo_comment">/* Propiedades heredadas */</div>
    <div class="fieldsynopsis">
     <span class="modifier">protected</span>
     <span class="type"><a href="#language.types.string" class="type string">string</a></span>
      <var class="varname"><a href="#exception.props.message">$<var class="varname">message</var></a></var><span class="initializer"> = ""</span>;</div>
<div class="fieldsynopsis"><span class="modifier">private</span>
     <span class="type"><a href="#language.types.string" class="type string">string</a></span>
      <var class="varname"><a href="#exception.props.string">$<var class="varname">string</var></a></var><span class="initializer"> = ""</span>;</div>
<div class="fieldsynopsis"><span class="modifier">protected</span>
     <span class="type"><a href="#language.types.integer" class="type int">int</a></span>
      <var class="varname"><a href="#exception.props.code">$<var class="varname">code</var></a></var>;</div>
<div class="fieldsynopsis"><span class="modifier">protected</span>
     <span class="type"><a href="#language.types.string" class="type string">string</a></span>
      <var class="varname"><a href="#exception.props.file">$<var class="varname">file</var></a></var><span class="initializer"> = ""</span>;</div>
<div class="fieldsynopsis"><span class="modifier">protected</span>
     <span class="type"><a href="#language.types.integer" class="type int">int</a></span>
      <var class="varname"><a href="#exception.props.line">$<var class="varname">line</var></a></var>;</div>
<div class="fieldsynopsis"><span class="modifier">private</span>
     <span class="type"><a href="#language.types.array" class="type array">array</a></span>
      <var class="varname"><a href="#exception.props.trace">$<var class="varname">trace</var></a></var><span class="initializer"> = []</span>;</div>
<div class="fieldsynopsis"><span class="modifier">private</span>
     <span class="type">?</span><span class="type"><span class="type"><a href="#class.throwable" class="type Throwable">Throwable</a></span><span class="type"></span></span>
      <var class="varname"><a href="#exception.props.previous">$<var class="varname">previous</var></a></var><span class="initializer"> = null</span>;</div>


    

    <div class="classsynopsisinfo classsynopsisinfo_comment">/* Métodos heredados */</div>
    <div class="methodsynopsis dc-description">
   <span class="modifier">final</span> <span class="modifier">public</span> <span class="methodname"><a href="#exception.getmessage" class="methodname">Exception::getMessage</a></span>(): <span class="type"><a href="#language.types.string" class="type string">string</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">final</span> <span class="modifier">public</span> <span class="methodname"><a href="#exception.getprevious" class="methodname">Exception::getPrevious</a></span>(): <span class="type"><span class="type"><a href="#language.types.null" class="type null">?</a></span><span class="type"><a href="#class.throwable" class="type Throwable">Throwable</a></span></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">final</span> <span class="modifier">public</span> <span class="methodname"><a href="#exception.getcode" class="methodname">Exception::getCode</a></span>(): <span class="type"><a href="#language.types.integer" class="type int">int</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">final</span> <span class="modifier">public</span> <span class="methodname"><a href="#exception.getfile" class="methodname">Exception::getFile</a></span>(): <span class="type"><a href="#language.types.string" class="type string">string</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">final</span> <span class="modifier">public</span> <span class="methodname"><a href="#exception.getline" class="methodname">Exception::getLine</a></span>(): <span class="type"><a href="#language.types.integer" class="type int">int</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">final</span> <span class="modifier">public</span> <span class="methodname"><a href="#exception.gettrace" class="methodname">Exception::getTrace</a></span>(): <span class="type"><a href="#language.types.array" class="type array">array</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">final</span> <span class="modifier">public</span> <span class="methodname"><a href="#exception.gettraceasstring" class="methodname">Exception::getTraceAsString</a></span>(): <span class="type"><a href="#language.types.string" class="type string">string</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname"><a href="#exception.tostring" class="methodname">Exception::__toString</a></span>(): <span class="type"><a href="#language.types.string" class="type string">string</a></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">private</span> <span class="methodname"><a href="#exception.clone" class="methodname">Exception::__clone</a></span>(): <span class="type"><a href="language.types.void.html" class="type void">void</a></span></div>


   }</div>


  </div>

  <div class="section" id="luasandboxtimeouterror.seealso">
   <h2 class="title">Ver también</h2>
   <p class="para">
    </p><ul class="simplelist">
     <li><span class="methodname"><a href="#luasandbox.setcpulimit" class="methodname">LuaSandbox::setCPULimit()</a></span></li>
    </ul>
   
  </div>

 </div>

 

</div>

<hr>





<ul class="chunklist chunklist_book"><li><a href="#intro.luasandbox">Introducción</a></li><li><a href="#luasandbox.setup">Instalación/Configuración</a><ul class="chunklist chunklist_book chunklist_children"><li><a href="#luasandbox.requirements">Requerimientos</a></li><li><a href="#luasandbox.installation">Instalación</a></li></ul></li><li><a href="#reference.luasandbox.differences">Diferencias con Lua estándar</a></li><li><a href="#luasandbox.examples">Ejemplos</a><ul class="chunklist chunklist_book chunklist_children"><li><a href="#luasandbox.examples-basic">Uso básico de LuaSandbox</a></li></ul></li><li><a href="#class.luasandbox">LuaSandbox</a> — La clase LuaSandbox<ul class="chunklist chunklist_book chunklist_children"><li><a href="#luasandbox.callfunction">LuaSandbox::callFunction</a> — Llama a una función en una variable global Lua</li><li><a href="#luasandbox.disableprofiler">LuaSandbox::disableProfiler</a> — Desactiva el perfilador</li><li><a href="#luasandbox.enableprofiler">LuaSandbox::enableProfiler</a> — Activa el perfilador</li><li><a href="#luasandbox.getcpuusage">LuaSandbox::getCPUUsage</a> — Recupera el uso actual del tiempo de CPU del entorno Lua</li><li><a href="#luasandbox.getmemoryusage">LuaSandbox::getMemoryUsage</a> — Recupera el uso actual de la memoria del entorno Lua</li><li><a href="#luasandbox.getpeakmemoryusage">LuaSandbox::getPeakMemoryUsage</a> — Recupera el pico de uso de memoria del entorno Lua</li><li><a href="#luasandbox.getprofilerfunctionreport">LuaSandbox::getProfilerFunctionReport</a> — Recupera los datos del perfilador</li><li><a href="#luasandbox.getversioninfo">LuaSandbox::getVersionInfo</a> — Devuelve las versiones de LuaSandbox y Lua</li><li><a href="#luasandbox.loadbinary">LuaSandbox::loadBinary</a> — Carga un fragmento binario precompilado en el entorno Lua</li><li><a href="#luasandbox.loadstring">LuaSandbox::loadString</a> — Carga código Lua en el entorno Lua</li><li><a href="#luasandbox.pauseusagetimer">LuaSandbox::pauseUsageTimer</a> — Pausa el temporizador de uso de la CPU</li><li><a href="#luasandbox.registerlibrary">LuaSandbox::registerLibrary</a> — Registra un conjunto de funciones PHP como una biblioteca Lua</li><li><a href="#luasandbox.setcpulimit">LuaSandbox::setCPULimit</a> — Define la limitación de tiempo CPU para el entorno Lua</li><li><a href="#luasandbox.setmemorylimit">LuaSandbox::setMemoryLimit</a> — Define el límite de memoria para el entorno Lua</li><li><a href="#luasandbox.unpauseusagetimer">LuaSandbox::unpauseUsageTimer</a> — Reanuda el temporizador de uso pausado por LuaSandbox::pauseUsageTimer</li><li><a href="#luasandbox.wrapphpfunction">LuaSandbox::wrapPhpFunction</a> — Envuelve una función PHP en una LuaSandboxFunction</li></ul></li><li><a href="#class.luasandboxfunction">LuaSandboxFunction</a> — La clase LuaSandboxFunction<ul class="chunklist chunklist_book chunklist_children"><li><a href="#luasandboxfunction.call">LuaSandboxFunction::call</a> — Llama a una función Lua</li><li><a href="#luasandboxfunction.construct">LuaSandboxFunction::__construct</a> — No utilizado</li><li><a href="#luasandboxfunction.dump">LuaSandboxFunction::dump</a> — Muestra la función como un blob binario</li></ul></li><li><a href="#class.luasandboxerror">LuaSandboxError</a> — La clase LuaSandboxError</li><li><a href="#class.luasandboxerrorerror">LuaSandboxErrorError</a> — La clase LuaSandboxErrorError</li><li><a href="#class.luasandboxfatalerror">LuaSandboxFatalError</a> — La clase LuaSandboxFatalError</li><li><a href="#class.luasandboxmemoryerror">LuaSandboxMemoryError</a> — La clase LuaSandboxMemoryError</li><li><a href="#class.luasandboxruntimeerror">LuaSandboxRuntimeError</a> — La clase LuaSandboxRuntimeError</li><li><a href="#class.luasandboxsyntaxerror">LuaSandboxSyntaxError</a> — La clase LuaSandboxSyntaxError</li><li><a href="#class.luasandboxtimeouterror">LuaSandboxTimeoutError</a> — La clase LuaSandboxTimeoutError</li></ul></div>